(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var pP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var E1={exports:{}},Vf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5;function hE(){if(l5)return Vf;l5=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Vf.Fragment=t,Vf.jsx=e,Vf.jsxs=e,Vf}var u5;function fE(){return u5||(u5=1,E1.exports=hE()),E1.exports}var M=fE(),x1={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5;function dE(){if(c5)return sn;c5=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.iterator;function x(Z){return Z===null||typeof Z!="object"?null:(Z=A&&Z[A]||Z["@@iterator"],typeof Z=="function"?Z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function q(Z,ft,P){this.props=Z,this.context=ft,this.refs=F,this.updater=P||b}q.prototype.isReactComponent={},q.prototype.setState=function(Z,ft){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ft,"setState")},q.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function B(){}B.prototype=q.prototype;function tt(Z,ft,P){this.props=Z,this.context=ft,this.refs=F,this.updater=P||b}var et=tt.prototype=new B;et.constructor=tt,O(et,q.prototype),et.isPureReactComponent=!0;var Q=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function W(Z,ft,P,G,J,ct){return P=ct.ref,{$$typeof:n,type:Z,key:ft,ref:P!==void 0?P:null,props:ct}}function D(Z,ft){return W(Z.type,ft,void 0,void 0,void 0,Z.props)}function R(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function U(Z){var ft={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(P){return ft[P]})}var T=/\/+/g;function I(Z,ft){return typeof Z=="object"&&Z!==null&&Z.key!=null?U(""+Z.key):ft.toString(36)}function k(){}function ut(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(k,k):(Z.status="pending",Z.then(function(ft){Z.status==="pending"&&(Z.status="fulfilled",Z.value=ft)},function(ft){Z.status==="pending"&&(Z.status="rejected",Z.reason=ft)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function Tt(Z,ft,P,G,J){var ct=typeof Z;(ct==="undefined"||ct==="boolean")&&(Z=null);var dt=!1;if(Z===null)dt=!0;else switch(ct){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(Z.$$typeof){case n:case t:dt=!0;break;case y:return dt=Z._init,Tt(dt(Z._payload),ft,P,G,J)}}if(dt)return J=J(Z),dt=G===""?"."+I(Z,0):G,Q(J)?(P="",dt!=null&&(P=dt.replace(T,"$&/")+"/"),Tt(J,ft,P,"",function(Pt){return Pt})):J!=null&&(R(J)&&(J=D(J,P+(J.key==null||Z&&Z.key===J.key?"":(""+J.key).replace(T,"$&/")+"/")+dt)),ft.push(J)),1;dt=0;var yt=G===""?".":G+":";if(Q(Z))for(var Lt=0;Lt<Z.length;Lt++)G=Z[Lt],ct=yt+I(G,Lt),dt+=Tt(G,ft,P,ct,J);else if(Lt=x(Z),typeof Lt=="function")for(Z=Lt.call(Z),Lt=0;!(G=Z.next()).done;)G=G.value,ct=yt+I(G,Lt++),dt+=Tt(G,ft,P,ct,J);else if(ct==="object"){if(typeof Z.then=="function")return Tt(ut(Z),ft,P,G,J);throw ft=String(Z),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return dt}function at(Z,ft,P){if(Z==null)return Z;var G=[],J=0;return Tt(Z,G,"","",function(ct){return ft.call(P,ct,J++)}),G}function mt(Z){if(Z._status===-1){var ft=Z._result;ft=ft(),ft.then(function(P){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=P)},function(P){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=P)}),Z._status===-1&&(Z._status=0,Z._result=ft)}if(Z._status===1)return Z._result.default;throw Z._result}var ot=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function wt(){}return sn.Children={map:at,forEach:function(Z,ft,P){at(Z,function(){ft.apply(this,arguments)},P)},count:function(Z){var ft=0;return at(Z,function(){ft++}),ft},toArray:function(Z){return at(Z,function(ft){return ft})||[]},only:function(Z){if(!R(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},sn.Component=q,sn.Fragment=e,sn.Profiler=a,sn.PureComponent=tt,sn.StrictMode=r,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,sn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return st.H.useMemoCache(Z)}},sn.cache=function(Z){return function(){return Z.apply(null,arguments)}},sn.cloneElement=function(Z,ft,P){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var G=O({},Z.props),J=Z.key,ct=void 0;if(ft!=null)for(dt in ft.ref!==void 0&&(ct=void 0),ft.key!==void 0&&(J=""+ft.key),ft)!Et.call(ft,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&ft.ref===void 0||(G[dt]=ft[dt]);var dt=arguments.length-2;if(dt===1)G.children=P;else if(1<dt){for(var yt=Array(dt),Lt=0;Lt<dt;Lt++)yt[Lt]=arguments[Lt+2];G.children=yt}return W(Z.type,J,void 0,void 0,ct,G)},sn.createContext=function(Z){return Z={$$typeof:u,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},sn.createElement=function(Z,ft,P){var G,J={},ct=null;if(ft!=null)for(G in ft.key!==void 0&&(ct=""+ft.key),ft)Et.call(ft,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(J[G]=ft[G]);var dt=arguments.length-2;if(dt===1)J.children=P;else if(1<dt){for(var yt=Array(dt),Lt=0;Lt<dt;Lt++)yt[Lt]=arguments[Lt+2];J.children=yt}if(Z&&Z.defaultProps)for(G in dt=Z.defaultProps,dt)J[G]===void 0&&(J[G]=dt[G]);return W(Z,ct,void 0,void 0,null,J)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(Z){return{$$typeof:c,render:Z}},sn.isValidElement=R,sn.lazy=function(Z){return{$$typeof:y,_payload:{_status:-1,_result:Z},_init:mt}},sn.memo=function(Z,ft){return{$$typeof:d,type:Z,compare:ft===void 0?null:ft}},sn.startTransition=function(Z){var ft=st.T,P={};st.T=P;try{var G=Z(),J=st.S;J!==null&&J(P,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(wt,ot)}catch(ct){ot(ct)}finally{st.T=ft}},sn.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},sn.use=function(Z){return st.H.use(Z)},sn.useActionState=function(Z,ft,P){return st.H.useActionState(Z,ft,P)},sn.useCallback=function(Z,ft){return st.H.useCallback(Z,ft)},sn.useContext=function(Z){return st.H.useContext(Z)},sn.useDebugValue=function(){},sn.useDeferredValue=function(Z,ft){return st.H.useDeferredValue(Z,ft)},sn.useEffect=function(Z,ft,P){var G=st.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(Z,ft)},sn.useId=function(){return st.H.useId()},sn.useImperativeHandle=function(Z,ft,P){return st.H.useImperativeHandle(Z,ft,P)},sn.useInsertionEffect=function(Z,ft){return st.H.useInsertionEffect(Z,ft)},sn.useLayoutEffect=function(Z,ft){return st.H.useLayoutEffect(Z,ft)},sn.useMemo=function(Z,ft){return st.H.useMemo(Z,ft)},sn.useOptimistic=function(Z,ft){return st.H.useOptimistic(Z,ft)},sn.useReducer=function(Z,ft,P){return st.H.useReducer(Z,ft,P)},sn.useRef=function(Z){return st.H.useRef(Z)},sn.useState=function(Z){return st.H.useState(Z)},sn.useSyncExternalStore=function(Z,ft,P){return st.H.useSyncExternalStore(Z,ft,P)},sn.useTransition=function(){return st.H.useTransition()},sn.version="19.1.1",sn}var h5;function r2(){return h5||(h5=1,x1.exports=dE()),x1.exports}var Jt=r2();const pE=cE(Jt);var T1={exports:{}},Uf={},N1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function mE(){return f5||(f5=1,(function(n){function t(at,mt){var ot=at.length;at.push(mt);t:for(;0<ot;){var wt=ot-1>>>1,Z=at[wt];if(0<a(Z,mt))at[wt]=mt,at[ot]=Z,ot=wt;else break t}}function e(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var mt=at[0],ot=at.pop();if(ot!==mt){at[0]=ot;t:for(var wt=0,Z=at.length,ft=Z>>>1;wt<ft;){var P=2*(wt+1)-1,G=at[P],J=P+1,ct=at[J];if(0>a(G,ot))J<Z&&0>a(ct,G)?(at[wt]=ct,at[J]=ot,wt=J):(at[wt]=G,at[P]=ot,wt=P);else if(J<Z&&0>a(ct,ot))at[wt]=ct,at[J]=ot,wt=J;else break t}}return mt}function a(at,mt){var ot=at.sortIndex-mt.sortIndex;return ot!==0?ot:at.id-mt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],y=1,A=null,x=3,b=!1,O=!1,F=!1,q=!1,B=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function Q(at){for(var mt=e(d);mt!==null;){if(mt.callback===null)r(d);else if(mt.startTime<=at)r(d),mt.sortIndex=mt.expirationTime,t(f,mt);else break;mt=e(d)}}function st(at){if(F=!1,Q(at),!O)if(e(f)!==null)O=!0,Et||(Et=!0,I());else{var mt=e(d);mt!==null&&Tt(st,mt.startTime-at)}}var Et=!1,W=-1,D=5,R=-1;function U(){return q?!0:!(n.unstable_now()-R<D)}function T(){if(q=!1,Et){var at=n.unstable_now();R=at;var mt=!0;try{t:{O=!1,F&&(F=!1,tt(W),W=-1),b=!0;var ot=x;try{e:{for(Q(at),A=e(f);A!==null&&!(A.expirationTime>at&&U());){var wt=A.callback;if(typeof wt=="function"){A.callback=null,x=A.priorityLevel;var Z=wt(A.expirationTime<=at);if(at=n.unstable_now(),typeof Z=="function"){A.callback=Z,Q(at),mt=!0;break e}A===e(f)&&r(f),Q(at)}else r(f);A=e(f)}if(A!==null)mt=!0;else{var ft=e(d);ft!==null&&Tt(st,ft.startTime-at),mt=!1}}break t}finally{A=null,x=ot,b=!1}mt=void 0}}finally{mt?I():Et=!1}}}var I;if(typeof et=="function")I=function(){et(T)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ut=k.port2;k.port1.onmessage=T,I=function(){ut.postMessage(null)}}else I=function(){B(T,0)};function Tt(at,mt){W=B(function(){at(n.unstable_now())},mt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(at){switch(x){case 1:case 2:case 3:var mt=3;break;default:mt=x}var ot=x;x=mt;try{return at()}finally{x=ot}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(at,mt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ot=x;x=at;try{return mt()}finally{x=ot}},n.unstable_scheduleCallback=function(at,mt,ot){var wt=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?wt+ot:wt):ot=wt,at){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ot+Z,at={id:y++,callback:mt,priorityLevel:at,startTime:ot,expirationTime:Z,sortIndex:-1},ot>wt?(at.sortIndex=ot,t(d,at),e(f)===null&&at===e(d)&&(F?(tt(W),W=-1):F=!0,Tt(st,ot-wt))):(at.sortIndex=Z,t(f,at),O||b||(O=!0,Et||(Et=!0,I()))),at},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(at){var mt=x;return function(){var ot=x;x=mt;try{return at.apply(this,arguments)}finally{x=ot}}}})(C1)),C1}var d5;function gE(){return d5||(d5=1,N1.exports=mE()),N1.exports}var I1={exports:{}},cs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function yE(){if(p5)return cs;p5=1;var n=r2();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cs.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},cs.flushSync=function(f){var d=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=y,r.d.f()}},cs.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},cs.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cs.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,A=c(y,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:b}):y==="script"&&r.d.X(f,{crossOrigin:A,integrity:x,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cs.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},cs.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,A=c(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cs.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},cs.requestFormReset=function(f){r.d.r(f)},cs.unstable_batchedUpdates=function(f,d){return f(d)},cs.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},cs.useFormStatus=function(){return u.H.useHostTransitionStatus()},cs.version="19.1.1",cs}var m5;function vE(){if(m5)return I1.exports;m5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),I1.exports=yE(),I1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5;function _E(){if(g5)return Uf;g5=1;var n=gE(),t=r2(),e=vE();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return c(g),i;if(_===h)return c(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var L=!1,$=g.child;$;){if($===l){L=!0,l=g,h=_;break}if($===h){L=!0,h=g,l=_;break}$=$.sibling}if(!L){for($=_.child;$;){if($===l){L=!0,l=_,h=g;break}if($===h){L=!0,h=_,l=g;break}$=$.sibling}if(!L)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function ut(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case st:return"Suspense";case Et:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case et:return(i.displayName||"Context")+".Provider";case tt:return(i._context.displayName||"Context")+".Consumer";case Q:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case W:return s=i.displayName||null,s!==null?s:ut(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return ut(i(s))}catch{}}return null}var Tt=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},wt=[],Z=-1;function ft(i){return{current:i}}function P(i){0>Z||(i.current=wt[Z],wt[Z]=null,Z--)}function G(i,s){Z++,wt[Z]=i.current,i.current=s}var J=ft(null),ct=ft(null),dt=ft(null),yt=ft(null);function Lt(i,s){switch(G(dt,s),G(ct,i),G(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Mv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Mv(s),i=jv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(J),G(J,i)}function Pt(){P(J),P(ct),P(dt)}function qt(i){i.memoizedState!==null&&G(yt,i);var s=J.current,l=jv(s,i.type);s!==l&&(G(ct,i),G(J,l))}function Qt(i){ct.current===i&&(P(J),P(ct)),yt.current===i&&(P(yt),Pf._currentValue=ot)}var ne=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,Mt=n.unstable_cancelCallback,lt=n.unstable_shouldYield,en=n.unstable_requestPaint,Ne=n.unstable_now,xe=n.unstable_getCurrentPriorityLevel,Zt=n.unstable_ImmediatePriority,ye=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,Ye=n.unstable_LowPriority,_e=n.unstable_IdlePriority,mn=n.log,Be=n.unstable_setDisableYieldValue,ce=null,we=null;function Te(i){if(typeof mn=="function"&&Be(i),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(ce,i)}catch{}}var se=Math.clz32?Math.clz32:Tn,Le=Math.log,be=Math.LN2;function Tn(i){return i>>>=0,i===0?32:31-(Le(i)/be|0)|0}var an=256,he=4194304;function Ce(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nn(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,_=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~_,h!==0?g=Ce(h):(L&=$,L!==0?g=Ce(L):l||(l=$&~i,l!==0&&(g=Ce(l))))):($=h&~_,$!==0?g=Ce($):L!==0?g=Ce(L):l||(l=h&~i,l!==0&&(g=Ce(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function Ae(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function nn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var i=an;return an<<=1,(an&4194048)===0&&(an=256),i}function er(){var i=he;return he<<=1,(he&62914560)===0&&(he=4194304),i}function qn(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function gn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pe(i,s,l,h,g,_){var L=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,ht=i.expirationTimes,Rt=i.hiddenUpdates;for(l=L&~l;0<l;){var Bt=31-se(l),$t=1<<Bt;$[Bt]=0,ht[Bt]=-1;var kt=Rt[Bt];if(kt!==null)for(Rt[Bt]=null,Bt=0;Bt<kt.length;Bt++){var Dt=kt[Bt];Dt!==null&&(Dt.lane&=-536870913)}l&=~$t}h!==0&&rn(i,h,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(L&~s))}function rn(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-se(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Ys(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-se(l),g=1<<h;g&s|i[h]&s&&(i[h]|=s),l&=~g}}function fr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function di(){var i=mt.p;return i!==0?i:(i=window.event,i===void 0?32:n5(i.type))}function Ie(i,s){var l=mt.p;try{return mt.p=i,s()}finally{mt.p=l}}var Cn=Math.random().toString(36).slice(2),zn="__reactFiber$"+Cn,kn="__reactProps$"+Cn,dr="__reactContainer$"+Cn,Kn="__reactEvents$"+Cn,Mr="__reactListeners$"+Cn,lr="__reactHandles$"+Cn,da="__reactResources$"+Cn,es="__reactMarker$"+Cn;function si(i){delete i[zn],delete i[kn],delete i[Kn],delete i[Mr],delete i[lr]}function ai(i){var s=i[zn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[dr]||l[zn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Bv(i);i!==null;){if(l=i[zn])return l;i=Bv(i)}return s}i=l,l=i.parentNode}return null}function jr(i){if(i=i[zn]||i[dr]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Vr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Qn(i){var s=i[da];return s||(s=i[da]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Hn(i){i[es]=!0}var ns=new Set,ks={};function Si(i,s){rs(i,s),rs(i+"Capture",s)}function rs(i,s){for(ks[i]=s,i=0;i<s.length;i++)ns.add(s[i])}var Ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Ks={};function Jo(i){return ne.call(Ks,i)?!0:ne.call(Ul,i)?!1:Ha.test(i)?Ks[i]=!0:(Ul[i]=!0,!1)}function Qs(i,s,l){if(Jo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Nr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Cr(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}var pa,bo;function Ps(i){if(pa===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);pa=s&&s[1]||"",bo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+i+bo}var Ga=!1;function $a(i,s){if(!i||Ga)return"";Ga=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var $t=function(){throw Error()};if(Object.defineProperty($t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($t,[])}catch(Dt){var kt=Dt}Reflect.construct(i,[],$t)}else{try{$t.call()}catch(Dt){kt=Dt}i.call($t.prototype)}}else{try{throw Error()}catch(Dt){kt=Dt}($t=i())&&typeof $t.catch=="function"&&$t.catch(function(){})}}catch(Dt){if(Dt&&kt&&typeof Dt.stack=="string")return[Dt.stack,kt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),L=_[0],$=_[1];if(L&&$){var ht=L.split(`
`),Rt=$.split(`
`);for(g=h=0;h<ht.length&&!ht[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Rt.length&&!Rt[g].includes("DetermineComponentFrameRoot");)g++;if(h===ht.length||g===Rt.length)for(h=ht.length-1,g=Rt.length-1;1<=h&&0<=g&&ht[h]!==Rt[g];)g--;for(;1<=h&&0<=g;h--,g--)if(ht[h]!==Rt[g]){if(h!==1||g!==1)do if(h--,g--,0>g||ht[h]!==Rt[g]){var Bt=`
`+ht[h].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=h&&0<=g);break}}}finally{Ga=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ps(l):""}function ma(i){switch(i.tag){case 26:case 27:case 5:return Ps(i.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 15:return $a(i.type,!1);case 11:return $a(i.type.render,!1);case 1:return $a(i.type,!0);case 31:return Ps("Activity");default:return""}}function wo(i){try{var s="";do s+=ma(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ao(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fl(i){var s=Ao(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(L){h=""+L,_.call(this,L)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function is(i){i._valueTracker||(i._valueTracker=Fl(i))}function Xs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=Ao(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wa=/[\n"\\]/g;function tn(i){return i.replace(Wa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mi(i,s,l,h,g,_,L,$){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),s!=null?L==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+_n(s)):i.value!==""+_n(s)&&(i.value=""+_n(s)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),s!=null?ga(i,L,_n(s)):l!=null?ga(i,L,_n(l)):h!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+_n($):i.removeAttribute("name")}function Ya(i,s,l,h,g,_,L,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+_n(l):"",s=s!=null?""+_n(s):l,$||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L)}function ga(i,s,l){s==="number"&&pi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Zs(i,s,l,h){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+_n(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function on(i,s,l){if(s!=null&&(s=""+_n(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+_n(l):""}function ya(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Tt(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=_n(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Oi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||ss.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function tl(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&So(i,g,h)}else for(var _ in s)s.hasOwnProperty(_)&&So(i,_,s[_])}function el(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(i){return nl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ei=null;function as(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mi=null,_s=null;function De(i){var s=jr(i);if(s&&(i=s.stateNode)){var l=i[kn]||null;t:switch(i=s.stateNode,s.type){case"input":if(mi(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var g=h[kn]||null;if(!g)throw Error(r(90));mi(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Xs(h)}break t;case"textarea":on(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Zs(i,!!l.multiple,s,!1)}}}var Os=!1;function Bl(i,s,l){if(Os)return i(s,l);Os=!0;try{var h=i(s);return h}finally{if(Os=!1,(Mi!==null||_s!==null)&&(yp(),Mi&&(s=Mi,i=_s,_s=Mi=null,De(s),i)))for(s=0;s<i.length;s++)De(i[s])}}function Ka(i,s){var l=i.stateNode;if(l===null)return null;var h=l[kn]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(bs)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Ur=!1}var Ms=null,va=null,os=null;function Qa(){if(os)return os;var i,s=va,l=s.length,h,g="value"in Ms?Ms.value:Ms.textContent,_=g.length;for(i=0;i<l&&s[i]===g[i];i++);var L=l-i;for(h=1;h<=L&&s[l-h]===g[_-h];h++);return os=g.slice(i,1<h?1-h:void 0)}function xi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Vi(){return!0}function _a(){return!1}function Fr(i){function s(l,h,g,_,L){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Vi:_a,this.isPropagationStopped=_a,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Fr(bn),ws=y({},bn,{view:0,detail:0}),wa=Fr(ws),Aa,Js,ls,As=y({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ln,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ls&&(ls&&i.type==="mousemove"?(Aa=i.screenX-ls.screenX,Js=i.screenY-ls.screenY):Js=Aa=0,ls=i),Aa)},movementY:function(i){return"movementY"in i?i.movementY:Js}}),Ti=Fr(As),Eo=y({},As,{dataTransfer:0}),Ui=Fr(Eo),Ni=y({},ws,{relatedTarget:0}),w=Fr(Ni),j=y({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),rt=Fr(j),pt=y({},bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bt=Fr(pt),Ft=y({},bn,{data:0}),Wt=Fr(Ft),ae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ke={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qe(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ke[i])?!!s[i]:!1}function ln(){return qe}var Xn=y({},ws,{key:function(i){if(i.key){var s=ae[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=xi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ln,charCode:function(i){return i.type==="keypress"?xi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nr=Fr(Xn),Pn=y({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=Fr(Pn),Un=y({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ln}),Br=Fr(Un),js=y({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ta=Fr(js),ql=y({},As,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Fr(ql),Ir=y({},bn,{newState:0,oldState:0}),us=Fr(Ir),xo=[9,13,27,32],Fi=bs&&"CompositionEvent"in window,m=null;bs&&"documentMode"in document&&(m=document.documentMode);var E=bs&&"TextEvent"in window&&!m,C=bs&&(!Fi||m&&8<m&&11>=m),K=" ",St=!1;function Ot(i,s){switch(i){case"keyup":return xo.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var un=!1;function ur(i,s){switch(i){case"compositionend":return Xt(s);case"keypress":return s.which!==32?null:(St=!0,K);case"textInput":return i=s.data,i===K&&St?null:i;default:return null}}function cn(i,s){if(un)return i==="compositionend"||!Fi&&Ot(i,s)?(i=Qa(),os=va=Ms=null,un=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return C&&s.locale!=="ko"?null:s.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!fn[i.type]:s==="textarea"}function Ss(i,s,l,h){Mi?_s?_s.push(h):_s=[h]:Mi=h,s=Sp(s,"onChange"),0<s.length&&(l=new ba("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Rr=null,gi=null;function Sa(i){Lv(i,0)}function yi(i){var s=Vr(i);if(Xs(s))return i}function Bi(i,s){if(i==="change")return s}var To=!1;if(bs){var Vs;if(bs){var Ea="oninput"in document;if(!Ea){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),Ea=typeof zl.oninput=="function"}Vs=Ea}else Vs=!1;To=Vs&&(!document.documentMode||9<document.documentMode)}function Za(){Rr&&(Rr.detachEvent("onpropertychange",br),gi=Rr=null)}function br(i){if(i.propertyName==="value"&&yi(gi)){var s=[];Ss(s,gi,i,as(i)),Bl(Sa,s)}}function Wh(i,s,l){i==="focusin"?(Za(),Rr=s,gi=l,Rr.attachEvent("onpropertychange",br)):i==="focusout"&&Za()}function xa(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yi(gi)}function Ta(i,s){if(i==="click")return yi(s)}function Hl(i,s){if(i==="input"||i==="change")return yi(s)}function Yu(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var oi=typeof Object.is=="function"?Object.is:Yu;function Na(i,s){if(oi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!ne.call(s,g)||!oi(i[g],s[g]))return!1}return!0}function No(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Co(i,s){var l=No(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=No(l)}}function Ca(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ca(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Gl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=pi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=pi(i.document)}return s}function qi(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Ia=bs&&"documentMode"in document&&11>=document.documentMode,Dn=null,Fn=null,rr=null,mr=!1;function Ra(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mr||Dn==null||Dn!==pi(h)||(h=Dn,"selectionStart"in h&&qi(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rr&&Na(rr,h)||(rr=h,h=Sp(Fn,"onSelect"),0<h.length&&(s=new ba("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Dn)))}function Us(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var zi={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},rl={},Yh={};bs&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Io(i){if(rl[i])return rl[i];if(!zi[i])return i;var s=zi[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Yh)return rl[i]=s[l];return i}var Kh=Io("animationend"),Qh=Io("animationiteration"),Xh=Io("animationstart"),Vd=Io("transitionrun"),Ud=Io("transitionstart"),Fd=Io("transitioncancel"),Zh=Io("transitionend"),Jh=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Fs(i,s){Jh.set(i,s),Si(s,[i])}var $l=new WeakMap;function Es(i,s){if(typeof i=="object"&&i!==null){var l=$l.get(i);return l!==void 0?l:(s={value:i,source:s,stack:wo(s)},$l.set(i,s),s)}return{value:i,source:s,stack:wo(s)}}var xs=[],il=0,jc=0;function Ku(){for(var i=il,s=jc=il=0;s<i;){var l=xs[s];xs[s++]=null;var h=xs[s];xs[s++]=null;var g=xs[s];xs[s++]=null;var _=xs[s];if(xs[s++]=null,h!==null&&g!==null){var L=h.pending;L===null?g.next=g:(g.next=L.next,L.next=g),h.pending=g}_!==0&&Uc(l,g,_)}}function Qu(i,s,l,h){xs[il++]=i,xs[il++]=s,xs[il++]=l,xs[il++]=h,jc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Vc(i,s,l,h){return Qu(i,s,l,h),al(i)}function sl(i,s){return Qu(i,null,null,s),al(i)}function Uc(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&s!==null&&(g=31-se(l),i=_.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=l|536870912),_):null}function al(i){if(50<xf)throw xf=0,Yg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var li={};function Bs(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(i,s,l,h){return new Bs(i,s,l,h)}function Wl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function La(i,s){var l=i.alternate;return l===null?(l=Ci(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Xu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ol(i,s,l,h,g,_){var L=0;if(h=i,typeof i=="function")Wl(i)&&(L=1);else if(typeof i=="string")L=XS(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Ci(31,l,s,g),i.elementType=R,i.lanes=_,i;case O:return Ja(l.children,g,_,s);case F:L=8,g|=24;break;case q:return i=Ci(12,l,s,g|2),i.elementType=q,i.lanes=_,i;case st:return i=Ci(13,l,s,g),i.elementType=st,i.lanes=_,i;case Et:return i=Ci(19,l,s,g),i.elementType=Et,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case et:L=10;break t;case tt:L=9;break t;case Q:L=11;break t;case W:L=14;break t;case D:L=16,h=null;break t}L=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Ci(L,l,s,g),s.elementType=i,s.type=h,s.lanes=_,s}function Ja(i,s,l,h){return i=Ci(7,i,h,s),i.lanes=l,i}function Fc(i,s,l){return i=Ci(6,i,null,s),i.lanes=l,i}function Zu(i,s,l){return s=Ci(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ro=[],to=0,Yl=null,Bc=0,qs=[],Ts=0,ll=null,eo=1,no="";function ul(i,s){Ro[to++]=Bc,Ro[to++]=Yl,Yl=i,Bc=s}function Bd(i,s,l){qs[Ts++]=eo,qs[Ts++]=no,qs[Ts++]=ll,ll=i;var h=eo;i=no;var g=32-se(h)-1;h&=~(1<<g),l+=1;var _=32-se(s)+g;if(30<_){var L=g-g%5;_=(h&(1<<L)-1).toString(32),h>>=L,g-=L,eo=1<<32-se(s)+g|l<<g|h,no=_+i}else eo=1<<_|l<<g|h,no=i}function Ju(i){i.return!==null&&(ul(i,1),Bd(i,1,0))}function tc(i){for(;i===Yl;)Yl=Ro[--to],Ro[to]=null,Bc=Ro[--to],Ro[to]=null;for(;i===ll;)ll=qs[--Ts],qs[Ts]=null,no=qs[--Ts],qs[Ts]=null,eo=qs[--Ts],qs[Ts]=null}var Wr=null,wr=null,On=!1,Lo=null,ka=!1,tf=Error(r(519));function cl(i){var s=Error(r(418,""));throw Kl(Es(s,i)),tf}function qd(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[zn]=i,s[kn]=h,l){case"dialog":vn("cancel",s),vn("close",s);break;case"iframe":case"object":case"embed":vn("load",s);break;case"video":case"audio":for(l=0;l<Nf.length;l++)vn(Nf[l],s);break;case"source":vn("error",s);break;case"img":case"image":case"link":vn("error",s),vn("load",s);break;case"details":vn("toggle",s);break;case"input":vn("invalid",s),Ya(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),is(s);break;case"select":vn("invalid",s);break;case"textarea":vn("invalid",s),ya(s,h.value,h.defaultValue,h.children),is(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||Ov(s.textContent,l)?(h.popover!=null&&(vn("beforetoggle",s),vn("toggle",s)),h.onScroll!=null&&vn("scroll",s),h.onScrollEnd!=null&&vn("scrollend",s),h.onClick!=null&&(s.onclick=Ep),s=!0):s=!1,s||cl(i)}function ro(i){for(Wr=i.return;Wr;)switch(Wr.tag){case 5:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:Wr=Wr.return}}function Hi(i){if(i!==Wr)return!1;if(!On)return ro(i),On=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||c1(i.type,i.memoizedProps)),l=!l),l&&wr&&cl(i),ro(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){wr=ho(i.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}wr=null}}else s===27?(s=wr,hu(i.type)?(i=p1,p1=null,wr=i):wr=s):wr=Wr?ho(i.stateNode.nextSibling):null;return!0}function Ns(){wr=Wr=null,On=!1}function zd(){var i=Lo;return i!==null&&(Hs===null?Hs=i:Hs.push.apply(Hs,i),Lo=null),i}function Kl(i){Lo===null?Lo=[i]:Lo.push(i)}var Pa=ft(null),ui=null,io=null;function ko(i,s,l){G(Pa,s._currentValue),s._currentValue=l}function Da(i){i._currentValue=Pa.current,P(Pa)}function qc(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function zc(i,s,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var L=g.child;_=_.firstContext;t:for(;_!==null;){var $=_;_=g;for(var ht=0;ht<s.length;ht++)if($.context===s[ht]){_.lanes|=l,$=_.alternate,$!==null&&($.lanes|=l),qc(_.return,l,i),h||(L=null);break t}_=$.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(r(341));L.lanes|=l,_=L.alternate,_!==null&&(_.lanes|=l),qc(L,l,i),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===i){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function Ql(i,s,l,h){i=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var $=g.type;oi(g.pendingProps.value,L.value)||(i!==null?i.push($):i=[$])}}else if(g===yt.current){if(L=g.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Pf):i=[Pf])}g=g.return}i!==null&&zc(s,i,l,h),s.flags|=262144}function Hc(i){for(i=i.firstContext;i!==null;){if(!oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oa(i){ui=i,io=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yr(i){return Gc(ui,i)}function Po(i,s){return ui===null&&Oa(i),Gc(i,s)}function Gc(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},io===null){if(i===null)throw Error(r(308));io=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else io=io.next=s;return l}var _g=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Hd=n.unstable_scheduleCallback,bg=n.unstable_NormalPriority,Kr={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new _g,data:new Map,refCount:0}}function ec(i){i.refCount--,i.refCount===0&&Hd(bg,function(){i.controller.abort()})}var nc=null,nf=0,hl=0,so=null;function wg(i,s){if(nc===null){var l=nc=[];nf=0,hl=e1(),so={status:"pending",value:void 0,then:function(h){l.push(h)}}}return nf++,s.then(Gd,Gd),s}function Gd(){if(--nf===0&&nc!==null){so!==null&&(so.status="fulfilled");var i=nc;nc=null,hl=0,so=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function $d(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var p=at.S;at.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&wg(i,s),p!==null&&p(i,s)};var v=ft(null);function S(){var i=v.current;return i!==null?i:cr.pooledCache}function N(i,s){s===null?G(v,v.current):G(v,s.pool)}function V(){var i=S();return i===null?null:{parent:Kr._currentValue,pool:i}}var z=Error(r(460)),H=Error(r(474)),Y=Error(r(542)),X={then:function(){}};function it(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gt(){}function It(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(gt,gt),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,xt(i),i;default:if(typeof s.status=="string")s.then(gt,gt);else{if(i=cr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,xt(i),i}throw nt=s,z}}var nt=null;function _t(){if(nt===null)throw Error(r(459));var i=nt;return nt=null,i}function xt(i){if(i===z||i===Y)throw Error(r(483))}var jt=!1;function Ct(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ut(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Kt(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,($n&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=al(i),Uc(i,null,l),s}return Qu(i,h,s,l),al(i)}function Gt(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Ys(i,l)}}function ve(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=L:_=_.next=L,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var oe=!1;function Ge(){if(oe){var i=so;if(i!==null)throw i}}function ue(i,s,l,h){oe=!1;var g=i.updateQueue;jt=!1;var _=g.firstBaseUpdate,L=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var ht=$,Rt=ht.next;ht.next=null,L===null?_=Rt:L.next=Rt,L=ht;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,$=Bt.lastBaseUpdate,$!==L&&($===null?Bt.firstBaseUpdate=Rt:$.next=Rt,Bt.lastBaseUpdate=ht))}if(_!==null){var $t=g.baseState;L=0,Bt=Rt=ht=null,$=_;do{var kt=$.lane&-536870913,Dt=kt!==$.lane;if(Dt?(Rn&kt)===kt:(h&kt)===kt){kt!==0&&kt===hl&&(oe=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});t:{var He=i,Me=$;kt=s;var tr=l;switch(Me.tag){case 1:if(He=Me.payload,typeof He=="function"){$t=He.call(tr,$t,kt);break t}$t=He;break t;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Me.payload,kt=typeof He=="function"?He.call(tr,$t,kt):He,kt==null)break t;$t=y({},$t,kt);break t;case 2:jt=!0}}kt=$.callback,kt!==null&&(i.flags|=64,Dt&&(i.flags|=8192),Dt=g.callbacks,Dt===null?g.callbacks=[kt]:Dt.push(kt))}else Dt={lane:kt,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Bt===null?(Rt=Bt=Dt,ht=$t):Bt=Bt.next=Dt,L|=kt;if($=$.next,$===null){if($=g.shared.pending,$===null)break;Dt=$,$=Dt.next,Dt.next=null,g.lastBaseUpdate=Dt,g.shared.pending=null}}while(!0);Bt===null&&(ht=$t),g.baseState=ht,g.firstBaseUpdate=Rt,g.lastBaseUpdate=Bt,_===null&&(g.shared.lanes=0),ou|=L,i.lanes=L,i.memoizedState=$t}}function dn(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function qr(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)dn(l[i],s)}var ze=ft(null),fe=ft(0);function te(i,s){i=_l,G(fe,i),G(ze,s),_l=i|s.baseLanes}function gr(){G(fe,_l),G(ze,ze.current)}function $e(){_l=fe.current,P(ze),P(fe)}var Je=0,de=null,Ke=null,wn=null,ir=!1,Lr=!1,kr=!1,Ar=0,hn=0,An=null,Sr=0;function Oe(){throw Error(r(321))}function Qr(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!oi(i[l],s[l]))return!1;return!0}function Cs(i,s,l,h,g,_){return Je=_,de=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,at.H=i===null||i.memoizedState===null?my:gy,kr=!1,_=l(h,g),kr=!1,Lr&&(_=Gi(s,l,h,g)),Er(i),_}function Er(i){at.H=ip;var s=Ke!==null&&Ke.next!==null;if(Je=0,wn=Ke=de=null,ir=!1,hn=0,An=null,s)throw Error(r(300));i===null||Ri||(i=i.dependencies,i!==null&&Hc(i)&&(Ri=!0))}function Gi(i,s,l,h){de=i;var g=0;do{if(Lr&&(An=null),hn=0,Lr=!1,25<=g)throw Error(r(301));if(g+=1,wn=Ke=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}at.H=lS,_=s(l,h)}while(Lr);return _}function Gn(){var i=at.H,s=i.useState()[0];return s=typeof s.then=="function"?_i(s):s,i=i.useState()[0],(Ke!==null?Ke.memoizedState:null)!==i&&(de.flags|=1024),s}function Pr(){var i=Ar!==0;return Ar=0,i}function $i(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function vi(i){if(ir){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ir=!1}Je=0,wn=Ke=de=null,Lr=!1,hn=Ar=0,An=null}function Zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?de.memoizedState=wn=i:wn=wn.next=i,wn}function In(){if(Ke===null){var i=de.alternate;i=i!==null?i.memoizedState:null}else i=Ke.next;var s=wn===null?de.memoizedState:wn.next;if(s!==null)wn=s,Ke=i;else{if(i===null)throw de.alternate===null?Error(r(467)):Error(r(310));Ke=i,i={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},wn===null?de.memoizedState=wn=i:wn=wn.next=i}return wn}function Ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _i(i){var s=hn;return hn+=1,An===null&&(An=[]),i=It(An,i,s),s=de,(wn===null?s.memoizedState:wn.next)===null&&(s=s.alternate,at.H=s===null||s.memoizedState===null?my:gy),i}function Vn(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _i(i);if(i.$$typeof===et)return Yr(i)}throw Error(r(438,String(i)))}function Wi(i){var s=null,l=de.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=de.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ii(),de.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=U;return s.index++,l}function Xr(i,s){return typeof s=="function"?s(i):s}function Ma(i){var s=In();return ea(s,Ke,i)}function ea(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,_=h.pending;if(_!==null){if(g!==null){var L=g.next;g.next=_.next,_.next=L}s.baseQueue=g=_,h.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{s=g.next;var $=L=null,ht=null,Rt=s,Bt=!1;do{var $t=Rt.lane&-536870913;if($t!==Rt.lane?(Rn&$t)===$t:(Je&$t)===$t){var kt=Rt.revertLane;if(kt===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),$t===hl&&(Bt=!0);else if((Je&kt)===kt){Rt=Rt.next,kt===hl&&(Bt=!0);continue}else $t={lane:0,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ht===null?($=ht=$t,L=_):ht=ht.next=$t,de.lanes|=kt,ou|=kt;$t=Rt.action,kr&&l(_,$t),_=Rt.hasEagerState?Rt.eagerState:l(_,$t)}else kt={lane:$t,revertLane:Rt.revertLane,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},ht===null?($=ht=kt,L=_):ht=ht.next=kt,de.lanes|=$t,ou|=$t;Rt=Rt.next}while(Rt!==null&&Rt!==s);if(ht===null?L=_:ht.next=$,!oi(_,i.memoizedState)&&(Ri=!0,Bt&&(l=so,l!==null)))throw l;i.memoizedState=_,i.baseState=L,i.baseQueue=ht,h.lastRenderedState=_}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Zr(i){var s=In(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var L=g=g.next;do _=i(_,L.action),L=L.next;while(L!==g);oi(_,s.memoizedState)||(Ri=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function rc(i,s,l){var h=de,g=In(),_=On;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var L=!oi((Ke||g).memoizedState,l);L&&(g.memoizedState=l,Ri=!0),g=g.queue;var $=Xl.bind(null,h,g,i);if(tu(2048,8,$,[i]),g.getSnapshot!==s||L||wn!==null&&wn.memoizedState.tag&1){if(h.flags|=2048,oo(9,oc(),ic.bind(null,h,g,l,s),null),cr===null)throw Error(r(349));_||(Je&124)!==0||$c(h,s,l)}return l}function $c(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=de.updateQueue,s===null?(s=Ii(),de.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function ic(i,s,l,h){s.value=l,s.getSnapshot=h,Wd(s)&&Yd(i)}function Xl(i,s,l){return l(function(){Wd(s)&&Yd(i)})}function Wd(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!oi(i,l)}catch{return!0}}function Yd(i){var s=sl(i,2);s!==null&&oa(s,i,2)}function sc(i){var s=Zn();if(typeof i=="function"){var l=i;if(i=l(),kr){Te(!0);try{l()}finally{Te(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:i},s}function ao(i,s,l,h){return i.baseState=l,ea(i,Ke,typeof h=="function"?h:Xr)}function Ag(i,s,l,h,g){if(rp(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};at.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,Kd(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Kd(i,s){var l=s.action,h=s.payload,g=i.state;if(s.isTransition){var _=at.T,L={};at.T=L;try{var $=l(g,h),ht=at.S;ht!==null&&ht(L,$),Qd(i,s,$)}catch(Rt){Zl(i,s,Rt)}finally{at.T=_}}else try{_=l(g,h),Qd(i,s,_)}catch(Rt){Zl(i,s,Rt)}}function Qd(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){rf(i,s,h)},function(h){return Zl(i,s,h)}):rf(i,s,l)}function rf(i,s,l){s.status="fulfilled",s.value=l,sf(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Kd(i,l)))}function Zl(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,sf(s),s=s.next;while(s!==h)}i.action=null}function sf(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function af(i,s){return s}function ac(i,s){if(On){var l=cr.formState;if(l!==null){t:{var h=de;if(On){if(wr){e:{for(var g=wr,_=ka;g.nodeType!==8;){if(!_){g=null;break e}if(g=ho(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){wr=ho(g.nextSibling),h=g.data==="F!";break t}}cl(h)}h=!1}h&&(s=l[0])}}return l=Zn(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:s},l.queue=h,l=fy.bind(null,de,h),h.dispatch=l,h=sc(!1),_=Sg.bind(null,de,!1,h.queue),h=Zn(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,l=Ag.bind(null,de,g,_,l),g.dispatch=l,h.memoizedState=i,[s,l,!1]}function Wc(i){var s=In();return Jl(s,Ke,i)}function Jl(i,s,l){if(s=ea(i,s,af)[0],i=Ma(Xr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=_i(s)}catch(L){throw L===z?Y:L}else h=s;s=In();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(de.flags|=2048,oo(9,oc(),Xd.bind(null,g,l),null)),[h,_,i]}function Xd(i,s){i.action=s}function Zd(i){var s=In(),l=Ke;if(l!==null)return Jl(s,l,i);In(),s=s.memoizedState,l=In();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function oo(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=de.updateQueue,s===null&&(s=Ii(),de.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function oc(){return{destroy:void 0,resource:void 0}}function Yc(){return In().memoizedState}function na(i,s,l,h){var g=Zn();h=h===void 0?null:h,de.flags|=i,g.memoizedState=oo(1|s,oc(),l,h)}function tu(i,s,l,h){var g=In();h=h===void 0?null:h;var _=g.memoizedState.inst;Ke!==null&&h!==null&&Qr(h,Ke.memoizedState.deps)?g.memoizedState=oo(s,_,l,h):(de.flags|=i,g.memoizedState=oo(1|s,_,l,h))}function of(i,s){na(8390656,8,i,s)}function Jd(i,s){tu(2048,8,i,s)}function lf(i,s){return tu(4,2,i,s)}function fl(i,s){return tu(4,4,i,s)}function tp(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function uf(i,s,l){l=l!=null?l.concat([i]):null,tu(4,4,tp.bind(null,s,i),l)}function cf(){}function hf(i,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Qr(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function ep(i,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Qr(s,h[1]))return h[0];if(h=i(),kr){Te(!0);try{i()}finally{Te(!1)}}return l.memoizedState=[h,s],h}function dl(i,s,l){return l===void 0||(Je&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=lv(),de.lanes|=i,ou|=i,l)}function Kc(i,s,l,h){return oi(l,s)?l:ze.current!==null?(i=dl(i,l,h),oi(i,s)||(Ri=!0),i):(Je&42)===0?(Ri=!0,i.memoizedState=l):(i=lv(),de.lanes|=i,ou|=i,s)}function lc(i,s,l,h,g){var _=mt.p;mt.p=_!==0&&8>_?_:8;var L=at.T,$={};at.T=$,Sg(i,!1,s,l);try{var ht=g(),Rt=at.S;if(Rt!==null&&Rt($,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var Bt=$d(ht,h);mf(i,s,Bt,aa(i))}else mf(i,s,h,aa(i))}catch($t){mf(i,s,{then:function(){},status:"rejected",reason:$t},aa())}finally{mt.p=_,at.T=L}}function lo(){}function ja(i,s,l,h){if(i.tag!==5)throw Error(r(476));var g=uo(i).queue;lc(i,g,s,ot,l===null?lo:function(){return uc(i),l(h)})}function uo(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:ot},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function uc(i){var s=uo(i).next.queue;mf(i,s,{},aa())}function cc(){return Yr(Pf)}function ff(){return In().memoizedState}function np(){return In().memoizedState}function df(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=aa();i=Vt(l);var h=Kt(s,i,l);h!==null&&(oa(h,s,l),Gt(h,s,l)),s={cache:ef()},i.payload=s;return}s=s.return}}function pf(i,s,l){var h=aa();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rp(i)?dy(s,l):(l=Vc(i,s,l,h),l!==null&&(oa(l,i,h),py(l,s,h)))}function fy(i,s,l){var h=aa();mf(i,s,l,h)}function mf(i,s,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rp(i))dy(s,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var L=s.lastRenderedState,$=_(L,l);if(g.hasEagerState=!0,g.eagerState=$,oi($,L))return Qu(i,s,g,0),cr===null&&Ku(),!1}catch{}finally{}if(l=Vc(i,s,g,h),l!==null)return oa(l,i,h),py(l,s,h),!0}return!1}function Sg(i,s,l,h){if(h={lane:2,revertLane:e1(),action:h,hasEagerState:!1,eagerState:null,next:null},rp(i)){if(s)throw Error(r(479))}else s=Vc(i,l,h,2),s!==null&&oa(s,i,2)}function rp(i){var s=i.alternate;return i===de||s!==null&&s===de}function dy(i,s){Lr=ir=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function py(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Ys(i,l)}}var ip={readContext:Yr,use:Vn,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},my={readContext:Yr,use:Vn,useCallback:function(i,s){return Zn().memoizedState=[i,s===void 0?null:s],i},useContext:Yr,useEffect:of,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,na(4194308,4,tp.bind(null,s,i),l)},useLayoutEffect:function(i,s){return na(4194308,4,i,s)},useInsertionEffect:function(i,s){na(4,2,i,s)},useMemo:function(i,s){var l=Zn();s=s===void 0?null:s;var h=i();if(kr){Te(!0);try{i()}finally{Te(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=Zn();if(l!==void 0){var g=l(s);if(kr){Te(!0);try{l(s)}finally{Te(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=pf.bind(null,de,i),[h.memoizedState,i]},useRef:function(i){var s=Zn();return i={current:i},s.memoizedState=i},useState:function(i){i=sc(i);var s=i.queue,l=fy.bind(null,de,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:cf,useDeferredValue:function(i,s){var l=Zn();return dl(l,i,s)},useTransition:function(){var i=sc(!1);return i=lc.bind(null,de,i.queue,!0,!1),Zn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=de,g=Zn();if(On){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),cr===null)throw Error(r(349));(Rn&124)!==0||$c(h,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,of(Xl.bind(null,h,_,i),[i]),h.flags|=2048,oo(9,oc(),ic.bind(null,h,_,l,s),null),l},useId:function(){var i=Zn(),s=cr.identifierPrefix;if(On){var l=no,h=eo;l=(h&~(1<<32-se(h)-1)).toString(32)+l,s="«"+s+"R"+l,l=Ar++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=Sr++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:cc,useFormState:ac,useActionState:ac,useOptimistic:function(i){var s=Zn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Sg.bind(null,de,!0,l),l.dispatch=s,[i,s]},useMemoCache:Wi,useCacheRefresh:function(){return Zn().memoizedState=df.bind(null,de)}},gy={readContext:Yr,use:Vn,useCallback:hf,useContext:Yr,useEffect:Jd,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:fl,useMemo:ep,useReducer:Ma,useRef:Yc,useState:function(){return Ma(Xr)},useDebugValue:cf,useDeferredValue:function(i,s){var l=In();return Kc(l,Ke.memoizedState,i,s)},useTransition:function(){var i=Ma(Xr)[0],s=In().memoizedState;return[typeof i=="boolean"?i:_i(i),s]},useSyncExternalStore:rc,useId:ff,useHostTransitionStatus:cc,useFormState:Wc,useActionState:Wc,useOptimistic:function(i,s){var l=In();return ao(l,Ke,i,s)},useMemoCache:Wi,useCacheRefresh:np},lS={readContext:Yr,use:Vn,useCallback:hf,useContext:Yr,useEffect:Jd,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:fl,useMemo:ep,useReducer:Zr,useRef:Yc,useState:function(){return Zr(Xr)},useDebugValue:cf,useDeferredValue:function(i,s){var l=In();return Ke===null?dl(l,i,s):Kc(l,Ke.memoizedState,i,s)},useTransition:function(){var i=Zr(Xr)[0],s=In().memoizedState;return[typeof i=="boolean"?i:_i(i),s]},useSyncExternalStore:rc,useId:ff,useHostTransitionStatus:cc,useFormState:Zd,useActionState:Zd,useOptimistic:function(i,s){var l=In();return Ke!==null?ao(l,Ke,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Wi,useCacheRefresh:np},Qc=null,gf=0;function sp(i){var s=gf;return gf+=1,Qc===null&&(Qc=[]),It(Qc,i,s)}function yf(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ap(i,s){throw s.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function yy(i){var s=i._init;return s(i._payload)}function vy(i){function s(At,vt){if(i){var Nt=At.deletions;Nt===null?(At.deletions=[vt],At.flags|=16):Nt.push(vt)}}function l(At,vt){if(!i)return null;for(;vt!==null;)s(At,vt),vt=vt.sibling;return null}function h(At){for(var vt=new Map;At!==null;)At.key!==null?vt.set(At.key,At):vt.set(At.index,At),At=At.sibling;return vt}function g(At,vt){return At=La(At,vt),At.index=0,At.sibling=null,At}function _(At,vt,Nt){return At.index=Nt,i?(Nt=At.alternate,Nt!==null?(Nt=Nt.index,Nt<vt?(At.flags|=67108866,vt):Nt):(At.flags|=67108866,vt)):(At.flags|=1048576,vt)}function L(At){return i&&At.alternate===null&&(At.flags|=67108866),At}function $(At,vt,Nt,Ht){return vt===null||vt.tag!==6?(vt=Fc(Nt,At.mode,Ht),vt.return=At,vt):(vt=g(vt,Nt),vt.return=At,vt)}function ht(At,vt,Nt,Ht){var me=Nt.type;return me===O?Bt(At,vt,Nt.props.children,Ht,Nt.key):vt!==null&&(vt.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===D&&yy(me)===vt.type)?(vt=g(vt,Nt.props),yf(vt,Nt),vt.return=At,vt):(vt=ol(Nt.type,Nt.key,Nt.props,null,At.mode,Ht),yf(vt,Nt),vt.return=At,vt)}function Rt(At,vt,Nt,Ht){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Nt.containerInfo||vt.stateNode.implementation!==Nt.implementation?(vt=Zu(Nt,At.mode,Ht),vt.return=At,vt):(vt=g(vt,Nt.children||[]),vt.return=At,vt)}function Bt(At,vt,Nt,Ht,me){return vt===null||vt.tag!==7?(vt=Ja(Nt,At.mode,Ht,me),vt.return=At,vt):(vt=g(vt,Nt),vt.return=At,vt)}function $t(At,vt,Nt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=Fc(""+vt,At.mode,Nt),vt.return=At,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case x:return Nt=ol(vt.type,vt.key,vt.props,null,At.mode,Nt),yf(Nt,vt),Nt.return=At,Nt;case b:return vt=Zu(vt,At.mode,Nt),vt.return=At,vt;case D:var Ht=vt._init;return vt=Ht(vt._payload),$t(At,vt,Nt)}if(Tt(vt)||I(vt))return vt=Ja(vt,At.mode,Nt,null),vt.return=At,vt;if(typeof vt.then=="function")return $t(At,sp(vt),Nt);if(vt.$$typeof===et)return $t(At,Po(At,vt),Nt);ap(At,vt)}return null}function kt(At,vt,Nt,Ht){var me=vt!==null?vt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return me!==null?null:$(At,vt,""+Nt,Ht);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case x:return Nt.key===me?ht(At,vt,Nt,Ht):null;case b:return Nt.key===me?Rt(At,vt,Nt,Ht):null;case D:return me=Nt._init,Nt=me(Nt._payload),kt(At,vt,Nt,Ht)}if(Tt(Nt)||I(Nt))return me!==null?null:Bt(At,vt,Nt,Ht,null);if(typeof Nt.then=="function")return kt(At,vt,sp(Nt),Ht);if(Nt.$$typeof===et)return kt(At,vt,Po(At,Nt),Ht);ap(At,Nt)}return null}function Dt(At,vt,Nt,Ht,me){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return At=At.get(Nt)||null,$(vt,At,""+Ht,me);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case x:return At=At.get(Ht.key===null?Nt:Ht.key)||null,ht(vt,At,Ht,me);case b:return At=At.get(Ht.key===null?Nt:Ht.key)||null,Rt(vt,At,Ht,me);case D:var pn=Ht._init;return Ht=pn(Ht._payload),Dt(At,vt,Nt,Ht,me)}if(Tt(Ht)||I(Ht))return At=At.get(Nt)||null,Bt(vt,At,Ht,me,null);if(typeof Ht.then=="function")return Dt(At,vt,Nt,sp(Ht),me);if(Ht.$$typeof===et)return Dt(At,vt,Nt,Po(vt,Ht),me);ap(vt,Ht)}return null}function He(At,vt,Nt,Ht){for(var me=null,pn=null,Ee=vt,je=vt=0,ki=null;Ee!==null&&je<Nt.length;je++){Ee.index>je?(ki=Ee,Ee=null):ki=Ee.sibling;var jn=kt(At,Ee,Nt[je],Ht);if(jn===null){Ee===null&&(Ee=ki);break}i&&Ee&&jn.alternate===null&&s(At,Ee),vt=_(jn,vt,je),pn===null?me=jn:pn.sibling=jn,pn=jn,Ee=ki}if(je===Nt.length)return l(At,Ee),On&&ul(At,je),me;if(Ee===null){for(;je<Nt.length;je++)Ee=$t(At,Nt[je],Ht),Ee!==null&&(vt=_(Ee,vt,je),pn===null?me=Ee:pn.sibling=Ee,pn=Ee);return On&&ul(At,je),me}for(Ee=h(Ee);je<Nt.length;je++)ki=Dt(Ee,At,je,Nt[je],Ht),ki!==null&&(i&&ki.alternate!==null&&Ee.delete(ki.key===null?je:ki.key),vt=_(ki,vt,je),pn===null?me=ki:pn.sibling=ki,pn=ki);return i&&Ee.forEach(function(gu){return s(At,gu)}),On&&ul(At,je),me}function Me(At,vt,Nt,Ht){if(Nt==null)throw Error(r(151));for(var me=null,pn=null,Ee=vt,je=vt=0,ki=null,jn=Nt.next();Ee!==null&&!jn.done;je++,jn=Nt.next()){Ee.index>je?(ki=Ee,Ee=null):ki=Ee.sibling;var gu=kt(At,Ee,jn.value,Ht);if(gu===null){Ee===null&&(Ee=ki);break}i&&Ee&&gu.alternate===null&&s(At,Ee),vt=_(gu,vt,je),pn===null?me=gu:pn.sibling=gu,pn=gu,Ee=ki}if(jn.done)return l(At,Ee),On&&ul(At,je),me;if(Ee===null){for(;!jn.done;je++,jn=Nt.next())jn=$t(At,jn.value,Ht),jn!==null&&(vt=_(jn,vt,je),pn===null?me=jn:pn.sibling=jn,pn=jn);return On&&ul(At,je),me}for(Ee=h(Ee);!jn.done;je++,jn=Nt.next())jn=Dt(Ee,At,je,jn.value,Ht),jn!==null&&(i&&jn.alternate!==null&&Ee.delete(jn.key===null?je:jn.key),vt=_(jn,vt,je),pn===null?me=jn:pn.sibling=jn,pn=jn);return i&&Ee.forEach(function(uE){return s(At,uE)}),On&&ul(At,je),me}function tr(At,vt,Nt,Ht){if(typeof Nt=="object"&&Nt!==null&&Nt.type===O&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case x:t:{for(var me=Nt.key;vt!==null;){if(vt.key===me){if(me=Nt.type,me===O){if(vt.tag===7){l(At,vt.sibling),Ht=g(vt,Nt.props.children),Ht.return=At,At=Ht;break t}}else if(vt.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===D&&yy(me)===vt.type){l(At,vt.sibling),Ht=g(vt,Nt.props),yf(Ht,Nt),Ht.return=At,At=Ht;break t}l(At,vt);break}else s(At,vt);vt=vt.sibling}Nt.type===O?(Ht=Ja(Nt.props.children,At.mode,Ht,Nt.key),Ht.return=At,At=Ht):(Ht=ol(Nt.type,Nt.key,Nt.props,null,At.mode,Ht),yf(Ht,Nt),Ht.return=At,At=Ht)}return L(At);case b:t:{for(me=Nt.key;vt!==null;){if(vt.key===me)if(vt.tag===4&&vt.stateNode.containerInfo===Nt.containerInfo&&vt.stateNode.implementation===Nt.implementation){l(At,vt.sibling),Ht=g(vt,Nt.children||[]),Ht.return=At,At=Ht;break t}else{l(At,vt);break}else s(At,vt);vt=vt.sibling}Ht=Zu(Nt,At.mode,Ht),Ht.return=At,At=Ht}return L(At);case D:return me=Nt._init,Nt=me(Nt._payload),tr(At,vt,Nt,Ht)}if(Tt(Nt))return He(At,vt,Nt,Ht);if(I(Nt)){if(me=I(Nt),typeof me!="function")throw Error(r(150));return Nt=me.call(Nt),Me(At,vt,Nt,Ht)}if(typeof Nt.then=="function")return tr(At,vt,sp(Nt),Ht);if(Nt.$$typeof===et)return tr(At,vt,Po(At,Nt),Ht);ap(At,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint"?(Nt=""+Nt,vt!==null&&vt.tag===6?(l(At,vt.sibling),Ht=g(vt,Nt),Ht.return=At,At=Ht):(l(At,vt),Ht=Fc(Nt,At.mode,Ht),Ht.return=At,At=Ht),L(At)):l(At,vt)}return function(At,vt,Nt,Ht){try{gf=0;var me=tr(At,vt,Nt,Ht);return Qc=null,me}catch(Ee){if(Ee===z||Ee===Y)throw Ee;var pn=Ci(29,Ee,null,At.mode);return pn.lanes=Ht,pn.return=At,pn}finally{}}}var Xc=vy(!0),_y=vy(!1),Va=ft(null),Do=null;function eu(i){var s=i.alternate;G(bi,bi.current&1),G(Va,i),Do===null&&(s===null||ze.current!==null||s.memoizedState!==null)&&(Do=i)}function by(i){if(i.tag===22){if(G(bi,bi.current),G(Va,i),Do===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Do=i)}}else nu()}function nu(){G(bi,bi.current),G(Va,Va.current)}function pl(i){P(Va),Do===i&&(Do=null),P(bi)}var bi=ft(0);function op(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||d1(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Eg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var xg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=aa(),g=Vt(h);g.payload=s,l!=null&&(g.callback=l),s=Kt(i,g,h),s!==null&&(oa(s,i,h),Gt(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=aa(),g=Vt(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Kt(i,g,h),s!==null&&(oa(s,i,h),Gt(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=aa(),h=Vt(l);h.tag=2,s!=null&&(h.callback=s),s=Kt(i,h,l),s!==null&&(oa(s,i,l),Gt(s,i,l))}};function wy(i,s,l,h,g,_,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,L):s.prototype&&s.prototype.isPureReactComponent?!Na(l,h)||!Na(g,_):!0}function Ay(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&xg.enqueueReplaceState(s,s.state,null)}function hc(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var lp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Sy(i){lp(i)}function Ey(i){console.error(i)}function xy(i){lp(i)}function up(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Ty(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Tg(i,s,l){return l=Vt(l),l.tag=3,l.payload={element:null},l.callback=function(){up(i,s)},l}function Ny(i){return i=Vt(i),i.tag=3,i}function Cy(i,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;i.payload=function(){return g(_)},i.callback=function(){Ty(s,l,h)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){Ty(s,l,h),typeof g!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function uS(i,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Ql(s,l,g,!0),l=Va.current,l!==null){switch(l.tag){case 13:return Do===null?Qg():l.alternate===null&&zr===0&&(zr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===X?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Zg(i,h,g)),!1;case 22:return l.flags|=65536,h===X?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Zg(i,h,g)),!1}throw Error(r(435,l.tag))}return Zg(i,h,g),Qg(),!1}if(On)return s=Va.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==tf&&(i=Error(r(422),{cause:h}),Kl(Es(i,l)))):(h!==tf&&(s=Error(r(423),{cause:h}),Kl(Es(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Es(h,l),g=Tg(i.stateNode,h,g),ve(i,g),zr!==4&&(zr=2)),!1;var _=Error(r(520),{cause:h});if(_=Es(_,l),Ef===null?Ef=[_]:Ef.push(_),zr!==4&&(zr=2),s===null)return!0;h=Es(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Tg(l.stateNode,h,i),ve(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(lu===null||!lu.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Ny(g),Cy(g,i,l,h),ve(l,g),!1}l=l.return}while(l!==null);return!1}var Iy=Error(r(461)),Ri=!1;function Yi(i,s,l,h){s.child=i===null?_y(s,null,l,h):Xc(s,i.child,l,h)}function Ry(i,s,l,h,g){l=l.render;var _=s.ref;if("ref"in h){var L={};for(var $ in h)$!=="ref"&&(L[$]=h[$])}else L=h;return Oa(s),h=Cs(i,s,l,L,_,g),$=Pr(),i!==null&&!Ri?($i(i,s,g),ml(i,s,g)):(On&&$&&Ju(s),s.flags|=1,Yi(i,s,h,g),s.child)}function Ly(i,s,l,h,g){if(i===null){var _=l.type;return typeof _=="function"&&!Wl(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,ky(i,s,_,h,g)):(i=ol(l.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!Dg(i,g)){var L=_.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(L,h)&&i.ref===s.ref)return ml(i,s,g)}return s.flags|=1,i=La(_,h),i.ref=s.ref,i.return=s,s.child=i}function ky(i,s,l,h,g){if(i!==null){var _=i.memoizedProps;if(Na(_,h)&&i.ref===s.ref)if(Ri=!1,s.pendingProps=h=_,Dg(i,g))(i.flags&131072)!==0&&(Ri=!0);else return s.lanes=i.lanes,ml(i,s,g)}return Ng(i,s,l,h,g)}function Py(i,s,l){var h=s.pendingProps,g=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,i!==null){for(g=s.child=i.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;s.childLanes=_&~h}else s.childLanes=0,s.child=null;return Dy(i,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&N(s,_!==null?_.cachePool:null),_!==null?te(s,_):gr(),by(s);else return s.lanes=s.childLanes=536870912,Dy(i,s,_!==null?_.baseLanes|l:l,l)}else _!==null?(N(s,_.cachePool),te(s,_),nu(),s.memoizedState=null):(i!==null&&N(s,null),gr(),nu());return Yi(i,s,g,l),s.child}function Dy(i,s,l,h){var g=S();return g=g===null?null:{parent:Kr._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&N(s,null),gr(),by(s),i!==null&&Ql(i,s,h,!0),null}function cp(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Ng(i,s,l,h,g){return Oa(s),l=Cs(i,s,l,h,void 0,g),h=Pr(),i!==null&&!Ri?($i(i,s,g),ml(i,s,g)):(On&&h&&Ju(s),s.flags|=1,Yi(i,s,l,g),s.child)}function Oy(i,s,l,h,g,_){return Oa(s),s.updateQueue=null,l=Gi(s,h,l,g),Er(i),h=Pr(),i!==null&&!Ri?($i(i,s,_),ml(i,s,_)):(On&&h&&Ju(s),s.flags|=1,Yi(i,s,l,_),s.child)}function My(i,s,l,h,g){if(Oa(s),s.stateNode===null){var _=li,L=l.contextType;typeof L=="object"&&L!==null&&(_=Yr(L)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=xg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Ct(s),L=l.contextType,_.context=typeof L=="object"&&L!==null?Yr(L):li,_.state=s.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(Eg(s,l,L,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&xg.enqueueReplaceState(_,_.state,null),ue(s,h,_,g),Ge(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var $=s.memoizedProps,ht=hc(l,$);_.props=ht;var Rt=_.context,Bt=l.contextType;L=li,typeof Bt=="object"&&Bt!==null&&(L=Yr(Bt));var $t=l.getDerivedStateFromProps;Bt=typeof $t=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=s.pendingProps!==$,Bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||Rt!==L)&&Ay(s,_,h,L),jt=!1;var kt=s.memoizedState;_.state=kt,ue(s,h,_,g),Ge(),Rt=s.memoizedState,$||kt!==Rt||jt?(typeof $t=="function"&&(Eg(s,l,$t,h),Rt=s.memoizedState),(ht=jt||wy(s,l,ht,h,kt,Rt,L))?(Bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Rt),_.props=h,_.state=Rt,_.context=L,h=ht):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Ut(i,s),L=s.memoizedProps,Bt=hc(l,L),_.props=Bt,$t=s.pendingProps,kt=_.context,Rt=l.contextType,ht=li,typeof Rt=="object"&&Rt!==null&&(ht=Yr(Rt)),$=l.getDerivedStateFromProps,(Rt=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==$t||kt!==ht)&&Ay(s,_,h,ht),jt=!1,kt=s.memoizedState,_.state=kt,ue(s,h,_,g),Ge();var Dt=s.memoizedState;L!==$t||kt!==Dt||jt||i!==null&&i.dependencies!==null&&Hc(i.dependencies)?(typeof $=="function"&&(Eg(s,l,$,h),Dt=s.memoizedState),(Bt=jt||wy(s,l,Bt,h,kt,Dt,ht)||i!==null&&i.dependencies!==null&&Hc(i.dependencies))?(Rt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Dt,ht),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Dt,ht)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===i.memoizedProps&&kt===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&kt===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Dt),_.props=h,_.state=Dt,_.context=ht,h=Bt):(typeof _.componentDidUpdate!="function"||L===i.memoizedProps&&kt===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&kt===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,cp(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=Xc(s,i.child,null,g),s.child=Xc(s,null,l,g)):Yi(i,s,l,g),s.memoizedState=_.state,i=s.child):i=ml(i,s,g),i}function jy(i,s,l,h){return Ns(),s.flags|=256,Yi(i,s,l,h),s.child}var Cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ig(i){return{baseLanes:i,cachePool:V()}}function Rg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Ua),i}function Vy(i,s,l){var h=s.pendingProps,g=!1,_=(s.flags&128)!==0,L;if((L=_)||(L=i!==null&&i.memoizedState===null?!1:(bi.current&2)!==0),L&&(g=!0,s.flags&=-129),L=(s.flags&32)!==0,s.flags&=-33,i===null){if(On){if(g?eu(s):nu(),On){var $=wr,ht;if(ht=$){t:{for(ht=$,$=ka;ht.nodeType!==8;){if(!$){$=null;break t}if(ht=ho(ht.nextSibling),ht===null){$=null;break t}}$=ht}$!==null?(s.memoizedState={dehydrated:$,treeContext:ll!==null?{id:eo,overflow:no}:null,retryLane:536870912,hydrationErrors:null},ht=Ci(18,null,null,0),ht.stateNode=$,ht.return=s,s.child=ht,Wr=s,wr=null,ht=!0):ht=!1}ht||cl(s)}if($=s.memoizedState,$!==null&&($=$.dehydrated,$!==null))return d1($)?s.lanes=32:s.lanes=536870912,null;pl(s)}return $=h.children,h=h.fallback,g?(nu(),g=s.mode,$=hp({mode:"hidden",children:$},g),h=Ja(h,g,l,null),$.return=s,h.return=s,$.sibling=h,s.child=$,g=s.child,g.memoizedState=Ig(l),g.childLanes=Rg(i,L,l),s.memoizedState=Cg,h):(eu(s),Lg(s,$))}if(ht=i.memoizedState,ht!==null&&($=ht.dehydrated,$!==null)){if(_)s.flags&256?(eu(s),s.flags&=-257,s=kg(i,s,l)):s.memoizedState!==null?(nu(),s.child=i.child,s.flags|=128,s=null):(nu(),g=h.fallback,$=s.mode,h=hp({mode:"visible",children:h.children},$),g=Ja(g,$,l,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,Xc(s,i.child,null,l),h=s.child,h.memoizedState=Ig(l),h.childLanes=Rg(i,L,l),s.memoizedState=Cg,s=g);else if(eu(s),d1($)){if(L=$.nextSibling&&$.nextSibling.dataset,L)var Rt=L.dgst;L=Rt,h=Error(r(419)),h.stack="",h.digest=L,Kl({value:h,source:null,stack:null}),s=kg(i,s,l)}else if(Ri||Ql(i,s,l,!1),L=(l&i.childLanes)!==0,Ri||L){if(L=cr,L!==null&&(h=l&-l,h=(h&42)!==0?1:fr(h),h=(h&(L.suspendedLanes|l))!==0?0:h,h!==0&&h!==ht.retryLane))throw ht.retryLane=h,sl(i,h),oa(L,i,h),Iy;$.data==="$?"||Qg(),s=kg(i,s,l)}else $.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=ht.treeContext,wr=ho($.nextSibling),Wr=s,On=!0,Lo=null,ka=!1,i!==null&&(qs[Ts++]=eo,qs[Ts++]=no,qs[Ts++]=ll,eo=i.id,no=i.overflow,ll=s),s=Lg(s,h.children),s.flags|=4096);return s}return g?(nu(),g=h.fallback,$=s.mode,ht=i.child,Rt=ht.sibling,h=La(ht,{mode:"hidden",children:h.children}),h.subtreeFlags=ht.subtreeFlags&65011712,Rt!==null?g=La(Rt,g):(g=Ja(g,$,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,$=i.child.memoizedState,$===null?$=Ig(l):(ht=$.cachePool,ht!==null?(Rt=Kr._currentValue,ht=ht.parent!==Rt?{parent:Rt,pool:Rt}:ht):ht=V(),$={baseLanes:$.baseLanes|l,cachePool:ht}),g.memoizedState=$,g.childLanes=Rg(i,L,l),s.memoizedState=Cg,h):(eu(s),l=i.child,i=l.sibling,l=La(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(L=s.deletions,L===null?(s.deletions=[i],s.flags|=16):L.push(i)),s.child=l,s.memoizedState=null,l)}function Lg(i,s){return s=hp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function hp(i,s){return i=Ci(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function kg(i,s,l){return Xc(s,i.child,null,l),i=Lg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Uy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),qc(i.return,s,l)}function Pg(i,s,l,h,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function Fy(i,s,l){var h=s.pendingProps,g=h.revealOrder,_=h.tail;if(Yi(i,s,h.children,l),h=bi.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Uy(i,l,s);else if(i.tag===19)Uy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(G(bi,h),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&op(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Pg(s,!1,g,l,_);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&op(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Pg(s,!0,l,null,_);break;case"together":Pg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ml(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ou|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Ql(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=La(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=La(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Dg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Hc(i)))}function cS(i,s,l){switch(s.tag){case 3:Lt(s,s.stateNode.containerInfo),ko(s,Kr,i.memoizedState.cache),Ns();break;case 27:case 5:qt(s);break;case 4:Lt(s,s.stateNode.containerInfo);break;case 10:ko(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(eu(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Vy(i,s,l):(eu(s),i=ml(i,s,l),i!==null?i.sibling:null);eu(s);break;case 19:var g=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Ql(i,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return Fy(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(bi,bi.current),h)break;return null;case 22:case 23:return s.lanes=0,Py(i,s,l);case 24:ko(s,Kr,i.memoizedState.cache)}return ml(i,s,l)}function By(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ri=!0;else{if(!Dg(i,l)&&(s.flags&128)===0)return Ri=!1,cS(i,s,l);Ri=(i.flags&131072)!==0}else Ri=!1,On&&(s.flags&1048576)!==0&&Bd(s,Bc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")Wl(h)?(i=hc(h,i),s.tag=1,s=My(null,s,h,i,l)):(s.tag=0,s=Ng(null,s,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===Q){s.tag=11,s=Ry(null,s,h,i,l);break t}else if(g===W){s.tag=14,s=Ly(null,s,h,i,l);break t}}throw s=ut(h)||h,Error(r(306,s,""))}}return s;case 0:return Ng(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=hc(h,s.pendingProps),My(i,s,h,g,l);case 3:t:{if(Lt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;g=_.element,Ut(i,s),ue(s,h,null,l);var L=s.memoizedState;if(h=L.cache,ko(s,Kr,h),h!==_.cache&&zc(s,[Kr],l,!0),Ge(),h=L.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:L.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=jy(i,s,h,l);break t}else if(h!==g){g=Es(Error(r(424)),s),Kl(g),s=jy(i,s,h,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wr=ho(i.firstChild),Wr=s,On=!0,Lo=null,ka=!0,l=_y(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ns(),h===g){s=ml(i,s,l);break t}Yi(i,s,h,l)}s=s.child}return s;case 26:return cp(i,s),i===null?(l=Gv(s.type,null,s.pendingProps,null))?s.memoizedState=l:On||(l=s.type,i=s.pendingProps,h=xp(dt.current).createElement(l),h[zn]=s,h[kn]=i,Qi(h,l,i),Hn(h),s.stateNode=h):s.memoizedState=Gv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return qt(s),i===null&&On&&(h=s.stateNode=qv(s.type,s.pendingProps,dt.current),Wr=s,ka=!0,g=wr,hu(s.type)?(p1=g,wr=ho(h.firstChild)):wr=g),Yi(i,s,s.pendingProps.children,l),cp(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&On&&((g=h=wr)&&(h=VS(h,s.type,s.pendingProps,ka),h!==null?(s.stateNode=h,Wr=s,wr=ho(h.firstChild),ka=!1,g=!0):g=!1),g||cl(s)),qt(s),g=s.type,_=s.pendingProps,L=i!==null?i.memoizedProps:null,h=_.children,c1(g,_)?h=null:L!==null&&c1(g,L)&&(s.flags|=32),s.memoizedState!==null&&(g=Cs(i,s,Gn,null,null,l),Pf._currentValue=g),cp(i,s),Yi(i,s,h,l),s.child;case 6:return i===null&&On&&((i=l=wr)&&(l=US(l,s.pendingProps,ka),l!==null?(s.stateNode=l,Wr=s,wr=null,i=!0):i=!1),i||cl(s)),null;case 13:return Vy(i,s,l);case 4:return Lt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Xc(s,null,h,l):Yi(i,s,h,l),s.child;case 11:return Ry(i,s,s.type,s.pendingProps,l);case 7:return Yi(i,s,s.pendingProps,l),s.child;case 8:return Yi(i,s,s.pendingProps.children,l),s.child;case 12:return Yi(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,ko(s,s.type,h.value),Yi(i,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Oa(s),g=Yr(g),h=h(g),s.flags|=1,Yi(i,s,h,l),s.child;case 14:return Ly(i,s,s.type,s.pendingProps,l);case 15:return ky(i,s,s.type,s.pendingProps,l);case 19:return Fy(i,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},i===null?(l=hp(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=La(i.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Py(i,s,l);case 24:return Oa(s),h=Yr(Kr),i===null?(g=S(),g===null&&(g=cr,_=ef(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:h,cache:g},Ct(s),ko(s,Kr,g)):((i.lanes&l)!==0&&(Ut(i,s),ue(s,null,null,l),Ge()),g=i.memoizedState,_=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ko(s,Kr,h)):(h=_.cache,ko(s,Kr,h),h!==g.cache&&zc(s,[Kr],l,!0))),Yi(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function gl(i){i.flags|=4}function qy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qv(s)){if(s=Va.current,s!==null&&((Rn&4194048)===Rn?Do!==null:(Rn&62914560)!==Rn&&(Rn&536870912)===0||s!==Do))throw nt=X,H;i.flags|=8192}}function fp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?er():536870912,i.lanes|=s,eh|=s)}function vf(i,s){if(!On)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Dr(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function hS(i,s,l){var h=s.pendingProps;switch(tc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(s),null;case 1:return Dr(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Da(Kr),Pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Hi(s)?gl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zd())),Dr(s),null;case 26:return l=s.memoizedState,i===null?(gl(s),l!==null?(Dr(s),qy(s,l)):(Dr(s),s.flags&=-16777217)):l?l!==i.memoizedState?(gl(s),Dr(s),qy(s,l)):(Dr(s),s.flags&=-16777217):(i.memoizedProps!==h&&gl(s),Dr(s),s.flags&=-16777217),null;case 27:Qt(s),l=dt.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&gl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Dr(s),null}i=J.current,Hi(s)?qd(s):(i=qv(g,h,l),s.stateNode=i,gl(s))}return Dr(s),null;case 5:if(Qt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&gl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Dr(s),null}if(i=J.current,Hi(s))qd(s);else{switch(g=xp(dt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[zn]=s,i[kn]=h;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;t:switch(Qi(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&gl(s)}}return Dr(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&gl(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=dt.current,Hi(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,g=Wr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[zn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Ov(i.nodeValue,l)),i||cl(s)}else i=xp(i).createTextNode(h),i[zn]=s,s.stateNode=i}return Dr(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Hi(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[zn]=s}else Ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dr(s),g=!1}else g=zd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(pl(s),s):(pl(s),null)}if(pl(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),fp(s,s.updateQueue),Dr(s),null;case 4:return Pt(),i===null&&s1(s.stateNode.containerInfo),Dr(s),null;case 10:return Da(s.type),Dr(s),null;case 19:if(P(bi),g=s.memoizedState,g===null)return Dr(s),null;if(h=(s.flags&128)!==0,_=g.rendering,_===null)if(h)vf(g,!1);else{if(zr!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=op(i),_!==null){for(s.flags|=128,vf(g,!1),i=_.updateQueue,s.updateQueue=i,fp(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Xu(l,i),l=l.sibling;return G(bi,bi.current&1|2),s.child}i=i.sibling}g.tail!==null&&Ne()>mp&&(s.flags|=128,h=!0,vf(g,!1),s.lanes=4194304)}else{if(!h)if(i=op(_),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,fp(s,i),vf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!On)return Dr(s),null}else 2*Ne()-g.renderingStartTime>mp&&l!==536870912&&(s.flags|=128,h=!0,vf(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(i=g.last,i!==null?i.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ne(),s.sibling=null,i=bi.current,G(bi,h?i&1|2:i&1),s):(Dr(s),null);case 22:case 23:return pl(s),$e(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Dr(s),s.subtreeFlags&6&&(s.flags|=8192)):Dr(s),l=s.updateQueue,l!==null&&fp(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&P(v),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Da(Kr),Dr(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function fS(i,s){switch(tc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Da(Kr),Pt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qt(s),null;case 13:if(pl(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ns()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return P(bi),null;case 4:return Pt(),null;case 10:return Da(s.type),null;case 22:case 23:return pl(s),$e(),i!==null&&P(v),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Da(Kr),null;case 25:return null;default:return null}}function zy(i,s){switch(tc(s),s.tag){case 3:Da(Kr),Pt();break;case 26:case 27:case 5:Qt(s);break;case 4:Pt();break;case 13:pl(s);break;case 19:P(bi);break;case 10:Da(s.type);break;case 22:case 23:pl(s),$e(),i!==null&&P(v);break;case 24:Da(Kr)}}function _f(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var _=l.create,L=l.inst;h=_(),L.destroy=h}l=l.next}while(l!==g)}}catch($){sr(s,s.return,$)}}function ru(i,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&i)===i){var L=h.inst,$=L.destroy;if($!==void 0){L.destroy=void 0,g=s;var ht=l,Rt=$;try{Rt()}catch(Bt){sr(g,ht,Bt)}}}h=h.next}while(h!==_)}}catch(Bt){sr(s,s.return,Bt)}}function Hy(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{qr(s,l)}catch(h){sr(i,i.return,h)}}}function Gy(i,s,l){l.props=hc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){sr(i,s,h)}}function bf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){sr(i,s,g)}}function Oo(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){sr(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){sr(i,s,g)}else l.current=null}function $y(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){sr(i,i.return,g)}}function Og(i,s,l){try{var h=i.stateNode;PS(h,i.type,l,s),h[kn]=s}catch(g){sr(i,i.return,g)}}function Wy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&hu(i.type)||i.tag===4}function Mg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Wy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&hu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jg(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ep));else if(h!==4&&(h===27&&hu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(jg(i,s,l),i=i.sibling;i!==null;)jg(i,s,l),i=i.sibling}function dp(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&hu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(dp(i,s,l),i=i.sibling;i!==null;)dp(i,s,l),i=i.sibling}function Yy(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Qi(s,h,l),s[zn]=i,s[kn]=l}catch(_){sr(i,i.return,_)}}var yl=!1,Jr=!1,Vg=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Li=null;function dS(i,s){if(i=i.containerInfo,l1=Lp,i=Gl(i),qi(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var L=0,$=-1,ht=-1,Rt=0,Bt=0,$t=i,kt=null;e:for(;;){for(var Dt;$t!==l||g!==0&&$t.nodeType!==3||($=L+g),$t!==_||h!==0&&$t.nodeType!==3||(ht=L+h),$t.nodeType===3&&(L+=$t.nodeValue.length),(Dt=$t.firstChild)!==null;)kt=$t,$t=Dt;for(;;){if($t===i)break e;if(kt===l&&++Rt===g&&($=L),kt===_&&++Bt===h&&(ht=L),(Dt=$t.nextSibling)!==null)break;$t=kt,kt=$t.parentNode}$t=Dt}l=$===-1||ht===-1?null:{start:$,end:ht}}else l=null}l=l||{start:0,end:0}}else l=null;for(u1={focusedElem:i,selectionRange:l},Lp=!1,Li=s;Li!==null;)if(s=Li,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Li=i;else for(;Li!==null;){switch(s=Li,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var He=hc(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(He,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Me){sr(l,l.return,Me)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)f1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":f1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Li=i;break}Li=s.return}}function Qy(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:iu(i,l),h&4&&_f(5,l);break;case 1:if(iu(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(L){sr(l,l.return,L)}else{var g=hc(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(L){sr(l,l.return,L)}}h&64&&Hy(l),h&512&&bf(l,l.return);break;case 3:if(iu(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{qr(i,s)}catch(L){sr(l,l.return,L)}}break;case 27:s===null&&h&4&&Yy(l);case 26:case 5:iu(i,l),s===null&&h&4&&$y(l),h&512&&bf(l,l.return);break;case 12:iu(i,l);break;case 13:iu(i,l),h&4&&Jy(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=AS.bind(null,l),FS(i,l))));break;case 22:if(h=l.memoizedState!==null||yl,!h){s=s!==null&&s.memoizedState!==null||Jr,g=yl;var _=Jr;yl=h,(Jr=s)&&!_?su(i,l,(l.subtreeFlags&8772)!==0):iu(i,l),yl=g,Jr=_}break;case 30:break;default:iu(i,l)}}function Xy(i){var s=i.alternate;s!==null&&(i.alternate=null,Xy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&si(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xr=null,zs=!1;function vl(i,s,l){for(l=l.child;l!==null;)Zy(i,s,l),l=l.sibling}function Zy(i,s,l){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(ce,l)}catch{}switch(l.tag){case 26:Jr||Oo(l,s),vl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jr||Oo(l,s);var h=xr,g=zs;hu(l.type)&&(xr=l.stateNode,zs=!1),vl(i,s,l),If(l.stateNode),xr=h,zs=g;break;case 5:Jr||Oo(l,s);case 6:if(h=xr,g=zs,xr=null,vl(i,s,l),xr=h,zs=g,xr!==null)if(zs)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(l.stateNode)}catch(_){sr(l,s,_)}else try{xr.removeChild(l.stateNode)}catch(_){sr(l,s,_)}break;case 18:xr!==null&&(zs?(i=xr,Fv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),jf(i)):Fv(xr,l.stateNode));break;case 4:h=xr,g=zs,xr=l.stateNode.containerInfo,zs=!0,vl(i,s,l),xr=h,zs=g;break;case 0:case 11:case 14:case 15:Jr||ru(2,l,s),Jr||ru(4,l,s),vl(i,s,l);break;case 1:Jr||(Oo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Gy(l,s,h)),vl(i,s,l);break;case 21:vl(i,s,l);break;case 22:Jr=(h=Jr)||l.memoizedState!==null,vl(i,s,l),Jr=h;break;default:vl(i,s,l)}}function Jy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jf(i)}catch(l){sr(s,s.return,l)}}function pS(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Ky),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Ky),s;default:throw Error(r(435,i.tag))}}function Ug(i,s){var l=pS(i);s.forEach(function(h){var g=SS.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function ra(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],_=i,L=s,$=L;t:for(;$!==null;){switch($.tag){case 27:if(hu($.type)){xr=$.stateNode,zs=!1;break t}break;case 5:xr=$.stateNode,zs=!1;break t;case 3:case 4:xr=$.stateNode.containerInfo,zs=!0;break t}$=$.return}if(xr===null)throw Error(r(160));Zy(_,L,g),xr=null,zs=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)tv(s,i),s=s.sibling}var co=null;function tv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ra(s,i),ia(i),h&4&&(ru(3,i,i.return),_f(3,i),ru(5,i,i.return));break;case 1:ra(s,i),ia(i),h&512&&(Jr||l===null||Oo(l,l.return)),h&64&&yl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=co;if(ra(s,i),ia(i),h&512&&(Jr||l===null||Oo(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[es]||_[zn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Qi(_,h,l),_[zn]=i,Hn(_),h=_;break t;case"link":var L=Yv("link","href",g).get(h+(l.href||""));if(L){for(var $=0;$<L.length;$++)if(_=L[$],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice($,1);break e}}_=g.createElement(h),Qi(_,h,l),g.head.appendChild(_);break;case"meta":if(L=Yv("meta","content",g).get(h+(l.content||""))){for($=0;$<L.length;$++)if(_=L[$],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice($,1);break e}}_=g.createElement(h),Qi(_,h,l),g.head.appendChild(_);break;default:throw Error(r(468,h))}_[zn]=i,Hn(_),h=_}i.stateNode=h}else Kv(g,i.type,i.stateNode);else i.stateNode=Wv(g,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?Kv(g,i.type,i.stateNode):Wv(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Og(i,i.memoizedProps,l.memoizedProps)}break;case 27:ra(s,i),ia(i),h&512&&(Jr||l===null||Oo(l,l.return)),l!==null&&h&4&&Og(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ra(s,i),ia(i),h&512&&(Jr||l===null||Oo(l,l.return)),i.flags&32){g=i.stateNode;try{Oi(g,"")}catch(Dt){sr(i,i.return,Dt)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Og(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Vg=!0);break;case 6:if(ra(s,i),ia(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Dt){sr(i,i.return,Dt)}}break;case 3:if(Cp=null,g=co,co=Tp(s.containerInfo),ra(s,i),co=g,ia(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{jf(s.containerInfo)}catch(Dt){sr(i,i.return,Dt)}Vg&&(Vg=!1,ev(i));break;case 4:h=co,co=Tp(i.stateNode.containerInfo),ra(s,i),ia(i),co=h;break;case 12:ra(s,i),ia(i);break;case 13:ra(s,i),ia(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gg=Ne()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ug(i,h)));break;case 22:g=i.memoizedState!==null;var ht=l!==null&&l.memoizedState!==null,Rt=yl,Bt=Jr;if(yl=Rt||g,Jr=Bt||ht,ra(s,i),Jr=Bt,yl=Rt,ia(i),h&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ht||yl||Jr||fc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ht=l=s;try{if(_=ht.stateNode,g)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{$=ht.stateNode;var $t=ht.memoizedProps.style,kt=$t!=null&&$t.hasOwnProperty("display")?$t.display:null;$.style.display=kt==null||typeof kt=="boolean"?"":(""+kt).trim()}}catch(Dt){sr(ht,ht.return,Dt)}}}else if(s.tag===6){if(l===null){ht=s;try{ht.stateNode.nodeValue=g?"":ht.memoizedProps}catch(Dt){sr(ht,ht.return,Dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ug(i,l))));break;case 19:ra(s,i),ia(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ug(i,h)));break;case 30:break;case 21:break;default:ra(s,i),ia(i)}}function ia(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(Wy(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=Mg(i);dp(i,_,g);break;case 5:var L=l.stateNode;l.flags&32&&(Oi(L,""),l.flags&=-33);var $=Mg(i);dp(i,$,L);break;case 3:case 4:var ht=l.stateNode.containerInfo,Rt=Mg(i);jg(i,Rt,ht);break;default:throw Error(r(161))}}catch(Bt){sr(i,i.return,Bt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ev(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ev(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function iu(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Qy(i,s.alternate,s),s=s.sibling}function fc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ru(4,s,s.return),fc(s);break;case 1:Oo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Gy(s,s.return,l),fc(s);break;case 27:If(s.stateNode);case 26:case 5:Oo(s,s.return),fc(s);break;case 22:s.memoizedState===null&&fc(s);break;case 30:fc(s);break;default:fc(s)}i=i.sibling}}function su(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,_=s,L=_.flags;switch(_.tag){case 0:case 11:case 15:su(g,_,l),_f(4,_);break;case 1:if(su(g,_,l),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Rt){sr(h,h.return,Rt)}if(h=_,g=h.updateQueue,g!==null){var $=h.stateNode;try{var ht=g.shared.hiddenCallbacks;if(ht!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ht.length;g++)dn(ht[g],$)}catch(Rt){sr(h,h.return,Rt)}}l&&L&64&&Hy(_),bf(_,_.return);break;case 27:Yy(_);case 26:case 5:su(g,_,l),l&&h===null&&L&4&&$y(_),bf(_,_.return);break;case 12:su(g,_,l);break;case 13:su(g,_,l),l&&L&4&&Jy(g,_);break;case 22:_.memoizedState===null&&su(g,_,l),bf(_,_.return);break;case 30:break;default:su(g,_,l)}s=s.sibling}}function Fg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ec(l))}function Bg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ec(i))}function Mo(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nv(i,s,l,h),s=s.sibling}function nv(i,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Mo(i,s,l,h),g&2048&&_f(9,s);break;case 1:Mo(i,s,l,h);break;case 3:Mo(i,s,l,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ec(i)));break;case 12:if(g&2048){Mo(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,L=_.id,$=_.onPostCommit;typeof $=="function"&&$(L,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ht){sr(s,s.return,ht)}}else Mo(i,s,l,h);break;case 13:Mo(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,L=s.alternate,s.memoizedState!==null?_._visibility&2?Mo(i,s,l,h):wf(i,s):_._visibility&2?Mo(i,s,l,h):(_._visibility|=2,Zc(i,s,l,h,(s.subtreeFlags&10256)!==0)),g&2048&&Fg(L,s);break;case 24:Mo(i,s,l,h),g&2048&&Bg(s.alternate,s);break;default:Mo(i,s,l,h)}}function Zc(i,s,l,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,L=s,$=l,ht=h,Rt=L.flags;switch(L.tag){case 0:case 11:case 15:Zc(_,L,$,ht,g),_f(8,L);break;case 23:break;case 22:var Bt=L.stateNode;L.memoizedState!==null?Bt._visibility&2?Zc(_,L,$,ht,g):wf(_,L):(Bt._visibility|=2,Zc(_,L,$,ht,g)),g&&Rt&2048&&Fg(L.alternate,L);break;case 24:Zc(_,L,$,ht,g),g&&Rt&2048&&Bg(L.alternate,L);break;default:Zc(_,L,$,ht,g)}s=s.sibling}}function wf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,g=h.flags;switch(h.tag){case 22:wf(l,h),g&2048&&Fg(h.alternate,h);break;case 24:wf(l,h),g&2048&&Bg(h.alternate,h);break;default:wf(l,h)}s=s.sibling}}var Af=8192;function Jc(i){if(i.subtreeFlags&Af)for(i=i.child;i!==null;)rv(i),i=i.sibling}function rv(i){switch(i.tag){case 26:Jc(i),i.flags&Af&&i.memoizedState!==null&&JS(co,i.memoizedState,i.memoizedProps);break;case 5:Jc(i);break;case 3:case 4:var s=co;co=Tp(i.stateNode.containerInfo),Jc(i),co=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Af,Af=16777216,Jc(i),Af=s):Jc(i));break;default:Jc(i)}}function iv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Sf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Li=h,av(h,i)}iv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(i),i=i.sibling}function sv(i){switch(i.tag){case 0:case 11:case 15:Sf(i),i.flags&2048&&ru(9,i,i.return);break;case 3:Sf(i);break;case 12:Sf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,pp(i)):Sf(i);break;default:Sf(i)}}function pp(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Li=h,av(h,i)}iv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ru(8,s,s.return),pp(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,pp(s));break;default:pp(s)}i=i.sibling}}function av(i,s){for(;Li!==null;){var l=Li;switch(l.tag){case 0:case 11:case 15:ru(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ec(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Li=h;else t:for(l=i;Li!==null;){h=Li;var g=h.sibling,_=h.return;if(Xy(h),h===l){Li=null;break t}if(g!==null){g.return=_,Li=g;break t}Li=_}}}var mS={getCacheForType:function(i){var s=Yr(Kr),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},gS=typeof WeakMap=="function"?WeakMap:Map,$n=0,cr=null,yn=null,Rn=0,Wn=0,sa=null,au=!1,th=!1,qg=!1,_l=0,zr=0,ou=0,dc=0,zg=0,Ua=0,eh=0,Ef=null,Hs=null,Hg=!1,Gg=0,mp=1/0,gp=null,lu=null,Ki=0,uu=null,nh=null,rh=0,$g=0,Wg=null,ov=null,xf=0,Yg=null;function aa(){if(($n&2)!==0&&Rn!==0)return Rn&-Rn;if(at.T!==null){var i=hl;return i!==0?i:e1()}return di()}function lv(){Ua===0&&(Ua=(Rn&536870912)===0||On?Ve():536870912);var i=Va.current;return i!==null&&(i.flags|=32),Ua}function oa(i,s,l){(i===cr&&(Wn===2||Wn===9)||i.cancelPendingCommit!==null)&&(ih(i,0),cu(i,Rn,Ua,!1)),gn(i,l),(($n&2)===0||i!==cr)&&(i===cr&&(($n&2)===0&&(dc|=l),zr===4&&cu(i,Rn,Ua,!1)),jo(i))}function uv(i,s,l){if(($n&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Ae(i,s),g=h?_S(i,s):Xg(i,s,!0),_=h;do{if(g===0){th&&!h&&cu(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!yS(l)){g=Xg(i,s,!1),_=!1;continue}if(g===2){if(_=s,i.errorRecoveryDisabledLanes&_)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){s=L;t:{var $=i;g=Ef;var ht=$.current.memoizedState.isDehydrated;if(ht&&(ih($,L).flags|=256),L=Xg($,L,!1),L!==2){if(qg&&!ht){$.errorRecoveryDisabledLanes|=_,dc|=_,g=4;break t}_=Hs,Hs=g,_!==null&&(Hs===null?Hs=_:Hs.push.apply(Hs,_))}g=L}if(_=!1,g!==2)continue}}if(g===1){ih(i,0),cu(i,s,0,!0);break}t:{switch(h=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:cu(h,s,Ua,!au);break t;case 2:Hs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Gg+300-Ne(),10<g)){if(cu(h,s,Ua,!au),Nn(h,0,!0)!==0)break t;h.timeoutHandle=Vv(cv.bind(null,h,l,Hs,gp,Hg,s,Ua,dc,eh,au,_,2,-0,0),g);break t}cv(h,l,Hs,gp,Hg,s,Ua,dc,eh,au,_,0,-0,0)}}break}while(!0);jo(i)}function cv(i,s,l,h,g,_,L,$,ht,Rt,Bt,$t,kt,Dt){if(i.timeoutHandle=-1,$t=s.subtreeFlags,($t&8192||($t&16785408)===16785408)&&(kf={stylesheets:null,count:0,unsuspend:ZS},rv(s),$t=tE(),$t!==null)){i.cancelPendingCommit=$t(yv.bind(null,i,s,_,l,h,g,L,$,ht,Bt,1,kt,Dt)),cu(i,_,L,!Rt);return}yv(i,s,_,l,h,g,L,$,ht)}function yS(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!oi(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cu(i,s,l,h){s&=~zg,s&=~dc,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var _=31-se(g),L=1<<_;h[_]=-1,g&=~L}l!==0&&rn(i,l,s)}function yp(){return($n&6)===0?(Tf(0),!1):!0}function Kg(){if(yn!==null){if(Wn===0)var i=yn.return;else i=yn,io=ui=null,vi(i),Qc=null,gf=0,i=yn;for(;i!==null;)zy(i.alternate,i),i=i.return;yn=null}}function ih(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,OS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Kg(),cr=i,yn=l=La(i.current,null),Rn=s,Wn=0,sa=null,au=!1,th=Ae(i,s),qg=!1,eh=Ua=zg=dc=ou=zr=0,Hs=Ef=null,Hg=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-se(h),_=1<<g;s|=i[g],h&=~_}return _l=s,Ku(),l}function hv(i,s){de=null,at.H=ip,s===z||s===Y?(s=_t(),Wn=3):s===H?(s=_t(),Wn=4):Wn=s===Iy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sa=s,yn===null&&(zr=1,up(i,Es(s,i.current)))}function fv(){var i=at.H;return at.H=ip,i===null?ip:i}function dv(){var i=at.A;return at.A=mS,i}function Qg(){zr=4,au||(Rn&4194048)!==Rn&&Va.current!==null||(th=!0),(ou&134217727)===0&&(dc&134217727)===0||cr===null||cu(cr,Rn,Ua,!1)}function Xg(i,s,l){var h=$n;$n|=2;var g=fv(),_=dv();(cr!==i||Rn!==s)&&(gp=null,ih(i,s)),s=!1;var L=zr;t:do try{if(Wn!==0&&yn!==null){var $=yn,ht=sa;switch(Wn){case 8:Kg(),L=6;break t;case 3:case 2:case 9:case 6:Va.current===null&&(s=!0);var Rt=Wn;if(Wn=0,sa=null,sh(i,$,ht,Rt),l&&th){L=0;break t}break;default:Rt=Wn,Wn=0,sa=null,sh(i,$,ht,Rt)}}vS(),L=zr;break}catch(Bt){hv(i,Bt)}while(!0);return s&&i.shellSuspendCounter++,io=ui=null,$n=h,at.H=g,at.A=_,yn===null&&(cr=null,Rn=0,Ku()),L}function vS(){for(;yn!==null;)pv(yn)}function _S(i,s){var l=$n;$n|=2;var h=fv(),g=dv();cr!==i||Rn!==s?(gp=null,mp=Ne()+500,ih(i,s)):th=Ae(i,s);t:do try{if(Wn!==0&&yn!==null){s=yn;var _=sa;e:switch(Wn){case 1:Wn=0,sa=null,sh(i,s,_,1);break;case 2:case 9:if(it(_)){Wn=0,sa=null,mv(s);break}s=function(){Wn!==2&&Wn!==9||cr!==i||(Wn=7),jo(i)},_.then(s,s);break t;case 3:Wn=7;break t;case 4:Wn=5;break t;case 7:it(_)?(Wn=0,sa=null,mv(s)):(Wn=0,sa=null,sh(i,s,_,7));break;case 5:var L=null;switch(yn.tag){case 26:L=yn.memoizedState;case 5:case 27:var $=yn;if(!L||Qv(L)){Wn=0,sa=null;var ht=$.sibling;if(ht!==null)yn=ht;else{var Rt=$.return;Rt!==null?(yn=Rt,vp(Rt)):yn=null}break e}}Wn=0,sa=null,sh(i,s,_,5);break;case 6:Wn=0,sa=null,sh(i,s,_,6);break;case 8:Kg(),zr=6;break t;default:throw Error(r(462))}}bS();break}catch(Bt){hv(i,Bt)}while(!0);return io=ui=null,at.H=h,at.A=g,$n=l,yn!==null?0:(cr=null,Rn=0,Ku(),zr)}function bS(){for(;yn!==null&&!lt();)pv(yn)}function pv(i){var s=By(i.alternate,i,_l);i.memoizedProps=i.pendingProps,s===null?vp(i):yn=s}function mv(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Oy(l,s,s.pendingProps,s.type,void 0,Rn);break;case 11:s=Oy(l,s,s.pendingProps,s.type.render,s.ref,Rn);break;case 5:vi(s);default:zy(l,s),s=yn=Xu(s,_l),s=By(l,s,_l)}i.memoizedProps=i.pendingProps,s===null?vp(i):yn=s}function sh(i,s,l,h){io=ui=null,vi(s),Qc=null,gf=0;var g=s.return;try{if(uS(i,g,s,l,Rn)){zr=1,up(i,Es(l,i.current)),yn=null;return}}catch(_){if(g!==null)throw yn=g,_;zr=1,up(i,Es(l,i.current)),yn=null;return}s.flags&32768?(On||h===1?i=!0:th||(Rn&536870912)!==0?i=!1:(au=i=!0,(h===2||h===9||h===3||h===6)&&(h=Va.current,h!==null&&h.tag===13&&(h.flags|=16384))),gv(s,i)):vp(s)}function vp(i){var s=i;do{if((s.flags&32768)!==0){gv(s,au);return}i=s.return;var l=hS(s.alternate,s,_l);if(l!==null){yn=l;return}if(s=s.sibling,s!==null){yn=s;return}yn=s=i}while(s!==null);zr===0&&(zr=5)}function gv(i,s){do{var l=fS(i.alternate,i);if(l!==null){l.flags&=32767,yn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){yn=i;return}yn=i=l}while(i!==null);zr=6,yn=null}function yv(i,s,l,h,g,_,L,$,ht){i.cancelPendingCommit=null;do _p();while(Ki!==0);if(($n&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=jc,Pe(i,l,_,L,$,ht),i===cr&&(yn=cr=null,Rn=0),nh=s,uu=i,rh=l,$g=_,Wg=g,ov=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ES(ee,function(){return Av(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=at.T,at.T=null,g=mt.p,mt.p=2,L=$n,$n|=4;try{dS(i,s,l)}finally{$n=L,mt.p=g,at.T=h}}Ki=1,vv(),_v(),bv()}}function vv(){if(Ki===1){Ki=0;var i=uu,s=nh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=at.T,at.T=null;var h=mt.p;mt.p=2;var g=$n;$n|=4;try{tv(s,i);var _=u1,L=Gl(i.containerInfo),$=_.focusedElem,ht=_.selectionRange;if(L!==$&&$&&$.ownerDocument&&Ca($.ownerDocument.documentElement,$)){if(ht!==null&&qi($)){var Rt=ht.start,Bt=ht.end;if(Bt===void 0&&(Bt=Rt),"selectionStart"in $)$.selectionStart=Rt,$.selectionEnd=Math.min(Bt,$.value.length);else{var $t=$.ownerDocument||document,kt=$t&&$t.defaultView||window;if(kt.getSelection){var Dt=kt.getSelection(),He=$.textContent.length,Me=Math.min(ht.start,He),tr=ht.end===void 0?Me:Math.min(ht.end,He);!Dt.extend&&Me>tr&&(L=tr,tr=Me,Me=L);var At=Co($,Me),vt=Co($,tr);if(At&&vt&&(Dt.rangeCount!==1||Dt.anchorNode!==At.node||Dt.anchorOffset!==At.offset||Dt.focusNode!==vt.node||Dt.focusOffset!==vt.offset)){var Nt=$t.createRange();Nt.setStart(At.node,At.offset),Dt.removeAllRanges(),Me>tr?(Dt.addRange(Nt),Dt.extend(vt.node,vt.offset)):(Nt.setEnd(vt.node,vt.offset),Dt.addRange(Nt))}}}}for($t=[],Dt=$;Dt=Dt.parentNode;)Dt.nodeType===1&&$t.push({element:Dt,left:Dt.scrollLeft,top:Dt.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<$t.length;$++){var Ht=$t[$];Ht.element.scrollLeft=Ht.left,Ht.element.scrollTop=Ht.top}}Lp=!!l1,u1=l1=null}finally{$n=g,mt.p=h,at.T=l}}i.current=s,Ki=2}}function _v(){if(Ki===2){Ki=0;var i=uu,s=nh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=at.T,at.T=null;var h=mt.p;mt.p=2;var g=$n;$n|=4;try{Qy(i,s.alternate,s)}finally{$n=g,mt.p=h,at.T=l}}Ki=3}}function bv(){if(Ki===4||Ki===3){Ki=0,en();var i=uu,s=nh,l=rh,h=ov;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ki=5:(Ki=0,nh=uu=null,wv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(lu=null),ts(l),s=s.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(ce,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=at.T,g=mt.p,mt.p=2,at.T=null;try{for(var _=i.onRecoverableError,L=0;L<h.length;L++){var $=h[L];_($.value,{componentStack:$.stack})}}finally{at.T=s,mt.p=g}}(rh&3)!==0&&_p(),jo(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Yg?xf++:(xf=0,Yg=i):xf=0,Tf(0)}}function wv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ec(s)))}function _p(i){return vv(),_v(),bv(),Av()}function Av(){if(Ki!==5)return!1;var i=uu,s=$g;$g=0;var l=ts(rh),h=at.T,g=mt.p;try{mt.p=32>l?32:l,at.T=null,l=Wg,Wg=null;var _=uu,L=rh;if(Ki=0,nh=uu=null,rh=0,($n&6)!==0)throw Error(r(331));var $=$n;if($n|=4,sv(_.current),nv(_,_.current,L,l),$n=$,Tf(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(ce,_)}catch{}return!0}finally{mt.p=g,at.T=h,wv(i,s)}}function Sv(i,s,l){s=Es(l,s),s=Tg(i.stateNode,s,2),i=Kt(i,s,2),i!==null&&(gn(i,2),jo(i))}function sr(i,s,l){if(i.tag===3)Sv(i,i,l);else for(;s!==null;){if(s.tag===3){Sv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(lu===null||!lu.has(h))){i=Es(l,i),l=Ny(2),h=Kt(s,l,2),h!==null&&(Cy(l,h,s,i),gn(h,2),jo(h));break}}s=s.return}}function Zg(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new gS;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(qg=!0,g.add(l),i=wS.bind(null,i,s,l),s.then(i,i))}function wS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,cr===i&&(Rn&l)===l&&(zr===4||zr===3&&(Rn&62914560)===Rn&&300>Ne()-Gg?($n&2)===0&&ih(i,0):zg|=l,eh===Rn&&(eh=0)),jo(i)}function Ev(i,s){s===0&&(s=er()),i=sl(i,s),i!==null&&(gn(i,s),jo(i))}function AS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Ev(i,l)}function SS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Ev(i,l)}function ES(i,s){return re(i,s)}var bp=null,ah=null,Jg=!1,wp=!1,t1=!1,pc=0;function jo(i){i!==ah&&i.next===null&&(ah===null?bp=ah=i:ah=ah.next=i),wp=!0,Jg||(Jg=!0,TS())}function Tf(i,s){if(!t1&&wp){t1=!0;do for(var l=!1,h=bp;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var L=h.suspendedLanes,$=h.pingedLanes;_=(1<<31-se(42|i)+1)-1,_&=g&~(L&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Cv(h,_))}else _=Rn,_=Nn(h,h===cr?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Ae(h,_)||(l=!0,Cv(h,_));h=h.next}while(l);t1=!1}}function xS(){xv()}function xv(){wp=Jg=!1;var i=0;pc!==0&&(DS()&&(i=pc),pc=0);for(var s=Ne(),l=null,h=bp;h!==null;){var g=h.next,_=Tv(h,s);_===0?(h.next=null,l===null?bp=g:l.next=g,g===null&&(ah=l)):(l=h,(i!==0||(_&3)!==0)&&(wp=!0)),h=g}Tf(i)}function Tv(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var L=31-se(_),$=1<<L,ht=g[L];ht===-1?(($&l)===0||($&h)!==0)&&(g[L]=nn($,s)):ht<=s&&(i.expiredLanes|=$),_&=~$}if(s=cr,l=Rn,l=Nn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(Wn===2||Wn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Mt(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ae(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&Mt(h),ts(l)){case 2:case 8:l=ye;break;case 32:l=ee;break;case 268435456:l=_e;break;default:l=ee}return h=Nv.bind(null,i),l=re(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&Mt(h),i.callbackPriority=2,i.callbackNode=null,2}function Nv(i,s){if(Ki!==0&&Ki!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(_p()&&i.callbackNode!==l)return null;var h=Rn;return h=Nn(i,i===cr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(uv(i,h,s),Tv(i,Ne()),i.callbackNode!=null&&i.callbackNode===l?Nv.bind(null,i):null)}function Cv(i,s){if(_p())return null;uv(i,s,!0)}function TS(){MS(function(){($n&6)!==0?re(Zt,xS):xv()})}function e1(){return pc===0&&(pc=Ve()),pc}function Iv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ds(""+i)}function Rv(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function NS(i,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var _=Iv((g[kn]||null).action),L=h.submitter;L&&(s=(s=L[kn]||null)?Iv(s.formAction):L.getAttribute("formAction"),s!==null&&(_=s,L=null));var $=new ba("action","action",null,h,g);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(pc!==0){var ht=L?Rv(g,L):new FormData(g);ja(l,{pending:!0,data:ht,method:g.method,action:_},null,ht)}}else typeof _=="function"&&($.preventDefault(),ht=L?Rv(g,L):new FormData(g),ja(l,{pending:!0,data:ht,method:g.method,action:_},_,ht))},currentTarget:g}]})}}for(var n1=0;n1<Mc.length;n1++){var r1=Mc[n1],CS=r1.toLowerCase(),IS=r1[0].toUpperCase()+r1.slice(1);Fs(CS,"on"+IS)}Fs(Kh,"onAnimationEnd"),Fs(Qh,"onAnimationIteration"),Fs(Xh,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(Vd,"onTransitionRun"),Fs(Ud,"onTransitionStart"),Fs(Fd,"onTransitionCancel"),Fs(Zh,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function Lv(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;t:{var _=void 0;if(s)for(var L=h.length-1;0<=L;L--){var $=h[L],ht=$.instance,Rt=$.currentTarget;if($=$.listener,ht!==_&&g.isPropagationStopped())break t;_=$,g.currentTarget=Rt;try{_(g)}catch(Bt){lp(Bt)}g.currentTarget=null,_=ht}else for(L=0;L<h.length;L++){if($=h[L],ht=$.instance,Rt=$.currentTarget,$=$.listener,ht!==_&&g.isPropagationStopped())break t;_=$,g.currentTarget=Rt;try{_(g)}catch(Bt){lp(Bt)}g.currentTarget=null,_=ht}}}}function vn(i,s){var l=s[Kn];l===void 0&&(l=s[Kn]=new Set);var h=i+"__bubble";l.has(h)||(kv(s,i,2,!1),l.add(h))}function i1(i,s,l){var h=0;s&&(h|=4),kv(l,i,h,s)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function s1(i){if(!i[Ap]){i[Ap]=!0,ns.forEach(function(l){l!=="selectionchange"&&(RS.has(l)||i1(l,!1,i),i1(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ap]||(s[Ap]=!0,i1("selectionchange",!1,s))}}function kv(i,s,l,h){switch(n5(s)){case 2:var g=rE;break;case 8:g=iE;break;default:g=_1}l=g.bind(null,s,l,i),g=void 0,!Ur||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function a1(i,s,l,h,g){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var $=h.stateNode.containerInfo;if($===g)break;if(L===4)for(L=h.return;L!==null;){var ht=L.tag;if((ht===3||ht===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;$!==null;){if(L=ai($),L===null)return;if(ht=L.tag,ht===5||ht===6||ht===26||ht===27){h=_=L;continue t}$=$.parentNode}}h=h.return}Bl(function(){var Rt=_,Bt=as(l),$t=[];t:{var kt=Jh.get(i);if(kt!==void 0){var Dt=ba,He=i;switch(i){case"keypress":if(xi(l)===0)break t;case"keydown":case"keyup":Dt=nr;break;case"focusin":He="focus",Dt=w;break;case"focusout":He="blur",Dt=w;break;case"beforeblur":case"afterblur":Dt=w;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Ui;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=Br;break;case Kh:case Qh:case Xh:Dt=rt;break;case Zh:Dt=ta;break;case"scroll":case"scrollend":Dt=wa;break;case"wheel":Dt=Xa;break;case"copy":case"cut":case"paste":Dt=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=pr;break;case"toggle":case"beforetoggle":Dt=us}var Me=(s&4)!==0,tr=!Me&&(i==="scroll"||i==="scrollend"),At=Me?kt!==null?kt+"Capture":null:kt;Me=[];for(var vt=Rt,Nt;vt!==null;){var Ht=vt;if(Nt=Ht.stateNode,Ht=Ht.tag,Ht!==5&&Ht!==26&&Ht!==27||Nt===null||At===null||(Ht=Ka(vt,At),Ht!=null&&Me.push(Cf(vt,Ht,Nt))),tr)break;vt=vt.return}0<Me.length&&(kt=new Dt(kt,He,null,l,Bt),$t.push({event:kt,listeners:Me}))}}if((s&7)===0){t:{if(kt=i==="mouseover"||i==="pointerover",Dt=i==="mouseout"||i==="pointerout",kt&&l!==Ei&&(He=l.relatedTarget||l.fromElement)&&(ai(He)||He[dr]))break t;if((Dt||kt)&&(kt=Bt.window===Bt?Bt:(kt=Bt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Dt?(He=l.relatedTarget||l.toElement,Dt=Rt,He=He?ai(He):null,He!==null&&(tr=o(He),Me=He.tag,He!==tr||Me!==5&&Me!==27&&Me!==6)&&(He=null)):(Dt=null,He=Rt),Dt!==He)){if(Me=Ti,Ht="onMouseLeave",At="onMouseEnter",vt="mouse",(i==="pointerout"||i==="pointerover")&&(Me=pr,Ht="onPointerLeave",At="onPointerEnter",vt="pointer"),tr=Dt==null?kt:Vr(Dt),Nt=He==null?kt:Vr(He),kt=new Me(Ht,vt+"leave",Dt,l,Bt),kt.target=tr,kt.relatedTarget=Nt,Ht=null,ai(Bt)===Rt&&(Me=new Me(At,vt+"enter",He,l,Bt),Me.target=Nt,Me.relatedTarget=tr,Ht=Me),tr=Ht,Dt&&He)e:{for(Me=Dt,At=He,vt=0,Nt=Me;Nt;Nt=oh(Nt))vt++;for(Nt=0,Ht=At;Ht;Ht=oh(Ht))Nt++;for(;0<vt-Nt;)Me=oh(Me),vt--;for(;0<Nt-vt;)At=oh(At),Nt--;for(;vt--;){if(Me===At||At!==null&&Me===At.alternate)break e;Me=oh(Me),At=oh(At)}Me=null}else Me=null;Dt!==null&&Pv($t,kt,Dt,Me,!1),He!==null&&tr!==null&&Pv($t,tr,He,Me,!0)}}t:{if(kt=Rt?Vr(Rt):window,Dt=kt.nodeName&&kt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&kt.type==="file")var me=Bi;else if(Mn(kt))if(To)me=Hl;else{me=xa;var pn=Wh}else Dt=kt.nodeName,!Dt||Dt.toLowerCase()!=="input"||kt.type!=="checkbox"&&kt.type!=="radio"?Rt&&el(Rt.elementType)&&(me=Bi):me=Ta;if(me&&(me=me(i,Rt))){Ss($t,me,l,Bt);break t}pn&&pn(i,kt,Rt),i==="focusout"&&Rt&&kt.type==="number"&&Rt.memoizedProps.value!=null&&ga(kt,"number",kt.value)}switch(pn=Rt?Vr(Rt):window,i){case"focusin":(Mn(pn)||pn.contentEditable==="true")&&(Dn=pn,Fn=Rt,rr=null);break;case"focusout":rr=Fn=Dn=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,Ra($t,l,Bt);break;case"selectionchange":if(Ia)break;case"keydown":case"keyup":Ra($t,l,Bt)}var Ee;if(Fi)t:{switch(i){case"compositionstart":var je="onCompositionStart";break t;case"compositionend":je="onCompositionEnd";break t;case"compositionupdate":je="onCompositionUpdate";break t}je=void 0}else un?Ot(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(C&&l.locale!=="ko"&&(un||je!=="onCompositionStart"?je==="onCompositionEnd"&&un&&(Ee=Qa()):(Ms=Bt,va="value"in Ms?Ms.value:Ms.textContent,un=!0)),pn=Sp(Rt,je),0<pn.length&&(je=new Wt(je,i,null,l,Bt),$t.push({event:je,listeners:pn}),Ee?je.data=Ee:(Ee=Xt(l),Ee!==null&&(je.data=Ee)))),(Ee=E?ur(i,l):cn(i,l))&&(je=Sp(Rt,"onBeforeInput"),0<je.length&&(pn=new Wt("onBeforeInput","beforeinput",null,l,Bt),$t.push({event:pn,listeners:je}),pn.data=Ee)),NS($t,i,Rt,l,Bt)}Lv($t,s)})}function Cf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Sp(i,s){for(var l=s+"Capture",h=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Ka(i,l),g!=null&&h.unshift(Cf(i,g,_)),g=Ka(i,s),g!=null&&h.push(Cf(i,g,_))),i.tag===3)return h;i=i.return}return[]}function oh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Pv(i,s,l,h,g){for(var _=s._reactName,L=[];l!==null&&l!==h;){var $=l,ht=$.alternate,Rt=$.stateNode;if($=$.tag,ht!==null&&ht===h)break;$!==5&&$!==26&&$!==27||Rt===null||(ht=Rt,g?(Rt=Ka(l,_),Rt!=null&&L.unshift(Cf(l,Rt,ht))):g||(Rt=Ka(l,_),Rt!=null&&L.push(Cf(l,Rt,ht)))),l=l.return}L.length!==0&&i.push({event:s,listeners:L})}var LS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Dv(i){return(typeof i=="string"?i:""+i).replace(LS,`
`).replace(kS,"")}function Ov(i,s){return s=Dv(s),Dv(i)===s}function Ep(){}function Jn(i,s,l,h,g,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Oi(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Oi(i,""+h);break;case"className":Nr(i,"class",h);break;case"tabIndex":Nr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(i,l,h);break;case"style":tl(i,h,_);break;case"data":if(s!=="object"){Nr(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ds(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Jn(i,s,"name",g.name,g,null),Jn(i,s,"formEncType",g.formEncType,g,null),Jn(i,s,"formMethod",g.formMethod,g,null),Jn(i,s,"formTarget",g.formTarget,g,null)):(Jn(i,s,"encType",g.encType,g,null),Jn(i,s,"method",g.method,g,null),Jn(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ds(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Ep);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ds(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":vn("beforetoggle",i),vn("toggle",i),Qs(i,"popover",h);break;case"xlinkActuate":Cr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Cr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Cr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Cr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Cr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Cr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Qs(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wu.get(l)||l,Qs(i,l,h))}}function o1(i,s,l,h,g,_){switch(l){case"style":tl(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Oi(i,h):(typeof h=="number"||typeof h=="bigint")&&Oi(i,""+h);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ep);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=i[kn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,g);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Qs(i,l,h)}}}function Qi(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",i),vn("load",i);var h=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var L=l[_];if(L!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jn(i,s,_,L,l,null)}}g&&Jn(i,s,"srcSet",l.srcSet,l,null),h&&Jn(i,s,"src",l.src,l,null);return;case"input":vn("invalid",i);var $=_=L=g=null,ht=null,Rt=null;for(h in l)if(l.hasOwnProperty(h)){var Bt=l[h];if(Bt!=null)switch(h){case"name":g=Bt;break;case"type":L=Bt;break;case"checked":ht=Bt;break;case"defaultChecked":Rt=Bt;break;case"value":_=Bt;break;case"defaultValue":$=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(r(137,s));break;default:Jn(i,s,h,Bt,l,null)}}Ya(i,_,$,ht,Rt,L,g,!1),is(i);return;case"select":vn("invalid",i),h=L=_=null;for(g in l)if(l.hasOwnProperty(g)&&($=l[g],$!=null))switch(g){case"value":_=$;break;case"defaultValue":L=$;break;case"multiple":h=$;default:Jn(i,s,g,$,l,null)}s=_,l=L,i.multiple=!!h,s!=null?Zs(i,!!h,s,!1):l!=null&&Zs(i,!!h,l,!0);return;case"textarea":vn("invalid",i),_=g=h=null;for(L in l)if(l.hasOwnProperty(L)&&($=l[L],$!=null))switch(L){case"value":h=$;break;case"defaultValue":g=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Jn(i,s,L,$,l,null)}ya(i,h,g,_),is(i);return;case"option":for(ht in l)if(l.hasOwnProperty(ht)&&(h=l[ht],h!=null))switch(ht){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Jn(i,s,ht,h,l,null)}return;case"dialog":vn("beforetoggle",i),vn("toggle",i),vn("cancel",i),vn("close",i);break;case"iframe":case"object":vn("load",i);break;case"video":case"audio":for(h=0;h<Nf.length;h++)vn(Nf[h],i);break;case"image":vn("error",i),vn("load",i);break;case"details":vn("toggle",i);break;case"embed":case"source":case"link":vn("error",i),vn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in l)if(l.hasOwnProperty(Rt)&&(h=l[Rt],h!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jn(i,s,Rt,h,l,null)}return;default:if(el(s)){for(Bt in l)l.hasOwnProperty(Bt)&&(h=l[Bt],h!==void 0&&o1(i,s,Bt,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&Jn(i,s,$,h,l,null))}function PS(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,L=null,$=null,ht=null,Rt=null,Bt=null;for(Dt in l){var $t=l[Dt];if(l.hasOwnProperty(Dt)&&$t!=null)switch(Dt){case"checked":break;case"value":break;case"defaultValue":ht=$t;default:h.hasOwnProperty(Dt)||Jn(i,s,Dt,null,h,$t)}}for(var kt in h){var Dt=h[kt];if($t=l[kt],h.hasOwnProperty(kt)&&(Dt!=null||$t!=null))switch(kt){case"type":_=Dt;break;case"name":g=Dt;break;case"checked":Rt=Dt;break;case"defaultChecked":Bt=Dt;break;case"value":L=Dt;break;case"defaultValue":$=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(r(137,s));break;default:Dt!==$t&&Jn(i,s,kt,Dt,h,$t)}}mi(i,L,$,ht,Rt,Bt,_,g);return;case"select":Dt=L=$=kt=null;for(_ in l)if(ht=l[_],l.hasOwnProperty(_)&&ht!=null)switch(_){case"value":break;case"multiple":Dt=ht;default:h.hasOwnProperty(_)||Jn(i,s,_,null,h,ht)}for(g in h)if(_=h[g],ht=l[g],h.hasOwnProperty(g)&&(_!=null||ht!=null))switch(g){case"value":kt=_;break;case"defaultValue":$=_;break;case"multiple":L=_;default:_!==ht&&Jn(i,s,g,_,h,ht)}s=$,l=L,h=Dt,kt!=null?Zs(i,!!l,kt,!1):!!h!=!!l&&(s!=null?Zs(i,!!l,s,!0):Zs(i,!!l,l?[]:"",!1));return;case"textarea":Dt=kt=null;for($ in l)if(g=l[$],l.hasOwnProperty($)&&g!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Jn(i,s,$,null,h,g)}for(L in h)if(g=h[L],_=l[L],h.hasOwnProperty(L)&&(g!=null||_!=null))switch(L){case"value":kt=g;break;case"defaultValue":Dt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&Jn(i,s,L,g,h,_)}on(i,kt,Dt);return;case"option":for(var He in l)if(kt=l[He],l.hasOwnProperty(He)&&kt!=null&&!h.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:Jn(i,s,He,null,h,kt)}for(ht in h)if(kt=h[ht],Dt=l[ht],h.hasOwnProperty(ht)&&kt!==Dt&&(kt!=null||Dt!=null))switch(ht){case"selected":i.selected=kt&&typeof kt!="function"&&typeof kt!="symbol";break;default:Jn(i,s,ht,kt,h,Dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)kt=l[Me],l.hasOwnProperty(Me)&&kt!=null&&!h.hasOwnProperty(Me)&&Jn(i,s,Me,null,h,kt);for(Rt in h)if(kt=h[Rt],Dt=l[Rt],h.hasOwnProperty(Rt)&&kt!==Dt&&(kt!=null||Dt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(r(137,s));break;default:Jn(i,s,Rt,kt,h,Dt)}return;default:if(el(s)){for(var tr in l)kt=l[tr],l.hasOwnProperty(tr)&&kt!==void 0&&!h.hasOwnProperty(tr)&&o1(i,s,tr,void 0,h,kt);for(Bt in h)kt=h[Bt],Dt=l[Bt],!h.hasOwnProperty(Bt)||kt===Dt||kt===void 0&&Dt===void 0||o1(i,s,Bt,kt,h,Dt);return}}for(var At in l)kt=l[At],l.hasOwnProperty(At)&&kt!=null&&!h.hasOwnProperty(At)&&Jn(i,s,At,null,h,kt);for($t in h)kt=h[$t],Dt=l[$t],!h.hasOwnProperty($t)||kt===Dt||kt==null&&Dt==null||Jn(i,s,$t,kt,h,Dt)}var l1=null,u1=null;function xp(i){return i.nodeType===9?i:i.ownerDocument}function Mv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function c1(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var h1=null;function DS(){var i=window.event;return i&&i.type==="popstate"?i===h1?!1:(h1=i,!0):(h1=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(i){return Uv.resolve(null).then(i).catch(jS)}:Vv;function jS(i){setTimeout(function(){throw i})}function hu(i){return i==="head"}function Fv(i,s){var l=s,h=0,g=0;do{var _=l.nextSibling;if(i.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var L=i.ownerDocument;if(l&1&&If(L.documentElement),l&2&&If(L.body),l&4)for(l=L.head,If(l),L=l.firstChild;L;){var $=L.nextSibling,ht=L.nodeName;L[es]||ht==="SCRIPT"||ht==="STYLE"||ht==="LINK"&&L.rel.toLowerCase()==="stylesheet"||l.removeChild(L),L=$}}if(g===0){i.removeChild(_),jf(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);jf(s)}function f1(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":f1(l),si(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function VS(i,s,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[es])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=ho(i.nextSibling),i===null)break}return null}function US(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ho(i.nextSibling),i===null))return null;return i}function d1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function FS(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ho(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var p1=null;function Bv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function qv(i,s,l){switch(s=xp(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function If(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);si(i)}var Fa=new Map,zv=new Set;function Tp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bl=mt.d;mt.d={f:BS,r:qS,D:zS,C:HS,L:GS,m:$S,X:YS,S:WS,M:KS};function BS(){var i=bl.f(),s=yp();return i||s}function qS(i){var s=jr(i);s!==null&&s.tag===5&&s.type==="form"?uc(s):bl.r(i)}var lh=typeof document>"u"?null:document;function Hv(i,s,l){var h=lh;if(h&&typeof s=="string"&&s){var g=tn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),zv.has(g)||(zv.add(g),i={rel:i,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Qi(s,"link",i),Hn(s),h.head.appendChild(s)))}}function zS(i){bl.D(i),Hv("dns-prefetch",i,null)}function HS(i,s){bl.C(i,s),Hv("preconnect",i,s)}function GS(i,s,l){bl.L(i,s,l);var h=lh;if(h&&i&&s){var g='link[rel="preload"][as="'+tn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+tn(l.imageSizes)+'"]')):g+='[href="'+tn(i)+'"]';var _=g;switch(s){case"style":_=uh(i);break;case"script":_=ch(i)}Fa.has(_)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Fa.set(_,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(Rf(_))||s==="script"&&h.querySelector(Lf(_))||(s=h.createElement("link"),Qi(s,"link",i),Hn(s),h.head.appendChild(s)))}}function $S(i,s){bl.m(i,s);var l=lh;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+tn(h)+'"][href="'+tn(i)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ch(i)}if(!Fa.has(_)&&(i=y({rel:"modulepreload",href:i},s),Fa.set(_,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lf(_)))return}h=l.createElement("link"),Qi(h,"link",i),Hn(h),l.head.appendChild(h)}}}function WS(i,s,l){bl.S(i,s,l);var h=lh;if(h&&i){var g=Qn(h).hoistableStyles,_=uh(i);s=s||"default";var L=g.get(_);if(!L){var $={loading:0,preload:null};if(L=h.querySelector(Rf(_)))$.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Fa.get(_))&&m1(i,l);var ht=L=h.createElement("link");Hn(ht),Qi(ht,"link",i),ht._p=new Promise(function(Rt,Bt){ht.onload=Rt,ht.onerror=Bt}),ht.addEventListener("load",function(){$.loading|=1}),ht.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Np(L,s,h)}L={type:"stylesheet",instance:L,count:1,state:$},g.set(_,L)}}}function YS(i,s){bl.X(i,s);var l=lh;if(l&&i){var h=Qn(l).hoistableScripts,g=ch(i),_=h.get(g);_||(_=l.querySelector(Lf(g)),_||(i=y({src:i,async:!0},s),(s=Fa.get(g))&&g1(i,s),_=l.createElement("script"),Hn(_),Qi(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function KS(i,s){bl.M(i,s);var l=lh;if(l&&i){var h=Qn(l).hoistableScripts,g=ch(i),_=h.get(g);_||(_=l.querySelector(Lf(g)),_||(i=y({src:i,async:!0,type:"module"},s),(s=Fa.get(g))&&g1(i,s),_=l.createElement("script"),Hn(_),Qi(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function Gv(i,s,l,h){var g=(g=dt.current)?Tp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=uh(l.href),l=Qn(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=uh(l.href);var _=Qn(g).hoistableStyles,L=_.get(i);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,L),(_=g.querySelector(Rf(i)))&&!_._p&&(L.instance=_,L.state.loading=5),Fa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fa.set(i,l),_||QS(g,i,l,L.state))),s&&h===null)throw Error(r(528,""));return L}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ch(l),l=Qn(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uh(i){return'href="'+tn(i)+'"'}function Rf(i){return'link[rel="stylesheet"]['+i+"]"}function $v(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function QS(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Qi(s,"link",l),Hn(s),i.head.appendChild(s))}function ch(i){return'[src="'+tn(i)+'"]'}function Lf(i){return"script[async]"+i}function Wv(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+tn(l.href)+'"]');if(h)return s.instance=h,Hn(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Hn(h),Qi(h,"style",g),Np(h,l.precedence,i),s.instance=h;case"stylesheet":g=uh(l.href);var _=i.querySelector(Rf(g));if(_)return s.state.loading|=4,s.instance=_,Hn(_),_;h=$v(l),(g=Fa.get(g))&&m1(h,g),_=(i.ownerDocument||i).createElement("link"),Hn(_);var L=_;return L._p=new Promise(function($,ht){L.onload=$,L.onerror=ht}),Qi(_,"link",h),s.state.loading|=4,Np(_,l.precedence,i),s.instance=_;case"script":return _=ch(l.src),(g=i.querySelector(Lf(_)))?(s.instance=g,Hn(g),g):(h=l,(g=Fa.get(_))&&(h=y({},l),g1(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Hn(g),Qi(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Np(h,l.precedence,i));return s.instance}function Np(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,L=0;L<h.length;L++){var $=h[L];if($.dataset.precedence===s)_=$;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function m1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function g1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Cp=null;function Yv(i,s,l){if(Cp===null){var h=new Map,g=Cp=new Map;g.set(l,h)}else g=Cp,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[es]||_[zn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(s)||"";L=i+L;var $=h.get(L);$?$.push(_):h.set(L,[_])}}return h}function Kv(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function XS(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var kf=null;function ZS(){}function JS(i,s,l){if(kf===null)throw Error(r(475));var h=kf;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=uh(l.href),_=i.querySelector(Rf(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Ip.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=_,Hn(_);return}_=i.ownerDocument||i,l=$v(l),(g=Fa.get(g))&&m1(l,g),_=_.createElement("link"),Hn(_);var L=_;L._p=new Promise(function($,ht){L.onload=$,L.onerror=ht}),Qi(_,"link",l),s.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Ip.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function tE(){if(kf===null)throw Error(r(475));var i=kf;return i.stylesheets&&i.count===0&&y1(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&y1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Ip(){if(this.count--,this.count===0){if(this.stylesheets)y1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rp=null;function y1(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rp=new Map,s.forEach(eE,i),Rp=null,Ip.call(i))}function eE(i,s){if(!(s.state.loading&4)){var l=Rp.get(i);if(l)var h=l.get(null);else{l=new Map,Rp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var L=g[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),h=L)}h&&l.set(null,h)}g=s.instance,L=g.getAttribute("data-precedence"),_=l.get(L)||h,_===h&&l.set(null,g),l.set(L,g),this.count++,h=Ip.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Pf={$$typeof:et,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function nE(i,s,l,h,g,_,L,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Xv(i,s,l,h,g,_,L,$,ht,Rt,Bt,$t){return i=new nE(i,s,l,L,$,ht,Rt,$t),s=1,_===!0&&(s|=24),_=Ci(3,null,null,s),i.current=_,_.stateNode=i,s=ef(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},Ct(_),i}function Zv(i){return i?(i=li,i):li}function Jv(i,s,l,h,g,_){g=Zv(g),h.context===null?h.context=g:h.pendingContext=g,h=Vt(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Kt(i,h,s),l!==null&&(oa(l,i,s),Gt(l,i,s))}function t5(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function v1(i,s){t5(i,s),(i=i.alternate)&&t5(i,s)}function e5(i){if(i.tag===13){var s=sl(i,67108864);s!==null&&oa(s,i,67108864),v1(i,67108864)}}var Lp=!0;function rE(i,s,l,h){var g=at.T;at.T=null;var _=mt.p;try{mt.p=2,_1(i,s,l,h)}finally{mt.p=_,at.T=g}}function iE(i,s,l,h){var g=at.T;at.T=null;var _=mt.p;try{mt.p=8,_1(i,s,l,h)}finally{mt.p=_,at.T=g}}function _1(i,s,l,h){if(Lp){var g=b1(h);if(g===null)a1(i,s,h,kp,l),r5(i,h);else if(aE(g,i,s,l,h))h.stopPropagation();else if(r5(i,h),s&4&&-1<sE.indexOf(i)){for(;g!==null;){var _=jr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=Ce(_.pendingLanes);if(L!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;L;){var ht=1<<31-se(L);$.entanglements[1]|=ht,L&=~ht}jo(_),($n&6)===0&&(mp=Ne()+500,Tf(0))}}break;case 13:$=sl(_,2),$!==null&&oa($,_,2),yp(),v1(_,2)}if(_=b1(h),_===null&&a1(i,s,h,kp,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else a1(i,s,h,null,l)}}function b1(i){return i=as(i),w1(i)}var kp=null;function w1(i){if(kp=null,i=ai(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kp=i,null}function n5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Zt:return 2;case ye:return 8;case ee:case Ye:return 32;case _e:return 268435456;default:return 32}default:return 32}}var A1=!1,fu=null,du=null,pu=null,Df=new Map,Of=new Map,mu=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r5(i,s){switch(i){case"focusin":case"focusout":fu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":Df.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(s.pointerId)}}function Mf(i,s,l,h,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},s!==null&&(s=jr(s),s!==null&&e5(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function aE(i,s,l,h,g){switch(s){case"focusin":return fu=Mf(fu,i,s,l,h,g),!0;case"dragenter":return du=Mf(du,i,s,l,h,g),!0;case"mouseover":return pu=Mf(pu,i,s,l,h,g),!0;case"pointerover":var _=g.pointerId;return Df.set(_,Mf(Df.get(_)||null,i,s,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Of.set(_,Mf(Of.get(_)||null,i,s,l,h,g)),!0}return!1}function i5(i){var s=ai(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Ie(i.priority,function(){if(l.tag===13){var h=aa();h=fr(h);var g=sl(l,h);g!==null&&oa(g,l,h),v1(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=b1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ei=h,l.target.dispatchEvent(h),Ei=null}else return s=jr(l),s!==null&&e5(s),i.blockedOn=l,!1;s.shift()}return!0}function s5(i,s,l){Pp(i)&&l.delete(s)}function oE(){A1=!1,fu!==null&&Pp(fu)&&(fu=null),du!==null&&Pp(du)&&(du=null),pu!==null&&Pp(pu)&&(pu=null),Df.forEach(s5),Of.forEach(s5)}function Dp(i,s){i.blockedOn===s&&(i.blockedOn=null,A1||(A1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oE)))}var Op=null;function a5(i){Op!==i&&(Op=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Op===i&&(Op=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(w1(h||l)===null)continue;break}var _=jr(l);_!==null&&(i.splice(s,3),s-=3,ja(_,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function jf(i){function s(ht){return Dp(ht,i)}fu!==null&&Dp(fu,i),du!==null&&Dp(du,i),pu!==null&&Dp(pu,i),Df.forEach(s),Of.forEach(s);for(var l=0;l<mu.length;l++){var h=mu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<mu.length&&(l=mu[0],l.blockedOn===null);)i5(l),l.blockedOn===null&&mu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],_=l[h+1],L=g[kn]||null;if(typeof _=="function")L||a5(l);else if(L){var $=null;if(_&&_.hasAttribute("formAction")){if(g=_,L=_[kn]||null)$=L.formAction;else if(w1(g)!==null)continue}else $=L.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),a5(l)}}}function S1(i){this._internalRoot=i}Mp.prototype.render=S1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=aa();Jv(l,h,i,s,null,null)},Mp.prototype.unmount=S1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Jv(i.current,2,null,i,null,null),yp(),s[dr]=null}};function Mp(i){this._internalRoot=i}Mp.prototype.unstable_scheduleHydration=function(i){if(i){var s=di();i={blockedOn:null,target:i,priority:s};for(var l=0;l<mu.length&&s!==0&&s<mu[l].priority;l++);mu.splice(l,0,i),l===0&&i5(i)}};var o5=t.version;if(o5!=="19.1.1")throw Error(r(527,o5,"19.1.1"));mt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var lE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{ce=jp.inject(lE),we=jp}catch{}}return Uf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",g=Sy,_=Ey,L=xy,$=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&($=s.unstable_transitionCallbacks)),s=Xv(i,1,!1,null,null,l,h,g,_,L,$,null),i[dr]=s.current,s1(i),new S1(s)},Uf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,g="",_=Sy,L=Ey,$=xy,ht=null,Rt=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ht=l.unstable_transitionCallbacks),l.formState!==void 0&&(Rt=l.formState)),s=Xv(i,1,!0,s,l??null,h,g,_,L,$,ht,Rt),s.context=Zv(null),l=s.current,h=aa(),h=fr(h),g=Vt(h),g.callback=null,Kt(l,g,h),l=h,s.current.lanes=l,gn(s,l),jo(s),i[dr]=s.current,s1(i),new Mp(s)},Uf.version="19.1.1",Uf}var y5;function bE(){if(y5)return T1.exports;y5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),T1.exports=_E(),T1.exports}var wE=bE();let AE={data:""},SE=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||AE,EE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xE=/\/\*[^]*?\*\/|  +/g,v5=/\n+/g,bu=(n,t)=>{let e="",r="",a="";for(let o in n){let u=n[o];o[0]=="@"?o[1]=="i"?e=o+" "+u+";":r+=o[1]=="f"?bu(u,o):o+"{"+bu(u,o[1]=="k"?"":t)+"}":typeof u=="object"?r+=bu(u,t?t.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=bu.p?bu.p(o,u):o+":"+u+";")}return e+(t&&a?t+"{"+a+"}":a)+r},wl={},_w=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+_w(n[e]);return t}return n},TE=(n,t,e,r,a)=>{let o=_w(n),u=wl[o]||(wl[o]=(f=>{let d=0,y=11;for(;d<f.length;)y=101*y+f.charCodeAt(d++)>>>0;return"go"+y})(o));if(!wl[u]){let f=o!==n?n:(d=>{let y,A,x=[{}];for(;y=EE.exec(d.replace(xE,""));)y[4]?x.shift():y[3]?(A=y[3].replace(v5," ").trim(),x.unshift(x[0][A]=x[0][A]||{})):x[0][y[1]]=y[2].replace(v5," ").trim();return x[0]})(n);wl[u]=bu(a?{["@keyframes "+u]:f}:f,e?"":"."+u)}let c=e&&wl.g?wl.g:null;return e&&(wl.g=wl[u]),((f,d,y,A)=>{A?d.data=d.data.replace(A,f):d.data.indexOf(f)===-1&&(d.data=y?f+d.data:d.data+f)})(wl[u],t,r,c),u},NE=(n,t,e)=>n.reduce((r,a,o)=>{let u=t[o];if(u&&u.call){let c=u(e),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;u=f?"."+f:c&&typeof c=="object"?c.props?"":bu(c,""):c===!1?"":c}return r+a+(u??"")},"");function Gm(n){let t=this||{},e=n.call?n(t.p):n;return TE(e.unshift?e.raw?NE(e,[].slice.call(arguments,1),t.p):e.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):e,SE(t.target),t.g,t.o,t.k)}let bw,m0,g0;Gm.bind({g:1});let Ll=Gm.bind({k:1});function CE(n,t,e,r){bu.p=t,bw=n,m0=e,g0=r}function qu(n,t){let e=this||{};return function(){let r=arguments;function a(o,u){let c=Object.assign({},o),f=c.className||a.className;e.p=Object.assign({theme:m0&&m0()},c),e.o=/ *go\d+/.test(f),c.className=Gm.apply(e,r)+(f?" "+f:"");let d=n;return n[0]&&(d=c.as||n,delete c.as),g0&&d[0]&&g0(c),bw(d,c)}return a}}var IE=n=>typeof n=="function",ym=(n,t)=>IE(n)?n(t):n,RE=(()=>{let n=0;return()=>(++n).toString()})(),ww=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),LE=20,i2="default",Aw=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:r}=t;return Aw(n,{type:n.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return{...n,toasts:n.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let o=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},tm=[],Sw={toasts:[],pausedAt:void 0,settings:{toastLimit:LE}},qo={},Ew=(n,t=i2)=>{qo[t]=Aw(qo[t]||Sw,n),tm.forEach(([e,r])=>{e===t&&r(qo[t])})},xw=n=>Object.keys(qo).forEach(t=>Ew(n,t)),kE=n=>Object.keys(qo).find(t=>qo[t].toasts.some(e=>e.id===n)),$m=(n=i2)=>t=>{Ew(t,n)},PE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DE=(n={},t=i2)=>{let[e,r]=Jt.useState(qo[t]||Sw),a=Jt.useRef(qo[t]);Jt.useEffect(()=>(a.current!==qo[t]&&r(qo[t]),tm.push([t,r]),()=>{let u=tm.findIndex(([c])=>c===t);u>-1&&tm.splice(u,1)}),[t]);let o=e.toasts.map(u=>{var c,f,d;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((c=n[u.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:u.duration||((f=n[u.type])==null?void 0:f.duration)||n?.duration||PE[u.type],style:{...n.style,...(d=n[u.type])==null?void 0:d.style,...u.style}}});return{...e,toasts:o}},OE=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||RE()}),_d=n=>(t,e)=>{let r=OE(t,n,e);return $m(r.toasterId||kE(r.id))({type:2,toast:r}),r.id},wi=(n,t)=>_d("blank")(n,t);wi.error=_d("error");wi.success=_d("success");wi.loading=_d("loading");wi.custom=_d("custom");wi.dismiss=(n,t)=>{let e={type:3,toastId:n};t?$m(t)(e):xw(e)};wi.dismissAll=n=>wi.dismiss(void 0,n);wi.remove=(n,t)=>{let e={type:4,toastId:n};t?$m(t)(e):xw(e)};wi.removeAll=n=>wi.remove(void 0,n);wi.promise=(n,t,e)=>{let r=wi.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let o=t.success?ym(t.success,a):void 0;return o?wi.success(o,{id:r,...e,...e?.success}):wi.dismiss(r),a}).catch(a=>{let o=t.error?ym(t.error,a):void 0;o?wi.error(o,{id:r,...e,...e?.error}):wi.dismiss(r)}),n};var ME=1e3,jE=(n,t="default")=>{let{toasts:e,pausedAt:r}=DE(n,t),a=Jt.useRef(new Map).current,o=Jt.useCallback((A,x=ME)=>{if(a.has(A))return;let b=setTimeout(()=>{a.delete(A),u({type:4,toastId:A})},x);a.set(A,b)},[]);Jt.useEffect(()=>{if(r)return;let A=Date.now(),x=e.map(b=>{if(b.duration===1/0)return;let O=(b.duration||0)+b.pauseDuration-(A-b.createdAt);if(O<0){b.visible&&wi.dismiss(b.id);return}return setTimeout(()=>wi.dismiss(b.id,t),O)});return()=>{x.forEach(b=>b&&clearTimeout(b))}},[e,r,t]);let u=Jt.useCallback($m(t),[t]),c=Jt.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=Jt.useCallback((A,x)=>{u({type:1,toast:{id:A,height:x}})},[u]),d=Jt.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),y=Jt.useCallback((A,x)=>{let{reverseOrder:b=!1,gutter:O=8,defaultPosition:F}=x||{},q=e.filter(et=>(et.position||F)===(A.position||F)&&et.height),B=q.findIndex(et=>et.id===A.id),tt=q.filter((et,Q)=>Q<B&&et.visible).length;return q.filter(et=>et.visible).slice(...b?[tt+1]:[0,tt]).reduce((et,Q)=>et+(Q.height||0)+O,0)},[e]);return Jt.useEffect(()=>{e.forEach(A=>{if(A.dismissed)o(A.id,A.removeDelay);else{let x=a.get(A.id);x&&(clearTimeout(x),a.delete(A.id))}})},[e,o]),{toasts:e,handlers:{updateHeight:f,startPause:c,endPause:d,calculateOffset:y}}},VE=Ll`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UE=Ll`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FE=Ll`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BE=qu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${FE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qE=Ll`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zE=qu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${qE} 1s linear infinite;
`,HE=Ll`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GE=Ll`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$E=qu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WE=qu("div")`
  position: absolute;
`,YE=qu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,KE=Ll`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QE=qu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${KE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XE=({toast:n})=>{let{icon:t,type:e,iconTheme:r}=n;return t!==void 0?typeof t=="string"?Jt.createElement(QE,null,t):t:e==="blank"?null:Jt.createElement(YE,null,Jt.createElement(zE,{...r}),e!=="loading"&&Jt.createElement(WE,null,e==="error"?Jt.createElement(BE,{...r}):Jt.createElement($E,{...r})))},ZE=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JE=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,t6="0%{opacity:0;} 100%{opacity:1;}",e6="0%{opacity:1;} 100%{opacity:0;}",n6=qu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,r6=qu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,i6=(n,t)=>{let e=n.includes("top")?1:-1,[r,a]=ww()?[t6,e6]:[ZE(e),JE(e)];return{animation:t?`${Ll(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ll(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},s6=Jt.memo(({toast:n,position:t,style:e,children:r})=>{let a=n.height?i6(n.position||t||"top-center",n.visible):{opacity:0},o=Jt.createElement(XE,{toast:n}),u=Jt.createElement(r6,{...n.ariaProps},ym(n.message,n));return Jt.createElement(n6,{className:n.className,style:{...a,...e,...n.style}},typeof r=="function"?r({icon:o,message:u}):Jt.createElement(Jt.Fragment,null,o,u))});CE(Jt.createElement);var a6=({id:n,className:t,style:e,onHeightUpdate:r,children:a})=>{let o=Jt.useCallback(u=>{if(u){let c=()=>{let f=u.getBoundingClientRect().height;r(n,f)};c(),new MutationObserver(c).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return Jt.createElement("div",{ref:o,className:t,style:e},a)},o6=(n,t)=>{let e=n.includes("top"),r=e?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ww()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...r,...a}},l6=Gm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vp=16,u6=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:r,children:a,toasterId:o,containerStyle:u,containerClassName:c})=>{let{toasts:f,handlers:d}=jE(e,o);return Jt.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Vp,left:Vp,right:Vp,bottom:Vp,pointerEvents:"none",...u},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(y=>{let A=y.position||t,x=d.calculateOffset(y,{reverseOrder:n,gutter:r,defaultPosition:t}),b=o6(A,x);return Jt.createElement(a6,{id:y.id,key:y.id,onHeightUpdate:d.updateHeight,className:y.visible?l6:"",style:b},y.type==="custom"?ym(y.message,y):a?a(y):Jt.createElement(s6,{toast:y,position:A}))}))},Al=wi;const c6="modulepreload",h6=function(n){return"/sofwipad-erp-contable/"+n},_5={},R1=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(e.map(d=>{if(d=h6(d),d in _5)return;_5[d]=!0;const y=d.endsWith(".css"),A=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":c6,y||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),y)return new Promise((b,O)=>{x.addEventListener("load",b),x.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};function Yn(n){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(n)}var mo=Uint8Array,ca=Uint16Array,s2=Int32Array,a2=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o2=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b5=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tw=function(n,t){for(var e=new ca(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new s2(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)a[o]=o-e[r]<<5|r;return{b:e,r:a}},Nw=Tw(a2,2),f6=Nw.b,y0=Nw.r;f6[28]=258,y0[258]=28;var d6=Tw(o2,0),w5=d6.r,v0=new ca(32768);for(var _r=0;_r<32768;++_r){var yu=(_r&43690)>>1|(_r&21845)<<1;yu=(yu&52428)>>2|(yu&13107)<<2,yu=(yu&61680)>>4|(yu&3855)<<4,v0[_r]=((yu&65280)>>8|(yu&255)<<8)>>1}var Yf=(function(n,t,e){for(var r=n.length,a=0,o=new ca(t);a<r;++a)n[a]&&++o[n[a]-1];var u=new ca(t);for(a=1;a<t;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(e){c=new ca(1<<t);var f=15-t;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],y=t-n[a],A=u[n[a]-1]++<<y,x=A|(1<<y)-1;A<=x;++A)c[v0[A]>>f]=d}else for(c=new ca(r),a=0;a<r;++a)n[a]&&(c[a]=v0[u[n[a]-1]++]>>15-n[a]);return c}),Sc=new mo(288);for(var _r=0;_r<144;++_r)Sc[_r]=8;for(var _r=144;_r<256;++_r)Sc[_r]=9;for(var _r=256;_r<280;++_r)Sc[_r]=7;for(var _r=280;_r<288;++_r)Sc[_r]=8;var vm=new mo(32);for(var _r=0;_r<32;++_r)vm[_r]=5;var p6=Yf(Sc,9,0),m6=Yf(vm,5,0),Cw=function(n){return(n+7)/8|0},g6=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new mo(n.subarray(t,e))},Sl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Ff=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},L1=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,o=e.slice();if(!a)return{t:Rw,l:0};if(a==1){var u=new mo(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(st,Et){return st.f-Et.f}),e.push({s:-1,f:25001});var c=e[0],f=e[1],d=0,y=1,A=2;for(e[0]={s:-1,f:c.f+f.f,l:c,r:f};y!=a-1;)c=e[e[d].f<e[A].f?d++:A++],f=e[d!=y&&e[d].f<e[A].f?d++:A++],e[y++]={s:-1,f:c.f+f.f,l:c,r:f};for(var x=o[0].s,r=1;r<a;++r)o[r].s>x&&(x=o[r].s);var b=new ca(x+1),O=_0(e[y-1],b,0);if(O>t){var r=0,F=0,q=O-t,B=1<<q;for(o.sort(function(Et,W){return b[W.s]-b[Et.s]||Et.f-W.f});r<a;++r){var tt=o[r].s;if(b[tt]>t)F+=B-(1<<O-b[tt]),b[tt]=t;else break}for(F>>=q;F>0;){var et=o[r].s;b[et]<t?F-=1<<t-b[et]++-1:++r}for(;r>=0&&F;--r){var Q=o[r].s;b[Q]==t&&(--b[Q],++F)}O=t}return{t:new mo(b),l:O}},_0=function(n,t,e){return n.s==-1?Math.max(_0(n.l,t,e+1),_0(n.r,t,e+1)):t[n.s]=e},A5=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ca(++t),r=0,a=n[0],o=1,u=function(f){e[r++]=f},c=1;c<=t;++c)if(n[c]==a&&c!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:e.subarray(0,r),n:t}},Bf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},Iw=function(n,t,e){var r=e.length,a=Cw(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=e[o];return(a+4+r)*8},S5=function(n,t,e,r,a,o,u,c,f,d,y){Sl(t,y++,e),++a[256];for(var A=L1(a,15),x=A.t,b=A.l,O=L1(o,15),F=O.t,q=O.l,B=A5(x),tt=B.c,et=B.n,Q=A5(F),st=Q.c,Et=Q.n,W=new ca(19),D=0;D<tt.length;++D)++W[tt[D]&31];for(var D=0;D<st.length;++D)++W[st[D]&31];for(var R=L1(W,7),U=R.t,T=R.l,I=19;I>4&&!U[b5[I-1]];--I);var k=d+5<<3,ut=Bf(a,Sc)+Bf(o,vm)+u,Tt=Bf(a,x)+Bf(o,F)+u+14+3*I+Bf(W,U)+2*W[16]+3*W[17]+7*W[18];if(f>=0&&k<=ut&&k<=Tt)return Iw(t,y,n.subarray(f,f+d));var at,mt,ot,wt;if(Sl(t,y,1+(Tt<ut)),y+=2,Tt<ut){at=Yf(x,b,0),mt=x,ot=Yf(F,q,0),wt=F;var Z=Yf(U,T,0);Sl(t,y,et-257),Sl(t,y+5,Et-1),Sl(t,y+10,I-4),y+=14;for(var D=0;D<I;++D)Sl(t,y+3*D,U[b5[D]]);y+=3*I;for(var ft=[tt,st],P=0;P<2;++P)for(var G=ft[P],D=0;D<G.length;++D){var J=G[D]&31;Sl(t,y,Z[J]),y+=U[J],J>15&&(Sl(t,y,G[D]>>5&127),y+=G[D]>>12)}}else at=p6,mt=Sc,ot=m6,wt=vm;for(var D=0;D<c;++D){var ct=r[D];if(ct>255){var J=ct>>18&31;Ff(t,y,at[J+257]),y+=mt[J+257],J>7&&(Sl(t,y,ct>>23&31),y+=a2[J]);var dt=ct&31;Ff(t,y,ot[dt]),y+=wt[dt],dt>3&&(Ff(t,y,ct>>5&8191),y+=o2[dt])}else Ff(t,y,at[ct]),y+=mt[ct]}return Ff(t,y,at[256]),y+mt[256]},y6=new s2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rw=new mo(0),v6=function(n,t,e,r,a,o){var u=o.z||n.length,c=new mo(r+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,y=(o.r||0)&7;if(t){y&&(f[0]=o.r>>3);for(var A=y6[t-1],x=A>>13,b=A&8191,O=(1<<e)-1,F=o.p||new ca(32768),q=o.h||new ca(O+1),B=Math.ceil(e/3),tt=2*B,et=function(Mt){return(n[Mt]^n[Mt+1]<<B^n[Mt+2]<<tt)&O},Q=new s2(25e3),st=new ca(288),Et=new ca(32),W=0,D=0,R=o.i||0,U=0,T=o.w||0,I=0;R+2<u;++R){var k=et(R),ut=R&32767,Tt=q[k];if(F[ut]=Tt,q[k]=ut,T<=R){var at=u-R;if((W>7e3||U>24576)&&(at>423||!d)){y=S5(n,f,0,Q,st,Et,D,U,I,R-I,y),U=W=D=0,I=R;for(var mt=0;mt<286;++mt)st[mt]=0;for(var mt=0;mt<30;++mt)Et[mt]=0}var ot=2,wt=0,Z=b,ft=ut-Tt&32767;if(at>2&&k==et(R-ft))for(var P=Math.min(x,at)-1,G=Math.min(32767,R),J=Math.min(258,at);ft<=G&&--Z&&ut!=Tt;){if(n[R+ot]==n[R+ot-ft]){for(var ct=0;ct<J&&n[R+ct]==n[R+ct-ft];++ct);if(ct>ot){if(ot=ct,wt=ft,ct>P)break;for(var dt=Math.min(ft,ct-2),yt=0,mt=0;mt<dt;++mt){var Lt=R-ft+mt&32767,Pt=F[Lt],qt=Lt-Pt&32767;qt>yt&&(yt=qt,Tt=Lt)}}}ut=Tt,Tt=F[ut],ft+=ut-Tt&32767}if(wt){Q[U++]=268435456|y0[ot]<<18|w5[wt];var Qt=y0[ot]&31,ne=w5[wt]&31;D+=a2[Qt]+o2[ne],++st[257+Qt],++Et[ne],T=R+ot,++W}else Q[U++]=n[R],++st[n[R]]}}for(R=Math.max(R,T);R<u;++R)Q[U++]=n[R],++st[n[R]];y=S5(n,f,d,Q,st,Et,D,U,I,R-I,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=q,o.p=F,o.i=R,o.w=T)}else{for(var R=o.w||0;R<u+d;R+=65535){var re=R+65535;re>=u&&(f[y/8|0]=d,re=u),y=Iw(f,y+1,n.subarray(R,re))}o.i=u}return g6(c,0,r+Cw(y)+a)},Lw=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,o=e.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=r+=e[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},_6=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new mo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return v6(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},kw=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},b6=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=Lw();a.p(t.dictionary),kw(n,2,a.d())}};function b0(n,t){t||(t={});var e=Lw();e.p(n);var r=_6(n,t,t.dictionary?6:2,4);return b6(r,t),kw(r,r.length-4,e.d()),r}var w6=typeof TextDecoder<"u"&&new TextDecoder,A6=0;try{w6.decode(Rw,{stream:!0}),A6=1}catch{}function S6(n){if(Array.isArray(n))return n}function E6(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,o,u,c=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(y){d=!0,a=y}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function E5(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function x6(n,t){if(n){if(typeof n=="string")return E5(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?E5(n,t):void 0}}function T6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5(n,t){return S6(n)||E6(n,t)||x6(n,t)||T6()}function T5(n,t="utf8"){return new TextDecoder(t).decode(n)}const N6=new TextEncoder;function C6(n){return N6.encode(n)}const I6=1024*8,R6=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),k1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=I6,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let u=a;(ArrayBuffer.isView(t)||t instanceof l2)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=k1[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===R6&&e!=="uint8"&&e!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new k1[e](c.buffer);return this.offset+=r,f.reverse(),f}const u=new k1[e](o);return this.offset+=r,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return T5(this.readBytes(t))}decodeText(t=1,e="utf8"){return T5(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(C6(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vh(n){let t=n.length;for(;--t>=0;)n[t]=0}const L6=3,k6=258,Pw=29,P6=256,D6=P6+1+Pw,Dw=30,O6=512,M6=new Array((D6+2)*2);Vh(M6);const j6=new Array(Dw*2);Vh(j6);const V6=new Array(O6);Vh(V6);const U6=new Array(k6-L6+1);Vh(U6);const F6=new Array(Pw);Vh(F6);const B6=new Array(Dw);Vh(B6);const q6=(n,t,e,r)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do a=a+t[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var w0=q6;const z6=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},H6=new Uint32Array(z6()),G6=(n,t,e,r)=>{const a=H6,o=r+e;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[(n^t[u])&255];return n^-1};var Vo=G6,A0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ow={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $6=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var W6=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)$6(e,r)&&(n[r]=e[r])}}return n},Y6=n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];e.set(u,a),a+=u.length}return e},Mw={assign:W6,flattenChunks:Y6};let jw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jw=!1}const rd=new Uint8Array(256);for(let n=0;n<256;n++)rd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;rd[254]=rd[254]=1;var K6=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,u=n.length,c=0;for(a=0;a<u;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(c),o=0,a=0;o<c;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const Q6=(n,t)=>{if(t<65534&&n.subarray&&jw)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var X6=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(e*2);for(a=0,r=0;r<e;){let u=n[r++];if(u<128){o[a++]=u;continue}let c=rd[u];if(c>4){o[a++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<e;)u=u<<6|n[r++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return Q6(o,a)},Z6=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+rd[n[e]]>t?e:t},S0={string2buf:K6,buf2string:X6,utf8border:Z6};function J6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tx=J6;const Up=16209,ex=16191;var nx=function(t,e){let r,a,o,u,c,f,d,y,A,x,b,O,F,q,B,tt,et,Q,st,Et,W,D,R,U;const T=t.state;r=t.next_in,R=t.input,a=r+(t.avail_in-5),o=t.next_out,U=t.output,u=o-(e-t.avail_out),c=o+(t.avail_out-257),f=T.dmax,d=T.wsize,y=T.whave,A=T.wnext,x=T.window,b=T.hold,O=T.bits,F=T.lencode,q=T.distcode,B=(1<<T.lenbits)-1,tt=(1<<T.distbits)-1;t:do{O<15&&(b+=R[r++]<<O,O+=8,b+=R[r++]<<O,O+=8),et=F[b&B];e:for(;;){if(Q=et>>>24,b>>>=Q,O-=Q,Q=et>>>16&255,Q===0)U[o++]=et&65535;else if(Q&16){st=et&65535,Q&=15,Q&&(O<Q&&(b+=R[r++]<<O,O+=8),st+=b&(1<<Q)-1,b>>>=Q,O-=Q),O<15&&(b+=R[r++]<<O,O+=8,b+=R[r++]<<O,O+=8),et=q[b&tt];n:for(;;){if(Q=et>>>24,b>>>=Q,O-=Q,Q=et>>>16&255,Q&16){if(Et=et&65535,Q&=15,O<Q&&(b+=R[r++]<<O,O+=8,O<Q&&(b+=R[r++]<<O,O+=8)),Et+=b&(1<<Q)-1,Et>f){t.msg="invalid distance too far back",T.mode=Up;break t}if(b>>>=Q,O-=Q,Q=o-u,Et>Q){if(Q=Et-Q,Q>y&&T.sane){t.msg="invalid distance too far back",T.mode=Up;break t}if(W=0,D=x,A===0){if(W+=d-Q,Q<st){st-=Q;do U[o++]=x[W++];while(--Q);W=o-Et,D=U}}else if(A<Q){if(W+=d+A-Q,Q-=A,Q<st){st-=Q;do U[o++]=x[W++];while(--Q);if(W=0,A<st){Q=A,st-=Q;do U[o++]=x[W++];while(--Q);W=o-Et,D=U}}}else if(W+=A-Q,Q<st){st-=Q;do U[o++]=x[W++];while(--Q);W=o-Et,D=U}for(;st>2;)U[o++]=D[W++],U[o++]=D[W++],U[o++]=D[W++],st-=3;st&&(U[o++]=D[W++],st>1&&(U[o++]=D[W++]))}else{W=o-Et;do U[o++]=U[W++],U[o++]=U[W++],U[o++]=U[W++],st-=3;while(st>2);st&&(U[o++]=U[W++],st>1&&(U[o++]=U[W++]))}}else if((Q&64)===0){et=q[(et&65535)+(b&(1<<Q)-1)];continue n}else{t.msg="invalid distance code",T.mode=Up;break t}break}}else if((Q&64)===0){et=F[(et&65535)+(b&(1<<Q)-1)];continue e}else if(Q&32){T.mode=ex;break t}else{t.msg="invalid literal/length code",T.mode=Up;break t}break}}while(r<a&&o<c);st=O>>3,r-=st,O-=st<<3,b&=(1<<O)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=o<c?257+(c-o):257-(o-c),T.hold=b,T.bits=O};const hh=15,N5=852,C5=592,I5=0,P1=1,R5=2,rx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ix=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ax=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ox=(n,t,e,r,a,o,u,c)=>{const f=c.bits;let d=0,y=0,A=0,x=0,b=0,O=0,F=0,q=0,B=0,tt=0,et,Q,st,Et,W,D=null,R;const U=new Uint16Array(hh+1),T=new Uint16Array(hh+1);let I=null,k,ut,Tt;for(d=0;d<=hh;d++)U[d]=0;for(y=0;y<r;y++)U[t[e+y]]++;for(b=f,x=hh;x>=1&&U[x]===0;x--);if(b>x&&(b=x),x===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(A=1;A<x&&U[A]===0;A++);for(b<A&&(b=A),q=1,d=1;d<=hh;d++)if(q<<=1,q-=U[d],q<0)return-1;if(q>0&&(n===I5||x!==1))return-1;for(T[1]=0,d=1;d<hh;d++)T[d+1]=T[d]+U[d];for(y=0;y<r;y++)t[e+y]!==0&&(u[T[t[e+y]]++]=y);if(n===I5?(D=I=u,R=20):n===P1?(D=rx,I=ix,R=257):(D=sx,I=ax,R=0),tt=0,y=0,d=A,W=o,O=b,F=0,st=-1,B=1<<b,Et=B-1,n===P1&&B>N5||n===R5&&B>C5)return 1;for(;;){k=d-F,u[y]+1<R?(ut=0,Tt=u[y]):u[y]>=R?(ut=I[u[y]-R],Tt=D[u[y]-R]):(ut=96,Tt=0),et=1<<d-F,Q=1<<O,A=Q;do Q-=et,a[W+(tt>>F)+Q]=k<<24|ut<<16|Tt|0;while(Q!==0);for(et=1<<d-1;tt&et;)et>>=1;if(et!==0?(tt&=et-1,tt+=et):tt=0,y++,--U[d]===0){if(d===x)break;d=t[e+u[y]]}if(d>b&&(tt&Et)!==st){for(F===0&&(F=b),W+=A,O=d-F,q=1<<O;O+F<x&&(q-=U[O+F],!(q<=0));)O++,q<<=1;if(B+=1<<O,n===P1&&B>N5||n===R5&&B>C5)return 1;st=tt&Et,a[st]=b<<24|O<<16|W-o|0}}return tt!==0&&(a[W+tt]=d-F<<24|64<<16|0),c.bits=b,0};var Kf=ox;const lx=0,Vw=1,Uw=2,{Z_FINISH:L5,Z_BLOCK:ux,Z_TREES:Fp,Z_OK:Ec,Z_STREAM_END:cx,Z_NEED_DICT:hx,Z_STREAM_ERROR:za,Z_DATA_ERROR:Fw,Z_MEM_ERROR:Bw,Z_BUF_ERROR:fx,Z_DEFLATED:k5}=Ow,Wm=16180,P5=16181,D5=16182,O5=16183,M5=16184,j5=16185,V5=16186,U5=16187,F5=16188,B5=16189,_m=16190,El=16191,D1=16192,q5=16193,O1=16194,z5=16195,H5=16196,G5=16197,$5=16198,Bp=16199,qp=16200,W5=16201,Y5=16202,K5=16203,Q5=16204,X5=16205,M1=16206,Z5=16207,J5=16208,Tr=16209,qw=16210,zw=16211,dx=852,px=592,mx=15,gx=mx,t_=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function yx(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Wm||t.mode>zw?1:0},Hw=n=>{if(Rc(n))return za;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Wm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(dx),t.distcode=t.distdyn=new Int32Array(px),t.sane=1,t.back=-1,Ec},Gw=n=>{if(Rc(n))return za;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,Hw(n)},$w=(n,t)=>{let e;if(Rc(n))return za;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?za:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,Gw(n))},Ww=(n,t)=>{if(!n)return za;const e=new yx;n.state=e,e.strm=n,e.window=null,e.mode=Wm;const r=$w(n,t);return r!==Ec&&(n.state=null),r},vx=n=>Ww(n,gx);let e_=!0,j1,V1;const _x=n=>{if(e_){j1=new Int32Array(512),V1=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Kf(Vw,n.lens,0,288,j1,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Kf(Uw,n.lens,0,32,V1,0,n.work,{bits:5}),e_=!1}n.lencode=j1,n.lenbits=9,n.distcode=V1,n.distbits=5},Yw=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),r-=a,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},bx=(n,t)=>{let e,r,a,o,u,c,f,d,y,A,x,b,O,F,q=0,B,tt,et,Q,st,Et,W,D;const R=new Uint8Array(4);let U,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Rc(n)||!n.output||!n.input&&n.avail_in!==0)return za;e=n.state,e.mode===El&&(e.mode=D1),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=e.hold,y=e.bits,A=c,x=f,D=Ec;t:for(;;)switch(e.mode){case Wm:if(e.wrap===0){e.mode=D1;break}for(;y<16;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,R[0]=d&255,R[1]=d>>>8&255,e.check=Vo(e.check,R,2,0),d=0,y=0,e.mode=P5;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Tr;break}if((d&15)!==k5){n.msg="unknown compression method",e.mode=Tr;break}if(d>>>=4,y-=4,W=(d&15)+8,e.wbits===0&&(e.wbits=W),W>15||W>e.wbits){n.msg="invalid window size",e.mode=Tr;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?B5:El,d=0,y=0;break;case P5:for(;y<16;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(e.flags=d,(e.flags&255)!==k5){n.msg="unknown compression method",e.mode=Tr;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Tr;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,e.check=Vo(e.check,R,2,0)),d=0,y=0,e.mode=D5;case D5:for(;y<32;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,e.check=Vo(e.check,R,4,0)),d=0,y=0,e.mode=O5;case O5:for(;y<16;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,e.check=Vo(e.check,R,2,0)),d=0,y=0,e.mode=M5;case M5:if(e.flags&1024){for(;y<16;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,e.check=Vo(e.check,R,2,0)),d=0,y=0}else e.head&&(e.head.extra=null);e.mode=j5;case j5:if(e.flags&1024&&(b=e.length,b>c&&(b=c),b&&(e.head&&(W=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+b),W)),e.flags&512&&e.wrap&4&&(e.check=Vo(e.check,r,b,o)),c-=b,o+=b,e.length-=b),e.length))break t;e.length=0,e.mode=V5;case V5:if(e.flags&2048){if(c===0)break t;b=0;do W=r[o+b++],e.head&&W&&e.length<65536&&(e.head.name+=String.fromCharCode(W));while(W&&b<c);if(e.flags&512&&e.wrap&4&&(e.check=Vo(e.check,r,b,o)),c-=b,o+=b,W)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=U5;case U5:if(e.flags&4096){if(c===0)break t;b=0;do W=r[o+b++],e.head&&W&&e.length<65536&&(e.head.comment+=String.fromCharCode(W));while(W&&b<c);if(e.flags&512&&e.wrap&4&&(e.check=Vo(e.check,r,b,o)),c-=b,o+=b,W)break t}else e.head&&(e.head.comment=null);e.mode=F5;case F5:if(e.flags&512){for(;y<16;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Tr;break}d=0,y=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=El;break;case B5:for(;y<32;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}n.adler=e.check=t_(d),d=0,y=0,e.mode=_m;case _m:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,e.hold=d,e.bits=y,hx;n.adler=e.check=1,e.mode=El;case El:if(t===ux||t===Fp)break t;case D1:if(e.last){d>>>=y&7,y-=y&7,e.mode=M1;break}for(;y<3;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}switch(e.last=d&1,d>>>=1,y-=1,d&3){case 0:e.mode=q5;break;case 1:if(_x(e),e.mode=Bp,t===Fp){d>>>=2,y-=2;break t}break;case 2:e.mode=H5;break;case 3:n.msg="invalid block type",e.mode=Tr}d>>>=2,y-=2;break;case q5:for(d>>>=y&7,y-=y&7;y<32;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Tr;break}if(e.length=d&65535,d=0,y=0,e.mode=O1,t===Fp)break t;case O1:e.mode=z5;case z5:if(b=e.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break t;a.set(r.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,e.length-=b;break}e.mode=El;break;case H5:for(;y<14;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(e.nlen=(d&31)+257,d>>>=5,y-=5,e.ndist=(d&31)+1,d>>>=5,y-=5,e.ncode=(d&15)+4,d>>>=4,y-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Tr;break}e.have=0,e.mode=G5;case G5:for(;e.have<e.ncode;){for(;y<3;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}e.lens[I[e.have++]]=d&7,d>>>=3,y-=3}for(;e.have<19;)e.lens[I[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U={bits:e.lenbits},D=Kf(lx,e.lens,0,19,e.lencode,0,e.work,U),e.lenbits=U.bits,D){n.msg="invalid code lengths set",e.mode=Tr;break}e.have=0,e.mode=$5;case $5:for(;e.have<e.nlen+e.ndist;){for(;q=e.lencode[d&(1<<e.lenbits)-1],B=q>>>24,tt=q>>>16&255,et=q&65535,!(B<=y);){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(et<16)d>>>=B,y-=B,e.lens[e.have++]=et;else{if(et===16){for(T=B+2;y<T;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(d>>>=B,y-=B,e.have===0){n.msg="invalid bit length repeat",e.mode=Tr;break}W=e.lens[e.have-1],b=3+(d&3),d>>>=2,y-=2}else if(et===17){for(T=B+3;y<T;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}d>>>=B,y-=B,W=0,b=3+(d&7),d>>>=3,y-=3}else{for(T=B+7;y<T;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}d>>>=B,y-=B,W=0,b=11+(d&127),d>>>=7,y-=7}if(e.have+b>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Tr;break}for(;b--;)e.lens[e.have++]=W}}if(e.mode===Tr)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Tr;break}if(e.lenbits=9,U={bits:e.lenbits},D=Kf(Vw,e.lens,0,e.nlen,e.lencode,0,e.work,U),e.lenbits=U.bits,D){n.msg="invalid literal/lengths set",e.mode=Tr;break}if(e.distbits=6,e.distcode=e.distdyn,U={bits:e.distbits},D=Kf(Uw,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,U),e.distbits=U.bits,D){n.msg="invalid distances set",e.mode=Tr;break}if(e.mode=Bp,t===Fp)break t;case Bp:e.mode=qp;case qp:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,e.hold=d,e.bits=y,nx(n,x),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=e.hold,y=e.bits,e.mode===El&&(e.back=-1);break}for(e.back=0;q=e.lencode[d&(1<<e.lenbits)-1],B=q>>>24,tt=q>>>16&255,et=q&65535,!(B<=y);){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(tt&&(tt&240)===0){for(Q=B,st=tt,Et=et;q=e.lencode[Et+((d&(1<<Q+st)-1)>>Q)],B=q>>>24,tt=q>>>16&255,et=q&65535,!(Q+B<=y);){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}d>>>=Q,y-=Q,e.back+=Q}if(d>>>=B,y-=B,e.back+=B,e.length=et,tt===0){e.mode=X5;break}if(tt&32){e.back=-1,e.mode=El;break}if(tt&64){n.msg="invalid literal/length code",e.mode=Tr;break}e.extra=tt&15,e.mode=W5;case W5:if(e.extra){for(T=e.extra;y<T;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,y-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Y5;case Y5:for(;q=e.distcode[d&(1<<e.distbits)-1],B=q>>>24,tt=q>>>16&255,et=q&65535,!(B<=y);){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if((tt&240)===0){for(Q=B,st=tt,Et=et;q=e.distcode[Et+((d&(1<<Q+st)-1)>>Q)],B=q>>>24,tt=q>>>16&255,et=q&65535,!(Q+B<=y);){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}d>>>=Q,y-=Q,e.back+=Q}if(d>>>=B,y-=B,e.back+=B,tt&64){n.msg="invalid distance code",e.mode=Tr;break}e.offset=et,e.extra=tt&15,e.mode=K5;case K5:if(e.extra){for(T=e.extra;y<T;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,y-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Tr;break}e.mode=Q5;case Q5:if(f===0)break t;if(b=x-f,e.offset>b){if(b=e.offset-b,b>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Tr;break}b>e.wnext?(b-=e.wnext,O=e.wsize-b):O=e.wnext-b,b>e.length&&(b=e.length),F=e.window}else F=a,O=u-e.offset,b=e.length;b>f&&(b=f),f-=b,e.length-=b;do a[u++]=F[O++];while(--b);e.length===0&&(e.mode=qp);break;case X5:if(f===0)break t;a[u++]=e.length,f--,e.mode=qp;break;case M1:if(e.wrap){for(;y<32;){if(c===0)break t;c--,d|=r[o++]<<y,y+=8}if(x-=f,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?Vo(e.check,a,x,u-x):w0(e.check,a,x,u-x)),x=f,e.wrap&4&&(e.flags?d:t_(d))!==e.check){n.msg="incorrect data check",e.mode=Tr;break}d=0,y=0}e.mode=Z5;case Z5:if(e.wrap&&e.flags){for(;y<32;){if(c===0)break t;c--,d+=r[o++]<<y,y+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Tr;break}d=0,y=0}e.mode=J5;case J5:D=cx;break t;case Tr:D=Fw;break t;case qw:return Bw;case zw:default:return za}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,e.hold=d,e.bits=y,(e.wsize||x!==n.avail_out&&e.mode<Tr&&(e.mode<M1||t!==L5))&&Yw(n,n.output,n.next_out,x-n.avail_out),A-=n.avail_in,x-=n.avail_out,n.total_in+=A,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?Vo(e.check,a,x,n.next_out-x):w0(e.check,a,x,n.next_out-x)),n.data_type=e.bits+(e.last?64:0)+(e.mode===El?128:0)+(e.mode===Bp||e.mode===O1?256:0),(A===0&&x===0||t===L5)&&D===Ec&&(D=fx),D},wx=n=>{if(Rc(n))return za;let t=n.state;return t.window&&(t.window=null),n.state=null,Ec},Ax=(n,t)=>{if(Rc(n))return za;const e=n.state;return(e.wrap&2)===0?za:(e.head=t,t.done=!1,Ec)},Sx=(n,t)=>{const e=t.length;let r,a,o;return Rc(n)||(r=n.state,r.wrap!==0&&r.mode!==_m)?za:r.mode===_m&&(a=1,a=w0(a,t,e,0),a!==r.check)?Fw:(o=Yw(n,t,e,e),o?(r.mode=qw,Bw):(r.havedict=1,Ec))};var Ex=Gw,xx=$w,Tx=Hw,Nx=vx,Cx=Ww,Ix=bx,Rx=wx,Lx=Ax,kx=Sx,Px="pako inflate (from Nodeca project)",xl={inflateReset:Ex,inflateReset2:xx,inflateResetKeep:Tx,inflateInit:Nx,inflateInit2:Cx,inflate:Ix,inflateEnd:Rx,inflateGetHeader:Lx,inflateSetDictionary:kx,inflateInfo:Px};function Dx(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ox=Dx;const Kw=Object.prototype.toString,{Z_NO_FLUSH:Mx,Z_FINISH:jx,Z_OK:id,Z_STREAM_END:U1,Z_NEED_DICT:F1,Z_STREAM_ERROR:Vx,Z_DATA_ERROR:n_,Z_MEM_ERROR:Ux}=Ow;function bd(n){this.options=Mw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tx,this.strm.avail_out=0;let e=xl.inflateInit2(this.strm,t.windowBits);if(e!==id)throw new Error(A0[e]);if(this.header=new Ox,xl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=S0.string2buf(t.dictionary):Kw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=xl.inflateSetDictionary(this.strm,t.dictionary),e!==id)))throw new Error(A0[e])}bd.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?jx:Mx,Kw.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=xl.inflate(e,u),o===F1&&a&&(o=xl.inflateSetDictionary(e,a),o===id?o=xl.inflate(e,u):o===n_&&(o=F1));e.avail_in>0&&o===U1&&e.state.wrap>0&&n[e.next_in]!==0;)xl.inflateReset(e),o=xl.inflate(e,u);switch(o){case Vx:case n_:case F1:case Ux:return this.onEnd(o),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||o===U1))if(this.options.to==="string"){let f=S0.utf8border(e.output,e.next_out),d=e.next_out-f,y=S0.buf2string(e.output,f);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(y)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===id&&c===0)){if(o===U1)return o=xl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};bd.prototype.onData=function(n){this.chunks.push(n)};bd.prototype.onEnd=function(n){n===id&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Fx(n,t){const e=new bd(t);if(e.push(n),e.err)throw e.msg||A0[e.err];return e.result}var Bx=bd,qx=Fx,zx={Inflate:Bx,inflate:qx};const{Inflate:Hx,inflate:Gx}=zx;var r_=Hx,$x=Gx;const Qw=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;Qw[n]=t}const i_=4294967295;function Wx(n,t,e){let r=n;for(let a=0;a<e;a++)r=Qw[(r^t[a])&255]^r>>>8;return r}function Yx(n,t){return(Wx(i_,n,t)^i_)>>>0}function s_(n,t,e){const r=n.readUint32(),a=Yx(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function Xw(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function Zw(n,t,e,r){let a=0;for(;a<r;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-r]&255}function Jw(n,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=n[a];else for(;a<r;a++)t[a]=n[a]+e[a]&255}function t4(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function e4(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+Kx(t[o-a],e[o],e[o-a])&255}}function Kx(n,t,e){const r=n+t-e,a=Math.abs(r-n),o=Math.abs(r-t),u=Math.abs(r-e);return a<=o&&a<=u?n:o<=u?t:e}function Qx(n,t,e,r,a,o){switch(n){case 0:Xw(t,e,a);break;case 1:Zw(t,e,a,o);break;case 2:Jw(t,e,r,a);break;case 3:t4(t,e,r,a,o);break;case 4:e4(t,e,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Xx=new Uint16Array([255]),Zx=new Uint8Array(Xx.buffer),Jx=Zx[0]===255;function tT(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*e*c);let d=0;for(let y=0;y<7;y++){const A=u[y],x=Math.ceil((e-A.x)/A.xStep),b=Math.ceil((r-A.y)/A.yStep);if(x<=0||b<=0)continue;const O=x*c,F=new Uint8Array(O);for(let q=0;q<b;q++){const B=t[d++],tt=t.subarray(d,d+O);d+=O;const et=new Uint8Array(O);Qx(B,tt,et,F,O,c),F.set(et);for(let Q=0;Q<x;Q++){const st=A.x+Q*A.xStep,Et=A.y+q*A.yStep;if(!(st>=e||Et>=r))for(let W=0;W<c;W++)f[(Et*e+st)*c+W]=et[Q*c+W]}}}if(o===16){const y=new Uint16Array(f.buffer);if(Jx)for(let A=0;A<y.length;A++)y[A]=eT(y[A]);return y}else return f}function eT(n){return(n&255)<<8|n>>8&255}const nT=new Uint16Array([255]),rT=new Uint8Array(nT.buffer),iT=rT[0]===255,sT=new Uint8Array(0);function a_(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*e),f=new Uint8Array(r*c);let d=sT,y=0,A,x;for(let b=0;b<r;b++){switch(A=t.subarray(y+1,y+1+c),x=f.subarray(b*c,(b+1)*c),t[y]){case 0:Xw(A,x,c);break;case 1:Zw(A,x,c,u);break;case 2:Jw(A,x,d,c);break;case 3:t4(A,x,d,c,u);break;case 4:e4(A,x,d,c,u);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}d=x,y+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(iT)for(let O=0;O<b.length;O++)b[O]=aT(b[O]);return b}else return f}function aT(n){return(n&255)<<8|n>>8&255}const em=Uint8Array.of(137,80,78,71,13,10,26,10);function o_(n){if(!oT(n.readBytes(em.length)))throw new Error("wrong PNG signature")}function oT(n){if(n.length<em.length)return!1;for(let t=0;t<em.length;t++)if(n[t]!==em[t])return!1;return!0}const lT="tEXt",uT=0,n4=new TextDecoder("latin1");function cT(n){if(fT(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const hT=/^[\u0000-\u00FF]*$/;function fT(n){if(!hT.test(n))throw new Error("invalid latin1 text")}function dT(n,t,e){const r=r4(t);n[r]=pT(t,e-r.length-1)}function r4(n){for(n.mark();n.readByte()!==uT;);const t=n.offset;n.reset();const e=n4.decode(n.readBytes(t-n.offset-1));return n.skip(1),cT(e),e}function pT(n,t){return n4.decode(n.readBytes(t))}const la={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},B1={UNKNOWN:-1,DEFLATE:0},l_={UNKNOWN:-1,ADAPTIVE:0},q1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},zp={NONE:0,BACKGROUND:1,PREVIOUS:2},z1={SOURCE:0,OVER:1};class mT extends l2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new r_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=B1.UNKNOWN,this._filterMethod=l_.UNKNOWN,this._interlaceMethod=q1.UNKNOWN,this._colorType=la.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o_(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(o_(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case lT:dT(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?s_(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?s_(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=gT(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case la.GREYSCALE:r=1;break;case la.TRUECOLOUR:r=3;break;case la.INDEXED_COLOUR:r=1;break;case la.GREYSCALE_ALPHA:r=2;break;case la.TRUECOLOUR_ALPHA:r=4;break;case la.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==B1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<e;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case la.GREYSCALE:case la.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case la.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case la.UNKNOWN:case la.GREYSCALE_ALPHA:case la.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=r4(this),r=this.readUint8();if(r!==B1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:$x(a)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=a_({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(r,a,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case zp.NONE:break;case zp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*t.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case zp.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,a=(o,u)=>{const c=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,f=(o*e.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(e.blendOp){case z1.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)t.data[c+d]=e.data[f+d]}break;case z1.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const y=e.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:e.data[f+d],x=Math.floor(y*A+(1-y)*t.data[c+d]);t.data[c+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==l_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===q1.NO_INTERLACE)this._png.data=a_({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===q1.ADAM7)this._png.data=tT({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:zp.NONE,blendOp:z1.SOURCE,data:t}),this._inflator=new r_,this._writingDataChunks=!1}}function gT(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var u_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(u_||(u_={}));function yT(n,t){return new mT(n,t).decode()}var We=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function H1(){We.console&&typeof We.console.log=="function"&&We.console.log.apply(We.console,arguments)}var ar={log:H1,warn:function(n){We.console&&(typeof We.console.warn=="function"?We.console.warn.apply(We.console,arguments):H1.call(null,arguments))},error:function(n){We.console&&(typeof We.console.error=="function"?We.console.error.apply(We.console,arguments):H1(n))}};function G1(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){mc(r.response,t,e)},r.onerror=function(){ar.error("could not download file")},r.send()}function c_(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Hp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var mc=We.saveAs||((typeof window>"u"?"undefined":Yn(window))!=="object"||window!==We?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=We.URL||We.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?c_(a.href)?G1(n,t,e):Hp(a,a.target="_blank"):Hp(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Hp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(c_(n))G1(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Hp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Yn(o)!=="object"&&(ar.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return G1(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(We.HTMLElement)||We.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Yn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(n)}else{var f=We.URL||We.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function i4(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,o=e[r].process,u=a.exec(n);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var nm=We.atob.bind(We),h_=We.btoa.bind(We);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $1(n,t){var e=n[0],r=n[1],a=n[2],o=n[3];e=hs(e,r,a,o,t[0],7,-680876936),o=hs(o,e,r,a,t[1],12,-389564586),a=hs(a,o,e,r,t[2],17,606105819),r=hs(r,a,o,e,t[3],22,-1044525330),e=hs(e,r,a,o,t[4],7,-176418897),o=hs(o,e,r,a,t[5],12,1200080426),a=hs(a,o,e,r,t[6],17,-1473231341),r=hs(r,a,o,e,t[7],22,-45705983),e=hs(e,r,a,o,t[8],7,1770035416),o=hs(o,e,r,a,t[9],12,-1958414417),a=hs(a,o,e,r,t[10],17,-42063),r=hs(r,a,o,e,t[11],22,-1990404162),e=hs(e,r,a,o,t[12],7,1804603682),o=hs(o,e,r,a,t[13],12,-40341101),a=hs(a,o,e,r,t[14],17,-1502002290),e=fs(e,r=hs(r,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=fs(o,e,r,a,t[6],9,-1069501632),a=fs(a,o,e,r,t[11],14,643717713),r=fs(r,a,o,e,t[0],20,-373897302),e=fs(e,r,a,o,t[5],5,-701558691),o=fs(o,e,r,a,t[10],9,38016083),a=fs(a,o,e,r,t[15],14,-660478335),r=fs(r,a,o,e,t[4],20,-405537848),e=fs(e,r,a,o,t[9],5,568446438),o=fs(o,e,r,a,t[14],9,-1019803690),a=fs(a,o,e,r,t[3],14,-187363961),r=fs(r,a,o,e,t[8],20,1163531501),e=fs(e,r,a,o,t[13],5,-1444681467),o=fs(o,e,r,a,t[2],9,-51403784),a=fs(a,o,e,r,t[7],14,1735328473),e=ds(e,r=fs(r,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ds(o,e,r,a,t[8],11,-2022574463),a=ds(a,o,e,r,t[11],16,1839030562),r=ds(r,a,o,e,t[14],23,-35309556),e=ds(e,r,a,o,t[1],4,-1530992060),o=ds(o,e,r,a,t[4],11,1272893353),a=ds(a,o,e,r,t[7],16,-155497632),r=ds(r,a,o,e,t[10],23,-1094730640),e=ds(e,r,a,o,t[13],4,681279174),o=ds(o,e,r,a,t[0],11,-358537222),a=ds(a,o,e,r,t[3],16,-722521979),r=ds(r,a,o,e,t[6],23,76029189),e=ds(e,r,a,o,t[9],4,-640364487),o=ds(o,e,r,a,t[12],11,-421815835),a=ds(a,o,e,r,t[15],16,530742520),e=ps(e,r=ds(r,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=ps(o,e,r,a,t[7],10,1126891415),a=ps(a,o,e,r,t[14],15,-1416354905),r=ps(r,a,o,e,t[5],21,-57434055),e=ps(e,r,a,o,t[12],6,1700485571),o=ps(o,e,r,a,t[3],10,-1894986606),a=ps(a,o,e,r,t[10],15,-1051523),r=ps(r,a,o,e,t[1],21,-2054922799),e=ps(e,r,a,o,t[8],6,1873313359),o=ps(o,e,r,a,t[15],10,-30611744),a=ps(a,o,e,r,t[6],15,-1560198380),r=ps(r,a,o,e,t[13],21,1309151649),e=ps(e,r,a,o,t[4],6,-145523070),o=ps(o,e,r,a,t[11],10,-1120210379),a=ps(a,o,e,r,t[2],15,718787259),r=ps(r,a,o,e,t[9],21,-343485551),n[0]=Tu(e,n[0]),n[1]=Tu(r,n[1]),n[2]=Tu(a,n[2]),n[3]=Tu(o,n[3])}function Ym(n,t,e,r,a,o){return t=Tu(Tu(t,n),Tu(r,o)),Tu(t<<a|t>>>32-a,e)}function hs(n,t,e,r,a,o,u){return Ym(t&e|~t&r,n,t,a,o,u)}function fs(n,t,e,r,a,o,u){return Ym(t&r|e&~r,n,t,a,o,u)}function ds(n,t,e,r,a,o,u){return Ym(t^e^r,n,t,a,o,u)}function ps(n,t,e,r,a,o,u){return Ym(e^(t|~r),n,t,a,o,u)}function s4(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)$1(r,vT(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for($1(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,$1(r,a),r}function vT(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var f_="0123456789abcdef".split("");function _T(n){for(var t="",e=0;e<4;e++)t+=f_[n>>8*e+4&15]+f_[n>>8*e&15];return t}function bT(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function E0(n){return s4(n).map(bT).join("")}var wT=(function(n){for(var t=0;t<n.length;t++)n[t]=_T(n[t]);return n.join("")})(s4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tu(n,t){if(wT){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x0(n,t){var e,r,a,o;if(n!==e){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var y=c[f];d=(d+y+u.charCodeAt(f))%256,c[f]=c[d],c[d]=y}e=n,r=c}else c=r;var A=t.length,x=0,b=0,O="";for(f=0;f<A;f++)b=(b+(y=c[x=(x+1)%256]))%256,c[x]=c[b],c[b]=y,u=c[(c[x]+c[b])%256],O+=String.fromCharCode(t.charCodeAt(f)^u);return O}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var d_={print:4,modify:8,copy:16,"annot-forms":32};function ph(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(d_.perm!==void 0)throw new Error("Invalid permission: "+c);a+=d_[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=E0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=x0(this.encryptionKey,this.padding)}function mh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return t}function p_(n){if(Yn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!a],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(n,r)}catch(c){We.console&&ar.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function bm(n){if(!(this instanceof bm))return new bm(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function a4(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function yc(n,t,e,r,a){if(!(this instanceof yc))return new yc(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,a4.call(this,r,a)}function bh(n,t,e,r,a){if(!(this instanceof bh))return new bh(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,a4.call(this,r,a)}function Se(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",y=null;Yn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,x={},b={internal:{},__private__:{}};b.__private__.PubSub=p_;var O="1.3",F=b.__private__.getPdfVersion=function(){return O};b.__private__.setPdfVersion=function(w){O=w};var q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return q};var B=b.__private__.getPageFormat=function(w){return q[w]};a=a||"a4";var tt="compat",et="advanced",Q=tt;function st(){this.saveGraphicsState(),lt(new Ie(Le,0,0,-Le,0,Ui()*Le).toString()+" cm"),this.setFontSize(this.getFontSize()/Le),d="n",Q=et}function Et(){this.restoreGraphicsState(),d="S",Q=tt}var W=b.__private__.combineFontStyleAndFontWeight=function(w,j){if(w=="bold"&&j=="normal"||w=="bold"&&j==400||w=="normal"&&j=="italic"||w=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(w=j==400||j==="normal"?w==="italic"?"italic":"normal":j!=700&&j!=="bold"||w!=="normal"?(j==700?"bold":j)+""+w:"bold"),w};b.advancedAPI=function(w){var j=Q===tt;return j&&st.call(this),typeof w!="function"||(w(this),j&&Et.call(this)),this},b.compatAPI=function(w){var j=Q===et;return j&&Et.call(this),typeof w!="function"||(w(this),j&&st.call(this)),this},b.isAdvancedAPI=function(){return Q===et};var D,R=function(w){if(Q!==et)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=b.roundToPrecision=b.__private__.roundToPrecision=function(w,j){var rt=t||j;if(isNaN(w)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(rt).replace(/0+$/,"")};D=b.hpf=b.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return U(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return U(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return U(w,16)};var T=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return U(w,2)},I=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return U(w,3)},k=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return Q===tt?w*Le:Q===et?w:void 0},ut=function(w){return k((function(j){return Q===tt?Ui()-j:Q===et?j:void 0})(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var Tt,at="00000000000000000000000000000000",mt=b.__private__.getFileId=function(){return at},ot=b.__private__.setFileId=function(w){return at=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():at.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(tn=new ph(y.userPermissions,y.userPassword,y.ownerPassword,at)),at};b.setFileId=function(w){return ot(w),this},b.getFileId=function(){return mt()};var wt=b.__private__.convertDateToPDFDate=function(w){var j=w.getTimezoneOffset(),rt=j<0?"+":"-",pt=Math.floor(Math.abs(j/60)),bt=Math.abs(j%60),Ft=[rt,J(pt),"'",J(bt),"'"].join("");return["D:",w.getFullYear(),J(w.getMonth()+1),J(w.getDate()),J(w.getHours()),J(w.getMinutes()),J(w.getSeconds()),Ft].join("")},Z=b.__private__.convertPDFDateToDate=function(w){var j=parseInt(w.substr(2,4),10),rt=parseInt(w.substr(6,2),10)-1,pt=parseInt(w.substr(8,2),10),bt=parseInt(w.substr(10,2),10),Ft=parseInt(w.substr(12,2),10),Wt=parseInt(w.substr(14,2),10);return new Date(j,rt,pt,bt,Ft,Wt,0)},ft=b.__private__.setCreationDate=function(w){var j;if(w===void 0&&(w=new Date),w instanceof Date)j=wt(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=w}return Tt=j},P=b.__private__.getCreationDate=function(w){var j=Tt;return w==="jsDate"&&(j=Z(Tt)),j};b.setCreationDate=function(w){return ft(w),this},b.getCreationDate=function(w){return P(w)};var G,J=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ct=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},dt=0,yt=[],Lt=[],Pt=0,qt=[],Qt=[],ne=!1,re=Lt;b.__private__.setCustomOutputDestination=function(w){ne=!0,re=w};var Mt=function(w){ne||(re=w)};b.__private__.resetCustomOutputDestination=function(){ne=!1,re=Lt};var lt=b.__private__.out=function(w){return w=w.toString(),Pt+=w.length+1,re.push(w),re},en=b.__private__.write=function(w){return lt(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ne=b.__private__.getArrayBuffer=function(w){for(var j=w.length,rt=new ArrayBuffer(j),pt=new Uint8Array(rt);j--;)pt[j]=w.charCodeAt(j);return rt},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return xe};var Zt=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return Zt=Q===et?w/Le:w,this};var ye,ee=b.__private__.getFontSize=b.getFontSize=function(){return Q===tt?Zt:Zt*Le},Ye=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return Ye=w,this},b.__private__.getR2L=b.getR2L=function(){return Ye};var _e,mn=b.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ye=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ye=w}else ye=parseInt(w,10)};b.__private__.getZoomMode=function(){return ye};var Be,ce=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');_e=w};b.__private__.getPageMode=function(){return _e};var we=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Be=w};b.__private__.getLayoutMode=function(){return Be},b.__private__.setDisplayMode=b.setDisplayMode=function(w,j,rt){return mn(w),we(j),ce(rt),this};var Te={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(Te).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Te[w]},b.__private__.getDocumentProperties=function(){return Te},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var j in Te)Te.hasOwnProperty(j)&&w[j]&&(Te[j]=w[j]);return this},b.__private__.setDocumentProperty=function(w,j){if(Object.keys(Te).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Te[w]=j};var se,Le,be,Tn,an,he={},Ce={},Nn=[],Ae={},nn={},Ve={},er={},qn=null,gn=0,Pe=[],rn=new p_(b),Ys=n.hotfixes||[],fr={},ts={},di=[],Ie=function w(j,rt,pt,bt,Ft,Wt){if(!(this instanceof w))return new w(j,rt,pt,bt,Ft,Wt);isNaN(j)&&(j=1),isNaN(rt)&&(rt=0),isNaN(pt)&&(pt=0),isNaN(bt)&&(bt=1),isNaN(Ft)&&(Ft=0),isNaN(Wt)&&(Wt=0),this._matrix=[j,rt,pt,bt,Ft,Wt]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ie.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(w)},Ie.prototype.multiply=function(w){var j=w.sx*this.sx+w.shy*this.shx,rt=w.sx*this.shy+w.shy*this.sy,pt=w.shx*this.sx+w.sy*this.shx,bt=w.shx*this.shy+w.sy*this.sy,Ft=w.tx*this.sx+w.ty*this.shx+this.tx,Wt=w.tx*this.shy+w.ty*this.sy+this.ty;return new Ie(j,rt,pt,bt,Ft,Wt)},Ie.prototype.decompose=function(){var w=this.sx,j=this.shy,rt=this.shx,pt=this.sy,bt=this.tx,Ft=this.ty,Wt=Math.sqrt(w*w+j*j),ae=(w/=Wt)*rt+(j/=Wt)*pt;rt-=w*ae,pt-=j*ae;var pe=Math.sqrt(rt*rt+pt*pt);return ae/=pe,w*(pt/=pe)<j*(rt/=pe)&&(w=-w,j=-j,ae=-ae,Wt=-Wt),{scale:new Ie(Wt,0,0,pe,0,0),translate:new Ie(1,0,0,1,bt,Ft),rotate:new Ie(w,j,-j,w,0,0),skew:new Ie(1,0,ae,1,0,0)}},Ie.prototype.toString=function(w){return this.join(" ")},Ie.prototype.inversed=function(){var w=this.sx,j=this.shy,rt=this.shx,pt=this.sy,bt=this.tx,Ft=this.ty,Wt=1/(w*pt-j*rt),ae=pt*Wt,pe=-j*Wt,ke=-rt*Wt,qe=w*Wt;return new Ie(ae,pe,ke,qe,-ae*bt-ke*Ft,-pe*bt-qe*Ft)},Ie.prototype.applyToPoint=function(w){var j=w.x*this.sx+w.y*this.shx+this.tx,rt=w.x*this.shy+w.y*this.sy+this.ty;return new wa(j,rt)},Ie.prototype.applyToRectangle=function(w){var j=this.applyToPoint(w),rt=this.applyToPoint(new wa(w.x+w.w,w.y+w.h));return new Aa(j.x,j.y,rt.x-j.x,rt.y-j.y)},Ie.prototype.clone=function(){var w=this.sx,j=this.shy,rt=this.shx,pt=this.sy,bt=this.tx,Ft=this.ty;return new Ie(w,j,rt,pt,bt,Ft)},b.Matrix=Ie;var Cn=b.matrixMult=function(w,j){return j.multiply(w)},zn=new Ie(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=zn;var kn=function(w,j){if(!nn[w]){var rt=(j instanceof yc?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);j.id=rt,nn[w]=rt,Ae[rt]=j,rn.publish("addPattern",j)}};b.ShadingPattern=yc,b.TilingPattern=bh,b.addShadingPattern=function(w,j){return R("addShadingPattern()"),kn(w,j),this},b.beginTilingPattern=function(w){R("beginTilingPattern()"),ls(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,j){R("endTilingPattern()"),j.stream=Qt[G].join(`
`),kn(w,j),rn.publish("endTilingPattern",j),di.pop().restore()};var dr,Kn=b.__private__.newObject=function(){var w=Mr();return lr(w,!0),w},Mr=b.__private__.newObjectDeferred=function(){return dt++,yt[dt]=function(){return Pt},dt},lr=function(w,j){return j=typeof j=="boolean"&&j,yt[w]=Pt,j&&lt(w+" 0 obj"),w},da=b.__private__.newAdditionalObject=function(){var w={objId:Mr(),content:""};return qt.push(w),w},es=Mr(),si=Mr(),ai=b.__private__.decodeColorString=function(w){var j=w.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var rt=parseFloat(j[0]);j=[rt,rt,rt,"r"]}for(var pt="#",bt=0;bt<3;bt++)pt+=("0"+Math.floor(255*parseFloat(j[bt])).toString(16)).slice(-2);return pt},jr=b.__private__.encodeColorString=function(w){var j;typeof w=="string"&&(w={ch1:w});var rt=w.ch1,pt=w.ch2,bt=w.ch3,Ft=w.ch4,Wt=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var ae=new i4(rt);if(ae.ok)rt=ae.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var pe=parseInt(rt.substr(1),16);rt=pe>>16&255,pt=pe>>8&255,bt=255&pe}if(pt===void 0||Ft===void 0&&rt===pt&&pt===bt)j=typeof rt=="string"?rt+" "+Wt[0]:w.precision===2?T(rt/255)+" "+Wt[0]:I(rt/255)+" "+Wt[0];else if(Ft===void 0||Yn(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Wt[1]].join(" ");j=typeof rt=="string"?[rt,pt,bt,Wt[1]].join(" "):w.precision===2?[T(rt/255),T(pt/255),T(bt/255),Wt[1]].join(" "):[I(rt/255),I(pt/255),I(bt/255),Wt[1]].join(" ")}else j=typeof rt=="string"?[rt,pt,bt,Ft,Wt[2]].join(" "):w.precision===2?[T(rt),T(pt),T(bt),T(Ft),Wt[2]].join(" "):[I(rt),I(pt),I(bt),I(Ft),Wt[2]].join(" ");return j},Vr=b.__private__.getFilters=function(){return u},Qn=b.__private__.putStream=function(w){var j=(w=w||{}).data||"",rt=w.filters||Vr(),pt=w.alreadyAppliedFilters||[],bt=w.addLength1||!1,Ft=j.length,Wt=w.objectId,ae=function(pr){return pr};if(y!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(ae=tn.encryptor(Wt,0));var pe={};rt===!0&&(rt=["FlateEncode"]);var ke=w.additionalKeyValues||[],qe=(pe=Se.API.processDataByFilters!==void 0?Se.API.processDataByFilters(j,rt):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(pe.data.length!==0&&(ke.push({key:"Length",value:pe.data.length}),bt===!0&&ke.push({key:"Length1",value:Ft})),qe.length!=0)if(qe.split("/").length-1==1)ke.push({key:"Filter",value:qe});else{ke.push({key:"Filter",value:"["+qe+"]"});for(var ln=0;ln<ke.length;ln+=1)if(ke[ln].key==="DecodeParms"){for(var Xn=[],nr=0;nr<pe.reverseChain.split("/").length-1;nr+=1)Xn.push("null");Xn.push(ke[ln].value),ke[ln].value="["+Xn.join(" ")+"]"}}lt("<<");for(var Pn=0;Pn<ke.length;Pn++)lt("/"+ke[Pn].key+" "+ke[Pn].value);lt(">>"),pe.data.length!==0&&(lt("stream"),lt(ae(pe.data)),lt("endstream"))},Hn=b.__private__.putPage=function(w){var j=w.number,rt=w.data,pt=w.objId,bt=w.contentsObjId;lr(pt,!0),lt("<</Type /Page"),lt("/Parent "+w.rootDictionaryObjId+" 0 R"),lt("/Resources "+w.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(D(w.mediaBox.bottomLeftX))+" "+parseFloat(D(w.mediaBox.bottomLeftY))+" "+D(w.mediaBox.topRightX)+" "+D(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&lt("/CropBox ["+D(w.cropBox.bottomLeftX)+" "+D(w.cropBox.bottomLeftY)+" "+D(w.cropBox.topRightX)+" "+D(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&lt("/BleedBox ["+D(w.bleedBox.bottomLeftX)+" "+D(w.bleedBox.bottomLeftY)+" "+D(w.bleedBox.topRightX)+" "+D(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&lt("/TrimBox ["+D(w.trimBox.bottomLeftX)+" "+D(w.trimBox.bottomLeftY)+" "+D(w.trimBox.topRightX)+" "+D(w.trimBox.topRightY)+"]"),w.artBox!==null&&lt("/ArtBox ["+D(w.artBox.bottomLeftX)+" "+D(w.artBox.bottomLeftY)+" "+D(w.artBox.topRightX)+" "+D(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&lt("/UserUnit "+w.userUnit),rn.publish("putPage",{objId:pt,pageContext:Pe[j],pageNumber:j,page:rt}),lt("/Contents "+bt+" 0 R"),lt(">>"),lt("endobj");var Ft=rt.join(`
`);return Q===et&&(Ft+=`
Q`),lr(bt,!0),Qn({data:Ft,filters:Vr(),objectId:bt}),lt("endobj"),pt},ns=b.__private__.putPages=function(){var w,j,rt=[];for(w=1;w<=gn;w++)Pe[w].objId=Mr(),Pe[w].contentsObjId=Mr();for(w=1;w<=gn;w++)rt.push(Hn({number:w,data:Qt[w],objId:Pe[w].objId,contentsObjId:Pe[w].contentsObjId,mediaBox:Pe[w].mediaBox,cropBox:Pe[w].cropBox,bleedBox:Pe[w].bleedBox,trimBox:Pe[w].trimBox,artBox:Pe[w].artBox,userUnit:Pe[w].userUnit,rootDictionaryObjId:es,resourceDictionaryObjId:si}));lr(es,!0),lt("<</Type /Pages");var pt="/Kids [";for(j=0;j<gn;j++)pt+=rt[j]+" 0 R ";lt(pt+"]"),lt("/Count "+gn),lt(">>"),lt("endobj"),rn.publish("postPutPages")},ks=function(w){rn.publish("putFont",{font:w,out:lt,newObject:Kn,putStream:Qn}),w.isAlreadyPutted!==!0&&(w.objectNumber=Kn(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+mh(w.postScriptName)),lt("/Subtype /Type1"),typeof w.encoding=="string"&&lt("/Encoding /"+w.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},Si=function(w){w.objectNumber=Kn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[D(w.x),D(w.y),D(w.x+w.width),D(w.y+w.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var rt=w.pages[1].join(`
`);Qn({data:rt,additionalKeyValues:j,objectId:w.objectNumber}),lt("endobj")},rs=function(w,j){j||(j=21);var rt=Kn(),pt=(function(Wt,ae){var pe,ke=[],qe=1/(ae-1);for(pe=0;pe<1;pe+=qe)ke.push(pe);if(ke.push(1),Wt[0].offset!=0){var ln={offset:0,color:Wt[0].color};Wt.unshift(ln)}if(Wt[Wt.length-1].offset!=1){var Xn={offset:1,color:Wt[Wt.length-1].color};Wt.push(Xn)}for(var nr="",Pn=0,pr=0;pr<ke.length;pr++){for(pe=ke[pr];pe>Wt[Pn+1].offset;)Pn++;var Un=Wt[Pn].offset,Br=(pe-Un)/(Wt[Pn+1].offset-Un),js=Wt[Pn].color,ta=Wt[Pn+1].color;nr+=ct(Math.round((1-Br)*js[0]+Br*ta[0]).toString(16))+ct(Math.round((1-Br)*js[1]+Br*ta[1]).toString(16))+ct(Math.round((1-Br)*js[2]+Br*ta[2]).toString(16))}return nr.trim()})(w.colors,j),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+j+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qn({data:pt,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),lt("endobj"),w.objectNumber=Kn(),lt("<< /ShadingType "+w.type),lt("/ColorSpace /DeviceRGB");var Ft="/Coords ["+D(parseFloat(w.coords[0]))+" "+D(parseFloat(w.coords[1]))+" ";w.type===2?Ft+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3])):Ft+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3]))+" "+D(parseFloat(w.coords[4]))+" "+D(parseFloat(w.coords[5])),lt(Ft+="]"),w.matrix&&lt("/Matrix ["+w.matrix.toString()+"]"),lt("/Function "+rt+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},Ha=function(w,j){var rt=Mr(),pt=Kn();j.push({resourcesOid:rt,objectOid:pt}),w.objectNumber=pt;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+w.boundingBox.map(D).join(" ")+"]"}),bt.push({key:"XStep",value:D(w.xStep)}),bt.push({key:"YStep",value:D(w.yStep)}),bt.push({key:"Resources",value:rt+" 0 R"}),w.matrix&&bt.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Qn({data:w.stream,additionalKeyValues:bt,objectId:w.objectNumber}),lt("endobj")},Ul=function(w){for(var j in w.objectNumber=Kn(),lt("<<"),w)switch(j){case"opacity":lt("/ca "+T(w[j]));break;case"stroke-opacity":lt("/CA "+T(w[j]))}lt(">>"),lt("endobj")},Ks=function(w){lr(w.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in lt("/Font <<"),he)he.hasOwnProperty(j)&&(A===!1||A===!0&&x.hasOwnProperty(j))&&lt("/"+j+" "+he[j].objectNumber+" 0 R");lt(">>")})(),(function(){if(Object.keys(Ae).length>0){for(var j in lt("/Shading <<"),Ae)Ae.hasOwnProperty(j)&&Ae[j]instanceof yc&&Ae[j].objectNumber>=0&&lt("/"+j+" "+Ae[j].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),lt(">>")}})(),(function(j){if(Object.keys(Ae).length>0){for(var rt in lt("/Pattern <<"),Ae)Ae.hasOwnProperty(rt)&&Ae[rt]instanceof b.TilingPattern&&Ae[rt].objectNumber>=0&&Ae[rt].objectNumber<j&&lt("/"+rt+" "+Ae[rt].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),lt(">>")}})(w.objectOid),(function(){if(Object.keys(Ve).length>0){var j;for(j in lt("/ExtGState <<"),Ve)Ve.hasOwnProperty(j)&&Ve[j].objectNumber>=0&&lt("/"+j+" "+Ve[j].objectNumber+" 0 R");rn.publish("putGStateDict"),lt(">>")}})(),(function(){for(var j in lt("/XObject <<"),fr)fr.hasOwnProperty(j)&&fr[j].objectNumber>=0&&lt("/"+j+" "+fr[j].objectNumber+" 0 R");rn.publish("putXobjectDict"),lt(">>")})(),lt(">>"),lt("endobj")},Jo=function(w){Ce[w.fontName]=Ce[w.fontName]||{},Ce[w.fontName][w.fontStyle]=w.id},Qs=function(w,j,rt,pt,bt){var Ft={id:"F"+(Object.keys(he).length+1).toString(10),postScriptName:w,fontName:j,fontStyle:rt,encoding:pt,isStandardFont:bt||!1,metadata:{}};return rn.publish("addFont",{font:Ft,instance:this}),he[Ft.id]=Ft,Jo(Ft),Ft.id},Nr=b.__private__.pdfEscape=b.pdfEscape=function(w,j){return(function(rt,pt){var bt,Ft,Wt,ae,pe,ke,qe,ln,Xn;if(Wt=(pt=pt||{}).sourceEncoding||"Unicode",pe=pt.outputEncoding,(pt.autoencode||pe)&&he[se].metadata&&he[se].metadata[Wt]&&he[se].metadata[Wt].encoding&&(ae=he[se].metadata[Wt].encoding,!pe&&he[se].encoding&&(pe=he[se].encoding),!pe&&ae.codePages&&(pe=ae.codePages[0]),typeof pe=="string"&&(pe=ae[pe]),pe)){for(qe=!1,ke=[],bt=0,Ft=rt.length;bt<Ft;bt++)(ln=pe[rt.charCodeAt(bt)])?ke.push(String.fromCharCode(ln)):ke.push(rt[bt]),ke[bt].charCodeAt(0)>>8&&(qe=!0);rt=ke.join("")}for(bt=rt.length;qe===void 0&&bt!==0;)rt.charCodeAt(bt-1)>>8&&(qe=!0),bt--;if(!qe)return rt;for(ke=pt.noBOM?[]:[254,255],bt=0,Ft=rt.length;bt<Ft;bt++){if((Xn=(ln=rt.charCodeAt(bt))>>8)>>8)throw new Error("Character at position "+bt+" of string '"+rt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ke.push(Xn),ke.push(ln-(Xn<<8))}return String.fromCharCode.apply(void 0,ke)})(w,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cr=b.__private__.beginPage=function(w){Qt[++gn]=[],Pe[gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Ps(gn),Mt(Qt[G])},pa=function(w,j){var rt,pt,bt;switch(e=j||e,typeof w=="string"&&(rt=B(w.toLowerCase()),Array.isArray(rt)&&(pt=rt[0],bt=rt[1])),Array.isArray(w)&&(pt=w[0]*Le,bt=w[1]*Le),isNaN(pt)&&(pt=a[0],bt=a[1]),(pt>14400||bt>14400)&&(ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),bt=Math.min(14400,bt)),a=[pt,bt],e.substr(0,1)){case"l":bt>pt&&(a=[bt,pt]);break;case"p":pt>bt&&(a=[bt,pt])}Cr(a),Os(_s),lt(os),bn!==0&&lt(bn+" J"),ba!==0&&lt(ba+" j"),rn.publish("addPage",{pageNumber:gn})},bo=function(w){w>0&&w<=gn&&(Qt.splice(w,1),Pe.splice(w,1),gn--,G>gn&&(G=gn),this.setPage(G))},Ps=function(w){w>0&&w<=gn&&(G=w)},Ga=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Qt.length-1},$a=function(w,j,rt){var pt,bt=void 0;return rt=rt||{},w=w!==void 0?w:he[se].fontName,j=j!==void 0?j:he[se].fontStyle,pt=w.toLowerCase(),Ce[pt]!==void 0&&Ce[pt][j]!==void 0?bt=Ce[pt][j]:Ce[w]!==void 0&&Ce[w][j]!==void 0?bt=Ce[w][j]:rt.disableWarning===!1&&ar.warn("Unable to look up font label for font '"+w+"', '"+j+"'. Refer to getFontList() for available fonts."),bt||rt.noFallback||(bt=Ce.times[j])==null&&(bt=Ce.times.normal),bt},ma=b.__private__.putInfo=function(){var w=Kn(),j=function(pt){return pt};for(var rt in y!==null&&(j=tn.encryptor(w,0)),lt("<<"),lt("/Producer ("+Nr(j("jsPDF "+Se.version))+")"),Te)Te.hasOwnProperty(rt)&&Te[rt]&&lt("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+Nr(j(Te[rt]))+")");lt("/CreationDate ("+Nr(j(Tt))+")"),lt(">>"),lt("endobj")},wo=b.__private__.putCatalog=function(w){var j=(w=w||{}).rootDictionaryObjId||es;switch(Kn(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+j+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+ye;rt.substr(rt.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+T(ye)+"]")}switch(Be||(Be="continuous"),Be){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}_e&&lt("/PageMode /"+_e),rn.publish("putCatalog"),lt(">>"),lt("endobj")},_n=b.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(dt+1)),lt("/Root "+dt+" 0 R"),lt("/Info "+(dt-1)+" 0 R"),y!==null&&lt("/Encrypt "+tn.oid+" 0 R"),lt("/ID [ <"+at+"> <"+at+"> ]"),lt(">>")},Ao=b.__private__.putHeader=function(){lt("%PDF-"+O),lt("%ºß¬à")},Fl=b.__private__.putXRef=function(){var w="0000000000";lt("xref"),lt("0 "+(dt+1)),lt("0000000000 65535 f ");for(var j=1;j<=dt;j++)typeof yt[j]=="function"?lt((w+yt[j]()).slice(-10)+" 00000 n "):yt[j]!==void 0?lt((w+yt[j]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},is=b.__private__.buildDocument=function(){var w;dt=0,Pt=0,Lt=[],yt=[],qt=[],es=Mr(),si=Mr(),Mt(Lt),rn.publish("buildDocument"),Ao(),ns(),(function(){rn.publish("putAdditionalObjects");for(var rt=0;rt<qt.length;rt++){var pt=qt[rt];lr(pt.objId,!0),lt(pt.content),lt("endobj")}rn.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var rt in he)he.hasOwnProperty(rt)&&(A===!1||A===!0&&x.hasOwnProperty(rt))&&ks(he[rt])})(),(function(){var rt;for(rt in Ve)Ve.hasOwnProperty(rt)&&Ul(Ve[rt])})(),(function(){for(var rt in fr)fr.hasOwnProperty(rt)&&Si(fr[rt])})(),(function(rt){var pt;for(pt in Ae)Ae.hasOwnProperty(pt)&&(Ae[pt]instanceof yc?rs(Ae[pt]):Ae[pt]instanceof bh&&Ha(Ae[pt],rt))})(w),rn.publish("putResources"),w.forEach(Ks),Ks({resourcesOid:si,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),y!==null&&(tn.oid=Kn(),lt("<<"),lt("/Filter /Standard"),lt("/V "+tn.v),lt("/R "+tn.r),lt("/U <"+tn.toHexString(tn.U)+">"),lt("/O <"+tn.toHexString(tn.O)+">"),lt("/P "+tn.P),lt(">>"),lt("endobj")),ma(),wo();var j=Pt;return Fl(),_n(),lt("startxref"),lt(""+j),lt("%%EOF"),Mt(Qt[G]),Lt.join(`
`)},Xs=b.__private__.getBlob=function(w){return new Blob([Ne(w)],{type:"application/pdf"})},pi=b.output=b.__private__.output=(dr=function(w,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",w){case void 0:return is();case"save":b.save(j.filename);break;case"arraybuffer":return Ne(is());case"blob":return Xs(is());case"bloburi":case"bloburl":if(We.URL!==void 0&&typeof We.URL.createObjectURL=="function")return We.URL&&We.URL.createObjectURL(Xs(is()))||void 0;ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",pt=is();try{rt=h_(pt)}catch{rt=h_(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+j.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(bt=j.pdfObjectUrl,Ft="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",ae=We.open();return ae!==null&&ae.document.write(Wt),ae}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',ke=We.open();if(ke!==null){ke.document.write(pe);var qe=this;ke.document.documentElement.querySelector("#pdfViewer").onload=function(){ke.document.title=j.filename,ke.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qe.output("bloburl"))}}return ke}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(We)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Xn=We.open();if(Xn!==null&&(Xn.document.write(ln),Xn.document.title=j.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return We.document.location.href=this.output("datauristring",j);default:return null}},dr.foo=function(){try{return dr.apply(this,arguments)}catch(rt){var w=rt.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var j="Error in function "+w.split(`
`)[0].split("<")[0]+": "+rt.message;if(!We.console)throw new Error(j);We.console.error(j,rt),We.alert&&alert(j)}},dr.foo.bar=dr,dr.foo),Wa=function(w){return Array.isArray(Ys)===!0&&Ys.indexOf(w)>-1};switch(r){case"pt":Le=1;break;case"mm":Le=72/25.4;break;case"cm":Le=72/2.54;break;case"in":Le=72;break;case"px":Le=Wa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Le=12;break;case"ex":Le=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Le=r}var tn=null;ft(),ot();var mi=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pe[w].objId,pageNumber:w,pageContext:Pe[w]}},Ya=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Pe)if(Pe[j].objId===w)break;return mi(j)},ga=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Pe[G].objId,pageNumber:G,pageContext:Pe[G]}};b.addPage=function(){return pa.apply(this,arguments),this},b.setPage=function(){return Ps.apply(this,arguments),Mt.call(this,Qt[G]),this},b.insertPage=function(w){return this.addPage(),this.movePage(G,w),this},b.movePage=function(w,j){var rt,pt;if(w>j){rt=Qt[w],pt=Pe[w];for(var bt=w;bt>j;bt--)Qt[bt]=Qt[bt-1],Pe[bt]=Pe[bt-1];Qt[j]=rt,Pe[j]=pt,this.setPage(j)}else if(w<j){rt=Qt[w],pt=Pe[w];for(var Ft=w;Ft<j;Ft++)Qt[Ft]=Qt[Ft+1],Pe[Ft]=Pe[Ft+1];Qt[j]=rt,Pe[j]=pt,this.setPage(j)}return this},b.deletePage=function(){return bo.apply(this,arguments),this},b.__private__.text=b.text=function(w,j,rt,pt,bt){var Ft,Wt,ae,pe,ke,qe,ln,Xn,nr,Pn=(pt=pt||{}).scope||this;if(typeof w=="number"&&typeof j=="number"&&(typeof rt=="string"||Array.isArray(rt))){var pr=rt;rt=j,j=w,w=pr}if(arguments[3]instanceof Ie==0?(ae=arguments[4],pe=arguments[5],Yn(ln=arguments[3])==="object"&&ln!==null||(typeof ae=="string"&&(pe=ae,ae=null),typeof ln=="string"&&(pe=ln,ln=null),typeof ln=="number"&&(ae=ln,ln=null),pt={flags:ln,angle:ae,align:pe})):(R("The transform parameter of text() with a Matrix value"),nr=bt),isNaN(j)||isNaN(rt)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Pn;var Un,Br="",js=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:Mi,ta=Pn.internal.scaleFactor;function ql(Dn){return Dn=Dn.split("	").join(Array(pt.TabLen||9).join(" ")),Nr(Dn,ln)}function Xa(Dn){for(var Fn,rr=Dn.concat(),mr=[],Ra=rr.length;Ra--;)typeof(Fn=rr.shift())=="string"?mr.push(Fn):Array.isArray(Dn)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?mr.push(Fn[0]):mr.push([Fn[0],Fn[1],Fn[2]]);return mr}function Ir(Dn,Fn){var rr;if(typeof Dn=="string")rr=Fn(Dn)[0];else if(Array.isArray(Dn)){for(var mr,Ra,Us=Dn.concat(),zi=[],rl=Us.length;rl--;)typeof(mr=Us.shift())=="string"?zi.push(Fn(mr)[0]):Array.isArray(mr)&&typeof mr[0]=="string"&&(Ra=Fn(mr[0],mr[1],mr[2]),zi.push([Ra[0],Ra[1],Ra[2]]));rr=zi}return rr}var us=!1,xo=!0;if(typeof w=="string")us=!0;else if(Array.isArray(w)){var Fi=w.concat();Wt=[];for(var m,E=Fi.length;E--;)(typeof(m=Fi.shift())!="string"||Array.isArray(m)&&typeof m[0]!="string")&&(xo=!1);us=xo}if(us===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var C=Zt/Pn.internal.scaleFactor,K=C*(js-1);switch(pt.baseline){case"bottom":rt-=K;break;case"top":rt+=C-K;break;case"hanging":rt+=C-2*K;break;case"middle":rt+=C/2-K}if((qe=pt.maxWidth||0)>0&&(typeof w=="string"?w=Pn.splitTextToSize(w,qe):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Dn,Fn){return Dn.concat(Pn.splitTextToSize(Fn,qe))},[]))),Ft={text:w,x:j,y:rt,options:pt,mutex:{pdfEscape:Nr,activeFontKey:se,fonts:he,activeFontSize:Zt}},rn.publish("preProcessText",Ft),w=Ft.text,ae=(pt=Ft.options).angle,nr instanceof Ie==0&&ae&&typeof ae=="number"){ae*=Math.PI/180,pt.rotationDirection===0&&(ae=-ae),Q===et&&(ae=-ae);var St=Math.cos(ae),Ot=Math.sin(ae);nr=new Ie(St,Ot,-Ot,St,0,0)}else ae&&ae instanceof Ie&&(nr=ae);Q!==et||nr||(nr=zn),(ke=pt.charSpace||_a)!==void 0&&(Br+=D(k(ke))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=pt.horizontalScale)!==void 0&&(Br+=D(100*Xn)+` Tz
`),pt.lang;var Xt=-1,un=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,ur=Pn.internal.getCurrentPageInfo().pageContext;switch(un){case 0:case!1:case"fill":Xt=0;break;case 1:case!0:case"stroke":Xt=1;break;case 2:case"fillThenStroke":Xt=2;break;case 3:case"invisible":Xt=3;break;case 4:case"fillAndAddForClipping":Xt=4;break;case 5:case"strokeAndAddPathForClipping":Xt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xt=6;break;case 7:case"addToPathForClipping":Xt=7}var cn=ur.usedRenderingMode!==void 0?ur.usedRenderingMode:-1;Xt!==-1?Br+=Xt+` Tr
`:cn!==-1&&(Br+=`0 Tr
`),Xt!==-1&&(ur.usedRenderingMode=Xt),pe=pt.align||"left";var fn,Mn=Zt*js,Ss=Pn.internal.pageSize.getWidth(),Rr=he[se];ke=pt.charSpace||_a,qe=pt.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var gi=[],Sa=function(Dn){return Pn.getStringUnitWidth(Dn,{font:Rr,charSpace:ke,fontSize:Zt,doKerning:!1})*Zt/ta};if(Object.prototype.toString.call(w)==="[object Array]"){var yi;Wt=Xa(w),pe!=="left"&&(fn=Wt.map(Sa));var Bi,To=0;if(pe==="right"){j-=fn[0],w=[],E=Wt.length;for(var Vs=0;Vs<E;Vs++)Vs===0?(Bi=Ur(j),yi=ji(rt)):(Bi=k(To-fn[Vs]),yi=-Mn),w.push([Wt[Vs],Bi,yi]),To=fn[Vs]}else if(pe==="center"){j-=fn[0]/2,w=[],E=Wt.length;for(var Ea=0;Ea<E;Ea++)Ea===0?(Bi=Ur(j),yi=ji(rt)):(Bi=k((To-fn[Ea])/2),yi=-Mn),w.push([Wt[Ea],Bi,yi]),To=fn[Ea]}else if(pe==="left"){w=[],E=Wt.length;for(var zl=0;zl<E;zl++)w.push(Wt[zl])}else if(pe==="justify"&&Rr.encoding==="Identity-H"){w=[],E=Wt.length,qe=qe!==0?qe:Ss;for(var Za=0,br=0;br<E;br++)if(yi=br===0?ji(rt):-Mn,Bi=br===0?Ur(j):Za,br<E-1){var Wh=k((qe-fn[br])/(Wt[br].split(" ").length-1)),xa=Wt[br].split(" ");w.push([xa[0]+" ",Bi,yi]),Za=0;for(var Ta=1;Ta<xa.length;Ta++){var Hl=(Sa(xa[Ta-1]+" "+xa[Ta])-Sa(xa[Ta]))*ta+Wh;Ta==xa.length-1?w.push([xa[Ta],Hl,0]):w.push([xa[Ta]+" ",Hl,0]),Za-=Hl}}else w.push([Wt[br],Bi,yi]);w.push(["",Za,0])}else{if(pe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],E=Wt.length,qe=qe!==0?qe:Ss,br=0;br<E;br++)yi=br===0?ji(rt):-Mn,Bi=br===0?Ur(j):0,br<E-1?gi.push(D(k((qe-fn[br])/(Wt[br].split(" ").length-1)))):gi.push(0),w.push([Wt[br],Bi,yi])}}(typeof pt.R2L=="boolean"?pt.R2L:Ye)===!0&&(w=Ir(w,function(Dn,Fn,rr){return[Dn.split("").reverse().join(""),Fn,rr]})),Ft={text:w,x:j,y:rt,options:pt,mutex:{pdfEscape:Nr,activeFontKey:se,fonts:he,activeFontSize:Zt}},rn.publish("postProcessText",Ft),w=Ft.text,Un=Ft.mutex.isHex||!1;var Yu=he[se].encoding;Yu!=="WinAnsiEncoding"&&Yu!=="StandardEncoding"||(w=Ir(w,function(Dn,Fn,rr){return[ql(Dn),Fn,rr]})),Wt=Xa(w),w=[];for(var oi,Na,No,Co=Array.isArray(Wt[0])?1:0,Ca="",Gl=function(Dn,Fn,rr){var mr="";return rr instanceof Ie?(rr=typeof pt.angle=="number"?Cn(rr,new Ie(1,0,0,1,Dn,Fn)):Cn(new Ie(1,0,0,1,Dn,Fn),rr),Q===et&&(rr=Cn(new Ie(1,0,0,-1,0,0),rr)),mr=rr.join(" ")+` Tm
`):mr=D(Dn)+" "+D(Fn)+` Td
`,mr},qi=0;qi<Wt.length;qi++){switch(Ca="",Co){case 1:No=(Un?"<":"(")+Wt[qi][0]+(Un?">":")"),oi=parseFloat(Wt[qi][1]),Na=parseFloat(Wt[qi][2]);break;case 0:No=(Un?"<":"(")+Wt[qi]+(Un?">":")"),oi=Ur(j),Na=ji(rt)}gi!==void 0&&gi[qi]!==void 0&&(Ca=gi[qi]+` Tw
`),qi===0?w.push(Ca+Gl(oi,Na,nr)+No):Co===0?w.push(Ca+No):Co===1&&w.push(Ca+Gl(oi,Na,nr)+No)}w=Co===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ia=`BT
/`;return Ia+=se+" "+Zt+` Tf
`,Ia+=D(Zt*js)+` TL
`,Ia+=xi+`
`,Ia+=Br,Ia+=w,lt(Ia+="ET"),x[se]=!0,Pn};var Zs=b.__private__.clip=b.clip=function(w){return lt(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Zs("evenodd")},b.__private__.discardPath=b.discardPath=function(){return lt("n"),this};var on=b.__private__.isValidStyle=function(w){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(j=!0),j};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return on(w)&&(d=w),this};var ya=b.__private__.getStyle=b.getStyle=function(w){var j=d;switch(w){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=w}return j},Oi=b.close=function(){return lt("h"),this};b.stroke=function(){return lt("S"),this},b.fill=function(w){return ss("f",w),this},b.fillEvenOdd=function(w){return ss("f*",w),this},b.fillStroke=function(w){return ss("B",w),this},b.fillStrokeEvenOdd=function(w){return ss("B*",w),this};var ss=function(w,j){Yn(j)==="object"?el(j,w):lt(w)},So=function(w){w===null||Q===et&&w===void 0||(w=ya(w),lt(w))};function tl(w,j,rt,pt,bt){var Ft=new bh(j||this.boundingBox,rt||this.xStep,pt||this.yStep,this.gState,bt||this.matrix);Ft.stream=this.stream;var Wt=w+"$$"+this.cloneIndex+++"$$";return kn(Wt,Ft),Ft}var el=function(w,j){var rt=nn[w.key],pt=Ae[rt];if(pt instanceof yc)lt("q"),lt(Wu(j)),pt.gState&&b.setGState(pt.gState),lt(w.matrix.toString()+" cm"),lt("/"+rt+" sh"),lt("Q");else if(pt instanceof bh){var bt=new Ie(1,0,0,-1,0,Ui());w.matrix&&(bt=bt.multiply(w.matrix||zn),rt=tl.call(pt,w.key,w.boundingBox,w.xStep,w.yStep,bt).id),lt("q"),lt("/Pattern cs"),lt("/"+rt+" scn"),pt.gState&&b.setGState(pt.gState),lt(j),lt("Q")}},Wu=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nl=b.moveTo=function(w,j){return lt(D(k(w))+" "+D(ut(j))+" m"),this},Ds=b.lineTo=function(w,j){return lt(D(k(w))+" "+D(ut(j))+" l"),this},Ei=b.curveTo=function(w,j,rt,pt,bt,Ft){return lt([D(k(w)),D(ut(j)),D(k(rt)),D(ut(pt)),D(k(bt)),D(ut(Ft)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,j,rt,pt,bt){if(isNaN(w)||isNaN(j)||isNaN(rt)||isNaN(pt)||!on(bt))throw new Error("Invalid arguments passed to jsPDF.line");return Q===tt?this.lines([[rt-w,pt-j]],w,j,[1,1],bt||"S"):this.lines([[rt-w,pt-j]],w,j,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,j,rt,pt,bt,Ft){var Wt,ae,pe,ke,qe,ln,Xn,nr,Pn,pr,Un,Br;if(typeof w=="number"&&(Br=rt,rt=j,j=w,w=Br),pt=pt||[1,1],Ft=Ft||!1,isNaN(j)||isNaN(rt)||!Array.isArray(w)||!Array.isArray(pt)||!on(bt)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nl(j,rt),Wt=pt[0],ae=pt[1],ke=w.length,pr=j,Un=rt,pe=0;pe<ke;pe++)(qe=w[pe]).length===2?(pr=qe[0]*Wt+pr,Un=qe[1]*ae+Un,Ds(pr,Un)):(ln=qe[0]*Wt+pr,Xn=qe[1]*ae+Un,nr=qe[2]*Wt+pr,Pn=qe[3]*ae+Un,pr=qe[4]*Wt+pr,Un=qe[5]*ae+Un,Ei(ln,Xn,nr,Pn,pr,Un));return Ft&&Oi(),So(bt),this},b.path=function(w){for(var j=0;j<w.length;j++){var rt=w[j],pt=rt.c;switch(rt.op){case"m":nl(pt[0],pt[1]);break;case"l":Ds(pt[0],pt[1]);break;case"c":Ei.apply(this,pt);break;case"h":Oi()}}return this},b.__private__.rect=b.rect=function(w,j,rt,pt,bt){if(isNaN(w)||isNaN(j)||isNaN(rt)||isNaN(pt)||!on(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return Q===tt&&(pt=-pt),lt([D(k(w)),D(ut(j)),D(k(rt)),D(k(pt)),"re"].join(" ")),So(bt),this},b.__private__.triangle=b.triangle=function(w,j,rt,pt,bt,Ft,Wt){if(isNaN(w)||isNaN(j)||isNaN(rt)||isNaN(pt)||isNaN(bt)||isNaN(Ft)||!on(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-w,pt-j],[bt-rt,Ft-pt],[w-bt,j-Ft]],w,j,[1,1],Wt,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,j,rt,pt,bt,Ft,Wt){if(isNaN(w)||isNaN(j)||isNaN(rt)||isNaN(pt)||isNaN(bt)||isNaN(Ft)||!on(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ae=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*rt),Ft=Math.min(Ft,.5*pt),this.lines([[rt-2*bt,0],[bt*ae,0,bt,Ft-Ft*ae,bt,Ft],[0,pt-2*Ft],[0,Ft*ae,-bt*ae,Ft,-bt,Ft],[2*bt-rt,0],[-bt*ae,0,-bt,-Ft*ae,-bt,-Ft],[0,2*Ft-pt],[0,-Ft*ae,bt*ae,-Ft,bt,-Ft]],w+bt,j,[1,1],Wt,!0),this},b.__private__.ellipse=b.ellipse=function(w,j,rt,pt,bt){if(isNaN(w)||isNaN(j)||isNaN(rt)||isNaN(pt)||!on(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*rt,Wt=4/3*(Math.SQRT2-1)*pt;return nl(w+rt,j),Ei(w+rt,j-Wt,w+Ft,j-pt,w,j-pt),Ei(w-Ft,j-pt,w-rt,j-Wt,w-rt,j),Ei(w-rt,j+Wt,w-Ft,j+pt,w,j+pt),Ei(w+Ft,j+pt,w+rt,j+Wt,w+rt,j),So(bt),this},b.__private__.circle=b.circle=function(w,j,rt,pt){if(isNaN(w)||isNaN(j)||isNaN(rt)||!on(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,j,rt,rt,pt)},b.setFont=function(w,j,rt){return rt&&(j=W(j,rt)),se=$a(w,j,{disableWarning:!1}),this};var as=b.__private__.getFont=b.getFont=function(){return he[$a.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,j,rt={};for(w in Ce)if(Ce.hasOwnProperty(w))for(j in rt[w]=[],Ce[w])Ce[w].hasOwnProperty(j)&&rt[w].push(j);return rt},b.addFont=function(w,j,rt,pt,bt){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(rt=W(rt,pt)),Qs.call(this,w,j,rt,bt=bt||"Identity-H")};var Mi,_s=n.lineWidth||.200025,De=b.__private__.getLineWidth=b.getLineWidth=function(){return _s},Os=b.__private__.setLineWidth=b.setLineWidth=function(w){return _s=w,lt(D(k(w))+" w"),this};b.__private__.setLineDash=Se.API.setLineDash=Se.API.setLineDashPattern=function(w,j){if(w=w||[],j=j||0,isNaN(j)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(rt){return D(k(rt))}).join(" "),j=D(k(j)),lt("["+w+"] "+j+" d"),this};var Bl=b.__private__.getLineHeight=b.getLineHeight=function(){return Zt*Mi};b.__private__.getLineHeight=b.getLineHeight=function(){return Zt*Mi};var Ka=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Mi=w),this},bs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Mi};Ka(n.lineHeight);var Ur=b.__private__.getHorizontalCoordinate=function(w){return k(w)},ji=b.__private__.getVerticalCoordinate=function(w){return Q===et?w:Pe[G].mediaBox.topRightY-Pe[G].mediaBox.bottomLeftY-k(w)},Ms=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return D(Ur(w))},va=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return D(ji(w))},os=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ai(os)},b.__private__.setStrokeColor=b.setDrawColor=function(w,j,rt,pt){return os=jr({ch1:w,ch2:j,ch3:rt,ch4:pt,pdfColorType:"draw",precision:2}),lt(os),this};var Qa=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ai(Qa)},b.__private__.setFillColor=b.setFillColor=function(w,j,rt,pt){return Qa=jr({ch1:w,ch2:j,ch3:rt,ch4:pt,pdfColorType:"fill",precision:2}),lt(Qa),this};var xi=n.textColor||"0 g",Vi=b.__private__.getTextColor=b.getTextColor=function(){return ai(xi)};b.__private__.setTextColor=b.setTextColor=function(w,j,rt,pt){return xi=jr({ch1:w,ch2:j,ch3:rt,ch4:pt,pdfColorType:"text",precision:3}),this};var _a=n.charSpace,Fr=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(_a||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _a=w,this};var bn=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var j=b.CapJoinStyles[w];if(j===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bn=j,lt(j+" J"),this};var ba=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var j=b.CapJoinStyles[w];if(j===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ba=j,lt(j+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(D(k(w))+" M"),this},b.GState=bm,b.setGState=function(w){(w=typeof w=="string"?Ve[er[w]]:ws(null,w)).equals(qn)||(lt("/"+w.id+" gs"),qn=w)};var ws=function(w,j){if(!w||!er[w]){var rt=!1;for(var pt in Ve)if(Ve.hasOwnProperty(pt)&&Ve[pt].equals(j)){rt=!0;break}if(rt)j=Ve[pt];else{var bt="GS"+(Object.keys(Ve).length+1).toString(10);Ve[bt]=j,j.id=bt}return w&&(er[w]=j.id),rn.publish("addGState",j),j}};b.addGState=function(w,j){return ws(w,j),this},b.saveGraphicsState=function(){return lt("q"),Nn.push({key:se,size:Zt,color:xi}),this},b.restoreGraphicsState=function(){lt("Q");var w=Nn.pop();return se=w.key,Zt=w.size,xi=w.color,qn=null,this},b.setCurrentTransformationMatrix=function(w){return lt(w.toString()+" cm"),this},b.comment=function(w){return lt("#"+w),this};var wa=function(w,j){var rt=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(Ft){isNaN(Ft)||(rt=parseFloat(Ft))}});var pt=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ft){isNaN(Ft)||(pt=parseFloat(Ft))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(Ft){bt=Ft.toString()}}),this},Aa=function(w,j,rt,pt){wa.call(this,w,j),this.type="rect";var bt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Wt){isNaN(Wt)||(bt=parseFloat(Wt))}});var Ft=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Wt){isNaN(Wt)||(Ft=parseFloat(Wt))}}),this},Js=function(){this.page=gn,this.currentPage=G,this.pages=Qt.slice(0),this.pagesContext=Pe.slice(0),this.x=be,this.y=Tn,this.matrix=an,this.width=Ti(G),this.height=Ui(G),this.outputDestination=re,this.id="",this.objectNumber=-1};Js.prototype.restore=function(){gn=this.page,G=this.currentPage,Pe=this.pagesContext,Qt=this.pages,be=this.x,Tn=this.y,an=this.matrix,Eo(G,this.width),Ni(G,this.height),re=this.outputDestination};var ls=function(w,j,rt,pt,bt){di.push(new Js),gn=G=0,Qt=[],be=w,Tn=j,an=bt,Cr([rt,pt])};for(var As in b.beginFormObject=function(w,j,rt,pt,bt){return ls(w,j,rt,pt,bt),this},b.endFormObject=function(w){return(function(j){if(ts[j])di.pop().restore();else{var rt=new Js,pt="Xo"+(Object.keys(fr).length+1).toString(10);rt.id=pt,ts[j]=pt,fr[pt]=rt,rn.publish("addFormObject",rt),di.pop().restore()}})(w),this},b.doFormObject=function(w,j){var rt=fr[ts[w]];return lt("q"),lt(j.toString()+" cm"),lt("/"+rt.id+" Do"),lt("Q"),this},b.getFormObject=function(w){var j=fr[ts[w]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},b.save=function(w,j){return w=w||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(mc(Xs(is()),w),typeof mc.unload=="function"&&We.setTimeout&&setTimeout(mc.unload,911),this):new Promise(function(rt,pt){try{var bt=mc(Xs(is()),w);typeof mc.unload=="function"&&We.setTimeout&&setTimeout(mc.unload,911),rt(bt)}catch(Ft){pt(Ft.message)}})},Se.API)Se.API.hasOwnProperty(As)&&(As==="events"&&Se.API.events.length?(function(w,j){var rt,pt,bt;for(bt=j.length-1;bt!==-1;bt--)rt=j[bt][0],pt=j[bt][1],w.subscribe.apply(w,[rt].concat(typeof pt=="function"?[pt]:pt))})(rn,Se.API.events):b[As]=Se.API[As]);var Ti=b.getPageWidth=function(w){return(Pe[w=w||G].mediaBox.topRightX-Pe[w].mediaBox.bottomLeftX)/Le},Eo=b.setPageWidth=function(w,j){Pe[w].mediaBox.topRightX=j*Le+Pe[w].mediaBox.bottomLeftX},Ui=b.getPageHeight=function(w){return(Pe[w=w||G].mediaBox.topRightY-Pe[w].mediaBox.bottomLeftY)/Le},Ni=b.setPageHeight=function(w,j){Pe[w].mediaBox.topRightY=j*Le+Pe[w].mediaBox.bottomLeftY};return b.internal={pdfEscape:Nr,getStyle:ya,getFont:as,getFontSize:ee,getCharSpace:Fr,getTextColor:Vi,getLineHeight:Bl,getLineHeightFactor:bs,getLineWidth:De,write:en,getHorizontalCoordinate:Ur,getVerticalCoordinate:ji,getCoordinateString:Ms,getVerticalCoordinateString:va,collections:{},newObject:Kn,newAdditionalObject:da,newObjectDeferred:Mr,newObjectDeferredBegin:lr,getFilters:Vr,putStream:Qn,events:rn,scaleFactor:Le,pageSize:{getWidth:function(){return Ti(G)},setWidth:function(w){Eo(G,w)},getHeight:function(){return Ui(G)},setHeight:function(w){Ni(G,w)}},encryptionOptions:y,encryption:tn,getEncryptor:function(w){return y!==null?tn.encryptor(w,0):function(j){return j}},output:pi,getNumberOfPages:Ga,pages:Qt,out:lt,f2:T,f3:I,getPageInfo:mi,getPageInfoByObjId:Ya,getCurrentPageInfo:ga,getPDFVersion:F,Point:wa,Rectangle:Aa,Matrix:Ie,hasHotfix:Wa},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ti(G)},set:function(w){Eo(G,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ui(G)},set:function(w){Ni(G,w)},enumerable:!0,configurable:!0}),(function(w){for(var j=0,rt=xe.length;j<rt;j++){var pt=Qs.call(this,w[j][0],w[j][1],w[j][2],xe[j][3],!0);A===!1&&(x[pt]=!0);var bt=w[j][0].split("-");Jo({id:pt,fontName:bt[0],fontStyle:bt[1]||""})}rn.publish("addFonts",{fonts:he,dictionary:Ce})}).call(b,xe),se="F1",pa(a,e),rn.publish("initialized"),b}ph.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ph.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ph.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},ph.prototype.processOwnerPassword=function(n,t){return x0(E0(t).substr(0,5),n)},ph.prototype.encryptor=function(n,t){var e=E0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return x0(e,r)}},bm.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Yn(n)!==Yn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Se.API={events:[]},Se.version="3.0.2";var Hr=Se.API,u2=1,Lc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xe=function(n){return n.toFixed(2)},vu=function(n){return n.toFixed(5)};Hr.__acroform__={};var Ws=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},m_=function(n){return n*u2},Uo=function(n){var t=new l4,e=ge.internal.getHeight(n)||0,r=ge.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Xe(r)),Number(Xe(e))],t},AT=Hr.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},ST=Hr.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},ET=Hr.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},ei=Hr.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ET(n,t-1)},ni=Hr.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return AT(n,t-1)},ri=Hr.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ST(n,t-1)},xT=Hr.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=e(a+u)||0,f.upperRight_Y=r(o)||0,[Number(Xe(f.lowerLeft_X)),Number(Xe(f.lowerLeft_Y)),Number(Xe(f.upperRight_X)),Number(Xe(f.upperRight_Y))]},TT=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=T0(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+Xe(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Uo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},T0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var o=e,u=ge.internal.getHeight(n)||0;u=u<0?-u:u;var c=ge.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(T,I,k){if(T+1<a.length){var ut=I+" "+a[T+1][0];return Gp(ut,n,k).width<=c-4}return!1};o++;t:for(;o>0;){t="",o--;var d,y,A=Gp("3",n,o).height,x=n.multiline?u-o:(u-A)/2,b=x+=2,O=0,F=0,q=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Gp(t,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var B="",tt=0,et=0;et<a.length;et++)if(a.hasOwnProperty(et)){var Q=!1;if(a[et].length!==1&&q!==a[et].length-1){if((A+2)*(tt+2)+2>u)continue t;B+=a[et][q],Q=!0,F=et,et--}else{B=(B+=a[et][q]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var st=parseInt(et),Et=f(st,B,o),W=et>=a.length-1;if(Et&&!W){B+=" ",q=0;continue}if(Et||W){if(W)F=st;else if(n.multiline&&(A+2)*(tt+2)+2>u)continue t}else{if(!n.multiline||(A+2)*(tt+2)+2>u)continue t;F=st}}for(var D="",R=O;R<=F;R++){var U=a[R];if(n.multiline){if(R===F){D+=U[q]+" ",q=(q+1)%U.length;continue}if(R===O){D+=U[U.length-1]+" ";continue}}D+=U[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,y=Gp(D,n,o).width,n.textAlign){case"right":d=c-y-2;break;case"center":d=(c-y)/2;break;default:d=2}t+=Xe(d)+" "+Xe(b)+` Td
`,t+="("+Lc(D)+`) Tj
`,t+=-Xe(d)+` 0 Td
`,b=-(o+2),y=0,O=Q?F:F+1,tt++,B=""}break}return r.text=t,r.fontSize=o,r},Gp=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},NT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CT=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},IT=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(NT)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new u4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&CT(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=xT(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ge.createDefaultAppearanceStream(c),Yn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=TT(c);f.push({key:"AP",value:"<</N "+y+">>"}),a.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var A="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var b=c.appearanceStreamContent[x];if(A+="/"+x+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var O=b[u];typeof O=="function"&&(O=O.call(a,c)),A+="/"+u+" "+O+" ",a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O)}}else typeof(O=b)=="function"&&(O=O.call(a,c)),A+="/"+u+" "+O,a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(F,q){for(var B in F)if(F.hasOwnProperty(B)){var tt=B,et=F[B];q.internal.newObjectDeferredBegin(et.objId,!0),Yn(et)==="object"&&typeof et.putStream=="function"&&et.putStream(),delete F[tt]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},o4=Hr.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Yn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+Lc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W1=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Lc(r(n))+")"},zo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zo.prototype.toString=function(){return this.objId+" 0 R"},zo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},zo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:o4(a,this.objId,this.scope)}):a instanceof zo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var l4=function(){zo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ws(l4,zo);var u4=function(){zo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Lc(e(n))+")"}},set:function(e){n=e}})};Ws(u4,zo);var vo=function n(){zo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');t=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ei(t,3)},set:function(B){B?this.F=ni(t,3):this.F=ri(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');e=B}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(B){r=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(B){r[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(B){r[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(B){r[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(B){r[3]=B}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof wm)return;o="FieldObject"+n.FieldNum++}var B=function(tt){return tt};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+Lc(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(B){u=B}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(B){c=B}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(B){f=B}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/u2:d},set:function(B){d=B}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(B){y=B}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof wm||this instanceof bc))return W1(A,this.objId,this.scope)},set:function(B){B=B.toString(),A=B}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Di==0?W1(x,this.objId,this.scope):x},set:function(B){B=B.toString(),x=this instanceof Di==0?B.substr(0,1)==="("?fh(B.substr(1,B.length-2)):fh(B):B}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Di==1?fh(x.substr(1,x.length-1)):x},set:function(B){B=B.toString(),x=this instanceof Di==1?"/"+B:B}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Di==0?W1(b,this.objId,this.scope):b},set:function(B){B=B.toString(),b=this instanceof Di==0?B.substr(0,1)==="("?fh(B.substr(1,B.length-2)):fh(B):B}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Di==1?fh(b.substr(1,b.length-1)):b},set:function(B){B=B.toString(),b=this instanceof Di==1?"/"+B:B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(B){B=!!B,F=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(B){O=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,1)},set:function(B){B?this.Ff=ni(this.Ff,1):this.Ff=ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,2)},set:function(B){B?this.Ff=ni(this.Ff,2):this.Ff=ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,3)},set:function(B){B?this.Ff=ni(this.Ff,3):this.Ff=ri(this.Ff,3)}});var q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(q!==null)return q},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');q=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch(q){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:q=2;break;case"center":case 1:q=1;break;default:q=0}}})};Ws(vo,zo);var Ah=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return o4(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,18)},set:function(e){e?this.Ff=ni(this.Ff,18):this.Ff=ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=ni(this.Ff,19):this.Ff=ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,20)},set:function(e){e?(this.Ff=ni(this.Ff,20),t.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,22)},set:function(e){e?this.Ff=ni(this.Ff,22):this.Ff=ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,27)},set:function(e){e?this.Ff=ni(this.Ff,27):this.Ff=ri(this.Ff,27)}}),this.hasAppearanceStream=!1};Ws(Ah,vo);var Sh=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};Ws(Sh,Ah);var Eh=function(){Sh.call(this),this.combo=!0};Ws(Eh,Sh);var rm=function(){Eh.call(this),this.edit=!0};Ws(rm,Eh);var Di=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,15)},set:function(e){e?this.Ff=ni(this.Ff,15):this.Ff=ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,16)},set:function(e){e?this.Ff=ni(this.Ff,16):this.Ff=ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,17)},set:function(e){e?this.Ff=ni(this.Ff,17):this.Ff=ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+Lc(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Yn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ws(Di,vo);var im=function(){Di.call(this),this.pushButton=!0};Ws(im,Di);var xh=function(){Di.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ws(xh,Di);var wm=function(){var n,t;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Lc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Yn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ws(wm,vo),xh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},xh.prototype.createOption=function(n){var t=new wm;return t.Parent=this,t.optionName=n,this.Kids.push(t),RT.call(this.scope,t),t};var sm=function(){Di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ge.CheckBox.createAppearanceStream()};Ws(sm,Di);var bc=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,13)},set:function(t){t?this.Ff=ni(this.Ff,13):this.Ff=ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,21)},set:function(t){t?this.Ff=ni(this.Ff,21):this.Ff=ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,23)},set:function(t){t?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,24)},set:function(t){t?this.Ff=ni(this.Ff,24):this.Ff=ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,25)},set:function(t){t?this.Ff=ni(this.Ff,25):this.Ff=ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,26)},set:function(t){t?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ws(bc,vo);var am=function(){bc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,14)},set:function(n){n?this.Ff=ni(this.Ff,14):this.Ff=ri(this.Ff,14)}}),this.password=!0};Ws(am,bc);var ge={CheckBox:{createAppearanceStream:function(){return{N:{On:ge.CheckBox.YesNormal},D:{On:ge.CheckBox.YesPushDown,Off:ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=T0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Xe(ge.internal.getWidth(n))+" "+Xe(ge.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Xe(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Uo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=ge.internal.getHeight(n),u=ge.internal.getWidth(n),c=T0(n,n.caption);return a.push("1 g"),a.push("0 0 "+Xe(u)+" "+Xe(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Xe(u-1)+" "+Xe(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+Xe(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Xe(ge.internal.getWidth(n))+" "+Xe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Circle.YesNormal,t.D[n]=ge.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=ge.internal.Bezier_C,o=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*ge.internal.Bezier_C).toFixed(5)),u=Number((r*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),e.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),e.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),e.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=ge.internal.getWidth(n)<=ge.internal.getHeight(n)?ge.internal.getWidth(n)/4:ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*ge.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vu(ge.internal.getWidth(n)/2)+" "+vu(ge.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ge.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ge.RadioButton.Cross.YesNormal,t.D[n]=ge.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=ge.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Xe(ge.internal.getWidth(n)-2)+" "+Xe(ge.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Xe(r.x1.x)+" "+Xe(r.x1.y)+" m"),e.push(Xe(r.x2.x)+" "+Xe(r.x2.y)+" l"),e.push(Xe(r.x4.x)+" "+Xe(r.x4.y)+" m"),e.push(Xe(r.x3.x)+" "+Xe(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=ge.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xe(ge.internal.getWidth(n))+" "+Xe(ge.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xe(ge.internal.getWidth(n)-2)+" "+Xe(ge.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Xe(e.x1.x)+" "+Xe(e.x1.y)+" m"),r.push(Xe(e.x2.x)+" "+Xe(e.x2.y)+" l"),r.push(Xe(e.x4.x)+" "+Xe(e.x4.y)+" m"),r.push(Xe(e.x3.x)+" "+Xe(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Xe(ge.internal.getWidth(n))+" "+Xe(ge.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ge.internal.getWidth(n),e=ge.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ge.internal.getWidth=function(n){var t=0;return Yn(n)==="object"&&(t=m_(n.Rect[2])),t},ge.internal.getHeight=function(n){var t=0;return Yn(n)==="object"&&(t=m_(n.Rect[3])),t};var RT=Hr.addField=function(n){if(IT(this,n),!(n instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=Ah,Hr.AcroFormListBox=Sh,Hr.AcroFormComboBox=Eh,Hr.AcroFormEditBox=rm,Hr.AcroFormButton=Di,Hr.AcroFormPushButton=im,Hr.AcroFormRadioButton=xh,Hr.AcroFormCheckBox=sm,Hr.AcroFormTextField=bc,Hr.AcroFormPasswordField=am,Hr.AcroFormAppearance=ge,Hr.AcroForm={ChoiceField:Ah,ListBox:Sh,ComboBox:Eh,EditBox:rm,Button:Di,PushButton:im,RadioButton:xh,CheckBox:sm,TextField:bc,PasswordField:am,Appearance:ge},Se.AcroForm={ChoiceField:Ah,ListBox:Sh,ComboBox:Eh,EditBox:rm,Button:Di,PushButton:im,RadioButton:xh,CheckBox:sm,TextField:bc,PasswordField:am,Appearance:ge};Se.AcroForm;function c4(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(T,I){var k,ut,Tt,at,mt,ot=e;if((I=I||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Et(T))for(mt in r)for(Tt=r[mt],k=0;k<Tt.length;k+=1){for(at=!0,ut=0;ut<Tt[k].length;ut+=1)if(Tt[k][ut]!==void 0&&Tt[k][ut]!==T[ut]){at=!1;break}if(at===!0){ot=mt;break}}else for(mt in r)for(Tt=r[mt],k=0;k<Tt.length;k+=1){for(at=!0,ut=0;ut<Tt[k].length;ut+=1)if(Tt[k][ut]!==void 0&&Tt[k][ut]!==T.charCodeAt(ut)){at=!1;break}if(at===!0){ot=mt;break}}return ot===e&&I!==e&&(ot=I),ot},o=function T(I){for(var k=this.internal.write,ut=this.internal.putStream,Tt=(0,this.internal.getFilters)();Tt.indexOf("FlateEncode")!==-1;)Tt.splice(Tt.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var at=[];if(at.push({key:"Type",value:"/XObject"}),at.push({key:"Subtype",value:"/Image"}),at.push({key:"Width",value:I.width}),at.push({key:"Height",value:I.height}),I.colorSpace===B.INDEXED?at.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(at.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===B.DEVICE_CMYK&&at.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),at.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&at.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var mt="",ot=0,wt=I.transparency.length;ot<wt;ot++)mt+=I.transparency[ot]+" "+I.transparency[ot]+" ";at.push({key:"Mask",value:"["+mt+"]"})}I.sMask!==void 0&&at.push({key:"SMask",value:I.objectId+1+" 0 R"});var Z=I.filter!==void 0?["/"+I.filter]:void 0;if(ut({data:I.data,additionalKeyValues:at,alreadyAppliedFilters:Z,objectId:I.objectId}),k("endobj"),"sMask"in I&&I.sMask!==void 0){var ft=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,P={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ft,data:I.sMask};"filter"in I&&(P.filter=I.filter),T.call(this,P)}if(I.colorSpace===B.INDEXED){var G=this.internal.newObject();ut({data:D(new Uint8Array(I.palette)),objectId:G}),k("endobj")}},u=function(){var T=this.internal.collections[t+"images"];for(var I in T)o.call(this,T[I])},c=function(){var T,I=this.internal.collections[t+"images"],k=this.internal.write;for(var ut in I)k("/I"+(T=I[ut]).index,T.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var T=this.internal.collections[t+"images"];return f.call(this),T},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(T){return typeof n["process"+T.toUpperCase()]=="function"},x=function(T){return Yn(T)==="object"&&T.nodeType===1},b=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var k=""+T.getAttribute("src");if(k.indexOf("data:image/")===0)return nm(unescape(k).split("base64,").pop());var ut=n.loadFile(k,!0);if(ut!==void 0)return ut}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Tt;switch(I){case"PNG":Tt="image/png";break;case"WEBP":Tt="image/webp";break;default:Tt="image/jpeg"}return nm(T.toDataURL(Tt,1).split("base64,").pop())}},O=function(T){var I=this.internal.collections[t+"images"];if(I){for(var k in I)if(T===I[k].alias)return I[k]}},F=function(T,I,k){return T||I||(T=-96,I=-96),T<0&&(T=-1*k.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*k.height*72/I/this.internal.scaleFactor),T===0&&(T=I*k.width/k.height),I===0&&(I=T*k.height/k.width),[T,I]},q=function(T,I,k,ut,Tt,at){var mt=F.call(this,k,ut,Tt),ot=this.internal.getCoordinateString,wt=this.internal.getVerticalCoordinateString,Z=d.call(this);if(k=mt[0],ut=mt[1],Z[Tt.index]=Tt,at){at*=Math.PI/180;var ft=Math.cos(at),P=Math.sin(at),G=function(ct){return ct.toFixed(4)},J=[G(ft),G(P),G(-1*P),G(ft),0,0,"cm"]}this.internal.write("q"),at?(this.internal.write([1,"0","0",1,ot(T),wt(I+ut),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ot(k),"0","0",ot(ut),"0","0","cm"].join(" "))):this.internal.write([ot(k),"0","0",ot(ut),ot(T),wt(I+ut),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Tt.index+" Do"),this.internal.write("Q")},B=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var tt=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},et=n.__addimage__.sHashCode=function(T){var I,k,ut=0;if(typeof T=="string")for(k=T.length,I=0;I<k;I++)ut=(ut<<5)-ut+T.charCodeAt(I),ut|=0;else if(Et(T))for(k=T.byteLength/2,I=0;I<k;I++)ut=(ut<<5)-ut+T[I],ut|=0;return ut},Q=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},st=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var Et=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},W=n.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,k=new Uint8Array(I),ut=0;ut<I;ut++)k[ut]=T.charCodeAt(ut);return k},D=n.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",k=Et(T)?T:new Uint8Array(T),ut=0;ut<k.length;ut+=8192)I+=String.fromCharCode.apply(null,k.subarray(ut,ut+8192));return I};n.addImage=function(){var T,I,k,ut,Tt,at,mt,ot,wt;if(typeof arguments[1]=="number"?(I=e,k=arguments[1],ut=arguments[2],Tt=arguments[3],at=arguments[4],mt=arguments[5],ot=arguments[6],wt=arguments[7]):(I=arguments[1],k=arguments[2],ut=arguments[3],Tt=arguments[4],at=arguments[5],mt=arguments[6],ot=arguments[7],wt=arguments[8]),Yn(T=arguments[0])==="object"&&!x(T)&&"imageData"in T){var Z=T;T=Z.imageData,I=Z.format||I||e,k=Z.x||k||0,ut=Z.y||ut||0,Tt=Z.w||Z.width||Tt,at=Z.h||Z.height||at,mt=Z.alias||mt,ot=Z.compression||ot,wt=Z.rotation||Z.angle||wt}var ft=this.internal.getFilters();if(ot===void 0&&ft.indexOf("FlateEncode")!==-1&&(ot="SLOW"),isNaN(k)||isNaN(ut))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var P=R.call(this,T,I,mt,ot);return q.call(this,k,ut,Tt,at,P,wt),this};var R=function(T,I,k,ut){var Tt,at,mt;if(typeof T=="string"&&a(T)===e){T=unescape(T);var ot=U(T,!1);(ot!==""||(ot=n.loadFile(T,!0))!==void 0)&&(T=ot)}if(x(T)&&(T=b(T,I)),I=a(T,I),!A(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((mt=k)==null||mt.length===0)&&(k=(function(wt){return typeof wt=="string"||Et(wt)?et(wt):Et(wt.data)?et(wt.data):null})(T)),(Tt=O.call(this,k))||(T instanceof Uint8Array||I==="RGBA"||(at=T,T=W(T)),Tt=this["process"+I.toUpperCase()](T,y.call(this),k,(function(wt){return wt&&typeof wt=="string"&&(wt=wt.toUpperCase()),wt in n.image_compression?wt:tt.NONE})(ut),at)),!Tt)throw new Error("An unknown error occurred whilst processing the image.");return Tt},U=n.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var k,ut="";if(typeof T=="string"){var Tt;k=(Tt=st(T))!==null&&Tt!==void 0?Tt:T;try{ut=nm(k)}catch(at){if(I)throw Q(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+at.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ut};n.getImageProperties=function(T){var I,k,ut="";if(x(T)&&(T=b(T)),typeof T=="string"&&a(T)===e&&((ut=U(T,!1))===""&&(ut=n.loadFile(T)||""),T=ut),k=a(T),!A(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(T instanceof Uint8Array||(T=W(T)),!(I=this["process"+k.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=k,I}})(Se.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Se.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,y=!1,A=0;A<d.length&&!y;A++)switch((r=d[A]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){r=d[x];var b=this.internal.pdfEscape,O=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(F.objId),tt=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(B(r.contents))+")",o+=" /Popup "+q.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(B(tt))+") >>",F.content=o;var et=F.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+et,r.open&&(o+=" /Open true"),o+=" >>",q.content=o,this.internal.write(F.objId,"0 R",q.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var Q=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(O(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Q+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var st=this.annotations._nameMap[r.options.name];r.options.pageNumber=st.page,r.options.top=st.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(O(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Et=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Et+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(e),y:d(r),w:f(e+a),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(e,r,a,o){var u,c,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var y=this.splitTextToSize(e,c).length;u=Math.ceil(d*y)}else c=f,u=d;return this.text(e,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,u,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(Se.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(F){return t[F.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},c=n.__arabicParser__.isArabicEndLetter=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(F){return u(F)&&a.indexOf(F.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(F){var q=0,B=e,tt="",et=0;for(q=0;q<F.length;q+=1)B[F.charCodeAt(q)]!==void 0?(et++,typeof(B=B[F.charCodeAt(q)])=="number"&&(tt+=String.fromCharCode(B),B=e,et=0),q===F.length-1&&(B=e,tt+=F.charAt(q-(et-1)),q-=et-1,et=0)):(B=e,tt+=F.charAt(q-et),q-=et,et=0);return tt};n.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&r[F.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(F,q,B){return u(F)?o(F)===!1?-1:!d(F)||!u(q)&&!u(B)||!u(B)&&c(q)||c(F)&&!u(q)||c(F)&&f(q)||c(F)&&c(q)?0:y(F)&&u(q)&&!c(q)&&u(B)&&d(B)?3:c(F)||!u(B)?1:2:-1},b=function(F){var q=0,B=0,tt=0,et="",Q="",st="",Et=(F=F||"").split("\\s+"),W=[];for(q=0;q<Et.length;q+=1){for(W.push(""),B=0;B<Et[q].length;B+=1)et=Et[q][B],Q=Et[q][B-1],st=Et[q][B+1],u(et)?(tt=x(et,Q,st),W[q]+=tt!==-1?String.fromCharCode(t[et.charCodeAt(0)][tt]):et):W[q]+=et;W[q]=A(W[q])}return W.join(" ")},O=n.__arabicParser__.processArabic=n.processArabic=function(){var F,q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray(q)){var tt=0;for(B=[],tt=0;tt<q.length;tt+=1)Array.isArray(q[tt])?B.push([b(q[tt][0]),q[tt][1],q[tt][2]]):B.push([b(q[tt])]);F=B}else F=b(q);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};n.events.push(["preProcessText",O])})(Se.API),Se.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Se.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(F){f=F}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(F){d=F}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(F){y=F}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(F){A=F}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(F){x=F}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(F){b=F}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(F){O=F}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,b=0,O=0,F=0,q=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var B=d.maxWidth;B>0?typeof f=="string"?f=this.splitTextToSize(f,B):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(et,Q){return et.concat(q.splitTextToSize(Q,B))},[])):f=Array.isArray(f)?f:[f];for(var tt=0;tt<f.length;tt++)b<(F=this.getStringUnitWidth(f[tt],{font:A})*y)&&(b=F);return b!==0&&(O=f.length),{w:b/=x,h:Math.max((O*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,b&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,A,x){if(r.call(this),!y)throw new Error("No data for PDF table.");var b,O,F,q,B=[],tt=[],et=[],Q={},st={},Et=[],W=[],D=(x=x||{}).autoSize||!1,R=x.printHeaders!==!1,U=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,T=x.margins||Object.assign({width:this.getPageWidth()},t),I=typeof x.padding=="number"?x.padding:3,k=x.headerBackgroundColor||"#c8c8c8",ut=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=ut,this.setFontSize(U),A==null)tt=B=Object.keys(y[0]),et=B.map(function(){return"left"});else if(Array.isArray(A)&&Yn(A[0])==="object")for(B=A.map(function(Z){return Z.name}),tt=A.map(function(Z){return Z.prompt||Z.name||""}),et=A.map(function(Z){return Z.align||"left"}),b=0;b<A.length;b+=1)st[A[b].name]=.7499990551181103*A[b].width;else Array.isArray(A)&&typeof A[0]=="string"&&(tt=B=A,et=B.map(function(){return"left"}));if(D||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<B.length;b+=1){for(Q[q=B[b]]=y.map(function(Z){return Z[q]}),this.setFont(void 0,"bold"),Et.push(this.getTextDimensions(tt[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=Q[q],this.setFont(void 0,"normal"),F=0;F<O.length;F+=1)Et.push(this.getTextDimensions(O[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);st[q]=Math.max.apply(null,Et)+I+I,Et=[]}if(R){var Tt={};for(b=0;b<B.length;b+=1)Tt[B[b]]={},Tt[B[b]].text=tt[b],Tt[B[b]].align=et[b];var at=c.call(this,Tt,st);W=B.map(function(Z){return new o(f,d,st[Z],at,Tt[Z].text,void 0,Tt[Z].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var mt=A.reduce(function(Z,ft){return Z[ft.name]=ft.align,Z},{});for(b=0;b<y.length;b+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:b,data:y[b]},this);var ot=c.call(this,y[b],st);for(F=0;F<B.length;F+=1){var wt=y[b][B[F]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:b,col:F,data:wt},this),u.call(this,new o(f,d,st[B[F]],ot,wt,b+2,mt[B[F]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var y=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(b){var O=f[b];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,d[b]-y-y)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/x+y+y},this).reduce(function(b,O){return Math.max(b,O)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){y=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,x.push(y)),y.lineNumber=f;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(O)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),e=!1}})(Se.API);var h4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],N0=c4(f4),d4=[100,200,300,400,500,600,700,800,900],LT=c4(d4);function Y1(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return h4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof N0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function g_(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var kT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function v_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function __(n){return n.trimLeft()}function PT(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function DT(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var $p,b_,w_,dh,Wp,A_,S_,E_,K1=["times"];function x_(n,t,e,r){var a=4,o=N_;switch(r){case Se.API.image_compression.FAST:a=1,o=T_;break;case Se.API.image_compression.MEDIUM:a=6,o=C_;break;case Se.API.image_compression.SLOW:a=9,o=I_}n=(function(c,f,d,y){for(var A,x=c.length/f,b=new Uint8Array(c.length+x),O=[OT,T_,N_,C_,I_],F=0;F<x;F+=1){var q=F*f,B=c.subarray(q,q+f);if(y)b.set(y(B,d,A),q+F);else{for(var tt=O.length,et=[],Q=0;Q<tt;Q+=1)et[Q]=O[Q](B,d,A);var st=jT(et.concat());b.set(et[st],q+F)}A=B}return b})(n,t,e,o);var u=b0(n,{level:a});return Se.API.__addimage__.arrayBufferToBinaryString(u)}function OT(n){var t=Array.apply([],n);return t.unshift(0),t}function T_(n,t){var e=n.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;r[a+1]=n[a]-o+256&255}return r}function N_(n,t,e){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var u=e&&e[o]||0;a[o+1]=n[o]-u+256&255}return a}function C_(n,t,e){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var u=n[o-t]||0,c=e&&e[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function I_(n,t,e){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var u=MT(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-u+256&255}return a}function MT(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=a&&r<=o?n:a<=o?t:e}function jT(n){var t=n.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Q1(n,t,e){var r=t*e,a=Math.floor(r/8),o=16-(r-8*a+e),u=(1<<e)-1;return p4(n,a)>>o&u}function R_(n,t,e,r){var a=e*r,o=Math.floor(a/8),u=16-(a-8*o+r),c=(1<<r)-1,f=(t&c)<<u;(function(d,y,A){if(y+1<d.byteLength)d.setUint16(y,A,!1);else{var x=A>>8&255;d.setUint8(y,x)}})(n,o,p4(n,o)&~(c<<u)&65535|f)}function p4(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function VT(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,u=1<<1+(7&a);n[t++],n[t++];var c=null,f=null;o&&(c=t,f=u,t+=3*u);var d=!0,y=[],A=0,x=null,b=0,O=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,O=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var F=n[t++];A=n[t++]|n[t++]<<8,x=n[t++],1&F||(x=null),b=F>>2&7,t++;break;case 254:for(;;){if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var q=n[t++]|n[t++]<<8,B=n[t++]|n[t++]<<8,tt=n[t++]|n[t++]<<8,et=n[t++]|n[t++]<<8,Q=n[t++],st=Q>>6&1,Et=1<<1+(7&Q),W=c,D=f,R=!1;Q>>7&&(R=!0,W=t,D=Et,t+=3*Et);var U=t;for(t++;;){var T;if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}y.push({x:q,y:B,width:tt,height:et,has_local_palette:R,palette_offset:W,palette_size:D,data_offset:U,data_length:t-U,transparent_index:x,interlaced:!!st,delay:A,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return O},this.frameInfo=function(I){if(I<0||I>=y.length)throw new Error("Frame index out of range.");return y[I]},this.decodeAndBlitFrameBGRA=function(I,k){var ut=this.frameInfo(I),Tt=ut.width*ut.height,at=new Uint8Array(Tt);L_(n,ut.data_offset,at,Tt);var mt=ut.palette_offset,ot=ut.transparent_index;ot===null&&(ot=256);var wt=ut.width,Z=e-wt,ft=wt,P=4*(ut.y*e+ut.x),G=4*((ut.y+ut.height)*e+ut.x),J=P,ct=4*Z;ut.interlaced===!0&&(ct+=4*e*7);for(var dt=8,yt=0,Lt=at.length;yt<Lt;++yt){var Pt=at[yt];if(ft===0&&(ft=wt,(J+=ct)>=G&&(ct=4*Z+4*e*(dt-1),J=P+(wt+Z)*(dt<<1),dt>>=1)),Pt===ot)J+=4;else{var qt=n[mt+3*Pt],Qt=n[mt+3*Pt+1],ne=n[mt+3*Pt+2];k[J++]=ne,k[J++]=Qt,k[J++]=qt,k[J++]=255}--ft}},this.decodeAndBlitFrameRGBA=function(I,k){var ut=this.frameInfo(I),Tt=ut.width*ut.height,at=new Uint8Array(Tt);L_(n,ut.data_offset,at,Tt);var mt=ut.palette_offset,ot=ut.transparent_index;ot===null&&(ot=256);var wt=ut.width,Z=e-wt,ft=wt,P=4*(ut.y*e+ut.x),G=4*((ut.y+ut.height)*e+ut.x),J=P,ct=4*Z;ut.interlaced===!0&&(ct+=4*e*7);for(var dt=8,yt=0,Lt=at.length;yt<Lt;++yt){var Pt=at[yt];if(ft===0&&(ft=wt,(J+=ct)>=G&&(ct=4*Z+4*e*(dt-1),J=P+(wt+Z)*(dt<<1),dt>>=1)),Pt===ot)J+=4;else{var qt=n[mt+3*Pt],Qt=n[mt+3*Pt+1],ne=n[mt+3*Pt+2];k[J++]=qt,k[J++]=Qt,k[J++]=ne,k[J++]=255}--ft}}}function L_(n,t,e,r){for(var a=n[t++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,y=0,A=0,x=0,b=n[t++],O=new Int32Array(4096),F=null;;){for(;y<16&&b!==0;)A|=n[t++]<<y,y+=8,b===1?b=n[t++]:--b;if(y<f)break;var q=A&d;if(A>>=f,y-=f,q!==o){if(q===u)break;for(var B=q<c?q:F,tt=0,et=B;et>o;)et=O[et]>>8,++tt;var Q=et;if(x+tt+(B!==q?1:0)>r)return void ar.log("Warning, gif stream longer than expected.");e[x++]=Q;var st=x+=tt;for(B!==q&&(e[x++]=Q),et=B;tt--;)et=O[et],e[--st]=255&et,et>>=8;F!==null&&c<4096&&(O[c++]=F<<8|Q,c>=d+1&&f<12&&(++f,d=d<<1|1)),F=q}else c=u+1,d=(1<<(f=a+1))-1,F=null}return x!==r&&ar.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function X1(n){var t,e,r,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),A=new Array(65535),x=new Array(65535),b=new Array(64),O=new Array(64),F=[],q=0,B=7,tt=new Array(64),et=new Array(64),Q=new Array(64),st=new Array(256),Et=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],ut=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function at(P,G){for(var J=0,ct=0,dt=new Array,yt=1;yt<=16;yt++){for(var Lt=1;Lt<=P[yt];Lt++)dt[G[ct]]=[],dt[G[ct]][0]=J,dt[G[ct]][1]=yt,ct++,J++;J*=2}return dt}function mt(P){for(var G=P[0],J=P[1]-1;J>=0;)G&1<<J&&(q|=1<<B),J--,--B<0&&(q==255?(ot(255),ot(0)):ot(q),B=7,q=0)}function ot(P){F.push(P)}function wt(P){ot(P>>8&255),ot(255&P)}function Z(P,G,J,ct,dt){for(var yt,Lt=dt[0],Pt=dt[240],qt=(function(Zt,ye){var ee,Ye,_e,mn,Be,ce,we,Te,se,Le,be=0;for(se=0;se<8;++se){ee=Zt[be],Ye=Zt[be+1],_e=Zt[be+2],mn=Zt[be+3],Be=Zt[be+4],ce=Zt[be+5],we=Zt[be+6];var Tn=ee+(Te=Zt[be+7]),an=ee-Te,he=Ye+we,Ce=Ye-we,Nn=_e+ce,Ae=_e-ce,nn=mn+Be,Ve=mn-Be,er=Tn+nn,qn=Tn-nn,gn=he+Nn,Pe=he-Nn;Zt[be]=er+gn,Zt[be+4]=er-gn;var rn=.707106781*(Pe+qn);Zt[be+2]=qn+rn,Zt[be+6]=qn-rn;var Ys=.382683433*((er=Ve+Ae)-(Pe=Ce+an)),fr=.5411961*er+Ys,ts=1.306562965*Pe+Ys,di=.707106781*(gn=Ae+Ce),Ie=an+di,Cn=an-di;Zt[be+5]=Cn+fr,Zt[be+3]=Cn-fr,Zt[be+1]=Ie+ts,Zt[be+7]=Ie-ts,be+=8}for(be=0,se=0;se<8;++se){ee=Zt[be],Ye=Zt[be+8],_e=Zt[be+16],mn=Zt[be+24],Be=Zt[be+32],ce=Zt[be+40],we=Zt[be+48];var zn=ee+(Te=Zt[be+56]),kn=ee-Te,dr=Ye+we,Kn=Ye-we,Mr=_e+ce,lr=_e-ce,da=mn+Be,es=mn-Be,si=zn+da,ai=zn-da,jr=dr+Mr,Vr=dr-Mr;Zt[be]=si+jr,Zt[be+32]=si-jr;var Qn=.707106781*(Vr+ai);Zt[be+16]=ai+Qn,Zt[be+48]=ai-Qn;var Hn=.382683433*((si=es+lr)-(Vr=Kn+kn)),ns=.5411961*si+Hn,ks=1.306562965*Vr+Hn,Si=.707106781*(jr=lr+Kn),rs=kn+Si,Ha=kn-Si;Zt[be+40]=Ha+ns,Zt[be+24]=Ha-ns,Zt[be+8]=rs+ks,Zt[be+56]=rs-ks,be++}for(se=0;se<64;++se)Le=Zt[se]*ye[se],b[se]=Le>0?Le+.5|0:Le-.5|0;return b})(P,G),Qt=0;Qt<64;++Qt)O[W[Qt]]=qt[Qt];var ne=O[0]-J;J=O[0],ne==0?mt(ct[0]):(mt(ct[x[yt=32767+ne]]),mt(A[yt]));for(var re=63;re>0&&O[re]==0;)re--;if(re==0)return mt(Lt),J;for(var Mt,lt=1;lt<=re;){for(var en=lt;O[lt]==0&&lt<=re;)++lt;var Ne=lt-en;if(Ne>=16){Mt=Ne>>4;for(var xe=1;xe<=Mt;++xe)mt(Pt);Ne&=15}yt=32767+O[lt],mt(dt[(Ne<<4)+x[yt]]),mt(A[yt]),lt++}return re!=63&&mt(Lt),J}function ft(P){P=Math.min(Math.max(P,1),100),o!=P&&((function(G){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ct=0;ct<64;ct++){var dt=u((J[ct]*G+50)/100);dt=Math.min(Math.max(dt,1),255),c[W[ct]]=dt}for(var yt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Lt=0;Lt<64;Lt++){var Pt=u((yt[Lt]*G+50)/100);Pt=Math.min(Math.max(Pt,1),255),f[W[Lt]]=Pt}for(var qt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qt=0,ne=0;ne<8;ne++)for(var re=0;re<8;re++)d[Qt]=1/(c[W[Qt]]*qt[ne]*qt[re]*8),y[Qt]=1/(f[W[Qt]]*qt[ne]*qt[re]*8),Qt++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,G){G&&ft(G),F=new Array,q=0,B=7,wt(65496),wt(65504),wt(16),ot(74),ot(70),ot(73),ot(70),ot(0),ot(1),ot(1),ot(0),wt(1),wt(1),ot(0),ot(0),(function(){wt(65499),wt(132),ot(0);for(var Ye=0;Ye<64;Ye++)ot(c[Ye]);ot(1);for(var _e=0;_e<64;_e++)ot(f[_e])})(),(function(Ye,_e){wt(65472),wt(17),ot(8),wt(_e),wt(Ye),ot(3),ot(1),ot(17),ot(0),ot(2),ot(17),ot(1),ot(3),ot(17),ot(1)})(P.width,P.height),(function(){wt(65476),wt(418),ot(0);for(var Ye=0;Ye<16;Ye++)ot(D[Ye+1]);for(var _e=0;_e<=11;_e++)ot(R[_e]);ot(16);for(var mn=0;mn<16;mn++)ot(U[mn+1]);for(var Be=0;Be<=161;Be++)ot(T[Be]);ot(1);for(var ce=0;ce<16;ce++)ot(I[ce+1]);for(var we=0;we<=11;we++)ot(k[we]);ot(17);for(var Te=0;Te<16;Te++)ot(ut[Te+1]);for(var se=0;se<=161;se++)ot(Tt[se])})(),wt(65498),wt(12),ot(3),ot(1),ot(0),ot(2),ot(17),ot(3),ot(17),ot(0),ot(63),ot(0);var J=0,ct=0,dt=0;q=0,B=7,this.encode.displayName="_encode_";for(var yt,Lt,Pt,qt,Qt,ne,re,Mt,lt,en=P.data,Ne=P.width,xe=P.height,Zt=4*Ne,ye=0;ye<xe;){for(yt=0;yt<Zt;){for(Qt=Zt*ye+yt,re=-1,Mt=0,lt=0;lt<64;lt++)ne=Qt+(Mt=lt>>3)*Zt+(re=4*(7&lt)),ye+Mt>=xe&&(ne-=Zt*(ye+1+Mt-xe)),yt+re>=Zt&&(ne-=yt+re-Zt+4),Lt=en[ne++],Pt=en[ne++],qt=en[ne++],tt[lt]=(Et[Lt]+Et[Pt+256|0]+Et[qt+512|0]>>16)-128,et[lt]=(Et[Lt+768|0]+Et[Pt+1024|0]+Et[qt+1280|0]>>16)-128,Q[lt]=(Et[Lt+1280|0]+Et[Pt+1536|0]+Et[qt+1792|0]>>16)-128;J=Z(tt,d,J,t,r),ct=Z(et,y,ct,e,a),dt=Z(Q,y,dt,e,a),yt+=32}ye+=8}if(B>=0){var ee=[];ee[1]=B+1,ee[0]=(1<<B+1)-1,mt(ee)}return wt(65497),new Uint8Array(F)},n=n||50,(function(){for(var P=String.fromCharCode,G=0;G<256;G++)st[G]=P(G)})(),t=at(D,R),e=at(I,k),r=at(U,T),a=at(ut,Tt),(function(){for(var P=1,G=2,J=1;J<=15;J++){for(var ct=P;ct<G;ct++)x[32767+ct]=J,A[32767+ct]=[],A[32767+ct][1]=J,A[32767+ct][0]=ct;for(var dt=-(G-1);dt<=-P;dt++)x[32767+dt]=J,A[32767+dt]=[],A[32767+dt][1]=J,A[32767+dt][0]=G-1+dt;P<<=1,G<<=1}})(),(function(){for(var P=0;P<256;P++)Et[P]=19595*P,Et[P+256|0]=38470*P,Et[P+512|0]=7471*P+32768,Et[P+768|0]=-11059*P,Et[P+1024|0]=-21709*P,Et[P+1280|0]=32768*P+8421375,Et[P+1536|0]=-27439*P,Et[P+1792|0]=-5329*P})(),ft(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function k_(n){function t(R){if(!R)throw Error("assert :P")}function e(R,U,T){for(var I=0;4>I;I++)if(R[U+I]!=T.charCodeAt(I))return!0;return!1}function r(R,U,T,I,k){for(var ut=0;ut<k;ut++)R[U+ut]=T[I+ut]}function a(R,U,T,I){for(var k=0;k<I;k++)R[U+k]=T}function o(R){return new Int32Array(R)}function u(R,U){for(var T=[],I=0;I<R;I++)T.push(new U);return T}function c(R,U){var T=[];return(function I(k,ut,Tt){for(var at=Tt[ut],mt=0;mt<at&&(k.push(Tt.length>ut+1?[]:new U),!(Tt.length<ut+1));mt++)I(k[mt],ut+1,Tt)})(T,0,R),T}var f=function(){var R=this;function U(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function T(p,v,S,N,V){t(!(N%S));do p[v+(N-=S)]=V;while(0<N)}function I(p,v,S,N,V){if(t(2328>=V),512>=V)var z=o(512);else if((z=o(V))==null)return 0;return(function(H,Y,X,it,gt,It){var nt,_t,xt=Y,jt=1<<X,Ct=o(16),Ut=o(16);for(t(gt!=0),t(it!=null),t(H!=null),t(0<X),_t=0;_t<gt;++_t){if(15<it[_t])return 0;++Ct[it[_t]]}if(Ct[0]==gt)return 0;for(Ut[1]=0,nt=1;15>nt;++nt){if(Ct[nt]>1<<nt)return 0;Ut[nt+1]=Ut[nt]+Ct[nt]}for(_t=0;_t<gt;++_t)nt=it[_t],0<it[_t]&&(It[Ut[nt]++]=_t);if(Ut[15]==1)return(it=new k).g=0,it.value=It[0],T(H,xt,1,jt,it),jt;var Vt,Kt=-1,Gt=jt-1,ve=0,oe=1,Ge=1,ue=1<<X;for(_t=0,nt=1,gt=2;nt<=X;++nt,gt<<=1){if(oe+=Ge<<=1,0>(Ge-=Ct[nt]))return 0;for(;0<Ct[nt];--Ct[nt])(it=new k).g=nt,it.value=It[_t++],T(H,xt+ve,gt,ue,it),ve=U(ve,nt)}for(nt=X+1,gt=2;15>=nt;++nt,gt<<=1){if(oe+=Ge<<=1,0>(Ge-=Ct[nt]))return 0;for(;0<Ct[nt];--Ct[nt]){if(it=new k,(ve&Gt)!=Kt){for(xt+=ue,Vt=1<<(Kt=nt)-X;15>Kt&&!(0>=(Vt-=Ct[Kt]));)++Kt,Vt<<=1;jt+=ue=1<<(Vt=Kt-X),H[Y+(Kt=ve&Gt)].g=Vt+X,H[Y+Kt].value=xt-Y-Kt}it.g=nt-X,it.value=It[_t++],T(H,xt+(ve>>X),gt,ue,it),ve=U(ve,nt)}}return oe!=2*Ut[15]-1?0:jt})(p,v,S,N,V,z)}function k(){this.value=this.g=0}function ut(){this.value=this.g=0}function Tt(){this.G=u(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Vs,ut)}function at(p,v,S,N){t(p!=null),t(v!=null),t(2147483648>N),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+N,p.Zc=4<=N?S+N-4+1:S,Lt(p)}function mt(p,v){for(var S=0;0<v--;)S|=qt(p,128)<<v;return S}function ot(p,v){var S=mt(p,v);return Pt(p)?-S:S}function wt(p,v,S,N){var V,z=0;for(t(p!=null),t(v!=null),t(4294967288>N),p.Sb=N,p.Ra=0,p.u=0,p.h=0,4<N&&(N=4),V=0;V<N;++V)z+=v[S+V]<<8*V;p.Ra=z,p.bb=N,p.oa=v,p.pa=S}function Z(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Za-8>>>0,++p.bb,p.u-=8;ct(p)&&(p.h=1,p.u=0)}function ft(p,v){if(t(0<=v),!p.h&&v<=zl){var S=J(p)&Ea[v];return p.u+=v,Z(p),S}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&Za-1)>>>0}function ct(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Za}function dt(p,v){p.u=v,p.h=ct(p)}function yt(p){p.u>=br&&(t(p.u>=br),Z(p))}function Lt(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Pt(p){return mt(p,1)}function qt(p,v){var S=p.Ca;0>p.b&&Lt(p);var N=p.b,V=S*v>>>8,z=(p.I>>>N>V)+0;for(z?(S-=V,p.I-=V+1<<N>>>0):S=V+1,N=S,V=0;256<=N;)V+=8,N>>=8;return N=7^V+Wh[N],p.b-=N,p.Ca=(S<<N)-1,z}function Qt(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function ne(p,v){return p[v+0]|p[v+1]<<8}function re(p,v){return ne(p,v)|p[v+2]<<16}function Mt(p,v){return ne(p,v)|ne(p,v+2)<<16}function lt(p,v){var S=1<<v;return t(p!=null),t(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function en(p,v){t(p!=null),t(v!=null),t(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Ne(){this.X=[],this.Xa=this.Mb=0}function xe(p,v,S,N){t(S!=null),t(N!=null);var V=S[0],z=N[0];return V==0&&(V=(p*z+v/2)/v),z==0&&(z=(v*V+p/2)/p),0>=V||0>=z?0:(S[0]=V,N[0]=z,1)}function Zt(p,v){return p+(1<<v)-1>>>v}function ye(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ee(p,v){R[v]=function(S,N,V,z,H,Y,X){var it;for(it=0;it<H;++it){var gt=R[p](Y[X+it-1],V,z+it);Y[X+it]=ye(S[N+it],gt)}}}function Ye(){this.ud=this.hd=this.jd=0}function _e(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function mn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Be(p,v){return mn(p+(p-v+.5>>1))}function ce(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function we(p,v,S,N,V,z,H){for(N=z[H-1],S=0;S<V;++S)z[H+S]=N=ye(p[v+S],N)}function Te(p,v,S,N,V){var z;for(z=0;z<S;++z){var H=p[v+z],Y=H>>8&255,X=16711935&(X=(X=16711935&H)+((Y<<16)+Y));N[V+z]=(4278255360&H)+X>>>0}}function se(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Le(p,v,S,N,V,z){var H;for(H=0;H<N;++H){var Y=v[S+H],X=Y>>>8,it=Y,gt=255&(gt=(gt=Y>>>16)+((p.jd<<24>>24)*(X<<24>>24)>>>5));it=255&(it=(it+=(p.hd<<24>>24)*(X<<24>>24)>>>5)+((p.ud<<24>>24)*(gt<<24>>24)>>>5)),V[z+H]=(4278255360&Y)+(gt<<16)+it}}function be(p,v,S,N,V){R[v]=function(z,H,Y,X,it,gt,It,nt,_t){for(X=It;X<nt;++X)for(It=0;It<_t;++It)it[gt++]=V(Y[N(z[H++])])},R[p]=function(z,H,Y,X,it,gt,It){var nt=8>>z.b,_t=z.Ea,xt=z.K[0],jt=z.w;if(8>nt)for(z=(1<<z.b)-1,jt=(1<<nt)-1;H<Y;++H){var Ct,Ut=0;for(Ct=0;Ct<_t;++Ct)Ct&z||(Ut=N(X[it++])),gt[It++]=V(xt[Ut&jt]),Ut>>=nt}else R["VP8LMapColor"+S](X,it,xt,jt,gt,It,H,Y,_t)}}function Tn(p,v,S,N,V){for(S=v+S;v<S;){var z=p[v++];N[V++]=z>>16&255,N[V++]=z>>8&255,N[V++]=255&z}}function an(p,v,S,N,V){for(S=v+S;v<S;){var z=p[v++];N[V++]=z>>16&255,N[V++]=z>>8&255,N[V++]=255&z,N[V++]=z>>24&255}}function he(p,v,S,N,V){for(S=v+S;v<S;){var z=(H=p[v++])>>16&240|H>>12&15,H=240&H|H>>28&15;N[V++]=z,N[V++]=H}}function Ce(p,v,S,N,V){for(S=v+S;v<S;){var z=(H=p[v++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;N[V++]=z,N[V++]=H}}function Nn(p,v,S,N,V){for(S=v+S;v<S;){var z=p[v++];N[V++]=255&z,N[V++]=z>>8&255,N[V++]=z>>16&255}}function Ae(p,v,S,N,V,z){if(z==0)for(S=v+S;v<S;)Qt(N,((z=p[v++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else r(N,V,p,v,S)}function nn(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function Ve(p){return p==Zu||p==Ro||p==to||p==Yl}function er(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new qn,this.sd=null}function Pe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ys(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function fr(p,v){var S=p.T,N=v.ba.f.RGBA,V=N.eb,z=N.fb+p.ka*N.A,H=ui[v.ba.S],Y=p.y,X=p.O,it=p.f,gt=p.N,It=p.ea,nt=p.W,_t=v.cc,xt=v.dc,jt=v.Mc,Ct=v.Nc,Ut=p.ka,Vt=p.ka+p.T,Kt=p.U,Gt=Kt+1>>1;for(Ut==0?H(Y,X,null,null,it,gt,It,nt,it,gt,It,nt,V,z,null,null,Kt):(H(v.ec,v.fc,Y,X,_t,xt,jt,Ct,it,gt,It,nt,V,z-N.A,V,z,Kt),++S);Ut+2<Vt;Ut+=2)_t=it,xt=gt,jt=It,Ct=nt,gt+=p.Rc,nt+=p.Rc,z+=2*N.A,H(Y,(X+=2*p.fa)-p.fa,Y,X,_t,xt,jt,Ct,it,gt,It,nt,V,z-N.A,V,z,Kt);return X+=p.fa,p.j+Vt<p.o?(r(v.ec,v.fc,Y,X,Kt),r(v.cc,v.dc,it,gt,Gt),r(v.Mc,v.Nc,It,nt,Gt),S--):1&Vt||H(Y,X,null,null,it,gt,It,nt,it,gt,It,nt,V,z+N.A,null,null,Kt),S}function ts(p,v,S){var N=p.F,V=[p.J];if(N!=null){var z=p.U,H=v.ba.S,Y=H==ol||H==to;v=v.ba.f.RGBA;var X=[0],it=p.ka;X[0]=p.T,p.Kb&&(it==0?--X[0]:(--it,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(X[0]=p.o-p.j-it));var gt=v.eb;it=v.fb+it*v.A,p=xs(N,V[0],p.width,z,X,gt,it+(Y?0:3),v.A),t(S==X),p&&Ve(H)&&$l(gt,it,Y,z,X,v.A)}return 0}function di(p){var v=p.ma,S=v.ba.S,N=11>S,V=S==Wl||S==Xu||S==ol||S==Ja||S==12||Ve(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!yi(v.Oa,p,V?11:12))return 0;if(V&&Ve(S)&&xo(),p.da)alert("todo:use_scaling");else{if(N){if(v.Ib=Ys,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=fr,xo()}}else alert("todo:EmitYUV");V&&(v.Jb=ts,N&&Ir())}if(N&&!Hd){for(p=0;256>p;++p)bg[p]=89858*(p-128)+Yr>>Oa,ec[p]=-22014*(p-128)+Yr,ef[p]=-45773*(p-128),Kr[p]=113618*(p-128)+Yr>>Oa;for(p=Po;p<Gc;++p)v=76283*(p-16)+Yr>>Oa,nc[p-Po]=fn(v,255),nf[p-Po]=fn(v+8>>4,15);Hd=1}return 1}function Ie(p){var v=p.ma,S=p.U,N=p.T;return t(!(1&p.ka)),0>=S||0>=N?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Cn(p){p.ma.memory=null}function zn(p,v,S,N){return ft(p,8)!=47?0:(v[0]=ft(p,14)+1,S[0]=ft(p,14)+1,N[0]=ft(p,1),ft(p,3)!=0?0:!p.h)}function kn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+ft(v,S)+1}function dr(p,v){return 120<v?v-120:1<=(S=((S=no[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Kn(p,v,S){var N=J(S),V=p[v+=255&N].g-8;return 0<V&&(dt(S,S.u+8),N=J(S),v+=p[v].value,v+=N&(1<<V)-1),dt(S,S.u+p[v].g),p[v].value}function Mr(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,t(8>=S.g),p.g}function lr(p,v,S){var N=p.xc;return t((v=N==0?0:p.vc[p.md*(S>>N)+(v>>N)])<p.Wb),p.Ya[v]}function da(p,v,S,N){var V=p.ab,z=p.c*v,H=p.C;v=H+v;var Y=S,X=N;for(N=p.Ta,S=p.Ua;0<V--;){var it=p.gc[V],gt=H,It=v,nt=Y,_t=X,xt=(X=N,Y=S,it.Ea);switch(t(gt<It),t(It<=it.nc),it.hc){case 2:Hl(nt,_t,(It-gt)*xt,X,Y);break;case 0:var jt=gt,Ct=It,Ut=X,Vt=Y,Kt=(ue=it).Ea;jt==0&&(xa(nt,_t,null,null,1,Ut,Vt),we(nt,_t+1,0,0,Kt-1,Ut,Vt+1),_t+=Kt,Vt+=Kt,++jt);for(var Gt=1<<ue.b,ve=Gt-1,oe=Zt(Kt,ue.b),Ge=ue.K,ue=ue.w+(jt>>ue.b)*oe;jt<Ct;){var dn=Ge,qr=ue,ze=1;for(Ta(nt,_t,Ut,Vt-Kt,1,Ut,Vt);ze<Kt;){var fe=(ze&~ve)+Gt;fe>Kt&&(fe=Kt),(0,Co[dn[qr++]>>8&15])(nt,_t+ +ze,Ut,Vt+ze-Kt,fe-ze,Ut,Vt+ze),ze=fe}_t+=Kt,Vt+=Kt,++jt&ve||(ue+=oe)}It!=it.nc&&r(X,Y-xt,X,Y+(It-gt-1)*xt,xt);break;case 1:for(xt=nt,Ct=_t,Kt=(nt=it.Ea)-(Vt=nt&~(Ut=(_t=1<<it.b)-1)),jt=Zt(nt,it.b),Gt=it.K,it=it.w+(gt>>it.b)*jt;gt<It;){for(ve=Gt,oe=it,Ge=new Ye,ue=Ct+Vt,dn=Ct+nt;Ct<ue;)se(ve[oe++],Ge),Ca(Ge,xt,Ct,_t,X,Y),Ct+=_t,Y+=_t;Ct<dn&&(se(ve[oe++],Ge),Ca(Ge,xt,Ct,Kt,X,Y),Ct+=Kt,Y+=Kt),++gt&Ut||(it+=jt)}break;case 3:if(nt==X&&_t==Y&&0<it.b){for(Ct=X,nt=xt=Y+(It-gt)*xt-(Vt=(It-gt)*Zt(it.Ea,it.b)),_t=X,Ut=Y,jt=[],Vt=(Kt=Vt)-1;0<=Vt;--Vt)jt[Vt]=_t[Ut+Vt];for(Vt=Kt-1;0<=Vt;--Vt)Ct[nt+Vt]=jt[Vt];Yu(it,gt,It,X,xt,X,Y)}else Yu(it,gt,It,nt,_t,X,Y)}Y=N,X=S}X!=S&&r(N,S,Y,X,z)}function es(p,v){var S=p.V,N=p.Ba+p.c*p.C,V=v-p.C;if(t(v<=p.l.o),t(16>=V),0<V){var z=p.l,H=p.Ta,Y=p.Ua,X=z.width;if(da(p,V,S,N),V=Y=[Y],t((S=p.C)<(N=v)),t(z.v<z.va),N>z.o&&(N=z.o),S<z.j){var it=z.j-S;S=z.j,V[0]+=it*X}if(S>=N?S=0:(V[0]+=4*z.v,z.ka=S-z.j,z.U=z.va-z.v,z.T=N-S,S=1),S){if(Y=Y[0],11>(S=p.ca).S){var gt=S.f.RGBA,It=(N=S.S,V=z.U,z=z.T,it=gt.eb,gt.A),nt=z;for(gt=gt.fb+p.Ma*gt.A;0<nt--;){var _t=H,xt=Y,jt=V,Ct=it,Ut=gt;switch(N){case Ci:Gl(_t,xt,jt,Ct,Ut);break;case Wl:qi(_t,xt,jt,Ct,Ut);break;case Zu:qi(_t,xt,jt,Ct,Ut),$l(Ct,Ut,0,jt,1,0);break;case La:Fn(_t,xt,jt,Ct,Ut);break;case Xu:Ae(_t,xt,jt,Ct,Ut,1);break;case Ro:Ae(_t,xt,jt,Ct,Ut,1),$l(Ct,Ut,0,jt,1,0);break;case ol:Ae(_t,xt,jt,Ct,Ut,0);break;case to:Ae(_t,xt,jt,Ct,Ut,0),$l(Ct,Ut,1,jt,1,0);break;case Ja:Ia(_t,xt,jt,Ct,Ut);break;case Yl:Ia(_t,xt,jt,Ct,Ut),Es(Ct,Ut,jt,1,0);break;case Fc:Dn(_t,xt,jt,Ct,Ut);break;default:t(0)}Y+=X,gt+=It}p.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=S.height)}}p.C=v,t(p.C<=p.i)}function si(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,N=p.Ya[v].H;if(0<S[1][N[1]+0].g||0<S[2][N[2]+0].g||0<S[3][N[3]+0].g)return 0}return 1}function ai(p,v,S,N,V,z){if(p.Z!=0){var H=p.qd,Y=p.rd;for(t(Pa[p.Z]!=null);v<S;++v)Pa[p.Z](H,Y,N,V,N,V,z),H=N,Y=V,V+=z;p.qd=H,p.rd=Y}}function jr(p,v){var S=p.l.ma,N=S.Z==0||S.Z==1?p.l.j:p.C;if(N=p.C<N?N:p.C,t(v<=p.l.o),v>N){var V=p.l.width,z=S.ca,H=S.tb+V*N,Y=p.V,X=p.Ba+p.c*N,it=p.gc;t(p.ab==1),t(it[0].hc==3),Na(it[0],N,v,Y,X,z,H),ai(S,N,v,z,H,V)}p.C=p.Ma=v}function Vr(p,v,S,N,V,z,H){var Y=p.$/N,X=p.$%N,it=p.m,gt=p.s,It=S+p.$,nt=It;V=S+N*V;var _t=S+N*z,xt=280+gt.ua,jt=p.Pb?Y:16777216,Ct=0<gt.ua?gt.Wa:null,Ut=gt.wc,Vt=It<_t?lr(gt,X,Y):null;t(p.C<z),t(_t<=V);var Kt=!1;t:for(;;){for(;Kt||It<_t;){var Gt=0;if(Y>=jt){var ve=It-S;t((jt=p).Pb),jt.wd=jt.m,jt.xd=ve,0<jt.s.ua&&en(jt.s.Wa,jt.s.vb),jt=Y+Bd}if(X&Ut||(Vt=lr(gt,X,Y)),t(Vt!=null),Vt.Qb&&(v[It]=Vt.qb,Kt=!0),!Kt)if(yt(it),Vt.jc){Gt=it,ve=v;var oe=It,Ge=Vt.pd[J(Gt)&Vs-1];t(Vt.jc),256>Ge.g?(dt(Gt,Gt.u+Ge.g),ve[oe]=Ge.value,Gt=0):(dt(Gt,Gt.u+Ge.g-256),t(256<=Ge.value),Gt=Ge.value),Gt==0&&(Kt=!0)}else Gt=Kn(Vt.G[0],Vt.H[0],it);if(it.h)break;if(Kt||256>Gt){if(!Kt)if(Vt.nd)v[It]=(Vt.qb|Gt<<8)>>>0;else{if(yt(it),Kt=Kn(Vt.G[1],Vt.H[1],it),yt(it),ve=Kn(Vt.G[2],Vt.H[2],it),oe=Kn(Vt.G[3],Vt.H[3],it),it.h)break;v[It]=(oe<<24|Kt<<16|Gt<<8|ve)>>>0}if(Kt=!1,++It,++X>=N&&(X=0,++Y,H!=null&&Y<=z&&!(Y%16)&&H(p,Y),Ct!=null))for(;nt<It;)Gt=v[nt++],Ct.X[(506832829*Gt&4294967295)>>>Ct.Mb]=Gt}else if(280>Gt){if(Gt=kn(Gt-256,it),ve=Kn(Vt.G[4],Vt.H[4],it),yt(it),ve=dr(N,ve=kn(ve,it)),it.h)break;if(It-S<ve||V-It<Gt)break t;for(oe=0;oe<Gt;++oe)v[It+oe]=v[It+oe-ve];for(It+=Gt,X+=Gt;X>=N;)X-=N,++Y,H!=null&&Y<=z&&!(Y%16)&&H(p,Y);if(t(It<=V),X&Ut&&(Vt=lr(gt,X,Y)),Ct!=null)for(;nt<It;)Gt=v[nt++],Ct.X[(506832829*Gt&4294967295)>>>Ct.Mb]=Gt}else{if(!(Gt<xt))break t;for(Kt=Gt-280,t(Ct!=null);nt<It;)Gt=v[nt++],Ct.X[(506832829*Gt&4294967295)>>>Ct.Mb]=Gt;Gt=It,t(!(Kt>>>(ve=Ct).Xa)),v[Gt]=ve.X[Kt],Kt=!0}Kt||t(it.h==ct(it))}if(p.Pb&&it.h&&It<V)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&en(p.s.vb,p.s.Wa);else{if(it.h)break t;H?.(p,Y>z?z:Y),p.a=0,p.$=It-S}return 1}return p.a=3,0}function Qn(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,t(p!=null)}function Hn(){var p=new Xn;return p==null?null:(p.a=0,p.xb=Kl,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Hl=Te,Ca=Le,Gl=Tn,qi=an,Ia=he,Dn=Ce,Fn=Nn,R.VP8LMapColor32b=oi,R.VP8LMapColor8b=No,p)}function ns(p,v,S,N,V){var z=1,H=[p],Y=[v],X=N.m,it=N.s,gt=null,It=0;t:for(;;){if(S)for(;z&&ft(X,1);){var nt=H,_t=Y,xt=N,jt=1,Ct=xt.m,Ut=xt.gc[xt.ab],Vt=ft(Ct,2);if(xt.Oc&1<<Vt)z=0;else{switch(xt.Oc|=1<<Vt,Ut.hc=Vt,Ut.Ea=nt[0],Ut.nc=_t[0],Ut.K=[null],++xt.ab,t(4>=xt.ab),Vt){case 0:case 1:Ut.b=ft(Ct,3)+2,jt=ns(Zt(Ut.Ea,Ut.b),Zt(Ut.nc,Ut.b),0,xt,Ut.K),Ut.K=Ut.K[0];break;case 3:var Kt,Gt=ft(Ct,8)+1,ve=16<Gt?0:4<Gt?1:2<Gt?2:3;if(nt[0]=Zt(Ut.Ea,ve),Ut.b=ve,Kt=jt=ns(Gt,1,0,xt,Ut.K)){var oe,Ge=Gt,ue=Ut,dn=1<<(8>>ue.b),qr=o(dn);if(qr==null)Kt=0;else{var ze=ue.K[0],fe=ue.w;for(qr[0]=ue.K[0][0],oe=1;oe<1*Ge;++oe)qr[oe]=ye(ze[fe+oe],qr[oe-1]);for(;oe<4*dn;++oe)qr[oe]=0;ue.K[0]=null,ue.K[0]=qr,Kt=1}}jt=Kt;break;case 2:break;default:t(0)}z=jt}}if(H=H[0],Y=Y[0],z&&ft(X,1)&&!(z=1<=(It=ft(X,4))&&11>=It)){N.a=3;break t}var te;if(te=z)e:{var gr,$e,Je,de=N,Ke=H,wn=Y,ir=It,Lr=S,kr=de.m,Ar=de.s,hn=[null],An=1,Sr=0,Oe=ul[ir];n:for(;;){if(Lr&&ft(kr,1)){var Qr=ft(kr,3)+2,Cs=Zt(Ke,Qr),Er=Zt(wn,Qr),Gi=Cs*Er;if(!ns(Cs,Er,0,de,hn))break n;for(hn=hn[0],Ar.xc=Qr,gr=0;gr<Gi;++gr){var Gn=hn[gr]>>8&65535;hn[gr]=Gn,Gn>=An&&(An=Gn+1)}}if(kr.h)break n;for($e=0;5>$e;++$e){var Pr=Ts[$e];!$e&&0<ir&&(Pr+=1<<ir),Sr<Pr&&(Sr=Pr)}var $i=u(An*Oe,k),vi=An,Zn=u(vi,Tt);if(Zn==null)var In=null;else t(65536>=vi),In=Zn;var Ii=o(Sr);if(In==null||Ii==null||$i==null){de.a=1;break n}var _i=$i;for(gr=Je=0;gr<An;++gr){var Vn=In[gr],Wi=Vn.G,Xr=Vn.H,Ma=0,ea=1,Zr=0;for($e=0;5>$e;++$e){Pr=Ts[$e],Wi[$e]=_i,Xr[$e]=Je,!$e&&0<ir&&(Pr+=1<<ir);i:{var rc,$c=Pr,ic=de,Xl=Ii,Wd=_i,Yd=Je,sc=0,ao=ic.m,Ag=ft(ao,1);if(a(Xl,0,0,$c),Ag){var Kd=ft(ao,1)+1,Qd=ft(ao,1),rf=ft(ao,Qd==0?1:8);Xl[rf]=1,Kd==2&&(Xl[rf=ft(ao,8)]=1);var Zl=1}else{var sf=o(19),af=ft(ao,4)+4;if(19<af){ic.a=3;var ac=0;break i}for(rc=0;rc<af;++rc)sf[eo[rc]]=ft(ao,3);var Wc=void 0,Jl=void 0,Xd=ic,Zd=sf,oo=$c,oc=Xl,Yc=0,na=Xd.m,tu=8,of=u(128,k);r:for(;I(of,0,7,Zd,19);){if(ft(na,1)){var Jd=2+2*ft(na,3);if((Wc=2+ft(na,Jd))>oo)break r}else Wc=oo;for(Jl=0;Jl<oo&&Wc--;){yt(na);var lf=of[0+(127&J(na))];dt(na,na.u+lf.g);var fl=lf.value;if(16>fl)oc[Jl++]=fl,fl!=0&&(tu=fl);else{var tp=fl==16,uf=fl-16,cf=qs[uf],hf=ft(na,Bc[uf])+cf;if(Jl+hf>oo)break r;for(var ep=tp?tu:0;0<hf--;)oc[Jl++]=ep}}Yc=1;break r}Yc||(Xd.a=3),Zl=Yc}(Zl=Zl&&!ao.h)&&(sc=I(Wd,Yd,8,Xl,$c)),Zl&&sc!=0?ac=sc:(ic.a=3,ac=0)}if(ac==0)break n;if(ea&&ll[$e]==1&&(ea=_i[Je].g==0),Ma+=_i[Je].g,Je+=ac,3>=$e){var dl,Kc=Ii[0];for(dl=1;dl<Pr;++dl)Ii[dl]>Kc&&(Kc=Ii[dl]);Zr+=Kc}}if(Vn.nd=ea,Vn.Qb=0,ea&&(Vn.qb=(Wi[3][Xr[3]+0].value<<24|Wi[1][Xr[1]+0].value<<16|Wi[2][Xr[2]+0].value)>>>0,Ma==0&&256>Wi[0][Xr[0]+0].value&&(Vn.Qb=1,Vn.qb+=Wi[0][Xr[0]+0].value<<8)),Vn.jc=!Vn.Qb&&6>Zr,Vn.jc){var lc,lo=Vn;for(lc=0;lc<Vs;++lc){var ja=lc,uo=lo.pd[ja],uc=lo.G[0][lo.H[0]+ja];256<=uc.value?(uo.g=uc.g+256,uo.value=uc.value):(uo.g=0,uo.value=0,ja>>=Mr(uc,8,uo),ja>>=Mr(lo.G[1][lo.H[1]+ja],16,uo),ja>>=Mr(lo.G[2][lo.H[2]+ja],0,uo),Mr(lo.G[3][lo.H[3]+ja],24,uo))}}}Ar.vc=hn,Ar.Wb=An,Ar.Ya=In,Ar.yc=$i,te=1;break e}te=0}if(!(z=te)){N.a=3;break t}if(0<It){if(it.ua=1<<It,!lt(it.Wa,It)){N.a=1,z=0;break t}}else it.ua=0;var cc=N,ff=H,np=Y,df=cc.s,pf=df.xc;if(cc.c=ff,cc.i=np,df.md=Zt(ff,pf),df.wc=pf==0?-1:(1<<pf)-1,S){N.xb=zd;break t}if((gt=o(H*Y))==null){N.a=1,z=0;break t}z=(z=Vr(N,gt,0,H,Y,Y,null))&&!X.h;break t}return z?(V!=null?V[0]=gt:(t(gt==null),t(S)),N.$=0,S||Qn(it)):Qn(it),z}function ks(p,v){var S=p.c*p.i,N=S+v+16*v;return t(p.c<=v),p.V=o(N),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Si(p,v){var S=p.C,N=v-S,V=p.V,z=p.Ba+p.c*S;for(t(v<=p.l.o);0<N;){var H=16<N?16:N,Y=p.l.ma,X=p.l.width,it=X*H,gt=Y.ca,It=Y.tb+X*S,nt=p.Ta,_t=p.Ua;da(p,H,V,z),il(nt,_t,gt,It,it),ai(Y,S,S+H,gt,It,X),N-=H,V+=H*p.c,S+=H}t(S==v),p.C=p.Ma=v}function rs(){this.ub=this.yd=this.td=this.Rb=0}function Ha(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ul(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ks(){this.Yb=(function(){var p=[];return(function v(S,N,V){for(var z=V[N],H=0;H<z&&(S.push(V.length>N+1?[]:0),!(V.length<N+1));H++)v(S[H],N+1,V)})(p,0,[3,11]),p})()}function Jo(){this.jb=o(3),this.Wc=c([4,8],Ks),this.Xc=c([4,17],Ks)}function Qs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function Cr(){this.Na=this.la=0}function pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ps(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new bo),this.aa=0,this.l=new ma}function Ga(){this.y=o(16),this.f=o(8),this.ea=o(8)}function $a(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new rs,this.Kc=new Ha,this.ed=new Qs,this.Qa=new Ul,this.Ic=this.$c=this.Aa=0,this.D=new Ps,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,P),this.ia=0,this.pb=u(4,pa),this.Pa=new Jo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ga),this.Hd=0,this.rb=Array(new Cr),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bo),this.L=this.aa=0,this.gd=c([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ma(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wo(){var p=new $a;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Wr||(Wr=is)),p}function _n(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Ao(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Fl(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return _n(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,N=v.w,V=v.ha;if(4>V)return _n(p,7,"Truncated header.");var z=S[N+0]|S[N+1]<<8|S[N+2]<<16,H=p.Od;if(H.Rb=!(1&z),H.td=z>>1&7,H.yd=z>>4&1,H.ub=z>>5,3<H.td)return _n(p,3,"Incorrect keyframe parameters.");if(!H.yd)return _n(p,4,"Frame not displayable.");N+=3,V-=3;var Y=p.Kc;if(H.Rb){if(7>V)return _n(p,7,"cannot parse picture header");if(!Ao(S,N,V))return _n(p,3,"Bad code word");Y.c=16383&(S[N+4]<<8|S[N+3]),Y.Td=S[N+4]>>6,Y.i=16383&(S[N+6]<<8|S[N+5]),Y.Ud=S[N+6]>>6,N+=7,V-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((z=p.Pa).jb,0,255,z.jb.length),t((z=p.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,a(z.Zb,0,0,z.Zb.length),a(z.Lb,0,0,z.Lb)}if(H.ub>V)return _n(p,7,"bad partition length");at(z=p.m,S,N,H.ub),N+=H.ub,V-=H.ub,H.Rb&&(Y.Ld=Pt(z),Y.Kd=Pt(z)),Y=p.Qa;var X,it=p.Pa;if(t(z!=null),t(Y!=null),Y.Cb=Pt(z),Y.Cb){if(Y.Bb=Pt(z),Pt(z)){for(Y.Fb=Pt(z),X=0;4>X;++X)Y.Zb[X]=Pt(z)?ot(z,7):0;for(X=0;4>X;++X)Y.Lb[X]=Pt(z)?ot(z,6):0}if(Y.Bb)for(X=0;3>X;++X)it.jb[X]=Pt(z)?mt(z,8):255}else Y.Bb=0;if(z.Ka)return _n(p,3,"cannot parse segment header");if((Y=p.ed).zd=Pt(z),Y.Tb=mt(z,6),Y.wb=mt(z,3),Y.Pc=Pt(z),Y.Pc&&Pt(z)){for(it=0;4>it;++it)Pt(z)&&(Y.vd[it]=ot(z,6));for(it=0;4>it;++it)Pt(z)&&(Y.od[it]=ot(z,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,z.Ka)return _n(p,3,"cannot parse filter header");var gt=V;if(V=X=N,N=X+gt,Y=gt,p.Xb=(1<<mt(p.m,2))-1,gt<3*(it=p.Xb))S=7;else{for(X+=3*it,Y-=3*it,gt=0;gt<it;++gt){var It=S[V+0]|S[V+1]<<8|S[V+2]<<16;It>Y&&(It=Y),at(p.Jc[+gt],S,X,It),X+=It,Y-=It,V+=3}at(p.Jc[+it],S,X,Y),S=X<N?0:5}if(S!=0)return _n(p,S,"cannot parse partitions");for(S=mt(X=p.m,7),V=Pt(X)?ot(X,4):0,N=Pt(X)?ot(X,4):0,Y=Pt(X)?ot(X,4):0,it=Pt(X)?ot(X,4):0,X=Pt(X)?ot(X,4):0,gt=p.Qa,It=0;4>It;++It){if(gt.Cb){var nt=gt.Zb[It];gt.Fb||(nt+=S)}else{if(0<It){p.pb[It]=p.pb[0];continue}nt=S}var _t=p.pb[It];_t.Sc[0]=Ju[fn(nt+V,127)],_t.Sc[1]=tc[fn(nt+0,127)],_t.Eb[0]=2*Ju[fn(nt+N,127)],_t.Eb[1]=101581*tc[fn(nt+Y,127)]>>16,8>_t.Eb[1]&&(_t.Eb[1]=8),_t.Qc[0]=Ju[fn(nt+it,117)],_t.Qc[1]=tc[fn(nt+X,127)],_t.lc=nt+X}if(!H.Rb)return _n(p,4,"Not a key frame.");for(Pt(z),H=p.Pa,S=0;4>S;++S){for(V=0;8>V;++V)for(N=0;3>N;++N)for(Y=0;11>Y;++Y)it=qt(z,cl[S][V][N][Y])?mt(z,8):ka[S][V][N][Y],H.Wc[S][V].Yb[N][Y]=it;for(V=0;17>V;++V)H.Xc[S][V]=H.Wc[S][qd[V]]}return p.kc=Pt(z),p.kc&&(p.Bd=mt(z,8)),p.cb=1}function is(p,v,S,N,V,z,H){var Y=v[V].Yb[S];for(S=0;16>V;++V){if(!qt(p,Y[S+0]))return V;for(;!qt(p,Y[S+1]);)if(Y=v[++V].Yb[0],S=0,V==16)return 16;var X=v[V+1].Yb;if(qt(p,Y[S+2])){var it=p,gt=0;if(qt(it,(nt=Y)[(It=S)+3]))if(qt(it,nt[It+6])){for(Y=0,It=2*(gt=qt(it,nt[It+8]))+(nt=qt(it,nt[It+9+gt])),gt=0,nt=wr[It];nt[Y];++Y)gt+=gt+qt(it,nt[Y]);gt+=3+(8<<It)}else qt(it,nt[It+7])?(gt=7+2*qt(it,165),gt+=qt(it,145)):gt=5+qt(it,159);else gt=qt(it,nt[It+4])?3+qt(it,nt[It+5]):2;Y=X[2]}else gt=1,Y=X[1];X=H+On[V],0>(it=p).b&&Lt(it);var It,nt=it.b,_t=(It=it.Ca>>1)-(it.I>>nt)>>31;--it.b,it.Ca+=_t,it.Ca|=1,it.I-=(It+1&_t)<<nt,z[X]=((gt^_t)-_t)*N[(0<V)+0]}return 16}function Xs(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function pi(p,v,S,N,V){V=p[v+S+32*N]+(V>>3),p[v+S+32*N]=-256&V?0>V?0:255:V}function Wa(p,v,S,N,V,z){pi(p,v,0,S,N+V),pi(p,v,1,S,N+z),pi(p,v,2,S,N-z),pi(p,v,3,S,N-V)}function tn(p){return(20091*p>>16)+p}function mi(p,v,S,N){var V,z=0,H=o(16);for(V=0;4>V;++V){var Y=p[v+0]+p[v+8],X=p[v+0]-p[v+8],it=(35468*p[v+4]>>16)-tn(p[v+12]),gt=tn(p[v+4])+(35468*p[v+12]>>16);H[z+0]=Y+gt,H[z+1]=X+it,H[z+2]=X-it,H[z+3]=Y-gt,z+=4,v++}for(V=z=0;4>V;++V)Y=(p=H[z+0]+4)+H[z+8],X=p-H[z+8],it=(35468*H[z+4]>>16)-tn(H[z+12]),pi(S,N,0,0,Y+(gt=tn(H[z+4])+(35468*H[z+12]>>16))),pi(S,N,1,0,X+it),pi(S,N,2,0,X-it),pi(S,N,3,0,Y-gt),z++,N+=32}function Ya(p,v,S,N){var V=p[v+0]+4,z=35468*p[v+4]>>16,H=tn(p[v+4]),Y=35468*p[v+1]>>16;Wa(S,N,0,V+H,p=tn(p[v+1]),Y),Wa(S,N,1,V+z,p,Y),Wa(S,N,2,V-z,p,Y),Wa(S,N,3,V-H,p,Y)}function ga(p,v,S,N,V){mi(p,v,S,N),V&&mi(p,v+16,S,N+4)}function Zs(p,v,S,N){mr(p,v+0,S,N,1),mr(p,v+32,S,N+128,1)}function on(p,v,S,N){var V;for(p=p[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)pi(S,N,v,V,p)}function ya(p,v,S,N){p[v+0]&&zi(p,v+0,S,N),p[v+16]&&zi(p,v+16,S,N+4),p[v+32]&&zi(p,v+32,S,N+128),p[v+48]&&zi(p,v+48,S,N+128+4)}function Oi(p,v,S,N){var V,z=o(16);for(V=0;4>V;++V){var H=p[v+0+V]+p[v+12+V],Y=p[v+4+V]+p[v+8+V],X=p[v+4+V]-p[v+8+V],it=p[v+0+V]-p[v+12+V];z[0+V]=H+Y,z[8+V]=H-Y,z[4+V]=it+X,z[12+V]=it-X}for(V=0;4>V;++V)H=(p=z[0+4*V]+3)+z[3+4*V],Y=z[1+4*V]+z[2+4*V],X=z[1+4*V]-z[2+4*V],it=p-z[3+4*V],S[N+0]=H+Y>>3,S[N+16]=it+X>>3,S[N+32]=H-Y>>3,S[N+48]=it-X>>3,N+=64}function ss(p,v,S){var N,V=v-32,z=li,H=255-p[V-1];for(N=0;N<S;++N){var Y,X=z,it=H+p[v-1];for(Y=0;Y<S;++Y)p[v+Y]=X[it+p[V+Y]];v+=32}}function So(p,v){ss(p,v,4)}function tl(p,v){ss(p,v,8)}function el(p,v){ss(p,v,16)}function Wu(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function nl(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Ds(p,v,S){var N;for(N=0;16>N;++N)a(v,S+32*N,p,16)}function Ei(p,v){var S,N=16;for(S=0;16>S;++S)N+=p[v-1+32*S]+p[v+S-32];Ds(N>>5,p,v)}function as(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v-1+32*S];Ds(N>>4,p,v)}function Mi(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v+S-32];Ds(N>>4,p,v)}function _s(p,v){Ds(128,p,v)}function De(p,v,S){return p+2*v+S+2>>2}function Os(p,v){var S,N=v-32;for(N=new Uint8Array([De(p[N-1],p[N+0],p[N+1]),De(p[N+0],p[N+1],p[N+2]),De(p[N+1],p[N+2],p[N+3]),De(p[N+2],p[N+3],p[N+4])]),S=0;4>S;++S)r(p,v+32*S,N,0,N.length)}function Bl(p,v){var S=p[v-1],N=p[v-1+32],V=p[v-1+64],z=p[v-1+96];Qt(p,v+0,16843009*De(p[v-1-32],S,N)),Qt(p,v+32,16843009*De(S,N,V)),Qt(p,v+64,16843009*De(N,V,z)),Qt(p,v+96,16843009*De(V,z,z))}function Ka(p,v){var S,N=4;for(S=0;4>S;++S)N+=p[v+S-32]+p[v-1+32*S];for(N>>=3,S=0;4>S;++S)a(p,v+32*S,N,4)}function bs(p,v){var S=p[v-1+0],N=p[v-1+32],V=p[v-1+64],z=p[v-1-32],H=p[v+0-32],Y=p[v+1-32],X=p[v+2-32],it=p[v+3-32];p[v+0+96]=De(N,V,p[v-1+96]),p[v+1+96]=p[v+0+64]=De(S,N,V),p[v+2+96]=p[v+1+64]=p[v+0+32]=De(z,S,N),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=De(H,z,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=De(Y,H,z),p[v+3+32]=p[v+2+0]=De(X,Y,H),p[v+3+0]=De(it,X,Y)}function Ur(p,v){var S=p[v+1-32],N=p[v+2-32],V=p[v+3-32],z=p[v+4-32],H=p[v+5-32],Y=p[v+6-32],X=p[v+7-32];p[v+0+0]=De(p[v+0-32],S,N),p[v+1+0]=p[v+0+32]=De(S,N,V),p[v+2+0]=p[v+1+32]=p[v+0+64]=De(N,V,z),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=De(V,z,H),p[v+3+32]=p[v+2+64]=p[v+1+96]=De(z,H,Y),p[v+3+64]=p[v+2+96]=De(H,Y,X),p[v+3+96]=De(Y,X,X)}function ji(p,v){var S=p[v-1+0],N=p[v-1+32],V=p[v-1+64],z=p[v-1-32],H=p[v+0-32],Y=p[v+1-32],X=p[v+2-32],it=p[v+3-32];p[v+0+0]=p[v+1+64]=z+H+1>>1,p[v+1+0]=p[v+2+64]=H+Y+1>>1,p[v+2+0]=p[v+3+64]=Y+X+1>>1,p[v+3+0]=X+it+1>>1,p[v+0+96]=De(V,N,S),p[v+0+64]=De(N,S,z),p[v+0+32]=p[v+1+96]=De(S,z,H),p[v+1+32]=p[v+2+96]=De(z,H,Y),p[v+2+32]=p[v+3+96]=De(H,Y,X),p[v+3+32]=De(Y,X,it)}function Ms(p,v){var S=p[v+0-32],N=p[v+1-32],V=p[v+2-32],z=p[v+3-32],H=p[v+4-32],Y=p[v+5-32],X=p[v+6-32],it=p[v+7-32];p[v+0+0]=S+N+1>>1,p[v+1+0]=p[v+0+64]=N+V+1>>1,p[v+2+0]=p[v+1+64]=V+z+1>>1,p[v+3+0]=p[v+2+64]=z+H+1>>1,p[v+0+32]=De(S,N,V),p[v+1+32]=p[v+0+96]=De(N,V,z),p[v+2+32]=p[v+1+96]=De(V,z,H),p[v+3+32]=p[v+2+96]=De(z,H,Y),p[v+3+64]=De(H,Y,X),p[v+3+96]=De(Y,X,it)}function va(p,v){var S=p[v-1+0],N=p[v-1+32],V=p[v-1+64],z=p[v-1+96];p[v+0+0]=S+N+1>>1,p[v+2+0]=p[v+0+32]=N+V+1>>1,p[v+2+32]=p[v+0+64]=V+z+1>>1,p[v+1+0]=De(S,N,V),p[v+3+0]=p[v+1+32]=De(N,V,z),p[v+3+32]=p[v+1+64]=De(V,z,z),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=z}function os(p,v){var S=p[v-1+0],N=p[v-1+32],V=p[v-1+64],z=p[v-1+96],H=p[v-1-32],Y=p[v+0-32],X=p[v+1-32],it=p[v+2-32];p[v+0+0]=p[v+2+32]=S+H+1>>1,p[v+0+32]=p[v+2+64]=N+S+1>>1,p[v+0+64]=p[v+2+96]=V+N+1>>1,p[v+0+96]=z+V+1>>1,p[v+3+0]=De(Y,X,it),p[v+2+0]=De(H,Y,X),p[v+1+0]=p[v+3+32]=De(S,H,Y),p[v+1+32]=p[v+3+64]=De(N,S,H),p[v+1+64]=p[v+3+96]=De(V,N,S),p[v+1+96]=De(z,V,N)}function Qa(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function xi(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function Vi(p,v,S){var N;for(N=0;8>N;++N)a(v,S+32*N,p,8)}function _a(p,v){var S,N=8;for(S=0;8>S;++S)N+=p[v+S-32]+p[v-1+32*S];Vi(N>>4,p,v)}function Fr(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v+S-32];Vi(N>>3,p,v)}function bn(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v-1+32*S];Vi(N>>3,p,v)}function ba(p,v){Vi(128,p,v)}function ws(p,v,S){var N=p[v-S],V=p[v+0],z=3*(V-N)+Uc[1020+p[v-2*S]-p[v+S]],H=al[112+(z+4>>3)];p[v-S]=li[255+N+al[112+(z+3>>3)]],p[v+0]=li[255+V-H]}function wa(p,v,S,N){var V=p[v+0],z=p[v+S];return Bs[255+p[v-2*S]-p[v-S]]>N||Bs[255+z-V]>N}function Aa(p,v,S,N){return 4*Bs[255+p[v-S]-p[v+0]]+Bs[255+p[v-2*S]-p[v+S]]<=N}function Js(p,v,S,N,V){var z=p[v-3*S],H=p[v-2*S],Y=p[v-S],X=p[v+0],it=p[v+S],gt=p[v+2*S],It=p[v+3*S];return 4*Bs[255+Y-X]+Bs[255+H-it]>N?0:Bs[255+p[v-4*S]-z]<=V&&Bs[255+z-H]<=V&&Bs[255+H-Y]<=V&&Bs[255+It-gt]<=V&&Bs[255+gt-it]<=V&&Bs[255+it-X]<=V}function ls(p,v,S,N){var V=2*N+1;for(N=0;16>N;++N)Aa(p,v+N,S,V)&&ws(p,v+N,S)}function As(p,v,S,N){var V=2*N+1;for(N=0;16>N;++N)Aa(p,v+N*S,1,V)&&ws(p,v+N*S,1)}function Ti(p,v,S,N){var V;for(V=3;0<V;--V)ls(p,v+=4*S,S,N)}function Eo(p,v,S,N){var V;for(V=3;0<V;--V)As(p,v+=4,S,N)}function Ui(p,v,S,N,V,z,H,Y){for(z=2*z+1;0<V--;){if(Js(p,v,S,z,H))if(wa(p,v,S,Y))ws(p,v,S);else{var X=p,it=v,gt=S,It=X[it-2*gt],nt=X[it-gt],_t=X[it+0],xt=X[it+gt],jt=X[it+2*gt],Ct=27*(Vt=Uc[1020+3*(_t-nt)+Uc[1020+It-xt]])+63>>7,Ut=18*Vt+63>>7,Vt=9*Vt+63>>7;X[it-3*gt]=li[255+X[it-3*gt]+Vt],X[it-2*gt]=li[255+It+Ut],X[it-gt]=li[255+nt+Ct],X[it+0]=li[255+_t-Ct],X[it+gt]=li[255+xt-Ut],X[it+2*gt]=li[255+jt-Vt]}v+=N}}function Ni(p,v,S,N,V,z,H,Y){for(z=2*z+1;0<V--;){if(Js(p,v,S,z,H))if(wa(p,v,S,Y))ws(p,v,S);else{var X=p,it=v,gt=S,It=X[it-gt],nt=X[it+0],_t=X[it+gt],xt=al[112+(4+(jt=3*(nt-It))>>3)],jt=al[112+(jt+3>>3)],Ct=xt+1>>1;X[it-2*gt]=li[255+X[it-2*gt]+Ct],X[it-gt]=li[255+It+jt],X[it+0]=li[255+nt-xt],X[it+gt]=li[255+_t-Ct]}v+=N}}function w(p,v,S,N,V,z){Ui(p,v,S,1,16,N,V,z)}function j(p,v,S,N,V,z){Ui(p,v,1,S,16,N,V,z)}function rt(p,v,S,N,V,z){var H;for(H=3;0<H;--H)Ni(p,v+=4*S,S,1,16,N,V,z)}function pt(p,v,S,N,V,z){var H;for(H=3;0<H;--H)Ni(p,v+=4,1,S,16,N,V,z)}function bt(p,v,S,N,V,z,H,Y){Ui(p,v,V,1,8,z,H,Y),Ui(S,N,V,1,8,z,H,Y)}function Ft(p,v,S,N,V,z,H,Y){Ui(p,v,1,V,8,z,H,Y),Ui(S,N,1,V,8,z,H,Y)}function Wt(p,v,S,N,V,z,H,Y){Ni(p,v+4*V,V,1,8,z,H,Y),Ni(S,N+4*V,V,1,8,z,H,Y)}function ae(p,v,S,N,V,z,H,Y){Ni(p,v+4,1,V,8,z,H,Y),Ni(S,N+4,1,V,8,z,H,Y)}function pe(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ln(){this.ua=0,this.Wa=new Ne,this.vb=new Ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Tt,this.yc=new k}function Xn(){this.xb=this.a=0,this.l=new ma,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ln,this.ab=0,this.gc=u(4,qe),this.Oc=0}function nr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ma,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pn(p,v,S,N,V,z,H){for(p=p==null?0:p[v+0],v=0;v<H;++v)V[z+v]=p+S[N+v]&255,p=V[z+v]}function pr(p,v,S,N,V,z,H){var Y;if(p==null)Pn(null,null,S,N,V,z,H);else for(Y=0;Y<H;++Y)V[z+Y]=p[v+Y]+S[N+Y]&255}function Un(p,v,S,N,V,z,H){if(p==null)Pn(null,null,S,N,V,z,H);else{var Y,X=p[v+0],it=X,gt=X;for(Y=0;Y<H;++Y)it=gt+(X=p[v+Y])-it,gt=S[N+Y]+(-256&it?0>it?0:255:it)&255,it=X,V[z+Y]=gt}}function Br(p,v,S,N){var V=v.width,z=v.o;if(t(p!=null&&v!=null),0>S||0>=N||S+N>z)return null;if(!p.Cc){if(p.ga==null){var H;if(p.ga=new nr,(H=p.ga==null)||(H=v.width*v.o,t(p.Gb.length==0),p.Gb=o(H),p.Uc=0,p.Gb==null?H=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,H=1),H=!H),!H){H=p.ga;var Y=p.Fa,X=p.P,it=p.qc,gt=p.mb,It=p.nb,nt=X+1,_t=it-1,xt=H.l;if(t(Y!=null&&gt!=null&&v!=null),Pa[0]=null,Pa[1]=Pn,Pa[2]=pr,Pa[3]=Un,H.ca=gt,H.tb=It,H.c=v.width,H.i=v.height,t(0<H.c&&0<H.i),1>=it)v=0;else if(H.$a=3&Y[X+0],H.Z=Y[X+0]>>2&3,H.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||X)v=0;else if(xt.put=Ie,xt.ac=di,xt.bc=Cn,xt.ma=H,xt.width=v.width,xt.height=v.height,xt.Da=v.Da,xt.v=v.v,xt.va=v.va,xt.j=v.j,xt.o=v.o,H.$a)t:{t(H.$a==1),v=Hn();e:for(;;){if(v==null){v=0;break t}if(t(H!=null),H.mc=v,v.c=H.c,v.i=H.i,v.l=H.l,v.l.ma=H,v.l.width=H.c,v.l.height=H.i,v.a=0,wt(v.m,Y,nt,_t),!ns(H.c,H.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&si(v.s)?(H.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(H.ic=0,v=ks(v,H.c)),!v))break e;v=1;break t}H.mc=null,v=0}else v=_t>=H.c*H.i;H=!v}if(H)return null;p.ga.Lc!=1?p.Ga=0:N=z-S}t(p.ga!=null),t(S+N<=z);t:{if(v=(Y=p.ga).c,z=Y.l.o,Y.$a==0){if(nt=p.rc,_t=p.Vc,xt=p.Fa,X=p.P+1+S*v,it=p.mb,gt=p.nb+S*v,t(X<=p.P+p.qc),Y.Z!=0)for(t(Pa[Y.Z]!=null),H=0;H<N;++H)Pa[Y.Z](nt,_t,xt,X,it,gt,v),nt=it,_t=gt,gt+=v,X+=v;else for(H=0;H<N;++H)r(it,gt,xt,X,v),nt=it,_t=gt,gt+=v,X+=v;p.rc=nt,p.Vc=_t}else{if(t(Y.mc!=null),v=S+N,t((H=Y.mc)!=null),t(v<=H.i),H.C>=v)v=1;else if(Y.ic||Ir(),Y.ic){Y=H.V,nt=H.Ba,_t=H.c;var jt=H.i,Ct=(xt=1,X=H.$/_t,it=H.$%_t,gt=H.m,It=H.s,H.$),Ut=_t*jt,Vt=_t*v,Kt=It.wc,Gt=Ct<Vt?lr(It,it,X):null;t(Ct<=Ut),t(v<=jt),t(si(It));e:for(;;){for(;!gt.h&&Ct<Vt;){if(it&Kt||(Gt=lr(It,it,X)),t(Gt!=null),yt(gt),256>(jt=Kn(Gt.G[0],Gt.H[0],gt)))Y[nt+Ct]=jt,++Ct,++it>=_t&&(it=0,++X<=v&&!(X%16)&&jr(H,X));else{if(!(280>jt)){xt=0;break e}jt=kn(jt-256,gt);var ve,oe=Kn(Gt.G[4],Gt.H[4],gt);if(yt(gt),!(Ct>=(oe=dr(_t,oe=kn(oe,gt)))&&Ut-Ct>=jt)){xt=0;break e}for(ve=0;ve<jt;++ve)Y[nt+Ct+ve]=Y[nt+Ct+ve-oe];for(Ct+=jt,it+=jt;it>=_t;)it-=_t,++X<=v&&!(X%16)&&jr(H,X);Ct<Vt&&it&Kt&&(Gt=lr(It,it,X))}t(gt.h==ct(gt))}jr(H,X>v?v:X);break e}!xt||gt.h&&Ct<Ut?(xt=0,H.a=gt.h?5:3):H.$=Ct,v=xt}else v=Vr(H,H.V,H.Ba,H.c,H.i,v,Si);if(!v){N=0;break t}}S+N>=z&&(p.Cc=1),N=1}if(!N)return null;if(p.Cc&&((N=p.ga)!=null&&(N.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*V}function js(p,v,S,N,V,z){for(;0<V--;){var H,Y=p,X=v+(S?1:0),it=p,gt=v+(S?0:3);for(H=0;H<N;++H){var It=it[gt+4*H];It!=255&&(It*=32897,Y[X+4*H+0]=Y[X+4*H+0]*It>>23,Y[X+4*H+1]=Y[X+4*H+1]*It>>23,Y[X+4*H+2]=Y[X+4*H+2]*It>>23)}v+=z}}function ta(p,v,S,N,V){for(;0<N--;){var z;for(z=0;z<S;++z){var H=p[v+2*z+0],Y=15&(it=p[v+2*z+1]),X=4369*Y,it=(240&it|it>>4)*X>>16;p[v+2*z+0]=(240&H|H>>4)*X>>16&240|(15&H|H<<4)*X>>16>>4&15,p[v+2*z+1]=240&it|Y}v+=V}}function ql(p,v,S,N,V,z,H,Y){var X,it,gt=255;for(it=0;it<V;++it){for(X=0;X<N;++X){var It=p[v+X];z[H+4*X]=It,gt&=It}v+=S,H+=Y}return gt!=255}function Xa(p,v,S,N,V){var z;for(z=0;z<V;++z)S[N+z]=p[v+z]>>8}function Ir(){$l=js,Es=ta,xs=ql,il=Xa}function us(p,v,S){R[p]=function(N,V,z,H,Y,X,it,gt,It,nt,_t,xt,jt,Ct,Ut,Vt,Kt){var Gt,ve=Kt-1>>1,oe=Y[X+0]|it[gt+0]<<16,Ge=It[nt+0]|_t[xt+0]<<16;t(N!=null);var ue=3*oe+Ge+131074>>2;for(v(N[V+0],255&ue,ue>>16,jt,Ct),z!=null&&(ue=3*Ge+oe+131074>>2,v(z[H+0],255&ue,ue>>16,Ut,Vt)),Gt=1;Gt<=ve;++Gt){var dn=Y[X+Gt]|it[gt+Gt]<<16,qr=It[nt+Gt]|_t[xt+Gt]<<16,ze=oe+dn+Ge+qr+524296,fe=ze+2*(dn+Ge)>>3;ue=fe+oe>>1,oe=(ze=ze+2*(oe+qr)>>3)+dn>>1,v(N[V+2*Gt-1],255&ue,ue>>16,jt,Ct+(2*Gt-1)*S),v(N[V+2*Gt-0],255&oe,oe>>16,jt,Ct+(2*Gt-0)*S),z!=null&&(ue=ze+Ge>>1,oe=fe+qr>>1,v(z[H+2*Gt-1],255&ue,ue>>16,Ut,Vt+(2*Gt-1)*S),v(z[H+2*Gt+0],255&oe,oe>>16,Ut,Vt+(2*Gt+0)*S)),oe=dn,Ge=qr}1&Kt||(ue=3*oe+Ge+131074>>2,v(N[V+Kt-1],255&ue,ue>>16,jt,Ct+(Kt-1)*S),z!=null&&(ue=3*Ge+oe+131074>>2,v(z[H+Kt-1],255&ue,ue>>16,Ut,Vt+(Kt-1)*S)))}}function xo(){ui[Ci]=io,ui[Wl]=Da,ui[La]=ko,ui[Xu]=qc,ui[ol]=zc,ui[Ja]=Ql,ui[Fc]=Hc,ui[Zu]=Da,ui[Ro]=qc,ui[to]=zc,ui[Yl]=Ql}function Fi(p){return p&-16384?0>p?0:255:p>>_g}function m(p,v){return Fi((19077*p>>8)+(26149*v>>8)-14234)}function E(p,v,S){return Fi((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function C(p,v){return Fi((19077*p>>8)+(33050*v>>8)-17685)}function K(p,v,S,N,V){N[V+0]=m(p,S),N[V+1]=E(p,v,S),N[V+2]=C(p,v)}function St(p,v,S,N,V){N[V+0]=C(p,v),N[V+1]=E(p,v,S),N[V+2]=m(p,S)}function Ot(p,v,S,N,V){var z=E(p,v,S);v=z<<3&224|C(p,v)>>3,N[V+0]=248&m(p,S)|z>>5,N[V+1]=v}function Xt(p,v,S,N,V){var z=240&C(p,v)|15;N[V+0]=240&m(p,S)|E(p,v,S)>>4,N[V+1]=z}function un(p,v,S,N,V){N[V+0]=255,K(p,v,S,N,V+1)}function ur(p,v,S,N,V){St(p,v,S,N,V),N[V+3]=255}function cn(p,v,S,N,V){K(p,v,S,N,V),N[V+3]=255}function fn(p,v){return 0>p?0:p>v?v:p}function Mn(p,v,S){R[p]=function(N,V,z,H,Y,X,it,gt,It){for(var nt=gt+(-2&It)*S;gt!=nt;)v(N[V+0],z[H+0],Y[X+0],it,gt),v(N[V+1],z[H+0],Y[X+0],it,gt+S),V+=2,++H,++X,gt+=2*S;1&It&&v(N[V+0],z[H+0],Y[X+0],it,gt)}}function Ss(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Rr(p,v,S,N,V){switch(p>>>30){case 3:mr(v,S,N,V,0);break;case 2:Ra(v,S,N,V);break;case 1:zi(v,S,N,V)}}function gi(p,v){var S,N,V=v.M,z=v.Nb,H=p.oc,Y=p.pc+40,X=p.oc,it=p.pc+584,gt=p.oc,It=p.pc+600;for(S=0;16>S;++S)H[Y+32*S-1]=129;for(S=0;8>S;++S)X[it+32*S-1]=129,gt[It+32*S-1]=129;for(0<V?H[Y-1-32]=X[it-1-32]=gt[It-1-32]=129:(a(H,Y-32-1,127,21),a(X,it-32-1,127,9),a(gt,It-32-1,127,9)),N=0;N<p.za;++N){var nt=v.ya[v.aa+N];if(0<N){for(S=-1;16>S;++S)r(H,Y+32*S-4,H,Y+32*S+12,4);for(S=-1;8>S;++S)r(X,it+32*S-4,X,it+32*S+4,4),r(gt,It+32*S-4,gt,It+32*S+4,4)}var _t=p.Gd,xt=p.Hd+N,jt=nt.ad,Ct=nt.Hc;if(0<V&&(r(H,Y-32,_t[xt].y,0,16),r(X,it-32,_t[xt].f,0,8),r(gt,It-32,_t[xt].ea,0,8)),nt.Za){var Ut=H,Vt=Y-32+16;for(0<V&&(N>=p.za-1?a(Ut,Vt,_t[xt].y[15],4):r(Ut,Vt,_t[xt+1].y,0,4)),S=0;4>S;S++)Ut[Vt+128+S]=Ut[Vt+256+S]=Ut[Vt+384+S]=Ut[Vt+0+S];for(S=0;16>S;++S,Ct<<=2)Ut=H,Vt=Y+hl[S],Hi[nt.Ob[S]](Ut,Vt),Rr(Ct,jt,16*+S,Ut,Vt)}else if(Ut=Ss(N,V,nt.Ob[0]),ro[Ut](H,Y),Ct!=0)for(S=0;16>S;++S,Ct<<=2)Rr(Ct,jt,16*+S,H,Y+hl[S]);for(S=nt.Gc,Ut=Ss(N,V,nt.Dd),Ns[Ut](X,it),Ns[Ut](gt,It),Ct=jt,Ut=X,Vt=it,255&(nt=0|S)&&(170&nt?Us(Ct,256,Ut,Vt):rl(Ct,256,Ut,Vt)),nt=gt,Ct=It,255&(S>>=8)&&(170&S?Us(jt,320,nt,Ct):rl(jt,320,nt,Ct)),V<p.Ub-1&&(r(_t[xt].y,0,H,Y+480,16),r(_t[xt].f,0,X,it+224,8),r(_t[xt].ea,0,gt,It+224,8)),S=8*z*p.B,_t=p.sa,xt=p.ta+16*N+16*z*p.R,jt=p.qa,nt=p.ra+8*N+S,Ct=p.Ha,Ut=p.Ia+8*N+S,S=0;16>S;++S)r(_t,xt+S*p.R,H,Y+32*S,16);for(S=0;8>S;++S)r(jt,nt+S*p.B,X,it+32*S,8),r(Ct,Ut+S*p.B,gt,It+32*S,8)}}function Sa(p,v,S,N,V,z,H,Y,X){var it=[0],gt=[0],It=0,nt=X!=null?X.kd:0,_t=X??new ke;if(p==null||12>S)return 7;_t.data=p,_t.w=v,_t.ha=S,v=[v],S=[S],_t.gb=[_t.gb];t:{var xt=v,jt=S,Ct=_t.gb;if(t(p!=null),t(jt!=null),t(Ct!=null),Ct[0]=0,12<=jt[0]&&!e(p,xt[0],"RIFF")){if(e(p,xt[0]+8,"WEBP")){Ct=3;break t}var Ut=Mt(p,xt[0]+4);if(12>Ut||4294967286<Ut){Ct=3;break t}if(nt&&Ut>jt[0]-8){Ct=7;break t}Ct[0]=Ut,xt[0]+=12,jt[0]-=12}Ct=0}if(Ct!=0)return Ct;for(Ut=0<_t.gb[0],S=S[0];;){t:{var Vt=p;jt=v,Ct=S;var Kt=it,Gt=gt,ve=xt=[0];if((ue=It=[It])[0]=0,8>Ct[0])Ct=7;else{if(!e(Vt,jt[0],"VP8X")){if(Mt(Vt,jt[0]+4)!=10){Ct=3;break t}if(18>Ct[0]){Ct=7;break t}var oe=Mt(Vt,jt[0]+8),Ge=1+re(Vt,jt[0]+12);if(2147483648<=Ge*(Vt=1+re(Vt,jt[0]+15))){Ct=3;break t}ve!=null&&(ve[0]=oe),Kt!=null&&(Kt[0]=Ge),Gt!=null&&(Gt[0]=Vt),jt[0]+=18,Ct[0]-=18,ue[0]=1}Ct=0}}if(It=It[0],xt=xt[0],Ct!=0)return Ct;if(jt=!!(2&xt),!Ut&&It)return 3;if(z!=null&&(z[0]=!!(16&xt)),H!=null&&(H[0]=jt),Y!=null&&(Y[0]=0),H=it[0],xt=gt[0],It&&jt&&X==null){Ct=0;break}if(4>S){Ct=7;break}if(Ut&&It||!Ut&&!It&&!e(p,v[0],"ALPH")){S=[S],_t.na=[_t.na],_t.P=[_t.P],_t.Sa=[_t.Sa];t:{oe=p,Ct=v,Ut=S;var ue=_t.gb;Kt=_t.na,Gt=_t.P,ve=_t.Sa,Ge=22,t(oe!=null),t(Ut!=null),Vt=Ct[0];var dn=Ut[0];for(t(Kt!=null),t(ve!=null),Kt[0]=null,Gt[0]=null,ve[0]=0;;){if(Ct[0]=Vt,Ut[0]=dn,8>dn){Ct=7;break t}var qr=Mt(oe,Vt+4);if(4294967286<qr){Ct=3;break t}var ze=8+qr+1&-2;if(Ge+=ze,0<ue&&Ge>ue){Ct=3;break t}if(!e(oe,Vt,"VP8 ")||!e(oe,Vt,"VP8L")){Ct=0;break t}if(dn[0]<ze){Ct=7;break t}e(oe,Vt,"ALPH")||(Kt[0]=oe,Gt[0]=Vt+8,ve[0]=qr),Vt+=ze,dn-=ze}}if(S=S[0],_t.na=_t.na[0],_t.P=_t.P[0],_t.Sa=_t.Sa[0],Ct!=0)break}S=[S],_t.Ja=[_t.Ja],_t.xa=[_t.xa];t:if(ue=p,Ct=v,Ut=S,Kt=_t.gb[0],Gt=_t.Ja,ve=_t.xa,oe=Ct[0],Vt=!e(ue,oe,"VP8 "),Ge=!e(ue,oe,"VP8L"),t(ue!=null),t(Ut!=null),t(Gt!=null),t(ve!=null),8>Ut[0])Ct=7;else{if(Vt||Ge){if(ue=Mt(ue,oe+4),12<=Kt&&ue>Kt-12){Ct=3;break t}if(nt&&ue>Ut[0]-8){Ct=7;break t}Gt[0]=ue,Ct[0]+=8,Ut[0]-=8,ve[0]=Ge}else ve[0]=5<=Ut[0]&&ue[oe+0]==47&&!(ue[oe+4]>>5),Gt[0]=Ut[0];Ct=0}if(S=S[0],_t.Ja=_t.Ja[0],_t.xa=_t.xa[0],v=v[0],Ct!=0)break;if(4294967286<_t.Ja)return 3;if(Y==null||jt||(Y[0]=_t.xa?2:1),H=[H],xt=[xt],_t.xa){if(5>S){Ct=7;break}Y=H,nt=xt,jt=z,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ut=[0],ue=[0],Kt=[0],wt(Gt=new G,p,v,S),zn(Gt,Ut,ue,Kt)?(Y!=null&&(Y[0]=Ut[0]),nt!=null&&(nt[0]=ue[0]),jt!=null&&(jt[0]=Kt[0]),p=1):p=0):p=0}else{if(10>S){Ct=7;break}Y=xt,p==null||10>S||!Ao(p,v+3,S-3)?p=0:(nt=p[v+0]|p[v+1]<<8|p[v+2]<<16,jt=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=_t.Ja||!jt||!p?p=0:(H&&(H[0]=jt),Y&&(Y[0]=p),p=1))}if(!p||(H=H[0],xt=xt[0],It&&(it[0]!=H||gt[0]!=xt)))return 3;X!=null&&(X[0]=_t,X.offset=v-X.w,t(4294967286>v-X.w),t(X.offset==X.ha-S));break}return Ct==0||Ct==7&&It&&X==null?(z!=null&&(z[0]|=_t.na!=null&&0<_t.na.length),N!=null&&(N[0]=H),V!=null&&(V[0]=xt),0):Ct}function yi(p,v,S){var N=v.width,V=v.height,z=0,H=0,Y=N,X=V;if(v.Da=p!=null&&0<p.Da,v.Da&&(Y=p.cd,X=p.bd,z=p.v,H=p.j,11>S||(z&=-2,H&=-2),0>z||0>H||0>=Y||0>=X||z+Y>N||H+X>V))return 0;if(v.v=z,v.j=H,v.va=z+Y,v.o=H+X,v.U=Y,v.T=X,v.da=p!=null&&0<p.da,v.da){if(!xe(Y,X,S=[p.ib],z=[p.hb]))return 0;v.ib=S[0],v.hb=z[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*N/4&&v.hb<3*V/4,v.Kb=0),1}function Bi(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function To(p,v,S,N){if(N==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var V=S.cd,z=S.bd,H=-2&S.v,Y=-2&S.j;if(0>H||0>Y||0>=V||0>=z||H+V>p||Y+z>v)return 2;p=V,v=z}if(S.da){if(!xe(p,v,V=[S.ib],z=[S.hb]))return 2;p=V[0],v=z[0]}}N.width=p,N.height=v;t:{var X=N.width,it=N.height;if(p=N.S,0>=X||0>=it||!(p>=Ci&&13>p))p=2;else{if(0>=N.Rd&&N.sd==null){H=z=V=v=0;var gt=(Y=X*$d[p])*it;if(11>p||(z=(it+1)/2*(v=(X+1)/2),p==12&&(H=(V=X)*it)),(it=o(gt+2*z+H))==null){p=1;break t}N.sd=it,11>p?((X=N.f.RGBA).eb=it,X.fb=0,X.A=Y,X.size=gt):((X=N.f.kb).y=it,X.O=0,X.fa=Y,X.Fd=gt,X.f=it,X.N=0+gt,X.Ab=v,X.Cd=z,X.ea=it,X.W=0+gt+z,X.Db=v,X.Ed=z,p==12&&(X.F=it,X.J=0+gt+2*z),X.Tc=H,X.lb=V)}if(v=1,V=N.S,z=N.width,H=N.height,V>=Ci&&13>V)if(11>V)p=N.f.RGBA,v&=(Y=Math.abs(p.A))*(H-1)+z<=p.size,v&=Y>=z*$d[V],v&=p.eb!=null;else{p=N.f.kb,Y=(z+1)/2,gt=(H+1)/2,X=Math.abs(p.fa),it=Math.abs(p.Ab);var It=Math.abs(p.Db),nt=Math.abs(p.lb),_t=nt*(H-1)+z;v&=X*(H-1)+z<=p.Fd,v&=it*(gt-1)+Y<=p.Cd,v=(v&=It*(gt-1)+Y<=p.Ed)&X>=z&it>=Y&It>=Y,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,V==12&&(v&=nt>=z,v&=_t<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Bi(N)),p}var Vs=64,Ea=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zl=24,Za=32,br=8,Wh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ee("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return _e(_e(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return _e(p,v[S-1])},R.Predictor7=function(p,v,S){return _e(p,v[S+0])},R.Predictor8=function(p,v,S){return _e(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return _e(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return _e(_e(p,v[S-1]),_e(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var N=v[S+0];return 0>=ce(N>>24&255,p>>24&255,(v=v[S-1])>>24&255)+ce(N>>16&255,p>>16&255,v>>16&255)+ce(N>>8&255,p>>8&255,v>>8&255)+ce(255&N,255&p,255&v)?N:p},R.Predictor12=function(p,v,S){var N=v[S+0];return(mn((p>>24&255)+(N>>24&255)-((v=v[S-1])>>24&255))<<24|mn((p>>16&255)+(N>>16&255)-(v>>16&255))<<16|mn((p>>8&255)+(N>>8&255)-(v>>8&255))<<8|mn((255&p)+(255&N)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var N=v[S-1];return(Be((p=_e(p,v[S+0]))>>24&255,N>>24&255)<<24|Be(p>>16&255,N>>16&255)<<16|Be(p>>8&255,N>>8&255)<<8|Be(255&p,255&N))>>>0};var xa=R.PredictorAdd0;R.PredictorAdd1=we,ee("Predictor2","PredictorAdd2"),ee("Predictor3","PredictorAdd3"),ee("Predictor4","PredictorAdd4"),ee("Predictor5","PredictorAdd5"),ee("Predictor6","PredictorAdd6"),ee("Predictor7","PredictorAdd7"),ee("Predictor8","PredictorAdd8"),ee("Predictor9","PredictorAdd9"),ee("Predictor10","PredictorAdd10"),ee("Predictor11","PredictorAdd11"),ee("Predictor12","PredictorAdd12"),ee("Predictor13","PredictorAdd13");var Ta=R.PredictorAdd2;be("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),be("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Hl,Yu=R.ColorIndexInverseTransform,oi=R.MapARGB,Na=R.VP8LColorIndexInverseTransformAlpha,No=R.MapAlpha,Co=R.VP8LPredictorsAdd=[];Co.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ca,Gl,qi,Ia,Dn,Fn,rr,mr,Ra,Us,zi,rl,Yh,Io,Kh,Qh,Xh,Vd,Ud,Fd,Zh,Jh,Mc,Fs,$l,Es,xs,il,jc=o(511),Ku=o(2041),Qu=o(225),Vc=o(767),sl=0,Uc=Ku,al=Qu,li=Vc,Bs=jc,Ci=0,Wl=1,La=2,Xu=3,ol=4,Ja=5,Fc=6,Zu=7,Ro=8,to=9,Yl=10,Bc=[2,3,7],qs=[3,3,11],Ts=[280,256,256,256,40],ll=[0,1,1,1,0],eo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],no=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ul=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bd=8,Ju=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wr=null,wr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],On=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ka=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ro=[],Hi=[],Ns=[],zd=1,Kl=2,Pa=[],ui=[];us("UpsampleRgbLinePair",K,3),us("UpsampleBgrLinePair",St,3),us("UpsampleRgbaLinePair",cn,4),us("UpsampleBgraLinePair",ur,4),us("UpsampleArgbLinePair",un,4),us("UpsampleRgba4444LinePair",Xt,2),us("UpsampleRgb565LinePair",Ot,2);var io=R.UpsampleRgbLinePair,ko=R.UpsampleBgrLinePair,Da=R.UpsampleRgbaLinePair,qc=R.UpsampleBgraLinePair,zc=R.UpsampleArgbLinePair,Ql=R.UpsampleRgba4444LinePair,Hc=R.UpsampleRgb565LinePair,Oa=16,Yr=1<<Oa-1,Po=-227,Gc=482,_g=6,Hd=0,bg=o(256),Kr=o(256),ef=o(256),ec=o(256),nc=o(Gc-Po),nf=o(Gc-Po);Mn("YuvToRgbRow",K,3),Mn("YuvToBgrRow",St,3),Mn("YuvToRgbaRow",cn,4),Mn("YuvToBgraRow",ur,4),Mn("YuvToArgbRow",un,4),Mn("YuvToRgba4444Row",Xt,2),Mn("YuvToRgb565Row",Ot,2);var hl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],so=[0,2,8],wg=[8,7,6,4,4,2,2,2,1,1,1,1],Gd=1;this.WebPDecodeRGBA=function(p,v,S,N,V){var z=Wl,H=new pe,Y=new gn;H.ba=Y,Y.S=z,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,it=Y.height,gt=new Pe;if(gt==null||p==null)var It=2;else t(gt!=null),It=Sa(p,v,S,gt.width,gt.height,gt.Pd,gt.Qd,gt.format,null);if(It!=0?X=0:(X!=null&&(X[0]=gt.width[0]),it!=null&&(it[0]=gt.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],N!=null&&(N[0]=Y.width),V!=null&&(V[0]=Y.height);t:{if(N=new ma,(V=new ke).data=p,V.w=v,V.ha=S,V.kd=1,v=[0],t(V!=null),((p=Sa(V.data,V.w,V.ha,null,null,null,v,null,V))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(t(H!=null),N.data=V.data,N.w=V.w+V.offset,N.ha=V.ha-V.offset,N.put=Ie,N.ac=di,N.bc=Cn,N.ma=H,V.xa){if((p=Hn())==null){H=1;break t}if((function(nt,_t){var xt=[0],jt=[0],Ct=[0];e:for(;;){if(nt==null)return 0;if(_t==null)return nt.a=2,0;if(nt.l=_t,nt.a=0,wt(nt.m,_t.data,_t.w,_t.ha),!zn(nt.m,xt,jt,Ct)){nt.a=3;break e}if(nt.xb=Kl,_t.width=xt[0],_t.height=jt[0],!ns(xt[0],jt[0],1,nt,null))break e;return 1}return t(nt.a!=0),0})(p,N)){if(N=(v=To(N.width,N.height,H.Oa,H.ba))==0){e:{N=p;n:for(;;){if(N==null){N=0;break e}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((S=N.l)!=null),t((V=S.ma)!=null),N.xb!=0){if(N.ca=V.ba,N.tb=V.tb,t(N.ca!=null),!yi(V.Oa,S,Xu)){N.a=2;break n}if(!ks(N,S.width)||S.da)break n;if((S.da||Ve(N.ca.S))&&Ir(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Ir()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!lt(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Vr(N,N.V,N.Ba,N.c,N.i,S.o,es))break n;V.Dc=N.Ma,N=1;break e}t(N.a!=0),N=0}N=!N}N&&(v=p.a)}else v=p.a}else{if((p=new wo)==null){H=1;break t}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,Fl(p,N)){if((v=To(N.width,N.height,H.Oa,H.ba))==0){if(p.Aa=0,S=H.Oa,t((V=p)!=null),S!=null){if(0<(X=0>(X=S.Md)?0:100<X?255:255*X/100)){for(it=gt=0;4>it;++it)12>(It=V.pb[it]).lc&&(It.ia=X*wg[0>It.lc?0:It.lc]>>3),gt|=It.ia;gt&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=S.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(nt,_t){if(nt==null)return 0;if(_t==null)return _n(nt,2,"NULL VP8Io parameter in VP8Decode().");if(!nt.cb&&!Fl(nt,_t))return 0;if(t(nt.cb),_t.ac==null||_t.ac(_t)){_t.ob&&(nt.L=0);var xt=so[nt.L];if(nt.L==2?(nt.yb=0,nt.zb=0):(nt.yb=_t.v-xt>>4,nt.zb=_t.j-xt>>4,0>nt.yb&&(nt.yb=0),0>nt.zb&&(nt.zb=0)),nt.Va=_t.o+15+xt>>4,nt.Hb=_t.va+15+xt>>4,nt.Hb>nt.za&&(nt.Hb=nt.za),nt.Va>nt.Ub&&(nt.Va=nt.Ub),0<nt.L){var jt=nt.ed;for(xt=0;4>xt;++xt){var Ct;if(nt.Qa.Cb){var Ut=nt.Qa.Lb[xt];nt.Qa.Fb||(Ut+=jt.Tb)}else Ut=jt.Tb;for(Ct=0;1>=Ct;++Ct){var Vt=nt.gd[xt][Ct],Kt=Ut;if(jt.Pc&&(Kt+=jt.vd[0],Ct&&(Kt+=jt.od[0])),0<(Kt=0>Kt?0:63<Kt?63:Kt)){var Gt=Kt;0<jt.wb&&(Gt=4<jt.wb?Gt>>2:Gt>>1)>9-jt.wb&&(Gt=9-jt.wb),1>Gt&&(Gt=1),Vt.dd=Gt,Vt.tc=2*Kt+Gt,Vt.ld=40<=Kt?2:15<=Kt?1:0}else Vt.tc=0;Vt.La=Ct}}}xt=0}else _n(nt,6,"Frame setup failed"),xt=nt.a;if(xt=xt==0){if(xt){nt.$c=0,0<nt.Aa||(nt.Ic=Gd);e:{xt=nt.Ic,jt=4*(Gt=nt.za);var ve=32*Gt,oe=Gt+1,Ge=0<nt.L?Gt*(0<nt.Aa?2:1):0,ue=(nt.Aa==2?2:1)*Gt;if((Vt=jt+832+(Ct=3*(16*xt+so[nt.L])/2*ve)+(Ut=nt.Fa!=null&&0<nt.Fa.length?nt.Kc.c*nt.Kc.i:0))!=Vt)xt=0;else{if(Vt>nt.Vb){if(nt.Vb=0,nt.Ec=o(Vt),nt.Fc=0,nt.Ec==null){xt=_n(nt,1,"no memory during frame initialization.");break e}nt.Vb=Vt}Vt=nt.Ec,Kt=nt.Fc,nt.Ac=Vt,nt.Bc=Kt,Kt+=jt,nt.Gd=u(ve,Ga),nt.Hd=0,nt.rb=u(oe+1,Cr),nt.sb=1,nt.wa=Ge?u(Ge,Nr):null,nt.Y=0,nt.D.Nb=0,nt.D.wa=nt.wa,nt.D.Y=nt.Y,0<nt.Aa&&(nt.D.Y+=Gt),t(!0),nt.oc=Vt,nt.pc=Kt,Kt+=832,nt.ya=u(ue,bo),nt.aa=0,nt.D.ya=nt.ya,nt.D.aa=nt.aa,nt.Aa==2&&(nt.D.aa+=Gt),nt.R=16*Gt,nt.B=8*Gt,Gt=(ve=so[nt.L])*nt.R,ve=ve/2*nt.B,nt.sa=Vt,nt.ta=Kt+Gt,nt.qa=nt.sa,nt.ra=nt.ta+16*xt*nt.R+ve,nt.Ha=nt.qa,nt.Ia=nt.ra+8*xt*nt.B+ve,nt.$c=0,Kt+=Ct,nt.mb=Ut?Vt:null,nt.nb=Ut?Kt:null,t(Kt+Ut<=nt.Fc+nt.Vb),Xs(nt),a(nt.Ac,nt.Bc,0,jt),xt=1}}if(xt){if(_t.ka=0,_t.y=nt.sa,_t.O=nt.ta,_t.f=nt.qa,_t.N=nt.ra,_t.ea=nt.Ha,_t.Vd=nt.Ia,_t.fa=nt.R,_t.Rc=nt.B,_t.F=null,_t.J=0,!sl){for(xt=-255;255>=xt;++xt)jc[255+xt]=0>xt?-xt:xt;for(xt=-1020;1020>=xt;++xt)Ku[1020+xt]=-128>xt?-128:127<xt?127:xt;for(xt=-112;112>=xt;++xt)Qu[112+xt]=-16>xt?-16:15<xt?15:xt;for(xt=-255;510>=xt;++xt)Vc[255+xt]=0>xt?0:255<xt?255:xt;sl=1}rr=Oi,mr=ga,Us=Zs,zi=on,rl=ya,Ra=Ya,Yh=w,Io=j,Kh=bt,Qh=Ft,Xh=rt,Vd=pt,Ud=Wt,Fd=ae,Zh=ls,Jh=As,Mc=Ti,Fs=Eo,Hi[0]=Ka,Hi[1]=So,Hi[2]=Os,Hi[3]=Bl,Hi[4]=bs,Hi[5]=ji,Hi[6]=Ur,Hi[7]=Ms,Hi[8]=os,Hi[9]=va,ro[0]=Ei,ro[1]=el,ro[2]=Wu,ro[3]=nl,ro[4]=as,ro[5]=Mi,ro[6]=_s,Ns[0]=_a,Ns[1]=tl,Ns[2]=Qa,Ns[3]=xi,Ns[4]=bn,Ns[5]=Fr,Ns[6]=ba,xt=1}else xt=0}xt&&(xt=(function(dn,qr){for(dn.M=0;dn.M<dn.Va;++dn.M){var ze,fe=dn.Jc[dn.M&dn.Xb],te=dn.m,gr=dn;for(ze=0;ze<gr.za;++ze){var $e=te,Je=gr,de=Je.Ac,Ke=Je.Bc+4*ze,wn=Je.zc,ir=Je.ya[Je.aa+ze];if(Je.Qa.Bb?ir.$b=qt($e,Je.Pa.jb[0])?2+qt($e,Je.Pa.jb[2]):qt($e,Je.Pa.jb[1]):ir.$b=0,Je.kc&&(ir.Ad=qt($e,Je.Bd)),ir.Za=!qt($e,145)+0,ir.Za){var Lr=ir.Ob,kr=0;for(Je=0;4>Je;++Je){var Ar,hn=wn[0+Je];for(Ar=0;4>Ar;++Ar){hn=tf[de[Ke+Ar]][hn];for(var An=Lo[qt($e,hn[0])];0<An;)An=Lo[2*An+qt($e,hn[An])];hn=-An,de[Ke+Ar]=hn}r(Lr,kr,de,Ke,4),kr+=4,wn[0+Je]=hn}}else hn=qt($e,156)?qt($e,128)?1:3:qt($e,163)?2:0,ir.Ob[0]=hn,a(de,Ke,hn,4),a(wn,0,hn,4);ir.Dd=qt($e,142)?qt($e,114)?qt($e,183)?1:3:2:0}if(gr.m.Ka)return _n(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(gr=fe,$e=(te=dn).rb[te.sb-1],de=te.rb[te.sb+te.ja],ze=te.ya[te.aa+te.ja],Ke=te.kc?ze.Ad:0)$e.la=de.la=0,ze.Za||($e.Na=de.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Sr,Oe;if($e=de,de=gr,Ke=te.Pa.Xc,wn=te.ya[te.aa+te.ja],ir=te.pb[wn.$b],Je=wn.ad,Lr=0,kr=te.rb[te.sb-1],hn=Ar=0,a(Je,Lr,0,384),wn.Za)var Qr=0,Cs=Ke[3];else{An=o(16);var Er=$e.Na+kr.Na;if(Er=Wr(de,Ke[1],Er,ir.Eb,0,An,0),$e.Na=kr.Na=(0<Er)+0,1<Er)rr(An,0,Je,Lr);else{var Gi=An[0]+3>>3;for(An=0;256>An;An+=16)Je[Lr+An]=Gi}Qr=1,Cs=Ke[0]}var Gn=15&$e.la,Pr=15&kr.la;for(An=0;4>An;++An){var $i=1&Pr;for(Gi=Oe=0;4>Gi;++Gi)Gn=Gn>>1|($i=(Er=Wr(de,Cs,Er=$i+(1&Gn),ir.Sc,Qr,Je,Lr))>Qr)<<7,Oe=Oe<<2|(3<Er?3:1<Er?2:Je[Lr+0]!=0),Lr+=16;Gn>>=4,Pr=Pr>>1|$i<<7,Ar=(Ar<<8|Oe)>>>0}for(Cs=Gn,Qr=Pr>>4,Sr=0;4>Sr;Sr+=2){for(Oe=0,Gn=$e.la>>4+Sr,Pr=kr.la>>4+Sr,An=0;2>An;++An){for($i=1&Pr,Gi=0;2>Gi;++Gi)Er=$i+(1&Gn),Gn=Gn>>1|($i=0<(Er=Wr(de,Ke[2],Er,ir.Qc,0,Je,Lr)))<<3,Oe=Oe<<2|(3<Er?3:1<Er?2:Je[Lr+0]!=0),Lr+=16;Gn>>=2,Pr=Pr>>1|$i<<5}hn|=Oe<<4*Sr,Cs|=Gn<<4<<Sr,Qr|=(240&Pr)<<Sr}$e.la=Cs,kr.la=Qr,wn.Hc=Ar,wn.Gc=hn,wn.ia=43690&hn?0:ir.ia,Ke=!(Ar|hn)}if(0<te.L&&(te.wa[te.Y+te.ja]=te.gd[ze.$b][ze.Za],te.wa[te.Y+te.ja].La|=!Ke),gr.Ka)return _n(dn,7,"Premature end-of-file encountered.")}if(Xs(dn),te=qr,gr=1,ze=(fe=dn).D,$e=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(ze.M=fe.M,ze.uc=$e,gi(fe,ze),gr=1,ze=(Oe=fe.D).Nb,$e=(hn=so[fe.L])*fe.R,de=hn/2*fe.B,An=16*ze*fe.R,Gi=8*ze*fe.B,Ke=fe.sa,wn=fe.ta-$e+An,ir=fe.qa,Je=fe.ra-de+Gi,Lr=fe.Ha,kr=fe.Ia-de+Gi,Pr=(Gn=Oe.M)==0,Ar=Gn>=fe.Va-1,fe.Aa==2&&gi(fe,Oe),Oe.uc)for($i=(Er=fe).D.M,t(Er.D.uc),Oe=Er.yb;Oe<Er.Hb;++Oe){Qr=Oe,Cs=$i;var vi=(Zn=(Zr=Er).D).Nb;Sr=Zr.R;var Zn=Zn.wa[Zn.Y+Qr],In=Zr.sa,Ii=Zr.ta+16*vi*Sr+16*Qr,_i=Zn.dd,Vn=Zn.tc;if(Vn!=0)if(t(3<=Vn),Zr.L==1)0<Qr&&Jh(In,Ii,Sr,Vn+4),Zn.La&&Fs(In,Ii,Sr,Vn),0<Cs&&Zh(In,Ii,Sr,Vn+4),Zn.La&&Mc(In,Ii,Sr,Vn);else{var Wi=Zr.B,Xr=Zr.qa,Ma=Zr.ra+8*vi*Wi+8*Qr,ea=Zr.Ha,Zr=Zr.Ia+8*vi*Wi+8*Qr;vi=Zn.ld,0<Qr&&(Io(In,Ii,Sr,Vn+4,_i,vi),Qh(Xr,Ma,ea,Zr,Wi,Vn+4,_i,vi)),Zn.La&&(Vd(In,Ii,Sr,Vn,_i,vi),Fd(Xr,Ma,ea,Zr,Wi,Vn,_i,vi)),0<Cs&&(Yh(In,Ii,Sr,Vn+4,_i,vi),Kh(Xr,Ma,ea,Zr,Wi,Vn+4,_i,vi)),Zn.La&&(Xh(In,Ii,Sr,Vn,_i,vi),Ud(Xr,Ma,ea,Zr,Wi,Vn,_i,vi))}}if(fe.ia&&alert("todo:DitherRow"),te.put!=null){if(Oe=16*Gn,Gn=16*(Gn+1),Pr?(te.y=fe.sa,te.O=fe.ta+An,te.f=fe.qa,te.N=fe.ra+Gi,te.ea=fe.Ha,te.W=fe.Ia+Gi):(Oe-=hn,te.y=Ke,te.O=wn,te.f=ir,te.N=Je,te.ea=Lr,te.W=kr),Ar||(Gn-=hn),Gn>te.o&&(Gn=te.o),te.F=null,te.J=null,fe.Fa!=null&&0<fe.Fa.length&&Oe<Gn&&(te.J=Br(fe,te,Oe,Gn-Oe),te.F=fe.mb,te.F==null&&te.F.length==0)){gr=_n(fe,3,"Could not decode alpha data.");break e}Oe<te.j&&(hn=te.j-Oe,Oe=te.j,t(!(1&hn)),te.O+=fe.R*hn,te.N+=fe.B*(hn>>1),te.W+=fe.B*(hn>>1),te.F!=null&&(te.J+=te.width*hn)),Oe<Gn&&(te.O+=te.v,te.N+=te.v>>1,te.W+=te.v>>1,te.F!=null&&(te.J+=te.v),te.ka=Oe-te.j,te.U=te.va-te.v,te.T=Gn-Oe,gr=te.put(te))}ze+1!=fe.Ic||Ar||(r(fe.sa,fe.ta-$e,Ke,wn+16*fe.R,$e),r(fe.qa,fe.ra-de,ir,Je+8*fe.B,de),r(fe.Ha,fe.Ia-de,Lr,kr+8*fe.B,de))}if(!gr)return _n(dn,6,"Output aborted.")}return 1})(nt,_t)),_t.bc!=null&&_t.bc(_t),xt&=1}return xt?(nt.cb=0,xt):0})(p,N)||(v=p.a)}}else v=p.a}v==0&&H.Oa!=null&&H.Oa.fd&&(v=Bi(H.ba))}H=v}z=H!=0?null:11>z?Y.f.RGBA.eb:Y.f.kb.y}else z=null;return z};var $d=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,U){for(var T="",I=0;I<4;I++)T+=String.fromCharCode(R[U++]);return T}function y(R,U){return R[U+0]|R[U+1]<<8}function A(R,U){return(R[U+0]|R[U+1]<<8|R[U+2]<<16)>>>0}function x(R,U){return(R[U+0]|R[U+1]<<8|R[U+2]<<16|R[U+3]<<24)>>>0}new f;var b=[0],O=[0],F=[],q=new f,B=n,tt=(function(R,U){var T={},I=0,k=!1,ut=0,Tt=0;if(T.frames=[],!(function(P,G){for(var J=0;J<4;J++)if(P[G+J]!="RIFF".charCodeAt(J))return!0;return!1})(R,U)){for(x(R,U+=4),U+=8;U<R.length;){var at=d(R,U),mt=x(R,U+=4);U+=4;var ot=mt+(1&mt);switch(at){case"VP8 ":case"VP8L":T.frames[I]===void 0&&(T.frames[I]={}),(ft=T.frames[I]).src_off=k?Tt:U-8,ft.src_size=ut+mt+8,I++,k&&(k=!1,ut=0,Tt=0);break;case"VP8X":(ft=T.header={}).feature_flags=R[U];var wt=U+4;ft.canvas_width=1+A(R,wt),wt+=3,ft.canvas_height=1+A(R,wt),wt+=3;break;case"ALPH":k=!0,ut=ot+8,Tt=U-8;break;case"ANIM":(ft=T.header).bgcolor=x(R,U),wt=U+4,ft.loop_count=y(R,wt),wt+=2;break;case"ANMF":var Z,ft;(ft=T.frames[I]={}).offset_x=2*A(R,U),U+=3,ft.offset_y=2*A(R,U),U+=3,ft.width=1+A(R,U),U+=3,ft.height=1+A(R,U),U+=3,ft.duration=A(R,U),U+=3,Z=R[U++],ft.dispose=1&Z,ft.blend=Z>>1&1}at!="ANMF"&&(U+=ot)}return T}})(B,0);tt.response=B,tt.rgbaoutput=!0,tt.dataurl=!1;var et=tt.header?tt.header:null,Q=tt.frames?tt.frames:null;if(et){et.loop_counter=et.loop_count,b=[et.canvas_height],O=[et.canvas_width];for(var st=0;st<Q.length&&Q[st].blend!=0;st++);}var Et=Q[0],W=q.WebPDecodeRGBA(B,Et.src_off,Et.src_size,O,b);Et.rgba=W,Et.imgwidth=O[0],Et.imgheight=b[0];for(var D=0;D<O[0]*b[0]*4;D++)F[D]=W[D];return this.width=O,this.height=b,this.data=F,this}(function(n){var t,e,r,a,o,u,c,f,d,y=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new f,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new u,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new u,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var A=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=P;Object.defineProperty(this,"pdf",{get:function(){return G}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Mt){J=!!Mt}});var ct=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ct},set:function(Mt){ct=!!Mt}});var dt=0;Object.defineProperty(this,"posX",{get:function(){return dt},set:function(Mt){isNaN(Mt)||(dt=Mt)}});var yt=0;Object.defineProperty(this,"posY",{get:function(){return yt},set:function(Mt){isNaN(Mt)||(yt=Mt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Mt){var lt;typeof Mt=="number"?lt=[Mt,Mt,Mt,Mt]:((lt=new Array(4))[0]=Mt[0],lt[1]=Mt.length>=2?Mt[1]:lt[0],lt[2]=Mt.length>=3?Mt[2]:lt[0],lt[3]=Mt.length>=4?Mt[3]:lt[1]),d.margin=lt}});var Lt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Lt},set:function(Mt){Lt=Mt}});var Pt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pt},set:function(Mt){Pt=Mt}});var qt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qt},set:function(Mt){qt=Mt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Mt){Mt instanceof y&&(d=Mt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Mt){d.path=Mt}});var Qt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qt},set:function(Mt){Qt=Mt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Mt){var lt;lt=x(Mt),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Mt){var lt=x(Mt);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Mt){["butt","round","square"].indexOf(Mt)!==-1&&(this.ctx.lineCap=Mt,this.pdf.setLineCap(Mt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Mt){isNaN(Mt)||(this.ctx.lineWidth=Mt,this.pdf.setLineWidth(Mt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Mt){["bevel","round","miter"].indexOf(Mt)!==-1&&(this.ctx.lineJoin=Mt,this.pdf.setLineJoin(Mt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Mt){isNaN(Mt)||(this.ctx.miterLimit=Mt,this.pdf.setMiterLimit(Mt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Mt){this.ctx.textBaseline=Mt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Mt){["right","end","center","left","start"].indexOf(Mt)!==-1&&(this.ctx.textAlign=Mt)}});var ne=null,re=null;Object.defineProperty(this,"fontFaces",{get:function(){return re},set:function(Mt){ne=null,re=Mt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Mt){var lt;if(this.ctx.font=Mt,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Mt))!==null){var en=lt[1];lt[2];var Ne=lt[3],xe=lt[4];lt[5];var Zt=lt[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(ye==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ee=(function(Le){var be,Tn,an=[],he=Le.trim();if(he==="")return K1;if(he in y_)return[y_[he]];for(;he!=="";){switch(Tn=null,be=(he=__(he)).charAt(0)){case'"':case"'":Tn=PT(he.substring(1),be);break;default:Tn=DT(he)}if(Tn===null||(an.push(Tn[0]),(he=__(Tn[1]))!==""&&he.charAt(0)!==","))return K1;he=he.replace(/^,/,"")}return an})(Zt);if(this.fontFaces){var Ye=(function(Le,be){if(ne===null){var Tn=(function(an){var he=[];return Object.keys(an).forEach(function(Ce){an[Ce].forEach(function(Nn){var Ae=null;switch(Nn){case"bold":Ae={family:Ce,weight:"bold"};break;case"italic":Ae={family:Ce,style:"italic"};break;case"bolditalic":Ae={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Ae={family:Ce}}Ae!==null&&(Ae.ref={name:Ce,style:Nn},he.push(Ae))})}),he})(Le.getFontList());ne=(function(an){for(var he={},Ce=0;Ce<an.length;++Ce){var Nn=Y1(an[Ce]),Ae=Nn.family,nn=Nn.stretch,Ve=Nn.style,er=Nn.weight;he[Ae]=he[Ae]||{},he[Ae][nn]=he[Ae][nn]||{},he[Ae][nn][Ve]=he[Ae][nn][Ve]||{},he[Ae][nn][Ve][er]=Nn}return he})(Tn.concat(be))}return ne})(this.pdf,this.fontFaces),_e=ee.map(function(Le){return{family:Le,stretch:"normal",weight:Ne,style:en}}),mn=(function(Le,be,Tn){for(var an=(Tn=Tn||{}).defaultFontFamily||"times",he=Object.assign({},kT,Tn.genericFontFamilies||{}),Ce=null,Nn=null,Ae=0;Ae<be.length;++Ae)if(he[(Ce=Y1(be[Ae])).family]&&(Ce.family=he[Ce.family]),Le.hasOwnProperty(Ce.family)){Nn=Le[Ce.family];break}if(!(Nn=Nn||Le[an]))throw new Error("Could not find a font-family for the rule '"+v_(Ce)+"' and default family '"+an+"'.");if(Nn=(function(nn,Ve){if(Ve[nn])return Ve[nn];var er=N0[nn],qn=er<=N0.normal?-1:1,gn=g_(Ve,f4,er,qn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+nn);return gn})(Ce.stretch,Nn),Nn=(function(nn,Ve){if(Ve[nn])return Ve[nn];for(var er=h4[nn],qn=0;qn<er.length;++qn)if(Ve[er[qn]])return Ve[er[qn]];throw new Error("Could not find a matching font-style for "+nn)})(Ce.style,Nn),!(Nn=(function(nn,Ve){if(Ve[nn])return Ve[nn];if(nn===400&&Ve[500])return Ve[500];if(nn===500&&Ve[400])return Ve[400];var er=LT[nn],qn=g_(Ve,d4,er,nn<400?-1:1);if(!qn)throw new Error("Could not find a matching font-weight for value "+nn);return qn})(Ce.weight,Nn)))throw new Error("Failed to resolve a font for the rule '"+v_(Ce)+"'.");return Nn})(Ye,_e);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var Be="";(Ne==="bold"||parseInt(Ne,10)>=700||en==="bold")&&(Be="bold"),en==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var ce="",we={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Te=0;Te<ee.length;Te++){if(this.pdf.internal.getFont(ee[Te],Be,{noFallback:!0,disableWarning:!0})!==void 0){ce=ee[Te];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(ee[Te],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ce=ee[Te],Be="bold";else if(this.pdf.internal.getFont(ee[Te],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ce=ee[Te],Be="normal";break}}if(ce===""){for(var se=0;se<ee.length;se++)if(we[ee[se]]){ce=we[ee[se]];break}}ce=ce===""?"Times":ce,this.pdf.setFont(ce,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Mt){this.ctx.globalCompositeOperation=Mt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Mt){this.ctx.globalAlpha=Mt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Mt){this.ctx.lineDashOffset=Mt,ft.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Mt){this.ctx.lineDash=Mt,ft.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Mt){this.ctx.ignoreClearRect=!!Mt}})};A.prototype.setLineDash=function(P){this.lineDash=P},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){Q.call(this,"fill",!1)},A.prototype.stroke=function(){Q.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(P,G){if(isNaN(P)||isNaN(G))throw ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(P,G));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(P,G)},A.prototype.closePath=function(){var P=new u(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Yn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){P=new u(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(P.x,P.y)},A.prototype.lineTo=function(P,G){if(isNaN(P)||isNaN(G))throw ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(P,G));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Q.call(this,null,!0)},A.prototype.quadraticCurveTo=function(P,G,J,ct){if(isNaN(J)||isNaN(ct)||isNaN(P)||isNaN(G))throw ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var dt=this.ctx.transform.applyToPoint(new u(J,ct)),yt=this.ctx.transform.applyToPoint(new u(P,G));this.path.push({type:"qct",x1:yt.x,y1:yt.y,x:dt.x,y:dt.y}),this.ctx.lastPoint=new u(dt.x,dt.y)},A.prototype.bezierCurveTo=function(P,G,J,ct,dt,yt){if(isNaN(dt)||isNaN(yt)||isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct))throw ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Lt=this.ctx.transform.applyToPoint(new u(dt,yt)),Pt=this.ctx.transform.applyToPoint(new u(P,G)),qt=this.ctx.transform.applyToPoint(new u(J,ct));this.path.push({type:"bct",x1:Pt.x,y1:Pt.y,x2:qt.x,y2:qt.y,x:Lt.x,y:Lt.y}),this.ctx.lastPoint=new u(Lt.x,Lt.y)},A.prototype.arc=function(P,G,J,ct,dt,yt){if(isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct)||isNaN(dt))throw ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(yt=!!yt,!this.ctx.transform.isIdentity){var Lt=this.ctx.transform.applyToPoint(new u(P,G));P=Lt.x,G=Lt.y;var Pt=this.ctx.transform.applyToPoint(new u(0,J)),qt=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(Pt.x-qt.x,2)+Math.pow(Pt.y-qt.y,2))}Math.abs(dt-ct)>=2*Math.PI&&(ct=0,dt=2*Math.PI),this.path.push({type:"arc",x:P,y:G,radius:J,startAngle:ct,endAngle:dt,counterclockwise:yt})},A.prototype.arcTo=function(P,G,J,ct,dt){throw new Error("arcTo not implemented.")},A.prototype.rect=function(P,G,J,ct){if(isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct))throw ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,G),this.lineTo(P+J,G),this.lineTo(P+J,G+ct),this.lineTo(P,G+ct),this.lineTo(P,G),this.lineTo(P+J,G),this.lineTo(P,G)},A.prototype.fillRect=function(P,G,J,ct){if(isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct))throw ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var dt={};this.lineCap!=="butt"&&(dt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(dt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,G,J,ct),this.fill(),dt.hasOwnProperty("lineCap")&&(this.lineCap=dt.lineCap),dt.hasOwnProperty("lineJoin")&&(this.lineJoin=dt.lineJoin)}},A.prototype.strokeRect=function(P,G,J,ct){if(isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct))throw ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(P,G,J,ct),this.stroke())},A.prototype.clearRect=function(P,G,J,ct){if(isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct))throw ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,G,J,ct))},A.prototype.save=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ct=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ct}},A.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(G),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(P){var G,J,ct,dt;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))G=0,J=0,ct=0,dt=0;else{var yt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(yt!==null)G=parseInt(yt[1]),J=parseInt(yt[2]),ct=parseInt(yt[3]),dt=1;else if((yt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)G=parseInt(yt[1]),J=parseInt(yt[2]),ct=parseInt(yt[3]),dt=parseFloat(yt[4]);else{if(dt=1,typeof P=="string"&&P.charAt(0)!=="#"){var Lt=new i4(P);P=Lt.ok?Lt.toHex():"#000000"}P.length===4?(G=P.substring(1,2),G+=G,J=P.substring(2,3),J+=J,ct=P.substring(3,4),ct+=ct):(G=P.substring(1,3),J=P.substring(3,5),ct=P.substring(5,7)),G=parseInt(G,16),J=parseInt(J,16),ct=parseInt(ct,16)}}return{r:G,g:J,b:ct,a:dt,style:P}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(P,G,J,ct){if(isNaN(G)||isNaN(J)||typeof P!="string")throw ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ct=isNaN(ct)?void 0:ct,!b.call(this)){var dt=ot(this.ctx.transform.rotation),yt=this.ctx.transform.scaleX;I.call(this,{text:P,x:G,y:J,scale:yt,angle:dt,align:this.textAlign,maxWidth:ct})}},A.prototype.strokeText=function(P,G,J,ct){if(isNaN(G)||isNaN(J)||typeof P!="string")throw ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){ct=isNaN(ct)?void 0:ct;var dt=ot(this.ctx.transform.rotation),yt=this.ctx.transform.scaleX;I.call(this,{text:P,x:G,y:J,scale:yt,renderingMode:"stroke",angle:dt,align:this.textAlign,maxWidth:ct})}},A.prototype.measureText=function(P){if(typeof P!="string")throw ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,J=this.pdf.internal.scaleFactor,ct=G.internal.getFontSize(),dt=G.getStringUnitWidth(P)*ct/G.internal.scaleFactor;return new function(yt){var Lt=(yt=yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Lt}}),this}({width:dt*=Math.round(96*J/72*1e4)/1e4})},A.prototype.scale=function(P,G){if(isNaN(P)||isNaN(G))throw ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(P,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.rotate=function(P){if(isNaN(P))throw ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new f(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},A.prototype.translate=function(P,G){if(isNaN(P)||isNaN(G))throw ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,P,G);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.transform=function(P,G,J,ct,dt,yt){if(isNaN(P)||isNaN(G)||isNaN(J)||isNaN(ct)||isNaN(dt)||isNaN(yt))throw ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Lt=new f(P,G,J,ct,dt,yt);this.ctx.transform=this.ctx.transform.multiply(Lt)},A.prototype.setTransform=function(P,G,J,ct,dt,yt){P=isNaN(P)?1:P,G=isNaN(G)?0:G,J=isNaN(J)?0:J,ct=isNaN(ct)?1:ct,dt=isNaN(dt)?0:dt,yt=isNaN(yt)?0:yt,this.ctx.transform=new f(P,G,J,ct,dt,yt)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(P,G,J,ct,dt,yt,Lt,Pt,qt){var Qt=this.pdf.getImageProperties(P),ne=1,re=1,Mt=1,lt=1;ct!==void 0&&Pt!==void 0&&(Mt=Pt/ct,lt=qt/dt,ne=Qt.width/ct*Pt/ct,re=Qt.height/dt*qt/dt),yt===void 0&&(yt=G,Lt=J,G=0,J=0),ct!==void 0&&Pt===void 0&&(Pt=ct,qt=dt),ct===void 0&&Pt===void 0&&(Pt=Qt.width,qt=Qt.height);for(var en,Ne=this.ctx.transform.decompose(),xe=ot(Ne.rotate.shx),Zt=new f,ye=(Zt=(Zt=(Zt=Zt.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new c(yt-G*Mt,Lt-J*lt,ct*ne,dt*re)),ee=q.call(this,ye),Ye=[],_e=0;_e<ee.length;_e+=1)Ye.indexOf(ee[_e])===-1&&Ye.push(ee[_e]);if(et(Ye),this.autoPaging)for(var mn=Ye[0],Be=Ye[Ye.length-1],ce=mn;ce<Be+1;ce++){this.pdf.setPage(ce);var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=ce===1?this.posY+this.margin[0]:this.margin[0],se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],be=ce===1?0:se+(ce-2)*Le;if(this.ctx.clip_path.length!==0){var Tn=this.path;en=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=tt(en,this.posX+this.margin[3],-be+Te+this.ctx.prevPageLastElemOffset),st.call(this,"fill",!0),this.path=Tn}var an=JSON.parse(JSON.stringify(ye));an=tt([an],this.posX+this.margin[3],-be+Te+this.ctx.prevPageLastElemOffset)[0];var he=(ce>mn||ce<Be)&&F.call(this);he&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Le,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",an.x,an.y,an.w,an.h,null,null,xe),he&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,xe)};var q=function(P,G,J){var ct=[];G=G||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var dt=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ct.push(Math.floor((P.y+dt)/J)+1);break;case"arc":ct.push(Math.floor((P.y+dt-P.radius)/J)+1),ct.push(Math.floor((P.y+dt+P.radius)/J)+1);break;case"qct":var yt=wt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ct.push(Math.floor((yt.y+dt)/J)+1),ct.push(Math.floor((yt.y+yt.h+dt)/J)+1);break;case"bct":var Lt=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ct.push(Math.floor((Lt.y+dt)/J)+1),ct.push(Math.floor((Lt.y+Lt.h+dt)/J)+1);break;case"rect":ct.push(Math.floor((P.y+dt)/J)+1),ct.push(Math.floor((P.y+P.h+dt)/J)+1)}for(var Pt=0;Pt<ct.length;Pt+=1)for(;this.pdf.internal.getNumberOfPages()<ct[Pt];)B.call(this);return ct},B=function(){var P=this.fillStyle,G=this.strokeStyle,J=this.font,ct=this.lineCap,dt=this.lineWidth,yt=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=G,this.font=J,this.lineCap=ct,this.lineWidth=dt,this.lineJoin=yt},tt=function(P,G,J){for(var ct=0;ct<P.length;ct++)switch(P[ct].type){case"bct":P[ct].x2+=G,P[ct].y2+=J;case"qct":P[ct].x1+=G,P[ct].y1+=J;default:P[ct].x+=G,P[ct].y+=J}return P},et=function(P){return P.sort(function(G,J){return G-J})},Q=function(P,G){for(var J,ct,dt=this.fillStyle,yt=this.strokeStyle,Lt=this.lineCap,Pt=this.lineWidth,qt=Math.abs(Pt*this.ctx.transform.scaleX),Qt=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),re=JSON.parse(JSON.stringify(this.path)),Mt=[],lt=0;lt<re.length;lt++)if(re[lt].x!==void 0)for(var en=q.call(this,re[lt]),Ne=0;Ne<en.length;Ne+=1)Mt.indexOf(en[Ne])===-1&&Mt.push(en[Ne]);for(var xe=0;xe<Mt.length;xe++)for(;this.pdf.internal.getNumberOfPages()<Mt[xe];)B.call(this);if(et(Mt),this.autoPaging)for(var Zt=Mt[0],ye=Mt[Mt.length-1],ee=Zt;ee<ye+1;ee++){this.pdf.setPage(ee),this.fillStyle=dt,this.strokeStyle=yt,this.lineCap=Lt,this.lineWidth=qt,this.lineJoin=Qt;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=ee===1?this.posY+this.margin[0]:this.margin[0],mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ce=ee===1?0:mn+(ee-2)*Be;if(this.ctx.clip_path.length!==0){var we=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=tt(J,this.posX+this.margin[3],-ce+_e+this.ctx.prevPageLastElemOffset),st.call(this,P,!0),this.path=we}if(ct=JSON.parse(JSON.stringify(ne)),this.path=tt(ct,this.posX+this.margin[3],-ce+_e+this.ctx.prevPageLastElemOffset),G===!1||ee===0){var Te=(ee>Zt||ee<ye)&&F.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Be,null).clip().discardPath()),st.call(this,P,G),Te&&this.pdf.restoreGraphicsState()}this.lineWidth=Pt}else this.lineWidth=qt,st.call(this,P,G),this.lineWidth=Pt;this.path=ne},st=function(P,G){if((P!=="stroke"||G||!O.call(this))&&(P==="stroke"||G||!b.call(this))){for(var J,ct,dt=[],yt=this.path,Lt=0;Lt<yt.length;Lt++){var Pt=yt[Lt];switch(Pt.type){case"begin":dt.push({begin:!0});break;case"close":dt.push({close:!0});break;case"mt":dt.push({start:Pt,deltas:[],abs:[]});break;case"lt":var qt=dt.length;if(yt[Lt-1]&&!isNaN(yt[Lt-1].x)&&(J=[Pt.x-yt[Lt-1].x,Pt.y-yt[Lt-1].y],qt>0)){for(;qt>=0;qt--)if(dt[qt-1].close!==!0&&dt[qt-1].begin!==!0){dt[qt-1].deltas.push(J),dt[qt-1].abs.push(Pt);break}}break;case"bct":J=[Pt.x1-yt[Lt-1].x,Pt.y1-yt[Lt-1].y,Pt.x2-yt[Lt-1].x,Pt.y2-yt[Lt-1].y,Pt.x-yt[Lt-1].x,Pt.y-yt[Lt-1].y],dt[dt.length-1].deltas.push(J);break;case"qct":var Qt=yt[Lt-1].x+2/3*(Pt.x1-yt[Lt-1].x),ne=yt[Lt-1].y+2/3*(Pt.y1-yt[Lt-1].y),re=Pt.x+2/3*(Pt.x1-Pt.x),Mt=Pt.y+2/3*(Pt.y1-Pt.y),lt=Pt.x,en=Pt.y;J=[Qt-yt[Lt-1].x,ne-yt[Lt-1].y,re-yt[Lt-1].x,Mt-yt[Lt-1].y,lt-yt[Lt-1].x,en-yt[Lt-1].y],dt[dt.length-1].deltas.push(J);break;case"arc":dt.push({deltas:[],abs:[],arc:!0}),Array.isArray(dt[dt.length-1].abs)&&dt[dt.length-1].abs.push(Pt)}}ct=G?null:P==="stroke"?"stroke":"fill";for(var Ne=!1,xe=0;xe<dt.length;xe++)if(dt[xe].arc)for(var Zt=dt[xe].abs,ye=0;ye<Zt.length;ye++){var ee=Zt[ye];ee.type==="arc"?D.call(this,ee.x,ee.y,ee.radius,ee.startAngle,ee.endAngle,ee.counterclockwise,void 0,G,!Ne):k.call(this,ee.x,ee.y),Ne=!0}else if(dt[xe].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(dt[xe].begin!==!0){var Ye=dt[xe].start.x,_e=dt[xe].start.y;ut.call(this,dt[xe].deltas,Ye,_e),Ne=!0}ct&&R.call(this,ct),G&&U.call(this)}},Et=function(P){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-J;case"top":return P+G-J;case"hanging":return P+G-2*J;case"middle":return P+G/2-J;default:return P}},W=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(G,J){this.colorStops.push([G,J])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(P,G,J,ct,dt,yt,Lt,Pt,qt){for(var Qt=at.call(this,J,ct,dt,yt),ne=0;ne<Qt.length;ne++){var re=Qt[ne];ne===0&&(qt?T.call(this,re.x1+P,re.y1+G):k.call(this,re.x1+P,re.y1+G)),Tt.call(this,P,G,re.x2,re.y2,re.x3,re.y3,re.x4,re.y4)}Pt?U.call(this):R.call(this,Lt)},R=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,G){this.pdf.internal.out(e(P)+" "+r(G)+" m")},I=function(P){var G;switch(P.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var J=this.pdf.getTextDimensions(P.text),ct=Et.call(this,P.y),dt=W.call(this,ct)-J.h,yt=this.ctx.transform.applyToPoint(new u(P.x,ct)),Lt=this.ctx.transform.decompose(),Pt=new f;Pt=(Pt=(Pt=Pt.multiply(Lt.translate)).multiply(Lt.skew)).multiply(Lt.scale);for(var qt,Qt,ne,re=this.ctx.transform.applyToRectangle(new c(P.x,ct,J.w,J.h)),Mt=Pt.applyToRectangle(new c(P.x,dt,J.w,J.h)),lt=q.call(this,Mt),en=[],Ne=0;Ne<lt.length;Ne+=1)en.indexOf(lt[Ne])===-1&&en.push(lt[Ne]);if(et(en),this.autoPaging)for(var xe=en[0],Zt=en[en.length-1],ye=xe;ye<Zt+1;ye++){this.pdf.setPage(ye);var ee=ye===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],mn=_e-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],ce=Be-this.margin[3],we=ye===1?0:Ye+(ye-2)*mn;if(this.ctx.clip_path.length!==0){var Te=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=tt(qt,this.posX+this.margin[3],-1*we+ee),st.call(this,"fill",!0),this.path=Te}var se=tt([JSON.parse(JSON.stringify(Mt))],this.posX+this.margin[3],-we+ee+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Qt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qt*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale);var Le=this.autoPaging!=="text";if(Le||se.y+se.h<=_e){if(Le||se.y>=ee&&se.x<=Be){var be=Le?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Be-se.x)[0],Tn=tt([JSON.parse(JSON.stringify(re))],this.posX+this.margin[3],-we+ee+this.ctx.prevPageLastElemOffset)[0],an=Le&&(ye>xe||ye<Zt)&&F.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,mn,null).clip().discardPath()),this.pdf.text(be,Tn.x,Tn.y,{angle:P.angle,align:G,renderingMode:P.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else se.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-se.y);P.scale>=.01&&(this.pdf.setFontSize(Qt),this.lineWidth=ne)}else P.scale>=.01&&(Qt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qt*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale),this.pdf.text(P.text,yt.x+this.posX,yt.y+this.posY,{angle:P.angle,align:G,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Qt),this.lineWidth=ne)},k=function(P,G,J,ct){J=J||0,ct=ct||0,this.pdf.internal.out(e(P+J)+" "+r(G+ct)+" l")},ut=function(P,G,J){return this.pdf.lines(P,G,J,null,null)},Tt=function(P,G,J,ct,dt,yt,Lt,Pt){this.pdf.internal.out([t(a(J+P)),t(o(ct+G)),t(a(dt+P)),t(o(yt+G)),t(a(Lt+P)),t(o(Pt+G)),"c"].join(" "))},at=function(P,G,J,ct){for(var dt=2*Math.PI,yt=Math.PI/2;G>J;)G-=dt;var Lt=Math.abs(J-G);Lt<dt&&ct&&(Lt=dt-Lt);for(var Pt=[],qt=ct?-1:1,Qt=G;Lt>1e-5;){var ne=Qt+qt*Math.min(Lt,yt);Pt.push(mt.call(this,P,Qt,ne)),Lt-=Math.abs(ne-Qt),Qt=ne}return Pt},mt=function(P,G,J){var ct=(J-G)/2,dt=P*Math.cos(ct),yt=P*Math.sin(ct),Lt=dt,Pt=-yt,qt=Lt*Lt+Pt*Pt,Qt=qt+Lt*dt+Pt*yt,ne=4/3*(Math.sqrt(2*qt*Qt)-Qt)/(Lt*yt-Pt*dt),re=Lt-ne*Pt,Mt=Pt+ne*Lt,lt=re,en=-Mt,Ne=ct+G,xe=Math.cos(Ne),Zt=Math.sin(Ne);return{x1:P*Math.cos(G),y1:P*Math.sin(G),x2:re*xe-Mt*Zt,y2:re*Zt+Mt*xe,x3:lt*xe-en*Zt,y3:lt*Zt+en*xe,x4:P*Math.cos(J),y4:P*Math.sin(J)}},ot=function(P){return 180*P/Math.PI},wt=function(P,G,J,ct,dt,yt){var Lt=P+.5*(J-P),Pt=G+.5*(ct-G),qt=dt+.5*(J-dt),Qt=yt+.5*(ct-yt),ne=Math.min(P,dt,Lt,qt),re=Math.max(P,dt,Lt,qt),Mt=Math.min(G,yt,Pt,Qt),lt=Math.max(G,yt,Pt,Qt);return new c(ne,Mt,re-ne,lt-Mt)},Z=function(P,G,J,ct,dt,yt,Lt,Pt){var qt,Qt,ne,re,Mt,lt,en,Ne,xe,Zt,ye,ee,Ye,_e,mn=J-P,Be=ct-G,ce=dt-J,we=yt-ct,Te=Lt-dt,se=Pt-yt;for(Qt=0;Qt<41;Qt++)xe=(en=(ne=P+(qt=Qt/40)*mn)+qt*((Mt=J+qt*ce)-ne))+qt*(Mt+qt*(dt+qt*Te-Mt)-en),Zt=(Ne=(re=G+qt*Be)+qt*((lt=ct+qt*we)-re))+qt*(lt+qt*(yt+qt*se-lt)-Ne),Qt==0?(ye=xe,ee=Zt,Ye=xe,_e=Zt):(ye=Math.min(ye,xe),ee=Math.min(ee,Zt),Ye=Math.max(Ye,xe),_e=Math.max(_e,Zt));return new c(Math.round(ye),Math.round(ee),Math.round(Ye-ye),Math.round(_e-ee))},ft=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,G,J=(P=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:G}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Se.API),(function(n){var t=function(u){var c,f,d,y,A,x,b,O,F,q;for(f=[],d=0,y=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;y>d;d+=4)(A=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(x=(A=((A=((A=((A=(A-(q=A%85))/85)-(F=A%85))/85)-(O=A%85))/85)-(b=A%85))/85)%85,f.push(x+33,b+33,O+33,F+33,q+33)):f.push(122);return(function(B,tt){for(var et=tt;et>0;et--)B.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var c,f,d,y,A,x=String,b="length",O=255,F="charCodeAt",q="slice",B="replace";for(u[q](-2),u=u[q](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),d=[],y=0,A=(u+=c="uuuuu"[q](u[b]%5||5))[b];A>y;y+=5)f=52200625*(u[F](y)-33)+614125*(u[F](y+1)-33)+7225*(u[F](y+2)-33)+85*(u[F](y+3)-33)+(u[F](y+4)-33),d.push(O&f>>24,O&f>>16,O&f>>8,O&f);return(function(tt,et){for(var Q=et;Q>0;Q--)tt.pop()})(d,c[b]),x.fromCharCode.apply(x,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=b0(c)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(Se.API),(function(n){n.loadFile=function(t,e,r){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,y){var A=new XMLHttpRequest,x=0,b=function(O){var F=O.length,q=[],B=String.fromCharCode;for(x=0;x<F;x+=1)q.push(B(255&O.charCodeAt(x)));return q.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?y(b(this.responseText)):y(void 0)}),A.send(null),d&&A.status===200)return b(A.responseText)})(a,o,u)}catch{}return c})(t,e,r)},n.loadImageFile=n.loadFile})(Se.API),(function(n){function t(){return(We.html2canvas?Promise.resolve(We.html2canvas):R1(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(We.DOMPurify?Promise.resolve(We.DOMPurify):R1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Yn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var y in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[y]=f.style[y];return d},o=function c(f,d){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||y.appendChild(c(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),d);return(y=y.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(e).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var d=this.opt.jsPDF,y=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var b=0;b<y.length;++b){var O=y[b],F=O.src.find(function(q){return q.format==="truetype"});F&&d.addFont(F.url,O.ref.name,O.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(c=c||Se.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,y){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,y){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(y,A){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,y),x}).then(y,A).then(function(x){return d.updateProgress(1),x})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var y=this;c&&(c=c.bind(y)),f&&(f=f.bind(y));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),x=d.call(A,c,f);return u.convert(x,y.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Se.getPageSize=function(c,f,d){if(Yn(c)==="object"){var y=c;c=y.orientation,f=y.unit||f,d=y.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var A,x=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var O,F=0,q=0;if(b.hasOwnProperty(x))F=b[x][1]/A,q=b[x][0]/A;else try{F=d[1],q=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",q>F&&(O=q,q=F,F=O);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",F>q&&(O=q,q=F,F=O)}return{width:q,height:F,unit:f,k:A,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Y1):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Se.API),Se.API.addJS=function(n){return w_=n,this.internal.events.subscribe("postPutResources",function(){$p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),b_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$p!==void 0&&b_!==void 0&&this.internal.out("/Names <</JavaScript "+$p+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=r.exec(u);if(c!=null){var f=c[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var A=e.internal.newObject();y.push(A);var x=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<y.length;o++)e.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Se.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,o,u,c){var f,d=this.decode.DCT_DECODE,y=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var x,b=256*A.charCodeAt(4)+A.charCodeAt(5),O=A.length,F={width:0,height:0,numcomponents:1},q=4;q<O;q+=2){if(q+=b,t.indexOf(A.charCodeAt(q+1))!==-1){x=256*A.charCodeAt(q+5)+A.charCodeAt(q+6),F={width:256*A.charCodeAt(q+7)+A.charCodeAt(q+8),height:x,numcomponents:A.charCodeAt(q+9)};break}b=256*A.charCodeAt(q+2)+A.charCodeAt(q+3)}return F})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:e,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return y}})(Se.API),Se.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=yT(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,y=o.depth;a=d&&f===1?(function(W){for(var D=W.width,R=W.height,U=W.data,T=W.palette,I=W.depth,k=!1,ut=[],Tt=[],at=void 0,mt=!1,ot=0,wt=0;wt<T.length;wt++){var Z=x5(T[wt],4),ft=Z[0],P=Z[1],G=Z[2],J=Z[3];ut.push(ft,P,G),J!=null&&(J===0?(ot++,Tt.length<1&&Tt.push(wt)):J<255&&(mt=!0))}if(mt||ot>1){k=!0,Tt=void 0;var ct=D*R;at=new Uint8Array(ct);for(var dt=new DataView(U.buffer),yt=0;yt<ct;yt++){var Lt=Q1(dt,yt,I),Pt=x5(T[Lt],4)[3];at[yt]=Pt}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:U,alphaBytes:at,needSMask:k,palette:ut,mask:Tt}})(o):f===2||f===4?(function(W){for(var D=W.data,R=W.width,U=W.height,T=W.channels,I=W.depth,k=T===2?"DeviceGray":"DeviceRGB",ut=T-1,Tt=R*U,at=ut,mt=Tt*at,ot=1*Tt,wt=Math.ceil(mt*I/8),Z=Math.ceil(ot*I/8),ft=new Uint8Array(wt),P=new Uint8Array(Z),G=new DataView(D.buffer),J=new DataView(ft.buffer),ct=new DataView(P.buffer),dt=!1,yt=0;yt<Tt;yt++){for(var Lt=yt*T,Pt=0;Pt<at;Pt++)R_(J,Q1(G,Lt+Pt,I),yt*at+Pt,I);var qt=Q1(G,Lt+at,I);qt<(1<<I)-1&&(dt=!0),R_(ct,qt,1*yt,I)}return{colorSpace:k,colorsPerPixel:ut,colorBytes:ft,alphaBytes:P,needSMask:dt}})(o):(function(W){var D=W.data,R=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:D instanceof Uint8Array?D:new Uint8Array(D.buffer),needSMask:!1}})(o);var A,x,b,O=a,F=O.colorSpace,q=O.colorsPerPixel,B=O.colorBytes,tt=O.alphaBytes,et=O.needSMask,Q=O.palette,st=O.mask,Et=null;return r!==Se.API.image_compression.NONE&&typeof b0=="function"?(Et=(function(W){var D;switch(W){case Se.API.image_compression.FAST:D=11;break;case Se.API.image_compression.MEDIUM:D=13;break;case Se.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),A=this.decode.FLATE_DECODE,x="/Predictor ".concat(Et," "),n=x_(B,u*q,q,r),et&&(b=x_(tt,u,1,r))):(A=void 0,x="",n=B,et&&(b=tt)),x+="/Colors ".concat(q," /BitsPerComponent ").concat(y," /Columns ").concat(u),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:e,data:n,index:t,filter:A,decodeParameters:x,transparency:st,palette:Q,sMask:b,predictor:Et,width:u,height:c,bitsPerComponent:y,colorSpace:F}}},(function(n){n.processGIF89A=function(t,e,r,a){var o=new VT(t),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},y=new X1(100).encode(d,100);return n.processJPEG.call(this,y,e,r,a)},n.processGIF87A=n.processGIF89A})(Se.API),fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){ar.log("bit decode error:"+e)}},fo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}e!==0&&(this.pos+=4-e)}},fo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},fo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},fo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,c=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,y=r*this.width*4+4*a;this.data[y]=f,this.data[y+1]=c,this.data[y+2]=u,this.data[y+3]=d}this.pos+=n}},fo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,d=(u>>11)/t*255|0,y=a*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=255}this.pos+=n}},fo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},fo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=u}},fo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,a){var o=new fo(t,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new X1(100).encode(f,100);return n.processJPEG.call(this,d,e,r,a)}})(Se.API),k_.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,a){var o=new k_(t),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new X1(100).encode(f,100);return n.processJPEG.call(this,d,e,r,a)}})(Se.API),Se.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var y=r[d],A=r[d+1],x=r[d+2],b=r[d+3];o[c++]=y,o[c++]=A,o[c++]=x,u[f++]=b}var O=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:O,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Se.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dh=Se.API,Wp=dh.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,y=d.fof?d.fof:1,A=t.doKerning!==!1,x=0,b=n.length,O=0,F=c[0]||f,q=[];for(e=0;e<b;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?q.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(x=A&&Yn(d[r])==="object"&&!isNaN(parseInt(d[r][O],10))?d[r][O]/y:0,q.push((c[r]||F)/f+x)),O=r;return q},A_=dh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return dh.processArabic&&(n=dh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:Wp.apply(this,arguments).reduce(function(o,u){return o+u},0)},S_=function(n,t,e,r){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+t[o]<e;)c+=t[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+t[o]>r&&(a.push(n.slice(f,o)),c=0,f=o),c+=t[o],o++;return f!==o&&a.push(n.slice(f,o)),a},E_=function(n,t,e){e||(e={});var r,a,o,u,c,f,d,y=[],A=[y],x=e.textIndent||0,b=0,O=0,F=n.split(" "),q=Wp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?F[0].length+2:e.lineIndent||0){var B=Array(f).join(" "),tt=[];F.map(function(Q){(Q=Q.split(/\s*\n/)).length>1?tt=tt.concat(Q.map(function(st,Et){return(Et&&st.length?`
`:"")+st})):tt.push(Q[0])}),F=tt,f=A_.apply(this,[B,e])}for(o=0,u=F.length;o<u;o++){var et=0;if(r=F[o],f&&r[0]==`
`&&(r=r.substr(1),et=1),x+b+(O=(a=Wp.apply(this,[r,e])).reduce(function(Q,st){return Q+st},0))>t||et){if(O>t){for(c=S_.apply(this,[r,a,t-(x+b),t]),y.push(c.shift()),y=[c.pop()];c.length;)A.push([c.shift()]);O=a.slice(r.length-(y[0]?y[0].length:0)).reduce(function(Q,st){return Q+st},0)}else y=[r];A.push(y),x=O+f,b=q}else y.push(r),x+=b+O,b=q}return d=f?function(Q,st){return(st?B:"")+Q.join(" ")}:function(Q){return Q.join(" ")},A.map(d)},dh.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var A=this.internal.getFont(y.fontName,y.fontStyle),x="Unicode";return A.metadata[x]?{widths:A.metadata[x].widths||{0:1},kerning:A.metadata[x].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(E_.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[e[o]]=t[o],a[t[o]]=e[o];var u=function(x){return"0x"+parseInt(x,10).toString(16)},c=n.__fontmetrics__.compress=function(x){var b,O,F,q,B=["{"];for(var tt in x){if(b=x[tt],isNaN(parseInt(tt,10))?O="'"+tt+"'":(tt=parseInt(tt,10),O=(O=u(tt).slice(2)).slice(0,-1)+a[O.slice(-1)]),typeof b=="number")b<0?(F=u(b).slice(3),q="-"):(F=u(b).slice(2),q=""),F=q+F.slice(0,-1)+a[F.slice(-1)];else{if(Yn(b)!=="object")throw new Error("Don't know what to do with value type "+Yn(b)+".");F=c(b)}B.push(O+F)}return B.push("}"),B.join("")},f=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,O,F,q,B={},tt=1,et=B,Q=[],st="",Et="",W=x.length-1,D=1;D<W;D+=1)(q=x[D])=="'"?b?(F=b.join(""),b=void 0):b=[]:b?b.push(q):q=="{"?(Q.push([et,F]),et={},F=void 0):q=="}"?((O=Q.pop())[0][O[1]]=et,F=void 0,et=O[0]):q=="-"?tt=-1:F===void 0?r.hasOwnProperty(q)?(st+=r[q],F=parseInt(st,16)*tt,tt=1,st=""):st+=q:r.hasOwnProperty(q)?(Et+=r[q],et[F]=parseInt(Et,16)*tt,tt=1,F=void 0,Et=""):Et+=q;return B},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var b=x.font,O=A.Unicode[b.postScriptName];O&&(b.metadata.Unicode={},b.metadata.Unicode.widths=O.widths,b.metadata.Unicode.kerning=O.kerning);var F=y.Unicode[b.postScriptName];F&&(b.metadata.Unicode.encoding=F,b.encoding=F.codePages[0])}])})(Se.API),(function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(nm(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])})(Se),Se.API.addSvgAsImage=function(n,t,e,r,a,o,u,c){if(isNaN(t)||isNaN(e))throw ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(We.canvg?Promise.resolve(We.canvg):R1(()=>import("./index.es-DwP1Yeo5.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,r,a,u,c)})},Se.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Se.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,y=0,A=0;function x(O,F){var q,B=!1;for(q=0;q<O.length;q+=1)O[q]===F&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var b=c.length;for(A=0;A<b;A+=1)e[c[A]].value=e[c[A]].defaultValue,e[c[A]].explicitSet=!1}if(Yn(n)==="object"){for(a in n)if(o=n[a],x(c,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&x(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,F=[];for(O in e)e[O].explicitSet===!0&&(e[O].type==="name"?F.push("/"+O+" /"+e[O].value):F.push("/"+O+" "+e[O].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Se.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],A=0,x=o.length;A<x;++A){if(c=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(A),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(d[4-c.length],c)}return y.join("")},r=function(o){var u,c,f,d,y,A,x;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,x=(c=Object.keys(o).sort(function(b,O){return b-O})).length;A<x;A++)u=c[A],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var A=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",O=0;O<x.length;O++)b+=String.fromCharCode(x[O]);var F=d();y({data:b,addLength1:!0,objectId:F}),f("endobj");var q=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:q}),f("endobj");var B=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+mh(c.fontName)),f("/FontFile2 "+F+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var tt=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+mh(c.fontName)),f("/FontDescriptor "+B+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+q+" 0 R"),f("/BaseFont /"+mh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+tt+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var A=c.metadata.rawData,x="",b=0;b<A.length;b++)x+=String.fromCharCode(A[b]);var O=d();y({data:x,addLength1:!0,objectId:O}),f("endobj");var F=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:F}),f("endobj");var q=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+O+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+mh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var B=0;B<c.metadata.hmtx.widths.length;B++)c.metadata.hmtx.widths[B]=parseInt(c.metadata.hmtx.widths[B]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+mh(c.fontName)+"/FontDescriptor "+q+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,y=o.options||{},A=o.mutex||{},x=A.pdfEscape,b=A.activeFontKey,O=A.fonts,F=b,q="",B=0,tt="",et=O[F].encoding;if(O[F].encoding!=="Identity-H")return{text:c,x:f,y:d,options:y,mutex:A};for(tt=c,F=b,Array.isArray(c)&&(tt=c[0]),B=0;B<tt.length;B+=1)O[F].metadata.hasOwnProperty("cmap")&&(u=O[F].metadata.cmap.unicode.codeMap[tt[B].charCodeAt(0)]),u||tt[B].charCodeAt(0)<256&&O[F].metadata.hasOwnProperty("Unicode")?q+=tt[B]:q+="";var Q="";return parseInt(F.slice(1))<14||et==="WinAnsiEncoding"?Q=x(q,F).split("").map(function(st){return st.charCodeAt(0).toString(16)}).join(""):et==="Identity-H"&&(Q=e(q,O[F])),A.isHex=!0,{text:Q,x:f,y:d,options:y,mutex:A}};t.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(Se),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Se.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,c,f,d,y,A=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},q=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),tt=!1,et=0;this.__bidiEngine__={};var Q=function(T){var I=T.charCodeAt(),k=I>>8,ut=F[k];return ut!==void 0?A[256*ut+(255&I)]:k===252||k===253?"AL":B.test(k)?"L":k===8?"R":"N"},st=function(T){for(var I,k=0;k<T.length;k++){if((I=Q(T.charAt(k)))==="L")return!1;if(I==="R")return!0}return!1},Et=function(T,I,k,ut){var Tt,at,mt,ot,wt=I[ut];switch(wt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":tt=!1;break;case"N":case"AN":break;case"EN":tt&&(wt="AN");break;case"AL":tt=!0,wt="R";break;case"WS":case"BN":wt="N";break;case"CS":ut<1||ut+1>=I.length||(Tt=k[ut-1])!=="EN"&&Tt!=="AN"||(at=I[ut+1])!=="EN"&&at!=="AN"?wt="N":tt&&(at="AN"),wt=at===Tt?at:"N";break;case"ES":wt=(Tt=ut>0?k[ut-1]:"B")==="EN"&&ut+1<I.length&&I[ut+1]==="EN"?"EN":"N";break;case"ET":if(ut>0&&k[ut-1]==="EN"){wt="EN";break}if(tt){wt="N";break}for(mt=ut+1,ot=I.length;mt<ot&&I[mt]==="ET";)mt++;wt=mt<ot&&I[mt]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(ot=I.length,mt=ut+1;mt<ot&&I[mt]==="NSM";)mt++;if(mt<ot){var Z=T[ut],ft=Z>=1425&&Z<=2303||Z===64286;if(Tt=I[mt],ft&&(Tt==="R"||Tt==="AL")){wt="R";break}}}wt=ut<1||(Tt=I[ut-1])==="B"?"N":k[ut-1];break;case"B":tt=!1,a=!0,wt=et;break;case"S":o=!0,wt="N"}return wt},W=function(T,I,k){var ut=T.split("");return k&&D(ut,k,{hiLevel:et}),ut.reverse(),I&&I.reverse(),ut.join("")},D=function(T,I,k){var ut,Tt,at,mt,ot,wt=-1,Z=T.length,ft=0,P=[],G=et?b:x,J=[];for(tt=!1,a=!1,o=!1,Tt=0;Tt<Z;Tt++)J[Tt]=Q(T[Tt]);for(at=0;at<Z;at++){if(ot=ft,P[at]=Et(T,J,P,at),ut=240&(ft=G[ot][O[P[at]]]),ft&=15,I[at]=mt=G[ft][5],ut>0)if(ut===16){for(Tt=wt;Tt<at;Tt++)I[Tt]=1;wt=-1}else wt=-1;if(G[ft][6])wt===-1&&(wt=at);else if(wt>-1){for(Tt=wt;Tt<at;Tt++)I[Tt]=mt;wt=-1}J[at]==="B"&&(I[at]=0),k.hiLevel|=mt}o&&(function(ct,dt,yt){for(var Lt=0;Lt<yt;Lt++)if(ct[Lt]==="S"){dt[Lt]=et;for(var Pt=Lt-1;Pt>=0&&ct[Pt]==="WS";Pt--)dt[Pt]=et}})(J,I,Z)},R=function(T,I,k,ut,Tt){if(!(Tt.hiLevel<T)){if(T===1&&et===1&&!a)return I.reverse(),void(k&&k.reverse());for(var at,mt,ot,wt,Z=I.length,ft=0;ft<Z;){if(ut[ft]>=T){for(ot=ft+1;ot<Z&&ut[ot]>=T;)ot++;for(wt=ft,mt=ot-1;wt<mt;wt++,mt--)at=I[wt],I[wt]=I[mt],I[mt]=at,k&&(at=k[wt],k[wt]=k[mt],k[mt]=at);ft=ot}ft++}}},U=function(T,I,k){var ut=T.split(""),Tt={hiLevel:et};return k||(k=[]),D(ut,k,Tt),(function(at,mt,ot){if(ot.hiLevel!==0&&y)for(var wt,Z=0;Z<at.length;Z++)mt[Z]===1&&(wt=q.indexOf(at[Z]))>=0&&(at[Z]=q[wt+1])})(ut,k,Tt),R(2,ut,I,k,Tt),R(1,ut,I,k,Tt),ut.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,k){if((function(Tt,at){if(at)for(var mt=0;mt<Tt.length;mt++)at[mt]=mt;c===void 0&&(c=st(Tt)),d===void 0&&(d=st(Tt))})(T,I),u||!f||d)if(u&&f&&c^d)et=c?1:0,T=W(T,I,k);else if(!u&&f&&d)et=c?1:0,T=U(T,I,k),T=W(T,I);else if(!u||c||f||d){if(u&&!f&&c^d)T=W(T,I),c?(et=0,T=U(T,I,k)):(et=1,T=U(T,I,k),T=W(T,I));else if(u&&c&&!f&&d)et=1,T=U(T,I,k),T=W(T,I);else if(!u&&!f&&c^d){var ut=y;c?(et=1,T=U(T,I,k),et=0,y=!1,T=U(T,I,k),y=ut):(et=0,T=U(T,I,k),T=W(T,I),et=1,y=!1,T=U(T,I,k),y=ut,T=W(T,I))}}else et=0,T=U(T,I,k);else et=c?1:0,T=U(T,I,k);return T},this.__bidiEngine__.setOptions=function(T){T&&(u=T.isInputVisual,f=T.isOutputVisual,c=T.isInputRtl,d=T.isOutputRtl,y=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([e.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([e.doBidiReorder(a[c])]);r.text=u}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Se),Se.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Pu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new JT(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new UT(this.contents),this.head=new BT(this),this.name=new $T(this),this.cmap=new m4(this),this.toUnicode={},this.hhea=new qT(this),this.maxp=new WT(this),this.hmtx=new YT(this),this.post=new HT(this),this.os2=new zT(this),this.loca=new ZT(this),this.glyf=new KT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)t=f[u],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,o,u,c;for(u=0,o=0,c=(t=""+t).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return u*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var _o,Pu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,o,u,c,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,o;for(o=[],r=0,a=t.length;r<a;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),UT=(function(){var n;function t(e){var r,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,o,u,c,f,d,y,A,x,b,O,F;for(F in b=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(b)/f),u=Math.floor(A/f),y=16*b-A,(a=new Pu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(A),a.writeShort(u),a.writeShort(y),o=16*b,d=a.pos+o,c=null,O=[],e)for(x=e[F],a.writeString(F),a.writeInt(n(x)),a.writeInt(d),a.writeInt(x.length),O=O.concat(x),F==="head"&&(c=d),d+=x.length;d%4;)O.push(0),d++;return a.write(O),r=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(r),a.data},n=function(e){var r,a,o,u;for(e=g4.call(e);e.length%4;)e.push(0);for(o=new Pu(e),a=0,r=0,u=e.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},t})(),FT={}.hasOwnProperty,Zo=function(n,t){for(var e in t)FT.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};_o=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var BT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Pu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),P_=(function(){function n(t,e){var r,a,o,u,c,f,d,y,A,x,b,O,F,q,B,tt,et;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(b=t.readUInt16(),x=b/2,t.pos+=6,o=(function(){var Q,st;for(st=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)st.push(t.readUInt16());return st})(),t.pos+=2,F=(function(){var Q,st;for(st=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)st.push(t.readUInt16());return st})(),d=(function(){var Q,st;for(st=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)st.push(t.readUInt16());return st})(),y=(function(){var Q,st;for(st=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)st.push(t.readUInt16());return st})(),a=(this.length-t.pos+this.offset)/2,c=(function(){var Q,st;for(st=[],f=Q=0;0<=a?Q<a:Q>a;f=0<=a?++Q:--Q)st.push(t.readUInt16());return st})(),f=B=0,et=o.length;B<et;f=++B)for(q=o[f],r=tt=O=F[f];O<=q?tt<=q:tt>=q;r=O<=q?++tt:--tt)y[f]===0?u=r+d[f]:(u=c[y[f]/2+(r-O)-(x-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}t.pos=A}return n.encode=function(t,e){var r,a,o,u,c,f,d,y,A,x,b,O,F,q,B,tt,et,Q,st,Et,W,D,R,U,T,I,k,ut,Tt,at,mt,ot,wt,Z,ft,P,G,J,ct,dt,yt,Lt,Pt,qt,Qt,ne;switch(ut=new Pu,u=Object.keys(t).sort(function(re,Mt){return re-Mt}),e){case"macroman":for(F=0,q=(function(){var re=[];for(O=0;O<256;++O)re.push(0);return re})(),tt={0:0},o={},Tt=0,wt=u.length;Tt<wt;Tt++)tt[Pt=t[a=u[Tt]]]==null&&(tt[Pt]=++F),o[a]={old:t[a],new:tt[t[a]]},q[a]=tt[t[a]];return ut.writeUInt16(1),ut.writeUInt16(0),ut.writeUInt32(12),ut.writeUInt16(0),ut.writeUInt16(262),ut.writeUInt16(0),ut.write(q),{charMap:o,subtable:ut.data,maxGlyphID:F+1};case"unicode":for(I=[],A=[],et=0,tt={},r={},B=d=null,at=0,Z=u.length;at<Z;at++)tt[st=t[a=u[at]]]==null&&(tt[st]=++et),r[a]={old:st,new:tt[st]},c=tt[st]-a,B!=null&&c===d||(B&&A.push(B),I.push(a),d=c),B=a;for(B&&A.push(B),A.push(65535),I.push(65535),U=2*(R=I.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),x=Math.log(D/2)/Math.LN2,W=2*R-D,f=[],Et=[],b=[],O=mt=0,ft=I.length;mt<ft;O=++mt){if(T=I[O],y=A[O],T===65535){f.push(0),Et.push(0);break}if(T-(k=r[T].new)>=32768)for(f.push(0),Et.push(2*(b.length+R-O)),a=ot=T;T<=y?ot<=y:ot>=y;a=T<=y?++ot:--ot)b.push(r[a].new);else f.push(k-T),Et.push(0)}for(ut.writeUInt16(3),ut.writeUInt16(1),ut.writeUInt32(12),ut.writeUInt16(4),ut.writeUInt16(16+8*R+2*b.length),ut.writeUInt16(0),ut.writeUInt16(U),ut.writeUInt16(D),ut.writeUInt16(x),ut.writeUInt16(W),yt=0,P=A.length;yt<P;yt++)a=A[yt],ut.writeUInt16(a);for(ut.writeUInt16(0),Lt=0,G=I.length;Lt<G;Lt++)a=I[Lt],ut.writeUInt16(a);for(qt=0,J=f.length;qt<J;qt++)c=f[qt],ut.writeUInt16(c);for(Qt=0,ct=Et.length;Qt<ct;Qt++)Q=Et[Qt],ut.writeUInt16(Q);for(ne=0,dt=b.length;ne<dt;ne++)F=b[ne],ut.writeUInt16(F);return{charMap:r,subtable:ut.data,maxGlyphID:et+1}}},n})(),m4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new P_(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=P_.encode(t,e),(a=new Pu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),qT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),zT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),HT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(t.readUInt32());return f}).call(this)}},n})(),GT=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$T=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,a,o,u,c,f,d,y,A,x;for(t.pos=this.offset,t.readShort(),e=t.readShort(),c=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=y=0,A=r.length;y<A;o=++y)a=r[o],t.pos=a.offset,d=t.readString(a.length),u=new GT(d,a),f[x=a.nameID]==null&&(f[x]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),WT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),YT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,a,o,u,c,f;for(t.pos=this.offset,this.metrics=[],e=0,c=this.file.hhea.numberOfMetrics;0<=c?e<c:e>c;e=0<=c?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],e=d=0;0<=a?d<a:d>a;e=0<=a?++d:--d)y.push(t.readInt16());return y})(),this.widths=(function(){var d,y,A,x;for(x=[],d=0,y=(A=this.metrics).length;d<y;d++)o=A[d],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],e=u=0;0<=a?u<a:u>a;e=0<=a?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),g4=[].slice,KT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,a,o,u,c,f,d,y,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,u=(c=new Pu(e.read(a))).readShort(),d=c.readShort(),A=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[t]=u===-1?new XT(c,d,A,f,y):new QT(c,u,d,A,f,y),this.cache[t]))},n.prototype.encode=function(t,e,r){var a,o,u,c,f;for(u=[],o=[],c=0,f=e.length;c<f;c++)a=t[e[c]],o.push(u.length),a&&(u=u.concat(a.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),QT=(function(){function n(t,e,r,a,o,u){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),XT=(function(){function n(t,e,r,a,o){var u,c;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Pu(g4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),ZT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,_o),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<r.length;++u)if(r[u]=a,o<e.length&&e[o]==u){++o,r[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),y=0;y<r.length;++y)d[4*y+3]=255&r[y],d[4*y+2]=(65280&r[y])>>8,d[4*y+1]=(16711680&r[y])>>16,d[4*y]=(4278190080&r[y])>>24;return d},n})(),JT=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,o,u,c,f;for(a={},u=0,c=t.length;u<c;u++)a[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(r=a[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],a[o]=r;return a},n.prototype.encode=function(t,e){var r,a,o,u,c,f,d,y,A,x,b,O,F,q,B;for(a in r=m4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),b={0:0},B=r.charMap)b[(f=B[a]).old]=f.new;for(O in x=r.maxGlyphID,u)O in b||(b[O]=x++);return y=(function(tt){var et,Q;for(et in Q={},tt)Q[tt[et]]=et;return Q})(b),A=Object.keys(y).sort(function(tt,et){return tt-et}),F=(function(){var tt,et,Q;for(Q=[],tt=0,et=A.length;tt<et;tt++)c=A[tt],Q.push(y[c]);return Q})(),o=this.font.glyf.encode(u,F,b),d=this.font.loca.encode(o.offsets,F),q={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(q)},n})();Se.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,o,u;if(Array.isArray(e))return"["+(function(){var c,f,d;for(d=[],c=0,f=e.length;c<f;c++)r=e[c],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)u=e[a],o.push("/"+a+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();function y4(n,t,e,r,a){r=r||{};var o=1.15,u=a.internal.scaleFactor,c=a.internal.getFontSize()/u,f=a.getLineHeightFactor?a.getLineHeightFactor():o,d=c*f,y=/\r\n|\r|\n/g,A="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(y):n,x=A.length||1),e+=c*(2-o),r.valign==="middle"?e-=x/2*d:r.valign==="bottom"&&(e-=x*d),r.halign==="center"||r.halign==="right"){var b=c;if(r.halign==="center"&&(b*=.5),A&&x>=1){for(var O=0;O<A.length;O++)a.text(A[O],t-a.getStringUnitWidth(A[O])*b,e),e+=d;return a}t-=a.getStringUnitWidth(n)*b}return r.halign==="justify"?a.text(n,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,t,e),a}var D_={},Th=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:D_=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var r,a,o;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(t.font&&(f=t.font),t.fontStyle){c=t.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var y=n.unifyColor(t.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(t.textColor),y&&(a=this.jsPDFDocument).setTextColor.apply(a,y),y=n.unifyColor(t.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},n.prototype.rect=function(t,e,r,a,o){return this.jsPDFDocument.rect(t,e,r,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return D_||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),C0=function(n,t){return C0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},C0(n,t)};function v4(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");C0(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var _4=(function(n){v4(t,n);function t(e){var r=n.call(this)||this;return r._element=e,r}return t})(Array);function tN(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function eN(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function Am(n,t,e){e.applyStyles(t,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(o){return e.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return a}function b4(n,t,e,r){var a=t.settings.tableLineWidth,o=t.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var u=w4(a,!1);u&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),r.y-e.y,u)}function w4(n,t){var e=n>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function Km(n,t){var e,r,a,o;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(r=n.top)!==null&&r!==void 0?r:t,right:(a=n.right)!==null&&a!==void 0?a:t,bottom:(o=n.bottom)!==null&&o!==void 0?o:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function A4(n,t){var e=Km(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function nN(n,t,e,r,a){var o={},u=1.3333333333333333,c=Z1(t,function(et){return a.getComputedStyle(et).backgroundColor});c!=null&&(o.fillColor=c);var f=Z1(t,function(et){return a.getComputedStyle(et).color});f!=null&&(o.textColor=f);var d=iN(r,e);d&&(o.cellPadding=d);var y="borderTopColor",A=u*e,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var b=(parseFloat(x)||0)/A;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var O=Z1(t,function(et){return a.getComputedStyle(et)[y]});O!=null&&(o.lineColor=O);var F=["left","right","center","justify"];F.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),F=["middle","bottom","top"],F.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var q=parseInt(r.fontSize||"");isNaN(q)||(o.fontSize=q/u);var B=rN(r);B&&(o.fontStyle=B);var tt=(r.fontFamily||"").toLowerCase();return n.indexOf(tt)!==-1&&(o.font=tt),o}function rN(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function Z1(n,t){var e=S4(n,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function S4(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:S4(n.parentElement,t):e}function iN(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/t),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,o=e.map(function(c){return parseInt(c||"0")/r}),u=Km(o,0);return a>u.top&&(u.top=a),a>u.bottom&&(u.bottom=a),u}function E4(n,t,e,r,a){var o,u;r===void 0&&(r=!1),a===void 0&&(a=!1);var c;typeof t=="string"?c=e.document.querySelector(t):c=t;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],A=[],x=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:y,body:A,foot:x};for(var b=0;b<c.rows.length;b++){var O=c.rows[b],F=(u=(o=O?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),q=sN(f,d,e,O,r,a);q&&(F==="thead"?y.push(q):F==="tfoot"?x.push(q):A.push(q))}return{head:y,body:A,foot:x}}function sN(n,t,e,r,a,o){for(var u=new _4(r),c=0;c<r.cells.length;c++){var f=r.cells[c],d=e.getComputedStyle(f);if(a||d.display!=="none"){var y=void 0;o&&(y=nN(n,f,t,d,e)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:aN(f)})}}var A=e.getComputedStyle(r);if(u.length>0&&(a||A.display!=="none"))return u}function aN(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function oN(n,t,e){for(var r=0,a=[n,t,e];r<a.length;r++){var o=a[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Tl(n,t,e,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function lN(n,t){var e=new Th(n),r=e.getDocumentOptions(),a=e.getGlobalOptions();oN(a,r,t);var o=Tl({},a,r,t),u;typeof window<"u"&&(u=window);var c=uN(a,r,t),f=cN(a,r,t),d=hN(e,o),y=dN(e,o,u);return{id:t.tableId,content:y,hooks:f,styles:c,settings:d}}function uN(n,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(f){if(f==="columnStyles"){var d=n[f],y=t[f],A=e[f];r.columnStyles=Tl({},d,y,A)}else{var x=[n,t,e],b=x.map(function(O){return O[f]||{}});r[f]=Tl({},b[0],b[1],b[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];a(c)}return r}function cN(n,t,e){for(var r=[n,t,e],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function hN(n,t){var e,r,a,o,u,c,f,d,y,A,x,b,O=Km(t.margin,40/n.scaleFactor()),F=(e=fN(n,t.startY))!==null&&e!==void 0?e:O.top,q;t.showFoot===!0?q="everyPage":t.showFoot===!1?q="never":q=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var B;t.showHead===!0?B="everyPage":t.showHead===!1?B="never":B=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var tt=(o=t.useCss)!==null&&o!==void 0?o:!1,et=t.theme||(tt?"plain":"striped"),Q=!!t.horizontalPageBreak,st=(u=t.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:tt,theme:et,startY:F,margin:O,pageBreak:(f=t.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=t.tableWidth)!==null&&y!==void 0?y:"auto",showHead:B,showFoot:q,tableLineWidth:(A=t.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:Q,horizontalPageBreakRepeat:st,horizontalPageBreakBehaviour:(b=t.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function fN(n,t){var e=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),o=!1;if(e&&e.startPageNumber){var u=e.startPageNumber+e.pageNumber-1;o=u===a}return typeof t=="number"?t:(t==null||t===!1)&&o&&e?.finalY!=null?e.finalY+20/r:null}function dN(n,t,e){var r=t.head||[],a=t.body||[],o=t.foot||[];if(t.html){var u=t.includeHiddenHtml;if(e){var c=E4(n,t.html,e,u,t.useCss)||{};r=c.head||r,a=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var f=t.columns||pN(r,a,o);return{columns:f,head:r,body:a,foot:o}}function pN(n,t,e){var r=n[0]||t[0]||e[0]||[],a=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=a.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};a.push(y)}}),a}var I0=(function(){function n(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return n})(),mN=(function(n){v4(t,n);function t(e,r,a,o,u,c){var f=n.call(this,e,r,c)||this;return f.cell=a,f.row=o,f.column=u,f.section=o.section,f}return t})(I0),gN=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,r,a,o,u){for(var c=0,f=e;c<f.length;c++){var d=f[c],y=new mN(t,this,r,a,o,u),A=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var o=a[r];o(new I0(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var o=a[r];o(new I0(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},n})(),x4=(function(){function n(t,e,r,a,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof _4&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,a){var o;return Math.max(r,((o=e.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var a=e.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(a,o){var u=r.cells[o.index];if(!u)return 0;var c=e.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+c;return d>a?d:a},0)},n})(),T4=(function(){function n(t,e,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*e,o=r*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=Km(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),yN=(function(){function n(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,a=t.allRows();r<a.length;r++){var o=a[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(e=Math.max(e,u.styles.cellWidth))}return e},n})();function vN(n,t){_N(n,t);var e=[],r=0;t.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(t);u?o.width=u:(o.width=o.wrappedWidth,e.push(o)),r+=o.width});var a=t.getWidth(n.pageSize().width)-r;a&&(a=R0(e,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=R0(e,a,function(o){return o.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),wN(t),AN(t,n),bN(t)}function _N(n,t){var e=n.scaleFactor(),r=t.settings.horizontalPageBreak,a=A4(n,t);t.allRows().forEach(function(o){for(var u=0,c=t.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){var y=t.hooks.didParseCell;t.callCellHooks(n,y,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=Am(d.text,d.styles,n)+A;var x=Am(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var b=10/e;d.minWidth=d.styles.minCellWidth||b,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(o){for(var u=0,c=t.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=t.styles.columnStyles[f.dataKey]||t.styles.columnStyles[f.index]||{},A=y.cellWidth||y.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function R0(n,t,e){for(var r=t,a=n.reduce(function(b,O){return b+O.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/a,f=r*c,d=u.width+f,y=e(u),A=d<y?y:d;t-=A-u.width,u.width=A}if(t=Math.round(t*1e10)/1e10,t){var x=n.filter(function(b){return t<0?b.width>e(b):!0});x.length&&(t=R0(x,t,e))}return t}function bN(n){for(var t={},e=1,r=n.allRows(),a=0;a<r.length;a++)for(var o=r[a],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=t[f.index];if(e>1)e--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,e=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete t[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var A=r.length-a,x=y.rowSpan>A?A:y.rowSpan;t[f.index]={cell:y,left:x,row:o}}}}}function wN(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var r=t[e],a=null,o=0,u=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=f.width,delete r.cells[f.index];else if(a){var d=a;delete r.cells[f.index],a=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){a=d,o+=f.width;continue}d.width=f.width+o}}}function AN(n,t){for(var e={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var o=a[r],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){t.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,y+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=O_(d.text,y,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=O_(d.text,y,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,y);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&e.count*e.height<x*d.rowSpan?e={height:x,count:d.rowSpan}:e&&e.count>0&&e.height>x&&(x=e.height),x>o.height&&(o.height=x)}}e.count--}}function O_(n,t,e,r,a){return n.map(function(o){return SN(o,t,e,r,a)})}function SN(n,t,e,r,a){var o=1e4*r.scaleFactor();if(t=Math.ceil(t*o)/o,t>=Am(n,e,r))return n;for(;t<Am(n+a,e,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function EN(n,t){var e=new Th(n),r=xN(t,e.scaleFactor()),a=new gN(t,r);return vN(e,a),e.applyStyles(e.userStyles),a}function xN(n,t){var e=n.content,r=NN(e.columns);if(e.head.length===0){var a=M_(r,"head");a&&e.head.push(a)}if(e.foot.length===0){var a=M_(r,"foot");a&&e.foot.push(a)}var o=n.settings.theme,u=n.styles;return{columns:r,head:J1("head",e.head,r,u,o,t),body:J1("body",e.body,r,u,o,t),foot:J1("foot",e.foot,r,u,o,t)}}function J1(n,t,e,r,a,o){var u={},c=t.map(function(f,d){for(var y=0,A={},x=0,b=0,O=0,F=e;O<F.length;O++){var q=F[O];if(u[q.index]==null||u[q.index].left===0)if(b===0){var B=void 0;Array.isArray(f)?B=f[q.index-x-y]:B=f[q.dataKey];var tt={};typeof B=="object"&&!Array.isArray(B)&&(tt=B?.styles||{});var et=CN(n,q,d,a,r,o,tt),Q=new T4(B,et,n);A[q.dataKey]=Q,A[q.index]=Q,b=Q.colSpan-1,u[q.index]={left:Q.rowSpan-1,times:b}}else b--,x++;else u[q.index].left--,b=u[q.index].times,y++}return new x4(f,d,n,A)});return c}function M_(n,t){var e={};return n.forEach(function(r){if(r.raw!=null){var a=TN(t,r.raw);a!=null&&(e[r.dataKey]=a)}}),Object.keys(e).length>0?e:null}function TN(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function NN(n){return n.map(function(t,e){var r,a;return typeof t=="object"?a=(r=t.dataKey)!==null&&r!==void 0?r:e:a=e,new yN(a,t,e)})}function CN(n,t,e,r,a,o,u){var c=eN(r),f;n==="head"?f=a.headStyles:n==="body"?f=a.bodyStyles:n==="foot"&&(f=a.footStyles);var d=Tl({},c.table,c[n],a.styles,f),y=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},A=n==="body"?y:{},x=n==="body"&&e%2===0?Tl({},c.alternateRow,a.alternateRowStyles):{},b=tN(o),O=Tl({},b,d,x,A);return Tl(O,u)}function IN(n,t,e){var r;e===void 0&&(e={});var a=A4(n,t),o=new Map,u=[],c=[],f=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?f=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(f=[t.settings.horizontalPageBreakRepeat]),f.forEach(function(x){var b=t.columns.find(function(O){return O.dataKey===x||O.index===x});b&&!o.has(b.index)&&(o.set(b.index,!0),u.push(b.index),c.push(t.columns[b.index]),a-=b.wrappedWidth)});for(var d=!0,y=(r=e?.start)!==null&&r!==void 0?r:0;y<t.columns.length;){if(o.has(y)){y++;continue}var A=t.columns[y].wrappedWidth;if(d||a>=A)d=!1,u.push(y),c.push(t.columns[y]),a-=A;else break;y++}return{colIndexes:u,columns:c,lastIndex:y-1}}function RN(n,t){for(var e=[],r=0;r<t.columns.length;r++){var a=IN(n,t,{start:r});a.columns.length&&(e.push(a),r=a.lastIndex)}return e}function LN(n,t){var e=t.settings,r=e.startY,a=e.margin,o={x:a.left,y:r},u=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=r+a.bottom+u;if(e.pageBreak==="avoid"){var f=t.body,d=f.reduce(function(x,b){return x+b.height},0);c+=d}var y=new Th(n);(e.pageBreak==="always"||e.startY!=null&&c>y.pageSize().height)&&(C4(y),o.y=a.top),t.callWillDrawPageHooks(y,o);var A=Tl({},o);t.startPageNumber=y.pageNumber(),e.horizontalPageBreak?kN(y,t,A,o):(y.applyStyles(y.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(x){return kl(y,t,x,o,t.columns)}),y.applyStyles(y.userStyles),t.body.forEach(function(x,b){var O=b===t.body.length-1;Sm(y,t,x,O,A,o,t.columns)}),y.applyStyles(y.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(x){return kl(y,t,x,o,t.columns)})),b4(y,t,A,o),t.callEndPageHooks(y,o),t.finalY=o.y,n.lastAutoTable=t,y.applyStyles(y.userStyles)}function kN(n,t,e,r){var a=RN(n,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?Qf(n,t,e,r,d.columns,!0):j_(n,t,r,d.columns),PN(n,t,e,r,d.columns),t0(n,t,r,d.columns)});else for(var u=-1,c=a[0],f=function(){var d=u;if(c){n.applyStyles(n.userStyles);var y=c.columns;u>=0?Qf(n,t,e,r,y,!0):j_(n,t,r,y),d=V_(n,t,u+1,r,y),t0(n,t,r,y)}var A=d-u;a.slice(1).forEach(function(x){n.applyStyles(n.userStyles),Qf(n,t,e,r,x.columns,!0),V_(n,t,u+1,r,x.columns,A),t0(n,t,r,x.columns)}),u=d};u<t.body.length-1;)f()}function j_(n,t,e,r){var a=t.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(o){return kl(n,t,o,e,r)})}function PN(n,t,e,r,a){n.applyStyles(n.userStyles),t.body.forEach(function(o,u){var c=u===t.body.length-1;Sm(n,t,o,c,e,r,a)})}function V_(n,t,e,r,a,o){n.applyStyles(n.userStyles),o=o??t.body.length;var u=Math.min(e+o,t.body.length),c=-1;return t.body.slice(e,u).forEach(function(f,d){var y=e+d===t.body.length-1,A=N4(n,t,y,r);f.canEntireRowFit(A,a)&&(kl(n,t,f,r,a),c=e+d)}),c}function t0(n,t,e,r){var a=t.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(o){return kl(n,t,o,e,r)})}function DN(n,t,e){var r=e.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((t-a)/r);return Math.max(0,o)}function ON(n,t,e,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=e.columns;u<c.length;u++){var f=c[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new T4(d.raw,d.styles,d.section);y=Tl(y,d),y.text=[];var A=DN(d,t,r);d.text.length>A&&(y.text=d.text.splice(A,d.text.length));var x=r.scaleFactor(),b=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,b),d.contentHeight>=t&&(d.contentHeight=t,y.styles.minCellHeight-=t),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(x,b),y.contentHeight>o&&(o=y.contentHeight),a[f.index]=y}}var O=new x4(n.raw,-1,n.section,a,!0);O.height=o;for(var F=0,q=e.columns;F<q.length;F++){var f=q[F],y=O.cells[f.index];y&&(y.height=O.height);var d=n.cells[f.index];d&&(d.height=n.height)}return O}function MN(n,t,e,r){var a=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=a-u;t.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=t.getMinimumRowHeight(r.columns,n),d=f<e;if(f>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=t.hasRowSpan(r.columns),A=t.getMaxCellHeight(r.columns)>c;return A?(y&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function Sm(n,t,e,r,a,o,u){var c=N4(n,t,r,o);if(e.canEntireRowFit(c,u))kl(n,t,e,o,u);else if(MN(n,e,c,t)){var f=ON(e,c,t,n);kl(n,t,e,o,u),Qf(n,t,a,o,u),Sm(n,t,f,r,a,o,u)}else Qf(n,t,a,o,u),Sm(n,t,e,r,a,o,u)}function kl(n,t,e,r,a){r.x=t.settings.margin.left;for(var o=0,u=a;o<u.length;o++){var c=u[o],f=e.cells[c.index];if(!f){r.x+=c.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=t.callCellHooks(n,t.hooks.willDrawCell,f,e,c,r);if(d===!1){r.x+=c.width;continue}jN(n,f,r);var y=f.getTextPos();y4(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,f,e,c,r),r.x+=c.width}r.y+=e.height}function jN(n,t,e){var r=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=w4(r.lineWidth,r.fillColor);a&&n.rect(t.x,e.y,t.width,t.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),VN(n,t,e,r.lineWidth))}function VN(n,t,e,r){var a,o,u,c;r.top&&(a=e.x,o=e.y,u=e.x+t.width,c=e.y,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.top,a,o,u,c)),r.bottom&&(a=e.x,o=e.y+t.height,u=e.x+t.width,c=e.y+t.height,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.bottom,a,o,u,c)),r.left&&(a=e.x,o=e.y,u=e.x,c=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.left,a,o,u,c)),r.right&&(a=e.x+t.width,o=e.y,u=e.x+t.width,c=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.right,a,o,u,c));function f(d,y,A,x,b){n.getDocument().setLineWidth(d),n.getDocument().line(y,A,x,b,"S")}}function N4(n,t,e,r){var a=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&e)&&(a+=t.getFootHeight(t.columns)),n.pageSize().height-r.y-a}function Qf(n,t,e,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(c){return kl(n,t,c,r,a)}),t.callEndPageHooks(n,r);var u=t.settings.margin;b4(n,t,e,r),C4(n),t.pageNumber++,r.x=u.left,r.y=u.top,e.y=u.top,t.callWillDrawPageHooks(n,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return kl(n,t,c,r,a)}),n.applyStyles(n.userStyles))}function C4(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function UN(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],a=lN(this,r),o=EN(this,a);return LN(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,r,a){y4(t,e,r,a,this)},n.API.autoTableSetDefaults=function(t){return Th.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){Th.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Th(this),o=E4(a,t,window,e,!1),u=o.head,c=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var e0;try{if(typeof window<"u"&&window){var U_=window,F_=U_.jsPDF||((e0=U_.jspdf)===null||e0===void 0?void 0:e0.jsPDF);F_&&UN(F_)}}catch(n){console.error("Could not apply autoTable plugin",n)}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),B_=n=>{const t=BN(n);return t.charAt(0).toUpperCase()+t.slice(1)},I4=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),qN=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Jt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...c},f)=>Jt.createElement("svg",{ref:f,...zN,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:I4("lucide",a),...!o&&!qN(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,y])=>Jt.createElement(d,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=(n,t)=>{const e=Jt.forwardRef(({className:r,...a},o)=>Jt.createElement(HN,{ref:o,iconNode:t,className:I4(`lucide-${FN(B_(n))}`,`lucide-${n}`,r),...a}));return e.displayName=B_(n),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$N=R4("chevron-left",GN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YN=R4("chevron-right",WN),KN=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},QN=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],u=n[e++],c=n[e++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},k4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,y=o>>2,A=(o&3)<<4|c>>4;let x=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(x=64)),r.push(e[y],e[A],e[x],e[b])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(L4(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):QN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],c=a<n.length?e[n.charAt(a)]:0;++a;const d=a<n.length?e[n.charAt(a)]:64;++a;const A=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||c==null||d==null||A==null)throw new XN;const x=o<<2|c>>4;if(r.push(x),d!==64){const b=c<<4&240|d>>2;if(r.push(b),A!==64){const O=d<<6&192|A;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZN=function(n){const t=L4(n);return k4.encodeByteArray(t,!0)},Em=function(n){return ZN(n).replace(/\./g,"")},P4=function(n){try{return k4.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=()=>JN().__FIREBASE_DEFAULTS__,e8=()=>{if(typeof process>"u"||typeof q_>"u")return;const n=q_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&P4(n[1]);return t&&JSON.parse(t)},Qm=()=>{try{return KN()||t8()||e8()||n8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D4=n=>Qm()?.emulatorHosts?.[n],r8=n=>{const t=D4(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},O4=()=>Qm()?.config,M4=n=>Qm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Em(JSON.stringify(e)),Em(JSON.stringify(u)),""].join(".")}const Xf={};function a8(){const n={prod:[],emulator:[]};for(const t of Object.keys(Xf))Xf[t]?n.emulator.push(t):n.prod.push(t);return n}function o8(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let z_=!1;function V4(n,t){if(typeof window>"u"||typeof document>"u"||!Uh(window.location.host)||Xf[n]===t||Xf[n]||z_)return;Xf[n]=t;function e(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=a8().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{z_=!0,u()},x}function y(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=o8(r),b=e("text"),O=document.getElementById(b)||document.createElement("span"),F=e("learnmore"),q=document.getElementById(F)||document.createElement("a"),B=e("preprendIcon"),tt=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const et=x.element;c(et),y(q,F);const Q=d();f(tt,B),et.append(tt,O,q,Q),document.body.appendChild(et)}o?(O.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vs())}function u8(){const n=Qm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d8(){const n=vs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p8(){return!u8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m8(){try{return typeof indexedDB=="object"}catch{return!1}}function g8(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="FirebaseError";class jl extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=y8,Object.setPrototypeOf(this,jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wd.prototype.create)}}class wd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?v8(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new jl(a,c,r)}}function v8(n,t){return n.replace(_8,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const _8=/\{\$([^}]+)}/g;function b8(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xc(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const o=n[a],u=t[a];if(H_(o)&&H_(u)){if(!xc(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function H_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function zf(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function w8(n,t){const e=new A8(n,t);return e.subscribe.bind(e)}class A8{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");S8(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=n0),a.error===void 0&&(a.error=n0),a.complete===void 0&&(a.complete=n0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S8(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function n0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n){return n&&n._delegate?n._delegate:n}class Tc{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new i8;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(T8(t))try{this.getOrInitializeService({instanceIdentifier:gc})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(t=gc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gc){return this.instances.has(t)}getOptions(t=gc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x8(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=gc){return this.component?this.component.multipleInstances?t:gc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x8(n){return n===gc?void 0:n}function T8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new E8(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const C8={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},I8=Sn.INFO,R8={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},L8=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=R8[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c2{constructor(t){this.name=t,this._logLevel=I8,this._logHandler=L8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Sn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...t),this._logHandler(this,Sn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...t),this._logHandler(this,Sn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...t),this._logHandler(this,Sn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...t),this._logHandler(this,Sn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...t),this._logHandler(this,Sn.ERROR,...t)}}const k8=(n,t)=>t.some(e=>n instanceof e);let G_,$_;function P8(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D8(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U4=new WeakMap,L0=new WeakMap,F4=new WeakMap,r0=new WeakMap,h2=new WeakMap;function O8(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Cu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&U4.set(e,n)}).catch(()=>{}),h2.set(t,n),t}function M8(n){if(L0.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});L0.set(n,t)}let k0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return L0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||F4.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function j8(n){k0=n(k0)}function V8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(i0(this),t,...e);return F4.set(r,t.sort?t.sort():[t]),Cu(r)}:D8().includes(n)?function(...t){return n.apply(i0(this),t),Cu(U4.get(this))}:function(...t){return Cu(n.apply(i0(this),t))}}function U8(n){return typeof n=="function"?V8(n):(n instanceof IDBTransaction&&M8(n),k8(n,P8())?new Proxy(n,k0):n)}function Cu(n){if(n instanceof IDBRequest)return O8(n);if(r0.has(n))return r0.get(n);const t=U8(n);return t!==n&&(r0.set(n,t),h2.set(t,n)),t}const i0=n=>h2.get(n);function F8(n,t,{blocked:e,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,t),c=Cu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Cu(u.result),f.oldVersion,f.newVersion,Cu(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const B8=["get","getKey","getAll","getAllKeys","count"],q8=["put","add","delete","clear"],s0=new Map;function W_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(s0.get(t))return s0.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=q8.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||B8.includes(e)))return;const o=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),a&&f.done]))[0]};return s0.set(t,o),o}j8(n=>({...n,get:(t,e,r)=>W_(t,e)||n.get(t,e,r),has:(t,e)=>!!W_(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(H8(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function H8(n){return n.getComponent()?.type==="VERSION"}const P0="@firebase/app",Y_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new c2("@firebase/app"),G8="@firebase/app-compat",$8="@firebase/analytics-compat",W8="@firebase/analytics",Y8="@firebase/app-check-compat",K8="@firebase/app-check",Q8="@firebase/auth",X8="@firebase/auth-compat",Z8="@firebase/database",J8="@firebase/data-connect",tC="@firebase/database-compat",eC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",iC="@firebase/installations-compat",sC="@firebase/messaging",aC="@firebase/messaging-compat",oC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",fC="@firebase/storage-compat",dC="@firebase/firestore",pC="@firebase/ai",mC="@firebase/firestore-compat",gC="firebase",yC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="[DEFAULT]",vC={[P0]:"fire-core",[G8]:"fire-core-compat",[W8]:"fire-analytics",[$8]:"fire-analytics-compat",[K8]:"fire-app-check",[Y8]:"fire-app-check-compat",[Q8]:"fire-auth",[X8]:"fire-auth-compat",[Z8]:"fire-rtdb",[J8]:"fire-data-connect",[tC]:"fire-rtdb-compat",[eC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[iC]:"fire-iid-compat",[sC]:"fire-fcm",[aC]:"fire-fcm-compat",[oC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[fC]:"fire-gcs-compat",[dC]:"fire-fst",[mC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Map,_C=new Map,O0=new Map;function K_(n,t){try{n.container.addComponent(t)}catch(e){Pl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Lh(n){const t=n.name;if(O0.has(t))return Pl.debug(`There were multiple attempts to register component ${t}.`),!1;O0.set(t,n);for(const e of xm.values())K_(e,n);for(const e of _C.values())K_(e,n);return!0}function f2(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ba(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Iu=new wd("app","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Iu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=yC;function B4(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:D0,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Iu.create("bad-app-name",{appName:String(a)});if(e||(e=O4()),!e)throw Iu.create("no-options");const o=xm.get(a);if(o){if(xc(e,o.options)&&xc(r,o.config))return o;throw Iu.create("duplicate-app",{appName:a})}const u=new N8(a);for(const f of O0.values())u.addComponent(f);const c=new wC(e,r,u);return xm.set(a,c),c}function q4(n=D0){const t=xm.get(n);if(!t&&n===D0&&O4())return B4();if(!t)throw Iu.create("no-app",{appName:n});return t}function Ru(n,t,e){let r=vC[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pl.warn(u.join(" "));return}Lh(new Tc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",SC=1,sd="firebase-heartbeat-store";let a0=null;function z4(){return a0||(a0=F8(AC,SC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(sd)}catch(e){console.warn(e)}}}}).catch(n=>{throw Iu.create("idb-open",{originalErrorMessage:n.message})})),a0}async function EC(n){try{const e=(await z4()).transaction(sd),r=await e.objectStore(sd).get(H4(n));return await e.done,r}catch(t){if(t instanceof jl)Pl.warn(t.message);else{const e=Iu.create("idb-get",{originalErrorMessage:t?.message});Pl.warn(e.message)}}}async function Q_(n,t){try{const r=(await z4()).transaction(sd,"readwrite");await r.objectStore(sd).put(t,H4(n)),await r.done}catch(e){if(e instanceof jl)Pl.warn(e.message);else{const r=Iu.create("idb-set",{originalErrorMessage:e?.message});Pl.warn(r.message)}}}function H4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1024,TC=30;class NC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new IC(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>TC){const a=RC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Pl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:e,unsentEntries:r}=CC(this._heartbeatsCache.heartbeats),a=Em(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Pl.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function CC(n,t=xC){const e=[];let r=n.slice();for(const a of n){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Z_(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Z_(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class IC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m8()?g8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await EC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Z_(n){return Em(JSON.stringify({version:2,heartbeats:n})).length}function RC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){Lh(new Tc("platform-logger",t=>new z8(t),"PRIVATE")),Lh(new Tc("heartbeat",t=>new NC(t),"PRIVATE")),Ru(P0,Y_,n),Ru(P0,Y_,"esm2020"),Ru("fire-js","")}LC("");var kC="firebase",PC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ru(kC,PC,"app");function G4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DC=G4,$4=new wd("auth","Firebase",G4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new c2("@firebase/auth");function OC(n,...t){Tm.logLevel<=Sn.WARN&&Tm.warn(`Auth (${Fh}): ${n}`,...t)}function om(n,...t){Tm.logLevel<=Sn.ERROR&&Tm.error(`Auth (${Fh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,...t){throw d2(n,...t)}function Ho(n,...t){return d2(n,...t)}function W4(n,t,e){const r={...DC(),[t]:e};return new wd("auth","Firebase",r).create(t,{appName:n.name})}function Il(n){return W4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d2(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return $4.create(n,...t)}function Ue(n,t,...e){if(!n)throw d2(t,...e)}function Nl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw om(t),new Error(t)}function Dl(n,t){n||Nl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return typeof self<"u"&&self.location?.href||""}function MC(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MC()||h8()||"connection"in navigator)?navigator.onLine:!0}function VC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,e){this.shortDelay=t,this.longDelay=e,Dl(e>t,"Short delay should be less than long delay!"),this.isMobile=l8()||f8()}get(){return jC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n,t){Dl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new Sd(3e4,6e4);function zu(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Hu(n,t,e,r,a={}){return K4(n,a,async()=>{let o={},u={};r&&(t==="GET"?u=r:o={body:JSON.stringify(r)});const c=Ad({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return c8()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Uh(n.emulatorConfig.host)&&(d.credentials="include"),Y4.fetch()(await Q4(n,n.config.apiHost,e,c),d)})}async function K4(n,t,e){n._canInitEmulator=!1;const r={...UC,...t};try{const a=new zC(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Yp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Yp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Yp(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw W4(n,y,d);go(n,y)}}catch(a){if(a instanceof jl)throw a;go(n,"network-request-failed",{message:String(a)})}}async function Ed(n,t,e,r,a={}){const o=await Hu(n,t,e,r,a);return"mfaPendingCredential"in o&&go(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Q4(n,t,e,r){const a=`${t}${e}?${r}`,o=n,u=o.config.emulator?p2(n.config,a):`${n.config.apiScheme}://${a}`;return FC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function qC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ho(this.auth,"network-request-failed")),BC.get())})}}function Yp(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Ho(n,t,r);return a.customData._tokenResponse=e,a}function tb(n){return n!==void 0&&n.enterprise!==void 0}class HC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return qC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GC(n,t){return Hu(n,"GET","/v2/recaptchaConfig",zu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,t){return Hu(n,"POST","/v1/accounts:delete",t)}async function Nm(n,t){return Hu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WC(n,t=!1){const e=ii(n),r=await e.getIdToken(t),a=m2(r);Ue(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Zf(o0(a.auth_time)),issuedAtTime:Zf(o0(a.iat)),expirationTime:Zf(o0(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function o0(n){return Number(n)*1e3}function m2(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{const a=P4(e);return a?JSON.parse(a):(om("Failed to decode base64 JWT payload"),null)}catch(a){return om("Caught error parsing JWT payload as JSON",a?.toString()),null}}function eb(n){const t=m2(n);return Ue(t,"internal-error"),Ue(typeof t.exp<"u","internal-error"),Ue(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof jl&&YC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function YC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zf(this.lastLoginAt),this.creationTime=Zf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(n){const t=n.auth,e=await n.getIdToken(),r=await ad(n,Nm(t,{idToken:e}));Ue(r?.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?X4(a.providerUserInfo):[],u=XC(n.providerData,o),c=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,d=c?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new j0(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function QC(n){const t=ii(n);await Cm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XC(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function X4(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,t){const e=await K4(n,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await Q4(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&Uh(n.emulatorConfig.host)&&(f.credentials="include"),Y4.fetch()(u,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function JC(n,t){return Hu(n,"POST","/v2/accounts:revokeToken",zu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ue(t.idToken,"internal-error"),Ue(typeof t.idToken<"u","internal-error"),Ue(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ue(t.length!==0,"internal-error");const e=eb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:o}=await ZC(t,e);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:o}=e,u=new Nh;return r&&(Ue(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),a&&(Ue(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),o&&(Ue(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nh,this.toJSON())}_performRefresh(){return Nl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n,t){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class po{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new KC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new j0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await ad(this,this.stsTokenManager.getToken(this.auth,t));return Ue(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return WC(this,t)}reload(){return QC(this)}_assign(t){this!==t&&(Ue(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new po({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ba(this.auth.app))return Promise.reject(Il(this.auth));const t=await this.getIdToken();return await ad(this,$C(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,c=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:b,providerData:O,stsTokenManager:F}=e;Ue(A&&F,t,"internal-error");const q=Nh.fromJSON(this.name,F);Ue(typeof A=="string",t,"internal-error"),_u(r,t.name),_u(a,t.name),Ue(typeof x=="boolean",t,"internal-error"),Ue(typeof b=="boolean",t,"internal-error"),_u(o,t.name),_u(u,t.name),_u(c,t.name),_u(f,t.name),_u(d,t.name),_u(y,t.name);const B=new po({uid:A,auth:t,email:a,emailVerified:x,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:q,createdAt:d,lastLoginAt:y});return O&&Array.isArray(O)&&(B.providerData=O.map(tt=>({...tt}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(t,e,r=!1){const a=new Nh;a.updateFromServerResponse(e);const o=new po({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Cm(o),o}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Ue(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?X4(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,c=new Nh;c.updateFromIdToken(r);const f=new po({uid:a.localId,auth:t,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new j0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map;function Cl(n){Dl(n instanceof Function,"Expected a class definition");let t=nb.get(n);return t?(Dl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,nb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Z4.type="NONE";const rb=Z4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n,t,e){return`firebase:${n}:${t}:${e}`}class Ch{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=lm(this.userKey,a.apiKey,o),this.fullPersistenceKey=lm("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Nm(this.auth,{idToken:t}).catch(()=>{});return e?po._fromGetAccountInfoResponse(this.auth,e,t):null}return po._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ch(Cl(rb),t,r);const a=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Cl(rb);const u=lm(r,t.config.apiKey,t.name);let c=null;for(const d of e)try{const y=await d._get(u);if(y){let A;if(typeof y=="string"){const x=await Nm(t,{idToken:y}).catch(()=>{});if(!x)break;A=await po._fromGetAccountInfoResponse(t,x,y)}else A=po._fromJSON(t,y);d!==o&&(c=A),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ch(o,t,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Ch(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(n3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J4(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i3(t))return"Blackberry";if(s3(t))return"Webos";if(t3(t))return"Safari";if((t.includes("chrome/")||e3(t))&&!t.includes("edge/"))return"Chrome";if(r3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function J4(n=vs()){return/firefox\//i.test(n)}function t3(n=vs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e3(n=vs()){return/crios\//i.test(n)}function n3(n=vs()){return/iemobile/i.test(n)}function r3(n=vs()){return/android/i.test(n)}function i3(n=vs()){return/blackberry/i.test(n)}function s3(n=vs()){return/webos/i.test(n)}function g2(n=vs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tI(n=vs()){return g2(n)&&!!window.navigator?.standalone}function eI(){return d8()&&document.documentMode===10}function a3(n=vs()){return g2(n)||r3(n)||s3(n)||i3(n)||/windows phone/i.test(n)||n3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n,t=[]){let e;switch(n){case"Browser":e=ib(vs());break;case"Worker":e=`${ib(vs())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((u,c)=>{try{const f=t(o);u(f)}catch(f){c(f)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n,t={}){return Hu(n,"GET","/v2/passwordPolicy",zu(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=6;class sI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??iI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sb(this),this.idTokenSubscription=new sb(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ch.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Nm(this,{idToken:t}),r=await po._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ba(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===u)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ba(this.app))return Promise.reject(Il(this));const e=t?ii(t):null;return e&&Ue(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ue(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ba(this.app)?Promise.reject(Il(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ba(this.app)?Promise.reject(Il(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rI(this),e=new sI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new wd("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await JC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cl(t)||this._popupRedirectResolver;Ue(e,this,"argument-error"),this.redirectPersistenceManager=await Ch.create(this,[Cl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,r,a);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ba(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&OC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function kc(n){return ii(n)}class sb{constructor(t){this.auth=t,this.observer=null,this.addObserver=w8(e=>this.observer=e)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(n){Xm=n}function l3(n){return Xm.loadJS(n)}function lI(){return Xm.recaptchaEnterpriseScript}function uI(){return Xm.gapiScript}function cI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class fI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const dI="recaptcha-enterprise",u3="NO_RECAPTCHA";class pI{constructor(t){this.type=dI,this.auth=kc(t)}async verify(t="verify",e=!1){async function r(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{GC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new HC(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function a(o,u,c){const f=window.grecaptcha;tb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{u(d)}).catch(()=>{u(u3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!e&&tb(window.grecaptcha))a(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=lI();f.length!==0&&(f+=c),l3(f).then(()=>{a(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function ab(n,t,e,r=!1,a=!1){const o=new pI(n);let u;if(a)u=u3;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const c={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function V0(n,t,e,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ab(n,t,e,e==="getOobCode");return r(n,o)}else return r(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ab(n,t,e,e==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n,t){const e=f2(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(xc(o,t??{}))return a;go(a,"already-initialized")}return e.initialize({options:t})}function gI(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Cl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function yI(n,t,e){const r=kc(n);Ue(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,o=c3(t),{host:u,port:c}=vI(t),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(xc(d,r.config.emulator)&&xc(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Uh(u)?(j4(`${o}//${u}${f}`),V4("Auth",!0)):_I()}function c3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function vI(n){const t=c3(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:ob(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:ob(u)}}}function ob(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function _I(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Nl("not implemented")}_getIdTokenResponse(t){return Nl("not implemented")}_linkToIdToken(t,e){return Nl("not implemented")}_getReauthenticationResolver(t){return Nl("not implemented")}}async function bI(n,t){return Hu(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n,t){return Ed(n,"POST","/v1/accounts:signInWithPassword",zu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(n,t){return Ed(n,"POST","/v1/accounts:signInWithEmailLink",zu(n,t))}async function SI(n,t){return Ed(n,"POST","/v1/accounts:signInWithEmailLink",zu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends y2{constructor(t,e,r,a=null){super("password",r),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new od(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new od(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(t,e,"signInWithPassword",wI);case"emailLink":return AI(t,{email:this._email,oobCode:this._password});default:go(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(t,r,"signUpPassword",bI);case"emailLink":return SI(t,{idToken:e,email:this._email,oobCode:this._password});default:go(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n,t){return Ed(n,"POST","/v1/accounts:signInWithIdp",zu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="http://localhost";class Nc extends y2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Nc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):go("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...o}=e;if(!r||!a)return null;const u=new Nc(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Ih(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Ih(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ih(t,e)}buildRequest(){const t={requestUri:EI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ad(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TI(n){const t=qf(zf(n)).link,e=t?qf(zf(t)).deep_link_id:null,r=qf(zf(n)).deep_link_id;return(r?qf(zf(r)).link:null)||r||e||t||n}class v2{constructor(t){const e=qf(zf(t)),r=e.apiKey??null,a=e.oobCode??null,o=xI(e.mode??null);Ue(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=TI(t);try{return new v2(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.providerId=Bh.PROVIDER_ID}static credential(t,e){return od._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=v2.parseLink(e);return Ue(r,"argument-error"),od._fromEmailAndCode(t,r.code,r.tenantId)}}Bh.PROVIDER_ID="password";Bh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends h3{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends xd{constructor(){super("facebook.com")}static credential(t){return Nc._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wu.credentialFromTaggedObject(t)}static credentialFromError(t){return wu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wu.credential(t.oauthAccessToken)}catch{return null}}}wu.FACEBOOK_SIGN_IN_METHOD="facebook.com";wu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends xd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Nc._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Au.credentialFromTaggedObject(t)}static credentialFromError(t){return Au.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Au.credential(e,r)}catch{return null}}}Au.GOOGLE_SIGN_IN_METHOD="google.com";Au.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends xd{constructor(){super("github.com")}static credential(t){return Nc._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Su.credentialFromTaggedObject(t)}static credentialFromError(t){return Su.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Su.credential(t.oauthAccessToken)}catch{return null}}}Su.GITHUB_SIGN_IN_METHOD="github.com";Su.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends xd{constructor(){super("twitter.com")}static credential(t,e){return Nc._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Eu.credentialFromTaggedObject(t)}static credentialFromError(t){return Eu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Eu.credential(e,r)}catch{return null}}}Eu.TWITTER_SIGN_IN_METHOD="twitter.com";Eu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(n,t){return Ed(n,"POST","/v1/accounts:signUp",zu(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const o=await po._fromIdTokenResponse(t,r,a),u=lb(r);return new Cc({user:o,providerId:u,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=lb(r);return new Cc({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function lb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends jl{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Im.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Im(t,e,r,a)}}function f3(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Im._fromErrorAndOperation(n,o,t,r):o})}async function CI(n,t,e=!1){const r=await ad(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Cc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(n,t,e=!1){const{auth:r}=n;if(Ba(r.app))return Promise.reject(Il(r));const a="reauthenticate";try{const o=await ad(n,f3(r,a,t,n),e);Ue(o.idToken,r,"internal-error");const u=m2(o.idToken);Ue(u,r,"internal-error");const{sub:c}=u;return Ue(n.uid===c,r,"user-mismatch"),Cc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&go(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(n,t,e=!1){if(Ba(n.app))return Promise.reject(Il(n));const r="signIn",a=await f3(n,r,t),o=await Cc._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(o.user),o}async function RI(n,t){return d3(kc(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(n){const t=kc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function LI(n,t,e){if(Ba(n.app))return Promise.reject(Il(n));const r=kc(n),u=await V0(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NI).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&p3(n),f}),c=await Cc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function kI(n,t,e){return Ba(n.app)?Promise.reject(Il(n)):RI(ii(n),Bh.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p3(n),r})}function PI(n,t,e,r){return ii(n).onIdTokenChanged(t,e,r)}function DI(n,t,e){return ii(n).beforeAuthStateChanged(t,e)}function OI(n,t,e,r){return ii(n).onAuthStateChanged(t,e,r)}function m3(n){return ii(n).signOut()}const Rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Rm,"1"),this.storage.removeItem(Rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e3,jI=10;class y3 extends g3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!e&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);eI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,jI):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}y3.type="LOCAL";const VI=y3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3 extends g3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}v3.type="SESSION";const _3=v3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new Zm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:o}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(e.origin,o)),f=await UI(c);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=_2("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(A){const x=A;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return window}function BI(n){Go().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){return typeof Go().WorkerGlobalScope<"u"&&typeof Go().importScripts=="function"}async function qI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zI(){return navigator?.serviceWorker?.controller||null}function HI(){return b3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="firebaseLocalStorageDb",GI=1,Lm="firebaseLocalStorage",A3="fbase_key";class Td{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Jm(n,t){return n.transaction([Lm],t?"readwrite":"readonly").objectStore(Lm)}function $I(){const n=indexedDB.deleteDatabase(w3);return new Td(n).toPromise()}function U0(){const n=indexedDB.open(w3,GI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Lm,{keyPath:A3})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Lm)?t(r):(r.close(),await $I(),t(await U0()))})})}async function ub(n,t,e){const r=Jm(n,!0).put({[A3]:t,value:e});return new Td(r).toPromise()}async function WI(n,t){const e=Jm(n,!1).get(t),r=await new Td(e).toPromise();return r===void 0?null:r.value}function cb(n,t){const e=Jm(n,!0).delete(t);return new Td(e).toPromise()}const YI=800,KI=3;class S3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>KI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(HI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await U0();return await ub(t,Rm,"1"),await cb(t,Rm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ub(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>WI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>cb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Jm(a,!1).getAll();return new Td(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S3.type="LOCAL";const QI=S3;new Sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(n,t){return t?Cl(t):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends y2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ih(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ih(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ih(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ZI(n){return d3(n.auth,new b2(n),n.bypassAuthState)}function JI(n){const{auth:t,user:e}=n;return Ue(e,t,"internal-error"),II(e,new b2(n),n.bypassAuthState)}async function tR(n){const{auth:t,user:e}=n;return Ue(e,t,"internal-error"),CI(e,new b2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t,e,r,a,o=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:o,error:u,type:c}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZI;case"linkViaPopup":case"linkViaRedirect":return tR;case"reauthViaPopup":case"reauthViaRedirect":return JI;default:go(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Sd(2e3,1e4);class wh extends E3{constructor(t,e,r,a,o){super(t,e,a,o),this.provider=r,this.authWindow=null,this.pollId=null,wh.currentPopupAction&&wh.currentPopupAction.cancel(),wh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ue(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=_2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ho(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wh.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ho(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eR.get())};t()}}wh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="pendingRedirect",um=new Map;class rR extends E3{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=um.get(this.auth._key());if(!t){try{const r=await iR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}um.set(this.auth._key(),t)}return this.bypassAuthState||um.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iR(n,t){const e=oR(t),r=aR(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function sR(n,t){um.set(n._key(),t)}function aR(n){return Cl(n._redirectPersistence)}function oR(n){return lm(nR,n.config.apiKey,n.name)}async function lR(n,t,e=!1){if(Ba(n.app))return Promise.reject(Il(n));const r=kc(n),a=XI(r,t),u=await new rR(r,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=600*1e3;class cR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hR(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!x3(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ho(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(hb(t))}saveEventToCache(t){this.cachedEventUids.add(hb(t)),this.lastProcessedEventTime=Date.now()}}function hb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function x3({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function hR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(n,t={}){return Hu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pR=/^https?/;async function mR(n){if(n.config.emulator)return;const{authorizedDomains:t}=await fR(n);for(const e of t)try{if(gR(e))return}catch{}go(n,"unauthorized-domain")}function gR(n){const t=M0(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===r}if(!pR.test(e))return!1;if(dR.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Sd(3e4,6e4);function fb(){const n=Go().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function vR(n){return new Promise((t,e)=>{function r(){fb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fb(),e(Ho(n,"network-request-failed"))},timeout:yR.get()})}if(Go().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Go().gapi?.load)r();else{const a=cI("iframefcb");return Go()[a]=()=>{gapi.load?r():e(Ho(n,"network-request-failed"))},l3(`${uI()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw cm=null,t})}let cm=null;function _R(n){return cm=cm||vR(n),cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Sd(5e3,15e3),wR="__/auth/iframe",AR="emulator/auth/iframe",SR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ER=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(n){const t=n.config;Ue(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?p2(t,AR):`https://${n.config.authDomain}/${wR}`,r={apiKey:t.apiKey,appName:n.name,v:Fh},a=ER.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${Ad(r).slice(1)}`}async function TR(n){const t=await _R(n),e=Go().gapi;return Ue(e,n,"internal-error"),t.open({where:document.body,url:xR(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SR,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ho(n,"network-request-failed"),c=Go().setTimeout(()=>{o(u)},bR.get());function f(){Go().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CR=500,IR=600,RR="_blank",LR="http://localhost";class db{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(n,t,e,r=CR,a=IR){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...NR,width:r.toString(),height:a.toString(),top:o,left:u},d=vs().toLowerCase();e&&(c=e3(d)?RR:e),J4(d)&&(t=t||LR,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[b,O])=>`${x}${b}=${O},`,"");if(tI(d)&&c!=="_self")return PR(t||"",c),new db(null);const A=window.open(t||"",c,y);Ue(A,n,"popup-blocked");try{A.focus()}catch{}return new db(A)}function PR(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="__/auth/handler",OR="emulator/auth/handler",MR=encodeURIComponent("fac");async function pb(n,t,e,r,a,o){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Fh,eventId:a};if(t instanceof h3){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",b8(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,A]of Object.entries({}))u[y]=A}if(t instanceof xd){const y=t.getScopes().filter(A=>A!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const f=await n._getAppCheckToken(),d=f?`#${MR}=${encodeURIComponent(f)}`:"";return`${jR(n)}?${Ad(c).slice(1)}${d}`}function jR({config:n}){return n.emulator?p2(n,OR):`https://${n.authDomain}/${DR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="webStorageSupport";class VR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_3,this._completeRedirectFn=lR,this._overrideRedirectResult=sR}async _openPopup(t,e,r,a){Dl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await pb(t,e,r,M0(),a);return kR(t,o,_2())}async _openRedirect(t,e,r,a){await this._originValidation(t);const o=await pb(t,e,r,M0(),a);return BI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Dl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await TR(t),r=new cR(t);return e.register("authEvent",a=>(Ue(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(l0,{type:l0},a=>{const o=a?.[0]?.[l0];o!==void 0&&e(!!o),go(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=mR(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return a3()||t3()||g2()}}const UR=VR;var mb="@firebase/auth",gb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qR(n){Lh(new Tc("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o3(n)},d=new aI(r,a,o,f);return gI(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Lh(new Tc("auth-internal",t=>{const e=kc(t.getProvider("auth").getImmediate());return(r=>new FR(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ru(mb,gb,BR(n)),Ru(mb,gb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=300,HR=M4("authIdTokenMaxAge")||zR;let yb=null;const GR=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>HR)return;const a=e?.token;yb!==a&&(yb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $R(n=q4()){const t=f2(n,"auth");if(t.isInitialized())return t.getImmediate();const e=mI(n,{popupRedirectResolver:UR,persistence:[QI,VI,_3]}),r=M4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=GR(o.toString());DI(e,u,()=>u(e.currentUser)),PI(e,c=>u(c))}}const a=D4("auth");return a&&yI(e,`http://${a}`),e}function WR(){return document.getElementsByTagName("head")?.[0]??document}oI({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const o=Ho("internal-error");o.customData=a,e(o)},r.type="text/javascript",r.charset="UTF-8",WR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qR("Browser");var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lu,T3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(W,D){function R(){}R.prototype=D.prototype,W.D=D.prototype,W.prototype=new R,W.prototype.constructor=W,W.C=function(U,T,I){for(var k=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)k[ut-2]=arguments[ut];return D.prototype[T].apply(U,k)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(W,D,R){R||(R=0);var U=Array(16);if(typeof D=="string")for(var T=0;16>T;++T)U[T]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(T=0;16>T;++T)U[T]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=W.g[0],R=W.g[1],T=W.g[2];var I=W.g[3],k=D+(I^R&(T^I))+U[0]+3614090360&4294967295;D=R+(k<<7&4294967295|k>>>25),k=I+(T^D&(R^T))+U[1]+3905402710&4294967295,I=D+(k<<12&4294967295|k>>>20),k=T+(R^I&(D^R))+U[2]+606105819&4294967295,T=I+(k<<17&4294967295|k>>>15),k=R+(D^T&(I^D))+U[3]+3250441966&4294967295,R=T+(k<<22&4294967295|k>>>10),k=D+(I^R&(T^I))+U[4]+4118548399&4294967295,D=R+(k<<7&4294967295|k>>>25),k=I+(T^D&(R^T))+U[5]+1200080426&4294967295,I=D+(k<<12&4294967295|k>>>20),k=T+(R^I&(D^R))+U[6]+2821735955&4294967295,T=I+(k<<17&4294967295|k>>>15),k=R+(D^T&(I^D))+U[7]+4249261313&4294967295,R=T+(k<<22&4294967295|k>>>10),k=D+(I^R&(T^I))+U[8]+1770035416&4294967295,D=R+(k<<7&4294967295|k>>>25),k=I+(T^D&(R^T))+U[9]+2336552879&4294967295,I=D+(k<<12&4294967295|k>>>20),k=T+(R^I&(D^R))+U[10]+4294925233&4294967295,T=I+(k<<17&4294967295|k>>>15),k=R+(D^T&(I^D))+U[11]+2304563134&4294967295,R=T+(k<<22&4294967295|k>>>10),k=D+(I^R&(T^I))+U[12]+1804603682&4294967295,D=R+(k<<7&4294967295|k>>>25),k=I+(T^D&(R^T))+U[13]+4254626195&4294967295,I=D+(k<<12&4294967295|k>>>20),k=T+(R^I&(D^R))+U[14]+2792965006&4294967295,T=I+(k<<17&4294967295|k>>>15),k=R+(D^T&(I^D))+U[15]+1236535329&4294967295,R=T+(k<<22&4294967295|k>>>10),k=D+(T^I&(R^T))+U[1]+4129170786&4294967295,D=R+(k<<5&4294967295|k>>>27),k=I+(R^T&(D^R))+U[6]+3225465664&4294967295,I=D+(k<<9&4294967295|k>>>23),k=T+(D^R&(I^D))+U[11]+643717713&4294967295,T=I+(k<<14&4294967295|k>>>18),k=R+(I^D&(T^I))+U[0]+3921069994&4294967295,R=T+(k<<20&4294967295|k>>>12),k=D+(T^I&(R^T))+U[5]+3593408605&4294967295,D=R+(k<<5&4294967295|k>>>27),k=I+(R^T&(D^R))+U[10]+38016083&4294967295,I=D+(k<<9&4294967295|k>>>23),k=T+(D^R&(I^D))+U[15]+3634488961&4294967295,T=I+(k<<14&4294967295|k>>>18),k=R+(I^D&(T^I))+U[4]+3889429448&4294967295,R=T+(k<<20&4294967295|k>>>12),k=D+(T^I&(R^T))+U[9]+568446438&4294967295,D=R+(k<<5&4294967295|k>>>27),k=I+(R^T&(D^R))+U[14]+3275163606&4294967295,I=D+(k<<9&4294967295|k>>>23),k=T+(D^R&(I^D))+U[3]+4107603335&4294967295,T=I+(k<<14&4294967295|k>>>18),k=R+(I^D&(T^I))+U[8]+1163531501&4294967295,R=T+(k<<20&4294967295|k>>>12),k=D+(T^I&(R^T))+U[13]+2850285829&4294967295,D=R+(k<<5&4294967295|k>>>27),k=I+(R^T&(D^R))+U[2]+4243563512&4294967295,I=D+(k<<9&4294967295|k>>>23),k=T+(D^R&(I^D))+U[7]+1735328473&4294967295,T=I+(k<<14&4294967295|k>>>18),k=R+(I^D&(T^I))+U[12]+2368359562&4294967295,R=T+(k<<20&4294967295|k>>>12),k=D+(R^T^I)+U[5]+4294588738&4294967295,D=R+(k<<4&4294967295|k>>>28),k=I+(D^R^T)+U[8]+2272392833&4294967295,I=D+(k<<11&4294967295|k>>>21),k=T+(I^D^R)+U[11]+1839030562&4294967295,T=I+(k<<16&4294967295|k>>>16),k=R+(T^I^D)+U[14]+4259657740&4294967295,R=T+(k<<23&4294967295|k>>>9),k=D+(R^T^I)+U[1]+2763975236&4294967295,D=R+(k<<4&4294967295|k>>>28),k=I+(D^R^T)+U[4]+1272893353&4294967295,I=D+(k<<11&4294967295|k>>>21),k=T+(I^D^R)+U[7]+4139469664&4294967295,T=I+(k<<16&4294967295|k>>>16),k=R+(T^I^D)+U[10]+3200236656&4294967295,R=T+(k<<23&4294967295|k>>>9),k=D+(R^T^I)+U[13]+681279174&4294967295,D=R+(k<<4&4294967295|k>>>28),k=I+(D^R^T)+U[0]+3936430074&4294967295,I=D+(k<<11&4294967295|k>>>21),k=T+(I^D^R)+U[3]+3572445317&4294967295,T=I+(k<<16&4294967295|k>>>16),k=R+(T^I^D)+U[6]+76029189&4294967295,R=T+(k<<23&4294967295|k>>>9),k=D+(R^T^I)+U[9]+3654602809&4294967295,D=R+(k<<4&4294967295|k>>>28),k=I+(D^R^T)+U[12]+3873151461&4294967295,I=D+(k<<11&4294967295|k>>>21),k=T+(I^D^R)+U[15]+530742520&4294967295,T=I+(k<<16&4294967295|k>>>16),k=R+(T^I^D)+U[2]+3299628645&4294967295,R=T+(k<<23&4294967295|k>>>9),k=D+(T^(R|~I))+U[0]+4096336452&4294967295,D=R+(k<<6&4294967295|k>>>26),k=I+(R^(D|~T))+U[7]+1126891415&4294967295,I=D+(k<<10&4294967295|k>>>22),k=T+(D^(I|~R))+U[14]+2878612391&4294967295,T=I+(k<<15&4294967295|k>>>17),k=R+(I^(T|~D))+U[5]+4237533241&4294967295,R=T+(k<<21&4294967295|k>>>11),k=D+(T^(R|~I))+U[12]+1700485571&4294967295,D=R+(k<<6&4294967295|k>>>26),k=I+(R^(D|~T))+U[3]+2399980690&4294967295,I=D+(k<<10&4294967295|k>>>22),k=T+(D^(I|~R))+U[10]+4293915773&4294967295,T=I+(k<<15&4294967295|k>>>17),k=R+(I^(T|~D))+U[1]+2240044497&4294967295,R=T+(k<<21&4294967295|k>>>11),k=D+(T^(R|~I))+U[8]+1873313359&4294967295,D=R+(k<<6&4294967295|k>>>26),k=I+(R^(D|~T))+U[15]+4264355552&4294967295,I=D+(k<<10&4294967295|k>>>22),k=T+(D^(I|~R))+U[6]+2734768916&4294967295,T=I+(k<<15&4294967295|k>>>17),k=R+(I^(T|~D))+U[13]+1309151649&4294967295,R=T+(k<<21&4294967295|k>>>11),k=D+(T^(R|~I))+U[4]+4149444226&4294967295,D=R+(k<<6&4294967295|k>>>26),k=I+(R^(D|~T))+U[11]+3174756917&4294967295,I=D+(k<<10&4294967295|k>>>22),k=T+(D^(I|~R))+U[2]+718787259&4294967295,T=I+(k<<15&4294967295|k>>>17),k=R+(I^(T|~D))+U[9]+3951481745&4294967295,W.g[0]=W.g[0]+D&4294967295,W.g[1]=W.g[1]+(T+(k<<21&4294967295|k>>>11))&4294967295,W.g[2]=W.g[2]+T&4294967295,W.g[3]=W.g[3]+I&4294967295}r.prototype.u=function(W,D){D===void 0&&(D=W.length);for(var R=D-this.blockSize,U=this.B,T=this.h,I=0;I<D;){if(T==0)for(;I<=R;)a(this,W,I),I+=this.blockSize;if(typeof W=="string"){for(;I<D;)if(U[T++]=W.charCodeAt(I++),T==this.blockSize){a(this,U),T=0;break}}else for(;I<D;)if(U[T++]=W[I++],T==this.blockSize){a(this,U),T=0;break}}this.h=T,this.o+=D},r.prototype.v=function(){var W=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);W[0]=128;for(var D=1;D<W.length-8;++D)W[D]=0;var R=8*this.o;for(D=W.length-8;D<W.length;++D)W[D]=R&255,R/=256;for(this.u(W),W=Array(16),D=R=0;4>D;++D)for(var U=0;32>U;U+=8)W[R++]=this.g[D]>>>U&255;return W};function o(W,D){var R=c;return Object.prototype.hasOwnProperty.call(R,W)?R[W]:R[W]=D(W)}function u(W,D){this.h=D;for(var R=[],U=!0,T=W.length-1;0<=T;T--){var I=W[T]|0;U&&I==D||(R[T]=I,U=!1)}this.g=R}var c={};function f(W){return-128<=W&&128>W?o(W,function(D){return new u([D|0],0>D?-1:0)}):new u([W|0],0>W?-1:0)}function d(W){if(isNaN(W)||!isFinite(W))return A;if(0>W)return q(d(-W));for(var D=[],R=1,U=0;W>=R;U++)D[U]=W/R|0,R*=4294967296;return new u(D,0)}function y(W,D){if(W.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(W.charAt(0)=="-")return q(y(W.substring(1),D));if(0<=W.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(D,8)),U=A,T=0;T<W.length;T+=8){var I=Math.min(8,W.length-T),k=parseInt(W.substring(T,T+I),D);8>I?(I=d(Math.pow(D,I)),U=U.j(I).add(d(k))):(U=U.j(R),U=U.add(d(k)))}return U}var A=f(0),x=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-q(this).m();for(var W=0,D=1,R=0;R<this.g.length;R++){var U=this.i(R);W+=(0<=U?U:4294967296+U)*D,D*=4294967296}return W},n.toString=function(W){if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(O(this))return"0";if(F(this))return"-"+q(this).toString(W);for(var D=d(Math.pow(W,6)),R=this,U="";;){var T=Q(R,D).g;R=B(R,T.j(D));var I=((0<R.g.length?R.g[0]:R.h)>>>0).toString(W);if(R=T,O(R))return I+U;for(;6>I.length;)I="0"+I;U=I+U}},n.i=function(W){return 0>W?0:W<this.g.length?this.g[W]:this.h};function O(W){if(W.h!=0)return!1;for(var D=0;D<W.g.length;D++)if(W.g[D]!=0)return!1;return!0}function F(W){return W.h==-1}n.l=function(W){return W=B(this,W),F(W)?-1:O(W)?0:1};function q(W){for(var D=W.g.length,R=[],U=0;U<D;U++)R[U]=~W.g[U];return new u(R,~W.h).add(x)}n.abs=function(){return F(this)?q(this):this},n.add=function(W){for(var D=Math.max(this.g.length,W.g.length),R=[],U=0,T=0;T<=D;T++){var I=U+(this.i(T)&65535)+(W.i(T)&65535),k=(I>>>16)+(this.i(T)>>>16)+(W.i(T)>>>16);U=k>>>16,I&=65535,k&=65535,R[T]=k<<16|I}return new u(R,R[R.length-1]&-2147483648?-1:0)};function B(W,D){return W.add(q(D))}n.j=function(W){if(O(this)||O(W))return A;if(F(this))return F(W)?q(this).j(q(W)):q(q(this).j(W));if(F(W))return q(this.j(q(W)));if(0>this.l(b)&&0>W.l(b))return d(this.m()*W.m());for(var D=this.g.length+W.g.length,R=[],U=0;U<2*D;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(var T=0;T<W.g.length;T++){var I=this.i(U)>>>16,k=this.i(U)&65535,ut=W.i(T)>>>16,Tt=W.i(T)&65535;R[2*U+2*T]+=k*Tt,tt(R,2*U+2*T),R[2*U+2*T+1]+=I*Tt,tt(R,2*U+2*T+1),R[2*U+2*T+1]+=k*ut,tt(R,2*U+2*T+1),R[2*U+2*T+2]+=I*ut,tt(R,2*U+2*T+2)}for(U=0;U<D;U++)R[U]=R[2*U+1]<<16|R[2*U];for(U=D;U<2*D;U++)R[U]=0;return new u(R,0)};function tt(W,D){for(;(W[D]&65535)!=W[D];)W[D+1]+=W[D]>>>16,W[D]&=65535,D++}function et(W,D){this.g=W,this.h=D}function Q(W,D){if(O(D))throw Error("division by zero");if(O(W))return new et(A,A);if(F(W))return D=Q(q(W),D),new et(q(D.g),q(D.h));if(F(D))return D=Q(W,q(D)),new et(q(D.g),D.h);if(30<W.g.length){if(F(W)||F(D))throw Error("slowDivide_ only works with positive integers.");for(var R=x,U=D;0>=U.l(W);)R=st(R),U=st(U);var T=Et(R,1),I=Et(U,1);for(U=Et(U,2),R=Et(R,2);!O(U);){var k=I.add(U);0>=k.l(W)&&(T=T.add(R),I=k),U=Et(U,1),R=Et(R,1)}return D=B(W,T.j(D)),new et(T,D)}for(T=A;0<=W.l(D);){for(R=Math.max(1,Math.floor(W.m()/D.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),I=d(R),k=I.j(D);F(k)||0<k.l(W);)R-=U,I=d(R),k=I.j(D);O(I)&&(I=x),T=T.add(I),W=B(W,k)}return new et(T,W)}n.A=function(W){return Q(this,W).h},n.and=function(W){for(var D=Math.max(this.g.length,W.g.length),R=[],U=0;U<D;U++)R[U]=this.i(U)&W.i(U);return new u(R,this.h&W.h)},n.or=function(W){for(var D=Math.max(this.g.length,W.g.length),R=[],U=0;U<D;U++)R[U]=this.i(U)|W.i(U);return new u(R,this.h|W.h)},n.xor=function(W){for(var D=Math.max(this.g.length,W.g.length),R=[],U=0;U<D;U++)R[U]=this.i(U)^W.i(U);return new u(R,this.h^W.h)};function st(W){for(var D=W.g.length+1,R=[],U=0;U<D;U++)R[U]=W.i(U)<<1|W.i(U-1)>>>31;return new u(R,W.h)}function Et(W,D){var R=D>>5;D%=32;for(var U=W.g.length-R,T=[],I=0;I<U;I++)T[I]=0<D?W.i(I+R)>>>D|W.i(I+R+1)<<32-D:W.i(I+R);return new u(T,W.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Lu=u}).apply(typeof vb<"u"?vb:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N3,Hf,C3,hm,F0,I3,R3,L3;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,C){return m==Array.prototype||m==Object.prototype||(m[E]=C.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var E=0;E<m.length;++E){var C=m[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=e(this);function a(m,E){if(E)t:{var C=r;m=m.split(".");for(var K=0;K<m.length-1;K++){var St=m[K];if(!(St in C))break t;C=C[St]}m=m[m.length-1],K=C[m],E=E(K),E!=K&&E!=null&&t(C,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var C=0,K=!1,St={next:function(){if(!K&&C<m.length){var Ot=C++;return{value:E(Ot,m[Ot]),done:!1}}return K=!0,{done:!0,value:void 0}}};return St[Symbol.iterator]=function(){return St},St}a("Array.prototype.values",function(m){return m||function(){return o(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,C){return m.call.apply(m.bind,arguments)}function A(m,E,C){if(!m)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var St=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(St,K),m.apply(E,St)}}return function(){return m.apply(E,arguments)}}function x(m,E,C){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:A,x.apply(null,arguments)}function b(m,E){var C=Array.prototype.slice.call(arguments,1);return function(){var K=C.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function O(m,E){function C(){}C.prototype=E.prototype,m.aa=E.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(K,St,Ot){for(var Xt=Array(arguments.length-2),un=2;un<arguments.length;un++)Xt[un-2]=arguments[un];return E.prototype[St].apply(K,Xt)}}function F(m){const E=m.length;if(0<E){const C=Array(E);for(let K=0;K<E;K++)C[K]=m[K];return C}return[]}function q(m,E){for(let C=1;C<arguments.length;C++){const K=arguments[C];if(f(K)){const St=m.length||0,Ot=K.length||0;m.length=St+Ot;for(let Xt=0;Xt<Ot;Xt++)m[St+Xt]=K[Xt]}else m.push(K)}}class B{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function tt(m){return/^[\s\xa0]*$/.test(m)}function et(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function Q(m){return Q[" "](m),m}Q[" "]=function(){};var st=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Et(m,E,C){for(const K in m)E.call(C,m[K],K,m)}function W(m,E){for(const C in m)E.call(void 0,m[C],C,m)}function D(m){const E={};for(const C in m)E[C]=m[C];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,E){let C,K;for(let St=1;St<arguments.length;St++){K=arguments[St];for(C in K)m[C]=K[C];for(let Ot=0;Ot<R.length;Ot++)C=R[Ot],Object.prototype.hasOwnProperty.call(K,C)&&(m[C]=K[C])}}function T(m){var E=1;m=m.split(":");const C=[];for(;0<E&&m.length;)C.push(m.shift()),E--;return m.length&&C.push(m.join(":")),C}function I(m){c.setTimeout(()=>{throw m},0)}function k(){var m=wt;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ut{constructor(){this.h=this.g=null}add(E,C){const K=Tt.get();K.set(E,C),this.h?this.h.next=K:this.g=K,this.h=K}}var Tt=new B(()=>new at,m=>m.reset());class at{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ot=!1,wt=new ut,Z=()=>{const m=c.Promise.resolve(void 0);mt=()=>{m.then(ft)}};var ft=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(C){I(C)}var E=Tt;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ot=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};c.addEventListener("test",C,E),c.removeEventListener("test",C,E)}catch{}return m})();function ct(m,E){if(G.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(st){t:{try{Q(E.nodeName);var St=!0;break t}catch{}St=!1}St||(E=null)}}else C=="mouseover"?E=m.fromElement:C=="mouseout"&&(E=m.toElement);this.relatedTarget=E,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:dt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ct.aa.h.call(this)}}O(ct,G);var dt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Pt(m,E,C,K,St){this.listener=m,this.proxy=null,this.src=E,this.type=C,this.capture=!!K,this.ha=St,this.key=++Lt,this.da=this.fa=!1}function qt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Qt(m){this.src=m,this.g={},this.h=0}Qt.prototype.add=function(m,E,C,K,St){var Ot=m.toString();m=this.g[Ot],m||(m=this.g[Ot]=[],this.h++);var Xt=re(m,E,K,St);return-1<Xt?(E=m[Xt],C||(E.fa=!1)):(E=new Pt(E,this.src,Ot,!!K,St),E.fa=C,m.push(E)),E};function ne(m,E){var C=E.type;if(C in m.g){var K=m.g[C],St=Array.prototype.indexOf.call(K,E,void 0),Ot;(Ot=0<=St)&&Array.prototype.splice.call(K,St,1),Ot&&(qt(E),m.g[C].length==0&&(delete m.g[C],m.h--))}}function re(m,E,C,K){for(var St=0;St<m.length;++St){var Ot=m[St];if(!Ot.da&&Ot.listener==E&&Ot.capture==!!C&&Ot.ha==K)return St}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),lt={};function en(m,E,C,K,St){if(Array.isArray(E)){for(var Ot=0;Ot<E.length;Ot++)en(m,E[Ot],C,K,St);return null}return C=Be(C),m&&m[yt]?m.K(E,C,d(K)?!!K.capture:!1,St):Ne(m,E,C,!1,K,St)}function Ne(m,E,C,K,St,Ot){if(!E)throw Error("Invalid event type");var Xt=d(St)?!!St.capture:!!St,un=_e(m);if(un||(m[Mt]=un=new Qt(m)),C=un.add(E,C,K,Xt,Ot),C.proxy)return C;if(K=xe(),C.proxy=K,K.src=m,K.listener=C,m.addEventListener)J||(St=Xt),St===void 0&&(St=!1),m.addEventListener(E.toString(),K,St);else if(m.attachEvent)m.attachEvent(ee(E.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return C}function xe(){function m(C){return E.call(m.src,m.listener,C)}const E=Ye;return m}function Zt(m,E,C,K,St){if(Array.isArray(E))for(var Ot=0;Ot<E.length;Ot++)Zt(m,E[Ot],C,K,St);else K=d(K)?!!K.capture:!!K,C=Be(C),m&&m[yt]?(m=m.i,E=String(E).toString(),E in m.g&&(Ot=m.g[E],C=re(Ot,C,K,St),-1<C&&(qt(Ot[C]),Array.prototype.splice.call(Ot,C,1),Ot.length==0&&(delete m.g[E],m.h--)))):m&&(m=_e(m))&&(E=m.g[E.toString()],m=-1,E&&(m=re(E,C,K,St)),(C=-1<m?E[m]:null)&&ye(C))}function ye(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[yt])ne(E.i,m);else{var C=m.type,K=m.proxy;E.removeEventListener?E.removeEventListener(C,K,m.capture):E.detachEvent?E.detachEvent(ee(C),K):E.addListener&&E.removeListener&&E.removeListener(K),(C=_e(E))?(ne(C,m),C.h==0&&(C.src=null,E[Mt]=null)):qt(m)}}}function ee(m){return m in lt?lt[m]:lt[m]="on"+m}function Ye(m,E){if(m.da)m=!0;else{E=new ct(E,this);var C=m.listener,K=m.ha||m.src;m.fa&&ye(m),m=C.call(K,E)}return m}function _e(m){return m=m[Mt],m instanceof Qt?m:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(m){return typeof m=="function"?m:(m[mn]||(m[mn]=function(E){return m.handleEvent(E)}),m[mn])}function ce(){P.call(this),this.i=new Qt(this),this.M=this,this.F=null}O(ce,P),ce.prototype[yt]=!0,ce.prototype.removeEventListener=function(m,E,C,K){Zt(this,m,E,C,K)};function we(m,E){var C,K=m.F;if(K)for(C=[];K;K=K.F)C.push(K);if(m=m.M,K=E.type||E,typeof E=="string")E=new G(E,m);else if(E instanceof G)E.target=E.target||m;else{var St=E;E=new G(K,m),U(E,St)}if(St=!0,C)for(var Ot=C.length-1;0<=Ot;Ot--){var Xt=E.g=C[Ot];St=Te(Xt,K,!0,E)&&St}if(Xt=E.g=m,St=Te(Xt,K,!0,E)&&St,St=Te(Xt,K,!1,E)&&St,C)for(Ot=0;Ot<C.length;Ot++)Xt=E.g=C[Ot],St=Te(Xt,K,!1,E)&&St}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var C=m.g[E],K=0;K<C.length;K++)qt(C[K]);delete m.g[E],m.h--}}this.F=null},ce.prototype.K=function(m,E,C,K){return this.i.add(String(m),E,!1,C,K)},ce.prototype.L=function(m,E,C,K){return this.i.add(String(m),E,!0,C,K)};function Te(m,E,C,K){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var St=!0,Ot=0;Ot<E.length;++Ot){var Xt=E[Ot];if(Xt&&!Xt.da&&Xt.capture==C){var un=Xt.listener,ur=Xt.ha||Xt.src;Xt.fa&&ne(m.i,Xt),St=un.call(ur,K)!==!1&&St}}return St&&!K.defaultPrevented}function se(m,E,C){if(typeof m=="function")C&&(m=x(m,C));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function Le(m){m.g=se(()=>{m.g=null,m.i&&(m.i=!1,Le(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class be extends P{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(m){P.call(this),this.h=m,this.g={}}O(Tn,P);var an=[];function he(m){Et(m.g,function(E,C){this.g.hasOwnProperty(C)&&ye(E)},m),m.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),he(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=c.JSON.stringify,Nn=c.JSON.parse,Ae=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function nn(){}nn.prototype.h=null;function Ve(m){return m.h||(m.h=m.i())}function er(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){G.call(this,"d")}O(gn,G);function Pe(){G.call(this,"c")}O(Pe,G);var rn={},Ys=null;function fr(){return Ys=Ys||new ce}rn.La="serverreachability";function ts(m){G.call(this,rn.La,m)}O(ts,G);function di(m){const E=fr();we(E,new ts(E))}rn.STAT_EVENT="statevent";function Ie(m,E){G.call(this,rn.STAT_EVENT,m),this.stat=E}O(Ie,G);function Cn(m){const E=fr();we(E,new Ie(E,m))}rn.Ma="timingevent";function zn(m,E){G.call(this,rn.Ma,m),this.size=E}O(zn,G);function kn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function Kn(m,E,C,K,St,Ot){m.info(function(){if(m.g)if(Ot)for(var Xt="",un=Ot.split("&"),ur=0;ur<un.length;ur++){var cn=un[ur].split("=");if(1<cn.length){var fn=cn[0];cn=cn[1];var Mn=fn.split("_");Xt=2<=Mn.length&&Mn[1]=="type"?Xt+(fn+"="+cn+"&"):Xt+(fn+"=redacted&")}}else Xt=null;else Xt=Ot;return"XMLHTTP REQ ("+K+") [attempt "+St+"]: "+E+`
`+C+`
`+Xt})}function Mr(m,E,C,K,St,Ot,Xt){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+St+"]: "+E+`
`+C+`
`+Ot+" "+Xt})}function lr(m,E,C,K){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+es(m,C)+(K?" "+K:"")})}function da(m,E){m.info(function(){return"TIMEOUT: "+E})}dr.prototype.info=function(){};function es(m,E){if(!m.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var K=C[m];if(!(2>K.length)){var St=K[1];if(Array.isArray(St)&&!(1>St.length)){var Ot=St[0];if(Ot!="noop"&&Ot!="stop"&&Ot!="close")for(var Xt=1;Xt<St.length;Xt++)St[Xt]=""}}}}return Ce(C)}catch{return E}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function Vr(){}O(Vr,nn),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},jr=new Vr;function Qn(m,E,C,K){this.j=m,this.i=E,this.l=C,this.R=K||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ns={},ks={};function Si(m,E,C){m.L=1,m.v=ya(mi(E)),m.m=C,m.P=!0,rs(m,null)}function rs(m,E){m.F=Date.now(),Ks(m),m.A=mi(m.v);var C=m.A,K=m.R;Array.isArray(K)||(K=[String(K)]),De(C.i,"t",K),m.C=0,C=m.j.J,m.h=new Hn,m.g=ta(m.j,C?E:null,!m.m),0<m.O&&(m.M=new be(x(m.Y,m,m.g),m.O)),E=m.U,C=m.g,K=m.ca;var St="readystatechange";Array.isArray(St)||(St&&(an[0]=St.toString()),St=an);for(var Ot=0;Ot<St.length;Ot++){var Xt=en(C,St[Ot],K||E.handleEvent,!1,E.h||E);if(!Xt)break;E.g[Xt.key]=Xt}E=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),di(),Kn(m.i,m.u,m.A,m.l,m.R,m.m)}Qn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ti(m)==3?E.j():this.Y(m)},Qn.prototype.Y=function(m){try{if(m==this.g)t:{const Mn=Ti(this.g);var E=this.g.Ba();const Ss=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||Mn!=4||E==7||(E==8||0>=Ss?di(3):di(2)),Qs(this);var C=this.g.Z();this.X=C;e:if(Ha(this)){var K=Eo(this.g);m="";var St=K.length,Ot=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Nr(this);var Xt="";break e}this.h.i=new c.TextDecoder}for(E=0;E<St;E++)this.h.h=!0,m+=this.h.i.decode(K[E],{stream:!(Ot&&E==St-1)});K.length=0,this.h.g+=m,this.C=0,Xt=this.h.g}else Xt=this.g.oa();if(this.o=C==200,Mr(this.i,this.u,this.A,this.l,this.R,Mn,C),this.o){if(this.T&&!this.K){e:{if(this.g){var un,ur=this.g;if((un=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(un)){var cn=un;break e}}cn=null}if(C=cn)lr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,C);else{this.o=!1,this.s=3,Cn(12),Cr(this),Nr(this);break t}}if(this.P){C=!0;let Rr;for(;!this.J&&this.C<Xt.length;)if(Rr=Ul(this,Xt),Rr==ks){Mn==4&&(this.s=4,Cn(14),C=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==ns){this.s=4,Cn(15),lr(this.i,this.l,Xt,"[Invalid Chunk]"),C=!1;break}else lr(this.i,this.l,Rr,null),pa(this,Rr);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Xt.length!=0||this.h.h||(this.s=1,Cn(16),C=!1),this.o=this.o&&C,!C)lr(this.i,this.l,Xt,"[Invalid Chunked Response]"),Cr(this),Nr(this);else if(0<Xt.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Xt.length),ln(fn),fn.M=!0,Cn(11))}}else lr(this.i,this.l,Xt,null),pa(this,Xt);Mn==4&&Cr(this),this.o&&!this.J&&(Mn==4?Pn(this.j,this):(this.o=!1,Ks(this)))}else Ui(this.g),C==400&&0<Xt.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),Cr(this),Nr(this)}}}catch{}finally{}};function Ha(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ul(m,E){var C=m.C,K=E.indexOf(`
`,C);return K==-1?ks:(C=Number(E.substring(C,K)),isNaN(C)?ns:(K+=1,K+C>E.length?ks:(E=E.slice(K,K+C),m.C=K+C,E)))}Qn.prototype.cancel=function(){this.J=!0,Cr(this)};function Ks(m){m.S=Date.now()+m.I,Jo(m,m.I)}function Jo(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=kn(x(m.ba,m),E)}function Qs(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Qn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(da(this.i,this.A),this.L!=2&&(di(),Cn(17)),Cr(this),this.s=2,Nr(this)):Jo(this,this.S-m)};function Nr(m){m.j.G==0||m.J||Pn(m.j,m)}function Cr(m){Qs(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,he(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function pa(m,E){try{var C=m.j;if(C.G!=0&&(C.g==m||ma(C.h,m))){if(!m.K&&ma(C.h,m)&&C.G==3){try{var K=C.Da.g.parse(E)}catch{K=null}if(Array.isArray(K)&&K.length==3){var St=K;if(St[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)nr(C),rt(C);else break t;qe(C),Cn(18)}}else C.za=St[1],0<C.za-C.T&&37500>St[2]&&C.F&&C.v==0&&!C.C&&(C.C=kn(x(C.Za,C),6e3));if(1>=$a(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Un(C,11)}else if((m.K||C.g==m)&&nr(C),!tt(E))for(St=C.Da.g.parse(E),E=0;E<St.length;E++){let cn=St[E];if(C.T=cn[0],cn=cn[1],C.G==2)if(cn[0]=="c"){C.K=cn[1],C.ia=cn[2];const fn=cn[3];fn!=null&&(C.la=fn,C.j.info("VER="+C.la));const Mn=cn[4];Mn!=null&&(C.Aa=Mn,C.j.info("SVER="+C.Aa));const Ss=cn[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(K=1.5*Ss,C.L=K,C.j.info("backChannelRequestTimeoutMs_="+K)),K=C;const Rr=m.g;if(Rr){const gi=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Ot=K.h;Ot.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Ot.j=Ot.l,Ot.g=new Set,Ot.h&&(wo(Ot,Ot.h),Ot.h=null))}if(K.D){const Sa=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(K.ya=Sa,on(K.I,K.D,Sa))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),K=C;var Xt=m;if(K.qa=js(K,K.J?K.ia:null,K.W),Xt.K){_n(K.h,Xt);var un=Xt,ur=K.L;ur&&(un.I=ur),un.B&&(Qs(un),Ks(un)),K.g=Xt}else ke(K);0<C.i.length&&bt(C)}else cn[0]!="stop"&&cn[0]!="close"||Un(C,7);else C.G==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Un(C,7):j(C):cn[0]!="noop"&&C.l&&C.l.ta(cn),C.v=0)}}di(4)}catch{}}var bo=class{constructor(m,E){this.g=m,this.map=E}};function Ps(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $a(m){return m.h?1:m.g?m.g.size:0}function ma(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function wo(m,E){m.g?m.g.add(E):m.h=E}function _n(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ps.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ao(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const C of m.g.values())E=E.concat(C.D);return E}return F(m.i)}function Fl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],C=m.length,K=0;K<C;K++)E.push(m[K]);return E}E=[],C=0;for(K in m)E[C++]=m[K];return E}function is(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var C=0;C<m;C++)E.push(C);return E}E=[],C=0;for(const K in m)E[C++]=K;return E}}}function Xs(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var C=is(m),K=Fl(m),St=K.length,Ot=0;Ot<St;Ot++)E.call(void 0,K[Ot],C&&C[Ot],m)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(m,E){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var K=m[C].indexOf("="),St=null;if(0<=K){var Ot=m[C].substring(0,K);St=m[C].substring(K+1)}else Ot=m[C];E(Ot,St?decodeURIComponent(St.replace(/\+/g," ")):"")}}}function tn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof tn){this.h=m.h,Ya(this,m.j),this.o=m.o,this.g=m.g,ga(this,m.s),this.l=m.l;var E=m.i,C=new Ei;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),Zs(this,C),this.m=m.m}else m&&(E=String(m).match(pi))?(this.h=!1,Ya(this,E[1]||"",!0),this.o=Oi(E[2]||""),this.g=Oi(E[3]||"",!0),ga(this,E[4]),this.l=Oi(E[5]||"",!0),Zs(this,E[6]||"",!0),this.m=Oi(E[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}tn.prototype.toString=function(){var m=[],E=this.j;E&&m.push(ss(E,tl,!0),":");var C=this.g;return(C||E=="file")&&(m.push("//"),(E=this.o)&&m.push(ss(E,tl,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(ss(C,C.charAt(0)=="/"?Wu:el,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",ss(C,Ds)),m.join("")};function mi(m){return new tn(m)}function Ya(m,E,C){m.j=C?Oi(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function ga(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Zs(m,E,C){E instanceof Ei?(m.i=E,Bl(m.i,m.h)):(C||(E=ss(E,nl)),m.i=new Ei(E,m.h))}function on(m,E,C){m.i.set(E,C)}function ya(m){return on(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Oi(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ss(m,E,C){return typeof m=="string"?(m=encodeURI(m).replace(E,So),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function So(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var tl=/[#\/\?@]/g,el=/[#\?:]/g,Wu=/[#\?]/g,nl=/[#\?@]/g,Ds=/#/g;function Ei(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function as(m){m.g||(m.g=new Map,m.h=0,m.i&&Wa(m.i,function(E,C){m.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}n=Ei.prototype,n.add=function(m,E){as(this),this.i=null,m=Os(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(E),this.h+=1,this};function Mi(m,E){as(m),E=Os(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function _s(m,E){return as(m),E=Os(m,E),m.g.has(E)}n.forEach=function(m,E){as(this),this.g.forEach(function(C,K){C.forEach(function(St){m.call(E,St,K,this)},this)},this)},n.na=function(){as(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let K=0;K<E.length;K++){const St=m[K];for(let Ot=0;Ot<St.length;Ot++)C.push(E[K])}return C},n.V=function(m){as(this);let E=[];if(typeof m=="string")_s(this,m)&&(E=E.concat(this.g.get(Os(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)E=E.concat(m[C])}return E},n.set=function(m,E){return as(this),this.i=null,m=Os(this,m),_s(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function De(m,E,C){Mi(m,E),0<C.length&&(m.i=null,m.g.set(Os(m,E),F(C)),m.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var K=E[C];const Ot=encodeURIComponent(String(K)),Xt=this.V(K);for(K=0;K<Xt.length;K++){var St=Ot;Xt[K]!==""&&(St+="="+encodeURIComponent(String(Xt[K]))),m.push(St)}}return this.i=m.join("&")};function Os(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Bl(m,E){E&&!m.j&&(as(m),m.i=null,m.g.forEach(function(C,K){var St=K.toLowerCase();K!=St&&(Mi(this,K),De(this,St,C))},m)),m.j=E}function Ka(m,E){const C=new dr;if(c.Image){const K=new Image;K.onload=b(Ur,C,"TestLoadImage: loaded",!0,E,K),K.onerror=b(Ur,C,"TestLoadImage: error",!1,E,K),K.onabort=b(Ur,C,"TestLoadImage: abort",!1,E,K),K.ontimeout=b(Ur,C,"TestLoadImage: timeout",!1,E,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else E(!1)}function bs(m,E){const C=new dr,K=new AbortController,St=setTimeout(()=>{K.abort(),Ur(C,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:K.signal}).then(Ot=>{clearTimeout(St),Ot.ok?Ur(C,"TestPingServer: ok",!0,E):Ur(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(St),Ur(C,"TestPingServer: error",!1,E)})}function Ur(m,E,C,K,St){try{St&&(St.onload=null,St.onerror=null,St.onabort=null,St.ontimeout=null),K(C)}catch{}}function ji(){this.g=new Ae}function Ms(m,E,C){const K=C||"";try{Xs(m,function(St,Ot){let Xt=St;d(St)&&(Xt=Ce(St)),E.push(K+Ot+"="+encodeURIComponent(Xt))})}catch(St){throw E.push(K+"type="+encodeURIComponent("_badmap")),St}}function va(m){this.l=m.Ub||null,this.j=m.eb||!1}O(va,nn),va.prototype.g=function(){return new os(this.l,this.j)},va.prototype.i=(function(m){return function(){return m}})({});function os(m,E){ce.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(os,ce),n=os.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Vi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?xi(this):Vi(this),this.readyState==3&&Qa(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,xi(this))},n.Qa=function(m){this.g&&(this.response=m,xi(this))},n.ga=function(){this.g&&xi(this)};function xi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Vi(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=E.next();return m.join(`\r
`)};function Vi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function _a(m){let E="";return Et(m,function(C,K){E+=K,E+=":",E+=C,E+=`\r
`}),E}function Fr(m,E,C){t:{for(K in C){var K=!1;break t}K=!0}K||(C=_a(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):on(m,E,C))}function bn(m){ce.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(bn,ce);var ba=/^https?$/i,ws=["POST","PUT"];n=bn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,C,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?Ve(this.o):Ve(jr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Ot){wa(this,Ot);return}if(m=C||"",C=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var St in K)C.set(St,K[St]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Ot of K.keys())C.set(Ot,K.get(Ot));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(C.keys()).find(Ot=>Ot.toLowerCase()=="content-type"),St=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ws,E,void 0))||K||St||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ot,Xt]of C)this.g.setRequestHeader(Ot,Xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ot){wa(this,Ot)}};function wa(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Aa(m),ls(m)}function Aa(m){m.A||(m.A=!0,we(m,"complete"),we(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,we(this,"complete"),we(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},n.bb=function(){Js(this)};function Js(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Ti(m)!=4||m.Z()!=2)){if(m.u&&Ti(m)==4)se(m.Ea,0,m);else if(we(m,"readystatechange"),Ti(m)==4){m.h=!1;try{const Xt=m.Z();t:switch(Xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var C;if(!(C=E)){var K;if(K=Xt===0){var St=String(m.D).match(pi)[1]||null;!St&&c.self&&c.self.location&&(St=c.self.location.protocol.slice(0,-1)),K=!ba.test(St?St.toLowerCase():"")}C=K}if(C)we(m,"complete"),we(m,"success");else{m.m=6;try{var Ot=2<Ti(m)?m.g.statusText:""}catch{Ot=""}m.l=Ot+" ["+m.Z()+"]",Aa(m)}}finally{ls(m)}}}}function ls(m,E){if(m.g){As(m);const C=m.g,K=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||we(m,"ready");try{C.onreadystatechange=K}catch{}}}function As(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ti(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Nn(E)}};function Eo(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(m){const E={};m=(m.g&&2<=Ti(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if(tt(m[K]))continue;var C=T(m[K]);const St=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Ot=E[St]||[];E[St]=Ot,Ot.push(C)}W(E,function(K){return K.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(m,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||E}function w(m){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ni("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ni("baseRetryDelayMs",5e3,m),this.cb=Ni("retryDelaySeedMs",1e4,m),this.Wa=Ni("forwardChannelMaxRetries",2,m),this.wa=Ni("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ps(m&&m.concurrentRequestLimit),this.Da=new ji,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=w.prototype,n.la=8,n.G=1,n.connect=function(m,E,C,K){Cn(0),this.W=m,this.H=E||{},C&&K!==void 0&&(this.H.OSID=C,this.H.OAID=K),this.F=this.X,this.I=js(this,null,this.W),bt(this)};function j(m){if(pt(m),m.G==3){var E=m.U++,C=mi(m.I);if(on(C,"SID",m.K),on(C,"RID",E),on(C,"TYPE","terminate"),ae(m,C),E=new Qn(m,m.j,E),E.L=2,E.v=ya(mi(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&c.Image&&(new Image().src=E.v,C=!0),C||(E.g=ta(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Ks(E)}Br(m)}function rt(m){m.g&&(ln(m),m.g.cancel(),m.g=null)}function pt(m){rt(m),m.u&&(c.clearTimeout(m.u),m.u=null),nr(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function bt(m){if(!Ga(m.h)&&!m.s){m.s=!0;var E=m.Ga;mt||Z(),ot||(mt(),ot=!0),wt.add(E,m),m.B=0}}function Ft(m,E){return $a(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=kn(x(m.Ga,m,E),pr(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const St=new Qn(this,this.j,m);let Ot=this.o;if(this.S&&(Ot?(Ot=D(Ot),U(Ot,this.S)):Ot=this.S),this.m!==null||this.O||(St.H=Ot,Ot=null),this.P)t:{for(var E=0,C=0;C<this.i.length;C++){e:{var K=this.i[C];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break e}K=void 0}if(K===void 0)break;if(E+=K,4096<E){E=C;break t}if(E===4096||C===this.i.length-1){E=C+1;break t}}E=1e3}else E=1e3;E=pe(this,St,E),C=mi(this.I),on(C,"RID",m),on(C,"CVER",22),this.D&&on(C,"X-HTTP-Session-Id",this.D),ae(this,C),Ot&&(this.O?E="headers="+encodeURIComponent(String(_a(Ot)))+"&"+E:this.m&&Fr(C,this.m,Ot)),wo(this.h,St),this.Ua&&on(C,"TYPE","init"),this.P?(on(C,"$req",E),on(C,"SID","null"),St.T=!0,Si(St,C,null)):Si(St,C,E),this.G=2}}else this.G==3&&(m?Wt(this,m):this.i.length==0||Ga(this.h)||Wt(this))};function Wt(m,E){var C;E?C=E.l:C=m.U++;const K=mi(m.I);on(K,"SID",m.K),on(K,"RID",C),on(K,"AID",m.T),ae(m,K),m.m&&m.o&&Fr(K,m.m,m.o),C=new Qn(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),E&&(m.i=E.D.concat(m.i)),E=pe(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),wo(m.h,C),Si(C,K,E)}function ae(m,E){m.H&&Et(m.H,function(C,K){on(E,K,C)}),m.l&&Xs({},function(C,K){on(E,K,C)})}function pe(m,E,C){C=Math.min(m.i.length,C);var K=m.l?x(m.l.Na,m.l,m):null;t:{var St=m.i;let Ot=-1;for(;;){const Xt=["count="+C];Ot==-1?0<C?(Ot=St[0].g,Xt.push("ofs="+Ot)):Ot=0:Xt.push("ofs="+Ot);let un=!0;for(let ur=0;ur<C;ur++){let cn=St[ur].g;const fn=St[ur].map;if(cn-=Ot,0>cn)Ot=Math.max(0,St[ur].g-100),un=!1;else try{Ms(fn,Xt,"req"+cn+"_")}catch{K&&K(fn)}}if(un){K=Xt.join("&");break t}}}return m=m.i.splice(0,C),E.D=m,K}function ke(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;mt||Z(),ot||(mt(),ot=!0),wt.add(E,m),m.v=0}}function qe(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=kn(x(m.Fa,m),pr(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Xn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=kn(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),rt(this),Xn(this))};function ln(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Xn(m){m.g=new Qn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=mi(m.qa);on(E,"RID","rpc"),on(E,"SID",m.K),on(E,"AID",m.T),on(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&on(E,"TO",m.ja),on(E,"TYPE","xmlhttp"),ae(m,E),m.m&&m.o&&Fr(E,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=ya(mi(E)),C.m=null,C.P=!0,rs(C,m)}n.Za=function(){this.C!=null&&(this.C=null,rt(this),qe(this),Cn(19))};function nr(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Pn(m,E){var C=null;if(m.g==E){nr(m),ln(m),m.g=null;var K=2}else if(ma(m.h,E))C=E.D,_n(m.h,E),K=1;else return;if(m.G!=0){if(E.o)if(K==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var St=m.B;K=fr(),we(K,new zn(K,C)),bt(m)}else ke(m);else if(St=E.s,St==3||St==0&&0<E.X||!(K==1&&Ft(m,E)||K==2&&qe(m)))switch(C&&0<C.length&&(E=m.h,E.i=E.i.concat(C)),St){case 1:Un(m,5);break;case 4:Un(m,10);break;case 3:Un(m,6);break;default:Un(m,2)}}}function pr(m,E){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*E}function Un(m,E){if(m.j.info("Error code "+E),E==2){var C=x(m.fb,m),K=m.Xa;const St=!K;K=new tn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ya(K,"https"),ya(K),St?Ka(K.toString(),C):bs(K.toString(),C)}else Cn(2);m.G=0,m.l&&m.l.sa(E),Br(m),pt(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function Br(m){if(m.G=0,m.ka=[],m.l){const E=Ao(m.h);(E.length!=0||m.i.length!=0)&&(q(m.ka,E),q(m.ka,m.i),m.h.i.length=0,F(m.i),m.i.length=0),m.l.ra()}}function js(m,E,C){var K=C instanceof tn?mi(C):new tn(C);if(K.g!="")E&&(K.g=E+"."+K.g),ga(K,K.s);else{var St=c.location;K=St.protocol,E=E?E+"."+St.hostname:St.hostname,St=+St.port;var Ot=new tn(null);K&&Ya(Ot,K),E&&(Ot.g=E),St&&ga(Ot,St),C&&(Ot.l=C),K=Ot}return C=m.D,E=m.ya,C&&E&&on(K,C,E),on(K,"VER",m.la),ae(m,K),K}function ta(m,E,C){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new bn(new va({eb:C})):new bn(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ql(){}n=ql.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xa(){}Xa.prototype.g=function(m,E){return new Ir(m,E)};function Ir(m,E){ce.call(this),this.g=new w(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!tt(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!tt(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Fi(this)}O(Ir,ce),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){j(this.g)},Ir.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=Ce(m),m=C);E.i.push(new bo(E.Ya++,m)),E.G==3&&bt(E)},Ir.prototype.N=function(){this.g.l=null,delete this.j,j(this.g),delete this.g,Ir.aa.N.call(this)};function us(m){gn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const C in E){m=C;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}O(us,gn);function xo(){Pe.call(this),this.status=1}O(xo,Pe);function Fi(m){this.g=m}O(Fi,ql),Fi.prototype.ua=function(){we(this.g,"a")},Fi.prototype.ta=function(m){we(this.g,new us(m))},Fi.prototype.sa=function(m){we(this.g,new xo)},Fi.prototype.ra=function(){we(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,L3=function(){return new Xa},R3=function(){return fr()},I3=rn,F0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,hm=si,ai.COMPLETE="complete",C3=ai,er.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Hf=er,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,N3=bn}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});const _b="@firebase/firestore",bb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new c2("@firebase/firestore");function gh(){return Du.logLevel}function YR(n){Du.setLogLevel(n)}function le(n,...t){if(Du.logLevel<=Sn.DEBUG){const e=t.map(w2);Du.debug(`Firestore (${qh}): ${n}`,...e)}}function Ol(n,...t){if(Du.logLevel<=Sn.ERROR){const e=t.map(w2);Du.error(`Firestore (${qh}): ${n}`,...e)}}function kh(n,...t){if(Du.logLevel<=Sn.WARN){const e=t.map(w2);Du.warn(`Firestore (${qh}): ${n}`,...e)}}function w2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,k3(n,r,e)}function k3(n,t,e){let r=`FIRESTORE (${qh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ol(r),new Error(r)}function Bn(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||k3(t,a,r)}function Ze(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends jl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(gs.UNAUTHENTICATED)))}shutdown(){}}class QR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class XR{constructor(t){this.t=t,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Bn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new Rl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rl,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},c=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rl)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bn(typeof r.accessToken=="string",31837,{l:r}),new P3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bn(t===null||typeof t=="string",2055,{h:t}),new gs(t)}}class ZR{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=gs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JR{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new ZR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t7{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ba(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Bn(this.o===void 0,3512);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const a=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Bn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new wb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=e7(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<e&&(r+=t.charAt(a[o]%62))}return r}}function En(n,t){return n<t?-1:n>t?1:0}function B0(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),o=t.charAt(r);if(a!==o)return u0(a)===u0(o)?En(a,o):u0(a)?1:-1}return En(n.length,t.length)}const n7=55296,r7=57343;function u0(n){const t=n.charCodeAt(0);return t>=n7&&t<=r7}function Ph(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__name__";class Fo{constructor(t,e,r){e===void 0?e=0:e>t.length&&Fe(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Fe(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Fo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Fo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const o=Fo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return En(t.length,e.length)}static compareSegments(t,e){const r=Fo.isNumericId(t),a=Fo.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Fo.extractNumericId(t).compare(Fo.extractNumericId(e)):B0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lu.fromString(t.substring(4,t.length-2))}}class hr extends Fo{construct(t,e,r){return new hr(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie(zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new hr(e)}static emptyPath(){return new hr([])}}const i7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends Fo{construct(t,e,r){return new Zi(t,e,r)}static isValidIdentifier(t){return i7.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ab}static keyField(){return new Zi([Ab])}static fromServerFormat(t){const e=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ie(zt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;a<t.length;){const c=t[a];if(c==="\\"){if(a+1===t.length)throw new ie(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ie(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new ie(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zi(e)}static emptyPath(){return new Zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.path=t}static fromPath(t){return new Re(hr.fromString(t))}static fromName(t){return new Re(hr.fromString(t).popFirst(5))}static empty(){return new Re(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return hr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Re(new hr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n,t,e){if(!e)throw new ie(zt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function s7(n,t,e,r){if(t===!0&&r===!0)throw new ie(zt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Sb(n){if(!Re.isDocumentKey(n))throw new ie(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Eb(n){if(Re.isDocumentKey(n))throw new ie(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function O3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Rs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ie(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tg(n);throw new ie(zt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,t){const e={typeString:n};return t&&(e.value=t),e}function Nd(n,t){if(!O3(n))throw new ie(zt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new ie(zt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=-62135596800,Tb=1e6;class vr{static now(){return vr.fromMillis(Date.now())}static fromDate(t){return vr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Tb);return new vr(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ie(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ie(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<xb)throw new ie(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tb}_compareTo(t){return this.seconds===t.seconds?En(this.nanoseconds,t.nanoseconds):En(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nd(t,vr._jsonSchema))return new vr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vr._jsonSchemaVersion="firestore/timestamp/1.0",vr._jsonSchema={type:fi("string",vr._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(t){return new Qe(t)}static min(){return new Qe(new vr(0,0))}static max(){return new Qe(new vr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function a7(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Qe.fromTimestamp(r===1e9?new vr(e+1,0):new vr(e,r));return new Ou(a,Re.empty(),t)}function o7(n){return new Ou(n.readTime,n.key,ld)}class Ou{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Ou(Qe.min(),Re.empty(),ld)}static max(){return new Ou(Qe.max(),Re.empty(),ld)}}function l7(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Re.comparator(n.documentKey,t.documentKey),e!==0?e:En(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){if(n.code!==zt.FAILED_PRECONDITION||n.message!==u7)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Yt(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Yt?e:Yt.resolve(e)}catch(e){return Yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Yt.reject(e)}static resolve(t){return new Yt(((e,r)=>{e(t)}))}static reject(t){return new Yt(((e,r)=>{r(t)}))}static waitFor(t){return new Yt(((e,r)=>{let a=0,o=0,u=!1;t.forEach((c=>{++a,c.next((()=>{++o,u&&o===a&&e()}),(f=>r(f)))})),u=!0,o===a&&e()}))}static or(t){let e=Yt.resolve(!1);for(const r of t)e=e.next((a=>a?Yt.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,o)=>{r.push(e.call(this,a,o))})),this.waitFor(r)}static mapArray(t,e){return new Yt(((r,a)=>{const o=t.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{u[d]=y,++c,c===o&&r(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new Yt(((r,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):r()};o()}))}}function h7(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Hh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=-1;function ng(n){return n==null}function km(n){return n===0&&1/n==-1/0}function f7(n){return typeof n=="number"&&Number.isInteger(n)&&!km(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="";function d7(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Nb(t)),t=p7(n.get(e),t);return Nb(t)}function p7(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case M3:e+="";break;default:e+=o}}return e}function Nb(n){return n+M3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Gu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function j3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){this.comparator=t,this.root=e||Xi.EMPTY}insert(t,e){return new Or(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(t){return new Or(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qp(this.root,t,this.comparator,!0)}}class Qp{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xi{constructor(t,e,r,a,o){this.key=t,this.value=e,this.color=r??Xi.RED,this.left=a??Xi.EMPTY,this.right=o??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,o){return new Xi(t??this.key,e??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const o=r(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,r),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Xi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Fe(27949);return t+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1;Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(t,e,r,a,o){return this}insert(t,e,r){return new Xi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.comparator=t,this.data=new Or(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(t){return new Ib(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ai)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ai(this.comparator);return e.data=t,e}}class Ib{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t){this.fields=t,t.sort(Zi.comparator)}static empty(){return new ha([])}unionWith(t){let e=new Ai(Zi.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ha(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ph(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new V3("Invalid base64 string: "+o):o}})(t);return new Ji(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(t);return new Ji(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return En(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const m7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(n){if(Bn(!!n,39018),typeof n=="string"){let t=0;const e=m7.exec(n);if(Bn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ju(n){return typeof n=="string"?Ji.fromBase64String(n):Ji.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="server_timestamp",F3="__type__",B3="__previous_value__",q3="__local_write_time__";function E2(n){return(n?.mapValue?.fields||{})[F3]?.stringValue===U3}function rg(n){const t=n.mapValue.fields[B3];return E2(t)?rg(t):t}function ud(n){const t=Mu(n.mapValue.fields[q3].timestampValue);return new vr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(t,e,r,a,o,u,c,f,d,y){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Pm="(default)";class cd{constructor(t,e){this.projectId=t,this.database=e||Pm}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===Pm}isEqual(t){return t instanceof cd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="__type__",y7="__max__",Xp={mapValue:{}},H3="__vector__",Dm="value";function Vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E2(n)?4:_7(n)?9007199254740991:v7(n)?10:11:Fe(28295,{value:n})}function Qo(n,t){if(n===t)return!0;const e=Vu(n);if(e!==Vu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ud(n).isEqual(ud(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Mu(a.timestampValue),c=Mu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return ju(a.bytesValue).isEqual(ju(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return ti(a.geoPointValue.latitude)===ti(o.geoPointValue.latitude)&&ti(a.geoPointValue.longitude)===ti(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return ti(a.integerValue)===ti(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=ti(a.doubleValue),c=ti(o.doubleValue);return u===c?km(u)===km(c):isNaN(u)&&isNaN(c)}return!1})(n,t);case 9:return Ph(n.arrayValue.values||[],t.arrayValue.values||[],Qo);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(Cb(u)!==Cb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Qo(u[f],c[f])))return!1;return!0})(n,t);default:return Fe(52216,{left:n})}}function hd(n,t){return(n.values||[]).find((e=>Qo(e,t)))!==void 0}function Dh(n,t){if(n===t)return 0;const e=Vu(n),r=Vu(t);if(e!==r)return En(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return En(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const c=ti(o.integerValue||o.doubleValue),f=ti(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,t);case 3:return Rb(n.timestampValue,t.timestampValue);case 4:return Rb(ud(n),ud(t));case 5:return B0(n.stringValue,t.stringValue);case 6:return(function(o,u){const c=ju(o),f=ju(u);return c.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const y=En(c[d],f[d]);if(y!==0)return y}return En(c.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const c=En(ti(o.latitude),ti(u.latitude));return c!==0?c:En(ti(o.longitude),ti(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Lb(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[Dm]?.arrayValue,y=f[Dm]?.arrayValue,A=En(d?.values?.length||0,y?.values?.length||0);return A!==0?A:Lb(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Xp.mapValue&&u===Xp.mapValue)return 0;if(o===Xp.mapValue)return 1;if(u===Xp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let A=0;A<f.length&&A<y.length;++A){const x=B0(f[A],y[A]);if(x!==0)return x;const b=Dh(c[f[A]],d[y[A]]);if(b!==0)return b}return En(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Fe(23264,{he:e})}}function Rb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return En(n,t);const e=Mu(n),r=Mu(t),a=En(e.seconds,r.seconds);return a!==0?a:En(e.nanos,r.nanos)}function Lb(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const o=Dh(e[a],r[a]);if(o)return o}return En(e.length,r.length)}function Oh(n){return q0(n)}function q0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Mu(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return ju(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Re.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const o of e.values||[])a?a=!1:r+=",",r+=q0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${q0(e.fields[u])}`;return a+"}"})(n.mapValue):Fe(61005,{value:n})}function fm(n){switch(Vu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rg(n);return t?16+fm(t):16;case 5:return 2*n.stringValue.length;case 6:return ju(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+fm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Gu(r.fields,((o,u)=>{a+=o.length+fm(u)})),a})(n.mapValue);default:throw Fe(13486,{value:n})}}function kb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function z0(n){return!!n&&"integerValue"in n}function x2(n){return!!n&&"arrayValue"in n}function Pb(n){return!!n&&"nullValue"in n}function Db(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dm(n){return!!n&&"mapValue"in n}function v7(n){return(n?.mapValue?.fields||{})[z3]?.stringValue===H3}function Jf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Gu(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Jf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jf(n.arrayValue.values[e]);return t}return{...n}}function _7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===y7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.value=t}static empty(){return new $s({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!dm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jf(e)}setAll(t){let e=Zi.emptyPath(),r={},a=[];t.forEach(((u,c)=>{if(!e.isImmediateParentOf(c)){const f=this.getFieldsMap(e);this.applyChanges(f,r,a),r={},a=[],e=c.popLast()}u?r[c.lastSegment()]=Jf(u):a.push(c.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,a)}delete(t){const e=this.field(t.popLast());dm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];dm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Gu(e,((a,o)=>t[a]=o));for(const a of r)delete t[a]}clone(){return new $s(Jf(this.value))}}function G3(n){const t=[];return Gu(n.fields,((e,r)=>{const a=new Zi([e]);if(dm(r)){const o=G3(r.mapValue).fields;if(o.length===0)t.push(a);else for(const u of o)t.push(a.child(u))}else t.push(a)})),new ha(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e,r,a,o,u,c){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(t){return new ys(t,0,Qe.min(),Qe.min(),Qe.min(),$s.empty(),0)}static newFoundDocument(t,e,r,a){return new ys(t,1,e,Qe.min(),r,a,0)}static newNoDocument(t,e){return new ys(t,2,e,Qe.min(),Qe.min(),$s.empty(),0)}static newUnknownDocument(t,e){return new ys(t,3,e,Qe.min(),Qe.min(),$s.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$s.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ys&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,e){this.position=t,this.inclusive=e}}function Ob(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const o=t[a],u=n.position[a];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(u.referenceValue),e.key):r=Dh(u,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qo(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e="asc"){this.field=t,this.dir=e}}function b7(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{}class hi extends $3{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new A7(t,e,r):e==="array-contains"?new x7(t,r):e==="in"?new T7(t,r):e==="not-in"?new N7(t,r):e==="array-contains-any"?new C7(t,r):new hi(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new S7(t,r):new E7(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Dh(e,this.value)):e!==null&&Vu(this.value)===Vu(e)&&this.matchesComparison(Dh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yo extends $3{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new yo(t,e)}matches(t){return W3(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W3(n){return n.op==="and"}function Y3(n){return w7(n)&&W3(n)}function w7(n){for(const t of n.filters)if(t instanceof yo)return!1;return!0}function H0(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+Oh(n.value);if(Y3(n))return n.filters.map((t=>H0(t))).join(",");{const t=n.filters.map((e=>H0(e))).join(",");return`${n.op}(${t})`}}function K3(n,t){return n instanceof hi?(function(r,a){return a instanceof hi&&r.op===a.op&&r.field.isEqual(a.field)&&Qo(r.value,a.value)})(n,t):n instanceof yo?(function(r,a){return a instanceof yo&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,c)=>o&&K3(u,a.filters[c])),!0):!1})(n,t):void Fe(19439)}function Q3(n){return n instanceof hi?(function(e){return`${e.field.canonicalString()} ${e.op} ${Oh(e.value)}`})(n):n instanceof yo?(function(e){return e.op.toString()+" {"+e.getFilters().map(Q3).join(" ,")+"}"})(n):"Filter"}class A7 extends hi{constructor(t,e,r){super(t,e,r),this.key=Re.fromName(r.referenceValue)}matches(t){const e=Re.comparator(t.key,this.key);return this.matchesComparison(e)}}class S7 extends hi{constructor(t,e){super(t,"in",e),this.keys=X3("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class E7 extends hi{constructor(t,e){super(t,"not-in",e),this.keys=X3("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function X3(n,t){return(t.arrayValue?.values||[]).map((e=>Re.fromName(e.referenceValue)))}class x7 extends hi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return x2(e)&&hd(e.arrayValue,this.value)}}class T7 extends hi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&hd(this.value.arrayValue,e)}}class N7 extends hi{constructor(t,e){super(t,"not-in",e)}matches(t){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!hd(this.value.arrayValue,e)}}class C7 extends hi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!x2(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>hd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t,e=null,r=[],a=[],o=null,u=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function jb(n,t=null,e=[],r=[],a=null,o=null,u=null){return new I7(n,t,e,r,a,o,u)}function T2(n){const t=Ze(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>H0(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ng(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Oh(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Oh(r))).join(",")),t.Te=e}return t.Te}function N2(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!b7(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!K3(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Mb(n.startAt,t.startAt)&&Mb(n.endAt,t.endAt)}function G0(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,e=null,r=[],a=[],o=null,u="F",c=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R7(n,t,e,r,a,o,u,c){return new Gh(n,t,e,r,a,o,u,c)}function ig(n){return new Gh(n)}function Vb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Z3(n){return n.collectionGroup!==null}function td(n){const t=Ze(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Ai(Zi.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new fd(o,r))})),e.has(Zi.keyField().canonicalString())||t.Ie.push(new fd(Zi.keyField(),r))}return t.Ie}function $o(n){const t=Ze(n);return t.Ee||(t.Ee=L7(t,td(n))),t.Ee}function L7(n,t){if(n.limitType==="F")return jb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new fd(a.field,o)}));const e=n.endAt?new Om(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Om(n.startAt.position,n.startAt.inclusive):null;return jb(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function $0(n,t){const e=n.filters.concat([t]);return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Mm(n,t,e){return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sg(n,t){return N2($o(n),$o(t))&&n.limitType===t.limitType}function J3(n){return`${T2($o(n))}|lt:${n.limitType}`}function yh(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>Q3(a))).join(", ")}]`),ng(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Oh(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Oh(a))).join(",")),`Target(${r})`})($o(n))}; limitType=${n.limitType})`}function ag(n,t){return t.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,a){for(const o of td(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(u,c,f){const d=Ob(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,td(r),a)||r.endAt&&!(function(u,c,f){const d=Ob(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,td(r),a))})(n,t)}function k7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tA(n){return(t,e)=>{let r=!1;for(const a of td(n)){const o=P7(a,t,e);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function P7(n,t,e){const r=n.field.isKeyField()?Re.comparator(t.key,e.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Dh(f,d):Fe(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Gu(this.inner,((e,r)=>{for(const[a,o]of r)t(a,o)}))}isEmpty(){return j3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new Or(Re.comparator);function Ml(){return D7}const eA=new Or(Re.comparator);function Gf(...n){let t=eA;for(const e of n)t=t.insert(e.key,e);return t}function nA(n){let t=eA;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function _c(){return ed()}function rA(){return ed()}function ed(){return new Pc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const O7=new Or(Re.comparator),M7=new Ai(Re.comparator);function xn(...n){let t=M7;for(const e of n)t=t.add(e);return t}const j7=new Ai(En);function V7(){return j7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(t)?"-0":t}}function iA(n){return{integerValue:""+n}}function sA(n,t){return f7(t)?iA(t):C2(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this._=void 0}}function U7(n,t,e){return n instanceof dd?(function(a,o){const u={fields:{[F3]:{stringValue:U3},[q3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&E2(o)&&(o=rg(o)),o&&(u.fields[B3]=o),{mapValue:u}})(e,t):n instanceof pd?oA(n,t):n instanceof md?lA(n,t):(function(a,o){const u=aA(a,o),c=Ub(u)+Ub(a.Ae);return z0(u)&&z0(a.Ae)?iA(c):C2(a.serializer,c)})(n,t)}function F7(n,t,e){return n instanceof pd?oA(n,t):n instanceof md?lA(n,t):e}function aA(n,t){return n instanceof gd?(function(r){return z0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class dd extends og{}class pd extends og{constructor(t){super(),this.elements=t}}function oA(n,t){const e=uA(t);for(const r of n.elements)e.some((a=>Qo(a,r)))||e.push(r);return{arrayValue:{values:e}}}class md extends og{constructor(t){super(),this.elements=t}}function lA(n,t){let e=uA(t);for(const r of n.elements)e=e.filter((a=>!Qo(a,r)));return{arrayValue:{values:e}}}class gd extends og{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Ub(n){return ti(n.integerValue||n.doubleValue)}function uA(n){return x2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,e){this.field=t,this.transform=e}}function B7(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof pd&&a instanceof pd||r instanceof md&&a instanceof md?Ph(r.elements,a.elements,Qo):r instanceof gd&&a instanceof gd?Qo(r.Ae,a.Ae):r instanceof dd&&a instanceof dd})(n.transform,t.transform)}class q7{constructor(t,e){this.version=t,this.transformResults=e}}class Ls{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ls}static exists(t){return new Ls(void 0,t)}static updateTime(t){return new Ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class lg{}function hA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ug(n.key,Ls.none()):new Cd(n.key,n.data,Ls.none());{const e=n.data,r=$s.empty();let a=new Ai(Zi.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new $u(n.key,r,new ha(a.toArray()),Ls.none())}}function z7(n,t,e){n instanceof Cd?(function(a,o,u){const c=a.value.clone(),f=Bb(a.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,t,e):n instanceof $u?(function(a,o,u){if(!pm(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Bb(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(fA(a)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function nd(n,t,e,r){return n instanceof Cd?(function(o,u,c,f){if(!pm(o.precondition,u))return c;const d=o.value.clone(),y=qb(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,t,e,r):n instanceof $u?(function(o,u,c,f){if(!pm(o.precondition,u))return c;const d=qb(o.fieldTransforms,f,u),y=u.data;return y.setAll(fA(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,r):(function(o,u,c){return pm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,t,e)}function H7(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),o=aA(r.transform,a||null);o!=null&&(e===null&&(e=$s.empty()),e.set(r.field,o))}return e||null}function Fb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ph(r,a,((o,u)=>B7(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cd extends lg{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $u extends lg{constructor(t,e,r,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function Bb(n,t,e){const r=new Map;Bn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],u=o.transform,c=t.data.field(o.field);r.set(o.field,F7(u,c,e[a]))}return r}function qb(n,t,e){const r=new Map;for(const a of n){const o=a.transform,u=e.data.field(a.field);r.set(a.field,U7(o,u,t))}return r}class ug extends lg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G7 extends lg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&z7(o,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=nd(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=nd(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=rA();return this.mutations.forEach((a=>{const o=t.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=e.has(a.key)?null:c;const f=hA(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),xn())}isEqual(t){return this.batchId===t.batchId&&Ph(this.mutations,t.mutations,((e,r)=>Fb(e,r)))&&Ph(this.baseMutations,t.baseMutations,((e,r)=>Fb(e,r)))}}class I2{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){Bn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return O7})();const o=t.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new I2(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,Ln;function K7(n){switch(n){case zt.OK:return Fe(64938);case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function dA(n){if(n===void 0)return Ol("GRPC error has no .code"),zt.UNKNOWN;switch(n){case ci.OK:return zt.OK;case ci.CANCELLED:return zt.CANCELLED;case ci.UNKNOWN:return zt.UNKNOWN;case ci.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case ci.INTERNAL:return zt.INTERNAL;case ci.UNAVAILABLE:return zt.UNAVAILABLE;case ci.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case ci.NOT_FOUND:return zt.NOT_FOUND;case ci.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case ci.ABORTED:return zt.ABORTED;case ci.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case ci.DATA_LOSS:return zt.DATA_LOSS;default:return Fe(39323,{code:n})}}(Ln=ci||(ci={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new Lu([4294967295,4294967295],0);function zb(n){const t=Q7().encode(n),e=new T3;return e.update(t),new Uint8Array(e.digest())}function Hb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Lu([e,r],0),new Lu([a,o],0)]}class R2{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new $f(`Invalid padding: ${e}`);if(r<0)throw new $f(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new $f(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new $f(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Lu.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(Lu.fromNumber(r)));return a.compare(X7)===1&&(a=new Lu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=zb(t),[r,a]=Hb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new R2(o,a,e);return r.forEach((c=>u.insert(c))),u}insert(t){if(this.ge===0)return;const e=zb(t),[r,a]=Hb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,e,r,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Id.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new cg(Qe.min(),a,new Or(En),Ml(),xn())}}class Id{constructor(t,e,r,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Id(r,e,xn(),xn(),xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class pA{constructor(t,e){this.targetId=t,this.Ce=e}}class mA{constructor(t,e,r=Ji.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Gb{constructor(){this.ve=0,this.Fe=$b(),this.Me=Ji.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xn(),e=xn(),r=xn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Fe(38017,{changeType:o})}})),new Id(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=$b()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Z7{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ml(),this.Je=Zp(),this.He=Zp(),this.Ye=new Or(En)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Fe(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(G0(o))if(r===0){const u=new Re(o.path);this.et(e,u,ys.newNoDocument(u,Qe.min()))}else Bn(r===1,20013,{expectedCount:r});else{const u=this._t(e);if(u!==r){const c=this.ut(t),f=c?this.ct(c,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=e;let u,c;try{u=ju(r).toUint8Array()}catch(f){if(f instanceof V3)return kh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new R2(u,a,o)}catch(f){return kh(f instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&G0(c.target)){const f=new Re(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,ys.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let r=xn();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const a=new cg(t,e,this.Ye,this.je,r);return this.je=Ml(),this.Je=Zp(),this.He=Zp(),this.Ye=new Or(En),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Gb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ai(En),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ai(En),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||le("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Gb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Zp(){return new Or(Re.comparator)}function $b(){return new Or(Re.comparator)}const J7={asc:"ASCENDING",desc:"DESCENDING"},tL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eL={and:"AND",or:"OR"};class nL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function W0(n,t){return n.useProto3Json||ng(t)?t:{value:t}}function jm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function rL(n,t){return jm(n,t.toTimestamp())}function Wo(n){return Bn(!!n,49232),Qe.fromTimestamp((function(e){const r=Mu(e);return new vr(r.seconds,r.nanos)})(n))}function L2(n,t){return Y0(n,t).canonicalString()}function Y0(n,t){const e=(function(a){return new hr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function yA(n){const t=hr.fromString(n);return Bn(AA(t),10190,{key:t.toString()}),t}function K0(n,t){return L2(n.databaseId,t.path)}function c0(n,t){const e=yA(t);if(e.get(1)!==n.databaseId.projectId)throw new ie(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ie(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Re(_A(e))}function vA(n,t){return L2(n.databaseId,t)}function iL(n){const t=yA(n);return t.length===4?hr.emptyPath():_A(t)}function Q0(n){return new hr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _A(n){return Bn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Wb(n,t,e){return{name:K0(n,t),fields:e.value.mapValue.fields}}function sL(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Bn(y===void 0||typeof y=="string",58123),Ji.fromBase64String(y||"")):(Bn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ji.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,c=u&&(function(d){const y=d.code===void 0?zt.UNKNOWN:dA(d.code);return new ie(y,d.message||"")})(u);e=new mA(r,a,o,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=c0(n,r.document.name),o=Wo(r.document.updateTime),u=r.document.createTime?Wo(r.document.createTime):Qe.min(),c=new $s({mapValue:{fields:r.document.fields}}),f=ys.newFoundDocument(a,o,u,c),d=r.targetIds||[],y=r.removedTargetIds||[];e=new mm(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=c0(n,r.document),o=r.readTime?Wo(r.readTime):Qe.min(),u=ys.newNoDocument(a,o),c=r.removedTargetIds||[];e=new mm([],c,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=c0(n,r.document),o=r.removedTargetIds||[];e=new mm([],o,a,null)}else{if(!("filter"in t))return Fe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new Y7(a,o),c=r.targetId;e=new pA(c,u)}}return e}function aL(n,t){let e;if(t instanceof Cd)e={update:Wb(n,t.key,t.value)};else if(t instanceof ug)e={delete:K0(n,t.key)};else if(t instanceof $u)e={update:Wb(n,t.key,t.data),updateMask:mL(t.fieldMask)};else{if(!(t instanceof G7))return Fe(16599,{Vt:t.type});e={verify:K0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof dd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof pd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof md)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gd)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Fe(20930,{transform:u.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:rL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)})(n,t.precondition)),e}function oL(n,t){return n&&n.length>0?(Bn(t!==void 0,14353),n.map((e=>(function(a,o){let u=a.updateTime?Wo(a.updateTime):Wo(o);return u.isEqual(Qe.min())&&(u=Wo(o)),new q7(u,a.transformResults||[])})(e,t)))):[]}function lL(n,t){return{documents:[vA(n,t.path)]}}function uL(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=vA(n,a);const o=(function(d){if(d.length!==0)return wA(yo.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(x){return{field:vh(x.field),direction:fL(x.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const c=W0(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:a}}function cL(n){let t=iL(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){Bn(r===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(A){const x=bA(A);return x instanceof yo&&Y3(x)?x.getFilters():[x]})(e.where));let u=[];e.orderBy&&(u=(function(A){return A.map((x=>(function(O){return new fd(_h(O.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(x)))})(e.orderBy));let c=null;e.limit&&(c=(function(A){let x;return x=typeof A=="object"?A.value:A,ng(x)?null:x})(e.limit));let f=null;e.startAt&&(f=(function(A){const x=!!A.before,b=A.values||[];return new Om(b,x)})(e.startAt));let d=null;return e.endAt&&(d=(function(A){const x=!A.before,b=A.values||[];return new Om(b,x)})(e.endAt)),R7(t,a,u,o,c,"F",f,d)}function hL(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function bA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=_h(e.unaryFilter.field);return hi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=_h(e.unaryFilter.field);return hi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_h(e.unaryFilter.field);return hi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_h(e.unaryFilter.field);return hi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return hi.create(_h(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return yo.create(e.compositeFilter.filters.map((r=>bA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(e.compositeFilter.op))})(n):Fe(30097,{filter:n})}function fL(n){return J7[n]}function dL(n){return tL[n]}function pL(n){return eL[n]}function vh(n){return{fieldPath:n.canonicalString()}}function _h(n){return Zi.fromServerFormat(n.fieldPath)}function wA(n){return n instanceof hi?(function(e){if(e.op==="=="){if(Db(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NAN"}};if(Pb(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Db(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NAN"}};if(Pb(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(e.field),op:dL(e.op),value:e.value}}})(n):n instanceof yo?(function(e){const r=e.getFilters().map((a=>wA(a)));return r.length===1?r[0]:{compositeFilter:{op:pL(e.op),filters:r}}})(n):Fe(54877,{filter:n})}function mL(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function AA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,e,r,a,o=Qe.min(),u=Qe.min(),c=Ji.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(t){return new Nu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t){this.yt=t}}function yL(n){const t=cL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.Cn=new _L}addToCollectionParentIndex(t,e){return this.Cn.add(e),Yt.resolve()}getCollectionParents(t,e){return Yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Yt.resolve()}deleteFieldIndex(t,e){return Yt.resolve()}deleteAllFieldIndexes(t){return Yt.resolve()}createTargetIndexes(t,e){return Yt.resolve()}getDocumentsMatchingTarget(t,e){return Yt.resolve(null)}getIndexType(t,e){return Yt.resolve(0)}getFieldIndexes(t,e){return Yt.resolve([])}getNextCollectionGroupToUpdate(t){return Yt.resolve(null)}getMinOffset(t,e){return Yt.resolve(Ou.min())}getMinOffsetFromCollectionGroup(t,e){return Yt.resolve(Ou.min())}updateCollectionGroup(t,e,r){return Yt.resolve()}updateIndexEntries(t,e){return Yt.resolve()}}class _L{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Ai(hr.comparator),o=!a.has(r);return this.index[e]=a.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Ai(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SA=41943040;class Gs{static withCacheSize(t){return new Gs(t,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(SA,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Mh(0)}static cr(){return new Mh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="LruGarbageCollector",bL=1048576;function Qb([n,t],[e,r]){const a=En(n,e);return a===0?En(t,r):a}class wL{constructor(t){this.Ir=t,this.buffer=new Ai(Qb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Qb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class AL{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){le(Kb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hh(e)?le(Kb,"Ignoring IndexedDB error during garbage collection: ",e):await zh(e)}await this.Vr(3e5)}))}}class SL{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Yt.resolve(eg.ce);const r=new wL(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(Yb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,o,u,c,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(t,a)))).next((A=>(r=A,c=Date.now(),this.removeTargets(t,r,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(d=Date.now(),gh()<=Sn.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:A}))))}}function EL(n,t){return new SL(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.changes=new Pc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ys.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Yt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&nd(r.mutation,a,ha.empty(),vr.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,xn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=xn()){const a=_c();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((o=>{let u=Gf();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const r=_c();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,xn())))}populateOverlays(t,e,r){const a=[];return r.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((u,c)=>{e.set(u,c)}))}))}computeViews(t,e,r,a){let o=Ml();const u=ed(),c=(function(){return ed()})();return e.forEach(((f,d)=>{const y=r.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof $u)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),nd(y.mutation,d,y.mutation.getFieldMask(),vr.now())):u.set(d.key,ha.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>u.set(d,y))),e.forEach(((d,y)=>c.set(d,new TL(y,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(t,e){const r=ed();let a=new Or(((u,c)=>u-c)),o=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=r.get(f)||ha.empty();y=c.applyToLocalView(d,y),r.set(f,y);const A=(a.get(c.batchId)||xn()).add(f);a=a.insert(c.batchId,A)}))})).next((()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,y=f.value,A=rA();y.forEach((x=>{if(!o.has(x)){const b=hA(e.get(x),r.get(x));b!==null&&A.set(x,b),o=o.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,A))}return Yt.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Z3(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-o.size):Yt.resolve(_c());let c=ld,f=o;return u.next((d=>Yt.forEach(d,((y,A)=>(c<A.largestBatchId&&(c=A.largestBatchId),o.get(y)?Yt.resolve():this.remoteDocumentCache.getEntry(t,y).next((x=>{f=f.insert(y,x)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,xn()))).next((y=>({batchId:c,changes:nA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Re(e)).next((r=>{let a=Gf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const o=e.collectionGroup;let u=Gf();return this.indexManager.getCollectionParents(t,o).next((c=>Yt.forEach(c,(f=>{const d=(function(A,x){return new Gh(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,r,a).next((y=>{y.forEach(((A,x)=>{u=u.insert(A,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,a)))).next((u=>{o.forEach(((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,ys.newInvalidDocument(y)))}));let c=Gf();return u.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&nd(y.mutation,d,ha.empty(),vr.now()),ag(e,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Yt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Wo(a.createTime)}})(e)),Yt.resolve()}getNamedQuery(t,e){return Yt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:yL(a.bundledQuery),readTime:Wo(a.readTime)}})(e)),Yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.overlays=new Or(Re.comparator),this.qr=new Map}getOverlay(t,e){return Yt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=_c();return Yt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,o)=>{this.St(t,e,o)})),Yt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Yt.resolve()}getOverlaysForCollection(t,e,r){const a=_c(),o=e.length+1,u=new Re(e.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Yt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let o=new Or(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=_c(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=_c(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>c.set(d,y))),!(c.size()>=a)););return Yt.resolve(c)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new W7(e,r));let o=this.qr.get(e);o===void 0&&(o=xn(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.sessionToken=Ji.EMPTY_BYTE_STRING}getSessionToken(t){return Yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Qr=new Ai(Pi.$r),this.Ur=new Ai(Pi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Pi(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Pi(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Re(new hr([])),r=new Pi(e,t),a=new Pi(e,t+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Re(new hr([])),r=new Pi(e,t),a=new Pi(e,t+1);let o=xn();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Pi(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Pi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Re.comparator(t.key,e.key)||En(t.Yr,e.Yr)}static Kr(t,e){return En(t.Yr,e.Yr)||Re.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ai(Pi.$r)}checkEmpty(t){return Yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $7(o,e,r,a);this.mutationQueue.push(u);for(const c of a)this.Zr=this.Zr.add(new Pi(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Yt.resolve(u)}lookupMutationBatch(t,e){return Yt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),o=a<0?0:a;return Yt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(this.mutationQueue.length===0?S2:this.tr-1)}getAllMutationBatches(t){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Pi(e,0),a=new Pi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const c=this.Xr(u.Yr);o.push(c)})),Yt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ai(En);return e.forEach((a=>{const o=new Pi(a,0),u=new Pi(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),Yt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const u=new Pi(new Re(o),0);let c=new Ai(En);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Yr)),!0)}),u),Yt.resolve(this.ti(c))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Bn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Yt.forEach(e.mutations,(a=>{const o=new Pi(a.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Pi(e,0),a=this.Zr.firstAfterOrEqual(r);return Yt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Yt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(t){this.ri=t,this.docs=(function(){return new Or(Re.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Yt.resolve(r?r.document.mutableCopy():ys.newInvalidDocument(e))}getEntries(t,e){let r=Ml();return e.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():ys.newInvalidDocument(a))})),Yt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let o=Ml();const u=e.path,c=new Re(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||l7(o7(y),r)<=0||(a.has(y.key)||ag(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Yt.resolve(o)}getAllFromCollectionGroup(t,e,r,a){Fe(9500)}ii(t,e){return Yt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new PL(this)}getSize(t){return Yt.resolve(this.size)}}class PL extends xL{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),Yt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(t){this.persistence=t,this.si=new Pc((e=>T2(e)),N2),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new k2,this.targetCount=0,this.ai=Mh.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),Yt.resolve()}getLastRemoteSnapshotVersion(t){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Yt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Mh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Yt.resolve()}updateTargetData(t,e){return this.Pr(e),Yt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(t,e,r){let a=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),a++)})),Yt.waitFor(o).next((()=>a))}getTargetCount(t){return Yt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Yt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Yt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((u=>{o.push(a.markPotentiallyOrphaned(t,u))})),Yt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Yt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Yt.resolve(r)}containsKey(t,e){return Yt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,e){this.ui={},this.overlays={},this.ci=new eg(0),this.li=!1,this.li=!0,this.hi=new RL,this.referenceDelegate=t(this),this.Pi=new DL(this),this.indexManager=new vL,this.remoteDocumentCache=(function(a){return new kL(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gL(e),this.Ii=new CL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new IL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new LL(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){le("MemoryPersistence","Starting transaction:",t);const a=new OL(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return Yt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class OL extends c7{constructor(t){super(),this.currentSequenceNumber=t}}class P2{constructor(t){this.persistence=t,this.Ri=new k2,this.Vi=null}static mi(t){return new P2(t)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Yt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Yt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Yt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.fi,(r=>{const a=Re.fromPath(r);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Qe.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Yt.or([()=>Yt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Vm{constructor(t,e){this.persistence=t,this.pi=new Pc((r=>d7(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=EL(this,e)}static mi(t,e){return new Vm(t,e)}Ei(){}di(t){return Yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return Yt.forEach(this.pi,((r,a)=>this.br(t,r,a).next((o=>o?Yt.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(u=>this.br(t,u,e).next((c=>{c||(r++,o.removeEntry(u,Qe.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Yt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Yt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Yt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Yt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=fm(t.data.value)),e}br(t,e,r){return Yt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Yt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=xn(),a=xn();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new D2(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return p8()?8:h7(vs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new ML;return this.Ss(t,e,u).next((c=>{if(o.result=c,this.Vs)return this.bs(t,e,u,c.size)}))})).next((()=>o.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(gh()<=Sn.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",yh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Yt.resolve()):(gh()<=Sn.DEBUG&&le("QueryEngine","Query:",yh(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(gh()<=Sn.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",yh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$o(e))):Yt.resolve())}ys(t,e){if(Vb(e))return Yt.resolve(null);let r=$o(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Mm(e,null,"F"),r=$o(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const u=xn(...o);return this.ps.getDocuments(t,u).next((c=>this.indexManager.getMinOffset(t,r).next((f=>{const d=this.Ds(e,c);return this.Cs(e,d,u,f.readTime)?this.ys(t,Mm(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,r,a){return Vb(e)||a.isEqual(Qe.min())?Yt.resolve(null):this.ps.getDocuments(t,r).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,r,a)?Yt.resolve(null):(gh()<=Sn.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yh(e)),this.vs(t,u,e,a7(a,ld)).next((c=>c)))}))}Ds(t,e){let r=new Ai(tA(t));return e.forEach(((a,o)=>{ag(t,o)&&(r=r.add(o))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,r){return gh()<=Sn.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",yh(e)),this.ps.getDocumentsMatchingQuery(t,e,Ou.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="LocalStore",VL=3e8;class UL{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Or(En),this.xs=new Pc((o=>T2(o)),N2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function FL(n,t,e,r){return new UL(n,t,e,r)}async function xA(n,t){const e=Ze(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=xn();for(const d of a){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function BL(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,y){const A=d.batch,x=A.keys();let b=Yt.resolve();return x.forEach((O=>{b=b.next((()=>y.getEntry(f,O))).next((F=>{const q=d.docVersions.get(O);Bn(q!==null,48541),F.version.compareTo(q)<0&&(A.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),y.addEntry(F)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,A)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=xn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function TA(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function qL(n,t){const e=Ze(n),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const c=[];t.targetChanges.forEach(((y,A)=>{const x=a.get(A);if(!x)return;c.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,A).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,A))));let b=x.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?b=b.withResumeToken(Ji.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),a=a.insert(A,b),(function(F,q,B){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=VL?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(x,b,y)&&c.push(e.Pi.updateTargetData(o,b))}));let f=Ml(),d=xn();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),c.push(zL(o,u,t.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!r.isEqual(Qe.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((A=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(y)}return Yt.waitFor(c).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function zL(n,t,e){let r=xn(),a=xn();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let u=Ml();return e.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(Qe.min())?(t.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(c,f)):le(O2,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function HL(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=S2),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function GL(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((o=>o?(a=o,Yt.resolve(a)):e.Pi.allocateTargetId(r).next((u=>(a=new Nu(t,u,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function X0(n,t,e){const r=Ze(n),a=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Hh(u))throw u;le(O2,`Failed to update sequence numbers for target ${t}: ${u}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Xb(n,t,e){const r=Ze(n);let a=Qe.min(),o=xn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,y){const A=Ze(f),x=A.xs.get(y);return x!==void 0?Yt.resolve(A.Ms.get(x)):A.Pi.getTargetData(d,y)})(r,u,$o(t)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,t,e?a:Qe.min(),e?o:xn()))).next((c=>($L(r,k7(t),c),{documents:c,Qs:o})))))}function $L(n,t,e){let r=n.Os.get(t)||Qe.min();e.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(t,r)}class Zb{constructor(){this.activeTargetIds=V7()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class WL{constructor(){this.Mo=new Zb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="ConnectivityMonitor";class tw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Jb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){le(Jb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp=null;function Z0(){return Jp===null?Jp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jp++,"0x"+Jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="RestConnection",KL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Pm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,o){const u=Z0(),c=this.zo(t,e.toUriEncodedString());le(h0,`Sending RPC '${t}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:d}=new URL(c),y=Uh(d);return this.Jo(t,c,f,r,y).then((A=>(le(h0,`Received RPC '${t}' ${u}: `,A),A)),(A=>{throw kh(h0,`RPC '${t}' ${u} failed with error: `,A,"url: ",c,"request:",r),A}))}Ho(t,e,r,a,o,u){return this.Go(t,e,r,a,o)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),r&&r.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const r=KL[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="WebChannelConnection";class ZL extends QL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,o){const u=Z0();return new Promise(((c,f)=>{const d=new N3;d.setWithCredentials(!0),d.listenOnce(C3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case hm.NO_ERROR:const A=d.getResponseJson();le(ms,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),c(A);break;case hm.TIMEOUT:le(ms,`RPC '${t}' ${u} timed out`),f(new ie(zt.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const x=d.getStatus();if(le(ms,`RPC '${t}' ${u} failed with status:`,x,"response text:",d.getResponseText()),x>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const O=b?.error;if(O&&O.status&&O.message){const F=(function(B){const tt=B.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(tt)>=0?tt:zt.UNKNOWN})(O.status);f(new ie(F,O.message))}else f(new ie(zt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ie(zt.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(ms,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);le(ms,`RPC '${t}' ${u} sending request:`,a),d.send(e,"POST",y,r,15)}))}T_(t,e,r){const a=Z0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=L3(),c=R3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const y=o.join("");le(ms,`Creating RPC '${t}' stream ${a}: ${y}`,f);const A=u.createWebChannel(y,f);this.I_(A);let x=!1,b=!1;const O=new XL({Yo:q=>{b?le(ms,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(x||(le(ms,`Opening RPC '${t}' stream ${a} transport.`),A.open(),x=!0),le(ms,`RPC '${t}' stream ${a} sending:`,q),A.send(q))},Zo:()=>A.close()}),F=(q,B,tt)=>{q.listen(B,(et=>{try{tt(et)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return F(A,Hf.EventType.OPEN,(()=>{b||(le(ms,`RPC '${t}' stream ${a} transport opened.`),O.o_())})),F(A,Hf.EventType.CLOSE,(()=>{b||(b=!0,le(ms,`RPC '${t}' stream ${a} transport closed`),O.a_(),this.E_(A))})),F(A,Hf.EventType.ERROR,(q=>{b||(b=!0,kh(ms,`RPC '${t}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),O.a_(new ie(zt.UNAVAILABLE,"The operation could not be completed")))})),F(A,Hf.EventType.MESSAGE,(q=>{if(!b){const B=q.data[0];Bn(!!B,16349);const tt=B,et=tt?.error||tt[0]?.error;if(et){le(ms,`RPC '${t}' stream ${a} received error:`,et);const Q=et.status;let st=(function(D){const R=ci[D];if(R!==void 0)return dA(R)})(Q),Et=et.message;st===void 0&&(st=zt.INTERNAL,Et="Unknown error status: "+Q+" with message "+et.message),b=!0,O.a_(new ie(st,Et)),A.close()}else le(ms,`RPC '${t}' stream ${a} received:`,B),O.u_(B)}})),F(c,I3.STAT_EVENT,(q=>{q.stat===F0.PROXY?le(ms,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===F0.NOPROXY&&le(ms,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function f0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n){return new nL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,e,r=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="PersistentStream";class CA{constructor(t,e,r,a,o,u,c,f){this.Mi=t,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===zt.RESOURCE_EXHAUSTED?(Ol(e.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===zt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new ie(zt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return le(ew,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(le(ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JL extends CA{constructor(t,e,r,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=sL(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Qe.min():u.readTime?Wo(u.readTime):Qe.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Q0(this.serializer),e.addTarget=(function(o,u){let c;const f=u.target;if(c=G0(f)?{documents:lL(o,f)}:{query:uL(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=gA(o,u.resumeToken);const d=W0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Qe.min())>0){c.readTime=jm(o,u.snapshotVersion.toTimestamp());const d=W0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,t);const r=hL(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Q0(this.serializer),e.removeTarget=t,this.q_(e)}}class tk extends CA{constructor(t,e,r,a,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Bn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=oL(t.writeResults,t.commitTime),r=Wo(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Q0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>aL(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{}class nk extends ek{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ie(zt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,Y0(e,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(zt.UNKNOWN,o.toString())}))}Ho(t,e,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(t,Y0(e,r),a,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(zt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ol(e),this.aa=!1):le("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="RemoteStore";class ik{constructor(t,e,r,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Dc(this)&&(le(Ic,"Restarting streams for network reachability change."),await(async function(f){const d=Ze(f);d.Ea.add(4),await Rd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await fg(d)})(this))}))})),this.Ra=new rk(r,a)}}async function fg(n){if(Dc(n))for(const t of n.da)await t(!0)}async function Rd(n){for(const t of n.da)await t(!1)}function IA(n,t){const e=Ze(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),U2(e)?V2(e):$h(e).O_()&&j2(e,t))}function M2(n,t){const e=Ze(n),r=$h(e);e.Ia.delete(t),r.O_()&&RA(e,t),e.Ia.size===0&&(r.O_()?r.L_():Dc(e)&&e.Ra.set("Unknown"))}function j2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qe.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$h(n).Y_(t)}function RA(n,t){n.Va.Ue(t),$h(n).Z_(t)}function V2(n){n.Va=new Z7({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),$h(n).start(),n.Ra.ua()}function U2(n){return Dc(n)&&!$h(n).x_()&&n.Ia.size>0}function Dc(n){return Ze(n).Ea.size===0}function LA(n){n.Va=void 0}async function sk(n){n.Ra.set("Online")}async function ak(n){n.Ia.forEach(((t,e)=>{j2(n,t)}))}async function ok(n,t){LA(n),U2(n)?(n.Ra.ha(t),V2(n)):n.Ra.set("Unknown")}async function lk(n,t,e){if(n.Ra.set("Online"),t instanceof mA&&t.state===2&&t.cause)try{await(async function(a,o){const u=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.Va.removeTarget(c))})(n,t)}catch(r){le(Ic,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Um(n,r)}else if(t instanceof mm?n.Va.Ze(t):t instanceof pA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Qe.min()))try{const r=await TA(n.localStore);e.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(Ji.EMPTY_BYTE_STRING,y.snapshotVersion)),RA(o,f);const A=new Nu(y.target,f,d,y.sequenceNumber);j2(o,A)})),o.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){le(Ic,"Failed to raise snapshot:",r),await Um(n,r)}}async function Um(n,t,e){if(!Hh(t))throw t;n.Ea.add(1),await Rd(n),n.Ra.set("Offline"),e||(e=()=>TA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(Ic,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await fg(n)}))}function kA(n,t){return t().catch((e=>Um(n,e,t)))}async function dg(n){const t=Ze(n),e=Uu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:S2;for(;uk(t);)try{const a=await HL(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,ck(t,a)}catch(a){await Um(t,a)}PA(t)&&DA(t)}function uk(n){return Dc(n)&&n.Ta.length<10}function ck(n,t){n.Ta.push(t);const e=Uu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function PA(n){return Dc(n)&&!Uu(n).x_()&&n.Ta.length>0}function DA(n){Uu(n).start()}async function hk(n){Uu(n).ra()}async function fk(n){const t=Uu(n);for(const e of n.Ta)t.ea(e.mutations)}async function dk(n,t,e){const r=n.Ta.shift(),a=I2.from(r,t,e);await kA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await dg(n)}async function pk(n,t){t&&Uu(n).X_&&await(async function(r,a){if((function(u){return K7(u)&&u!==zt.ABORTED})(a.code)){const o=r.Ta.shift();Uu(r).B_(),await kA(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await dg(r)}})(n,t),PA(n)&&DA(n)}async function nw(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),le(Ic,"RemoteStore received new credentials");const r=Dc(e);e.Ea.add(3),await Rd(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await fg(e)}async function mk(n,t){const e=Ze(n);t?(e.Ea.delete(2),await fg(e)):t||(e.Ea.add(2),await Rd(e),e.Ra.set("Unknown"))}function $h(n){return n.ma||(n.ma=(function(e,r,a){const o=Ze(e);return o.sa(),new JL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:sk.bind(null,n),t_:ak.bind(null,n),r_:ok.bind(null,n),H_:lk.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),U2(n)?V2(n):n.Ra.set("Unknown")):(await n.ma.stop(),LA(n))}))),n.ma}function Uu(n){return n.fa||(n.fa=(function(e,r,a){const o=Ze(e);return o.sa(),new tk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:hk.bind(null,n),r_:pk.bind(null,n),ta:fk.bind(null,n),na:dk.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await dg(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Ic,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,e,r,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,o){const u=Date.now()+r,c=new F2(t,e,u,a,o);return c.start(r),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(zt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B2(n,t){if(Ol("AsyncQueue",`${t}: ${n}`),Hh(n))return new ie(zt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{static emptySet(t){return new Rh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Re.comparator(e.key,r.key):(e,r)=>Re.comparator(e.key,r.key),this.keyedMap=Gf(),this.sortedSet=new Or(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Rh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Rh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.ga=new Or(Re.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Fe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class jh{constructor(t,e,r,a,o,u,c,f,d){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,r,a,o){const u=[];return e.forEach((c=>{u.push({type:0,doc:c})})),new jh(t,e,Rh.emptySet(e),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yk{constructor(){this.queries=iw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=Ze(e),o=a.queries;a.queries=iw(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new ie(zt.ABORTED,"Firestore shutting down"))}}function iw(){return new Pc((n=>J3(n)),sg)}async function q2(n,t){const e=Ze(n);let r=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(r=2):(o=new gk,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const c=B2(u,`Initialization of query '${yh(t.query)}' failed`);return void t.onError(c)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&H2(e)}async function z2(n,t){const e=Ze(n),r=t.query;let a=3;const o=e.queries.get(r);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function vk(n,t){const e=Ze(n);let r=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const c of u.Sa)c.Fa(a)&&(r=!0);u.wa=a}}r&&H2(e)}function _k(n,t,e){const r=Ze(n),a=r.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);r.queries.delete(t)}function H2(n){n.Ca.forEach((t=>{t.next()}))}var J0,sw;(sw=J0||(J0={})).Ma="default",sw.Cache="cache";class G2{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new jh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=jh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t){this.key=t}}class MA{constructor(t){this.key=t}}class bk{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xn(),this.mutatedKeys=xn(),this.eu=tA(t),this.tu=new Rh(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new rw,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,A)=>{const x=a.get(y),b=ag(this.query,A)?A:null,O=!!x&&this.mutatedKeys.has(x.key),F=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let q=!1;x&&b?x.data.isEqual(b.data)?O!==F&&(r.track({type:3,doc:b}),q=!0):this.su(x,b)||(r.track({type:2,doc:b}),q=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!x&&b?(r.track({type:0,doc:b}),q=!0):x&&!b&&(r.track({type:1,doc:x}),q=!0,(f||d)&&(c=!0)),q&&(b?(u=u.add(b),o=F?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,A)=>(function(b,O){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:q})}};return F(b)-F(O)})(y.type,A.type)||this.eu(y.doc,A.doc))),this.ou(r),a=a??!1;const c=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new jh(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new MA(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new OA(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=xn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return jh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $2="SyncEngine";class wk{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Ak{constructor(t){this.key=t,this.hu=!1}}class Sk{constructor(t,e,r,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Pc((c=>J3(c)),sg),this.Iu=new Map,this.Eu=new Set,this.du=new Or(Re.comparator),this.Au=new Map,this.Ru=new k2,this.Vu={},this.mu=new Map,this.fu=Mh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ek(n,t,e=!0){const r=qA(n);let a;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await jA(r,t,e,!0),a}async function xk(n,t){const e=qA(n);await jA(e,t,!0,!1)}async function jA(n,t,e,r){const a=await GL(n.localStore,$o(t)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let c;return r&&(c=await Tk(n,t,o,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&IA(n.remoteStore,a),c}async function Tk(n,t,e,r,a){n.pu=(A,x,b)=>(async function(F,q,B,tt){let et=q.view.ru(B);et.Cs&&(et=await Xb(F.localStore,q.query,!1).then((({documents:W})=>q.view.ru(W,et))));const Q=tt&&tt.targetChanges.get(q.targetId),st=tt&&tt.targetMismatches.get(q.targetId)!=null,Et=q.view.applyChanges(et,F.isPrimaryClient,Q,st);return ow(F,q.targetId,Et.au),Et.snapshot})(n,A,x,b);const o=await Xb(n.localStore,t,!0),u=new bk(t,o.Qs),c=u.ru(o.documents),f=Id.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);ow(n,e,d.au);const y=new wk(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function Nk(n,t,e){const r=Ze(n),a=r.Tu.get(t),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!sg(u,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await X0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&M2(r.remoteStore,a.targetId),t2(r,a.targetId)})).catch(zh)):(t2(r,a.targetId),await X0(r.localStore,a.targetId,!0))}async function Ck(n,t){const e=Ze(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),M2(e.remoteStore,r.targetId))}async function Ik(n,t,e){const r=Mk(n);try{const a=await(function(u,c){const f=Ze(u),d=vr.now(),y=c.reduce(((b,O)=>b.add(O.key)),xn());let A,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let O=Ml(),F=xn();return f.Ns.getEntries(b,y).next((q=>{O=q,O.forEach(((B,tt)=>{tt.isValidDocument()||(F=F.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,O))).next((q=>{A=q;const B=[];for(const tt of c){const et=H7(tt,A.get(tt.key).overlayedDocument);et!=null&&B.push(new $u(tt.key,et,G3(et.value.mapValue),Ls.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,B,c)})).next((q=>{x=q;const B=q.applyToLocalDocumentSet(A,F);return f.documentOverlayCache.saveOverlays(b,q.batchId,B)}))})).then((()=>({batchId:x.batchId,changes:nA(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Or(En)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(r,a.batchId,e),await Ld(r,a.changes),await dg(r.remoteStore)}catch(a){const o=B2(a,"Failed to persist write");e.reject(o)}}async function VA(n,t){const e=Ze(n);try{const r=await qL(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const u=e.Au.get(o);u&&(Bn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Bn(u.hu,14607):a.removedDocuments.size>0&&(Bn(u.hu,42227),u.hu=!1))})),await Ld(e,r,t)}catch(r){await zh(r)}}function aw(n,t,e){const r=Ze(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(t);c.snapshot&&a.push(c.snapshot)})),(function(u,c){const f=Ze(u);f.onlineState=c;let d=!1;f.queries.forEach(((y,A)=>{for(const x of A.Sa)x.va(c)&&(d=!0)})),d&&H2(f)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rk(n,t,e){const r=Ze(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),o=a&&a.key;if(o){let u=new Or(Re.comparator);u=u.insert(o,ys.newNoDocument(o,Qe.min()));const c=xn().add(o),f=new cg(Qe.min(),new Map,new Or(En),u,c);await VA(r,f),r.du=r.du.remove(o),r.Au.delete(t),W2(r)}else await X0(r.localStore,t,!1).then((()=>t2(r,t,e))).catch(zh)}async function Lk(n,t){const e=Ze(n),r=t.batch.batchId;try{const a=await BL(e.localStore,t);FA(e,r,null),UA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(e,a)}catch(a){await zh(a)}}async function kk(n,t,e){const r=Ze(n);try{const a=await(function(u,c){const f=Ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,c).next((A=>(Bn(A!==null,37113),y=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(r.localStore,t);FA(r,t,e),UA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Ld(r,a)}catch(a){await zh(a)}}function UA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function FA(n,t,e){const r=Ze(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function t2(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||BA(n,r)}))}function BA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(M2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),W2(n))}function ow(n,t,e){for(const r of e)r instanceof OA?(n.Ru.addReference(r.key,t),Pk(n,r)):r instanceof MA?(le($2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||BA(n,r.key)):Fe(19791,{wu:r})}function Pk(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(le($2,"New document in limbo: "+e),n.Eu.add(r),W2(n))}function W2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Re(hr.fromString(t)),r=n.fu.next();n.Au.set(r,new Ak(e)),n.du=n.du.insert(e,r),IA(n.remoteStore,new Nu($o(ig(e.path)),r,"TargetPurposeLimboResolution",eg.ce))}}async function Ld(n,t,e){const r=Ze(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,t,e).then((d=>{if((d||e)&&r.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){a.push(d);const y=D2.As(f.targetId,d);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(f,d){const y=Ze(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Yt.forEach(d,(x=>Yt.forEach(x.Es,(b=>y.persistence.referenceDelegate.addReference(A,x.targetId,b))).next((()=>Yt.forEach(x.ds,(b=>y.persistence.referenceDelegate.removeReference(A,x.targetId,b)))))))))}catch(A){if(!Hh(A))throw A;le(O2,"Failed to update sequence numbers: "+A)}for(const A of d){const x=A.targetId;if(!A.fromCache){const b=y.Ms.get(x),O=b.snapshotVersion,F=b.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(x,F)}}})(r.localStore,o))}async function Dk(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){le($2,"User change. New user:",t.toKey());const r=await xA(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new ie(zt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ld(e,r.Ls)}}function Ok(n,t){const e=Ze(n),r=e.Au.get(t);if(r&&r.hu)return xn().add(r.key);{let a=xn();const o=e.Iu.get(t);if(!o)return a;for(const u of o){const c=e.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function qA(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ok.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rk.bind(null,t),t.Pu.H_=vk.bind(null,t.eventManager),t.Pu.yu=_k.bind(null,t.eventManager),t}function Mk(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kk.bind(null,t),t}class Fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return FL(this.persistence,new jL,t.initialUser,this.serializer)}Cu(t){return new EA(P2.mi,this.serializer)}Du(t){return new WL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fm.provider={build:()=>new Fm};class jk extends Fm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Bn(this.persistence.referenceDelegate instanceof Vm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AL(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new EA((r=>Vm.mi(r,e)),this.serializer)}}class e2{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dk.bind(null,this.syncEngine),await mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yk})()}createDatastore(t){const e=hg(t.databaseInfo.databaseId),r=(function(o){return new ZL(o)})(t.databaseInfo);return(function(o,u,c,f){return new nk(o,u,c,f)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,o,u,c){return new ik(r,a,o,u,c)})(this.localStore,this.datastore,t.asyncQueue,(e=>aw(this.syncEngine,e,0)),(function(){return tw.v()?new tw:new YL})())}createSyncEngine(t,e){return(function(a,o,u,c,f,d,y){const A=new Sk(a,o,u,c,f,d);return y&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Ze(e);le(Ic,"RemoteStore shutting down."),r.Ea.add(5),await Rd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}e2.provider={build:()=>new e2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ol("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="FirestoreClient";class Vk{constructor(t,e,r,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=gs.UNAUTHENTICATED,this.clientId=A2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{le(Fu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(le(Fu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=B2(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function d0(n,t){n.asyncQueue.verifyOperationInProgress(),le(Fu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await xA(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function lw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Uk(n);le(Fu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>nw(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>nw(t.remoteStore,a))),n._onlineComponents=t}async function Uk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Fu,"Using user provided OfflineComponentProvider");try{await d0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===zt.FAILED_PRECONDITION||a.code===zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;kh("Error using user provided cache. Falling back to memory cache: "+e),await d0(n,new Fm)}}else le(Fu,"Using default OfflineComponentProvider"),await d0(n,new jk(void 0));return n._offlineComponents}async function zA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Fu,"Using user provided OnlineComponentProvider"),await lw(n,n._uninitializedComponentsProvider._online)):(le(Fu,"Using default OnlineComponentProvider"),await lw(n,new e2))),n._onlineComponents}function Fk(n){return zA(n).then((t=>t.syncEngine))}async function Bm(n){const t=await zA(n),e=t.eventManager;return e.onListen=Ek.bind(null,t.syncEngine),e.onUnlisten=Nk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Ck.bind(null,t.syncEngine),e}function Bk(n,t,e={}){const r=new Rl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new Y2({next:x=>{y.Nu(),u.enqueueAndForget((()=>z2(o,A)));const b=x.docs.has(c);!b&&x.fromCache?d.reject(new ie(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&f&&f.source==="server"?d.reject(new ie(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),A=new G2(ig(c.path),y,{includeMetadataChanges:!0,qa:!0});return q2(o,A)})(await Bm(n),n.asyncQueue,t,e,r))),r.promise}function qk(n,t,e={}){const r=new Rl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new Y2({next:x=>{y.Nu(),u.enqueueAndForget((()=>z2(o,A))),x.fromCache&&f.source==="server"?d.reject(new ie(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(x)},error:x=>d.reject(x)}),A=new G2(c,y,{includeMetadataChanges:!0,qa:!0});return q2(o,A)})(await Bm(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firestore.googleapis.com",cw=!0;class hw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ie(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GA,this.ssl=cw}else this.host=t.host,this.ssl=t.ssl??cw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bL)throw new ie(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}s7("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pg{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ie(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KR;switch(r.type){case"firstParty":return new JR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=uw.get(e);r&&(le("ComponentProvider","Removing Datastore"),uw.delete(e),r.terminate())})(this),Promise.resolve()}}function zk(n,t,e,r={}){n=Rs(n,pg);const a=Uh(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${t}:${e}`;a&&(j4(`https://${c}`),V4("Firestore",!0)),o.host!==GA&&o.host!==c&&kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:a,emulatorOptions:r};if(!xc(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=gs.MOCK_USER;else{d=s8(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ie(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new gs(A)}n._authCredentials=new QR(new P3(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vl(this.firestore,t,this._query)}}class $r{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $r(this.firestore,t,this._key)}toJSON(){return{type:$r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Nd(e,$r._jsonSchema))return new $r(t,r||null,new Re(hr.fromString(e.referencePath)))}}$r._jsonSchemaVersion="firestore/documentReference/1.0",$r._jsonSchema={type:fi("string",$r._jsonSchemaVersion),referencePath:fi("string")};class ku extends Vl{constructor(t,e,r){super(t,e,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $r(this.firestore,null,new Re(t))}withConverter(t){return new ku(this.firestore,t,this._path)}}function ua(n,t,...e){if(n=ii(n),D3("collection","path",t),n instanceof pg){const r=hr.fromString(t,...e);return Eb(r),new ku(n,null,r)}{if(!(n instanceof $r||n instanceof ku))throw new ie(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(t,...e));return Eb(r),new ku(n.firestore,null,r)}}function fa(n,t,...e){if(n=ii(n),arguments.length===1&&(t=A2.newId()),D3("doc","path",t),n instanceof pg){const r=hr.fromString(t,...e);return Sb(r),new $r(n,null,new Re(r))}{if(!(n instanceof $r||n instanceof ku))throw new ie(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(t,...e));return Sb(r),new $r(n.firestore,n instanceof ku?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="AsyncQueue";class dw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const r=f0();r&&le(fw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=f0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=f0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Rl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Hh(t))throw t;le(fw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ol("INTERNAL UNHANDLED ERROR: ",pw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=F2.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Fe(47125,{Pc:pw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function pw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Xo extends pg{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new dw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new dw(t),this._firestoreClient=void 0,await t}}}function Hk(n,t){const e=typeof n=="object"?n:q4(),r=typeof n=="string"?n:Pm,a=f2(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=r8("firestore");o&&zk(a,...o)}return a}function kd(n){if(n._terminated)throw new ie(zt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Gk(n),n._firestoreClient}function Gk(n){const t=n._freezeSettings(),e=(function(a,o,u,c){return new g7(a,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,HA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Vk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qa(Ji.fromBase64String(t))}catch(e){throw new ie(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qa(Ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nd(t,qa._jsonSchema))return qa.fromBase64String(t.bytes)}}qa._jsonSchemaVersion="firestore/bytes/1.0",qa._jsonSchema={type:fi("string",qa._jsonSchemaVersion),bytes:fi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ie(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ie(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ie(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return En(this._lat,t._lat)||En(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yo._jsonSchemaVersion}}static fromJSON(t){if(Nd(t,Yo._jsonSchema))return new Yo(t.latitude,t.longitude)}}Yo._jsonSchemaVersion="firestore/geoPoint/1.0",Yo._jsonSchema={type:fi("string",Yo._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ko._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nd(t,Ko._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ko(t.vectorValues);throw new ie(zt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ko._jsonSchemaVersion="firestore/vectorValue/1.0",Ko._jsonSchema={type:fi("string",Ko._jsonSchemaVersion),vectorValues:fi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=/^__.*__$/;class Wk{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new $u(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cd(t,this.data,e,this.fieldTransforms)}}class $A{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new $u(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function WA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class K2{constructor(t,e,r,a,o,u){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new K2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WA(this.Ac)&&$k.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Yk{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||hg(t)}Cc(t,e,r,a=!1){return new K2({Ac:t,methodName:e,Dc:r,path:Zi.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const t=n._freezeSettings(),e=hg(n._databaseId);return new Yk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Q2(n,t,e,r,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);J2("Data must be an object, but it was:",u,r);const c=QA(r,u);let f,d;if(o.merge)f=new ha(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const A of o.mergeFields){const x=n2(t,A,e);if(!u.contains(x))throw new ie(zt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ZA(y,x)||y.push(x)}f=new ha(y),d=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=u.fieldTransforms;return new Wk(new $s(c),f,d)}class mg extends Dd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mg}}class X2 extends Dd{_toFieldTransform(t){return new cA(t.path,new dd)}isEqual(t){return t instanceof X2}}class Z2 extends Dd{constructor(t,e){super(t),this.Fc=e}_toFieldTransform(t){const e=new gd(t.serializer,sA(t.serializer,this.Fc));return new cA(t.path,e)}isEqual(t){return t instanceof Z2&&this.Fc===t.Fc}}function YA(n,t,e,r){const a=n.Cc(1,t,e);J2("Data must be an object, but it was:",a,r);const o=[],u=$s.empty();Gu(r,((f,d)=>{const y=ty(t,f,e);d=ii(d);const A=a.yc(y);if(d instanceof mg)o.push(y);else{const x=Md(d,A);x!=null&&(o.push(y),u.set(y,x))}}));const c=new ha(o);return new $A(u,c,a.fieldTransforms)}function KA(n,t,e,r,a,o){const u=n.Cc(1,t,e),c=[n2(t,r,e)],f=[a];if(o.length%2!=0)throw new ie(zt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(n2(t,o[x])),f.push(o[x+1]);const d=[],y=$s.empty();for(let x=c.length-1;x>=0;--x)if(!ZA(d,c[x])){const b=c[x];let O=f[x];O=ii(O);const F=u.yc(b);if(O instanceof mg)d.push(b);else{const q=Md(O,F);q!=null&&(d.push(b),y.set(b,q))}}const A=new ha(d);return new $A(y,A,u.fieldTransforms)}function Kk(n,t,e,r=!1){return Md(e,n.Cc(r?4:3,t))}function Md(n,t){if(XA(n=ii(n)))return J2("Unsupported field value:",t,n),QA(n,t);if(n instanceof Dd)return(function(r,a){if(!WA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const c of r){let f=Md(c,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(r,a){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sA(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vr.fromDate(r);return{timestampValue:jm(a.serializer,o)}}if(r instanceof vr){const o=new vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jm(a.serializer,o)}}if(r instanceof Yo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:gA(a.serializer,r._byteString)};if(r instanceof $r){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:L2(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ko)return(function(u,c){return{mapValue:{fields:{[z3]:{stringValue:H3},[Dm]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return C2(c.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${tg(r)}`)})(n,t)}function QA(n,t){const e={};return j3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gu(n,((r,a)=>{const o=Md(a,t.mc(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function XA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof Yo||n instanceof qa||n instanceof $r||n instanceof Dd||n instanceof Ko)}function J2(n,t,e){if(!XA(e)||!O3(e)){const r=tg(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function n2(n,t,e){if((t=ii(t))instanceof Pd)return t._internalPath;if(typeof t=="string")return ty(n,t);throw qm("Field path arguments must be of type string or ",n,!1,void 0,e)}const Qk=new RegExp("[~\\*/\\[\\]]");function ty(n,t,e){if(t.search(Qk)>=0)throw qm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Pd(...t.split("."))._internalPath}catch{throw qm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qm(n,t,e,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new ie(zt.INVALID_ARGUMENT,c+n+f)}function ZA(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t,e,r,a,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ey("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Xk extends JA{data(){return super.data()}}function ey(n,t){return typeof t=="string"?ty(n,t):t instanceof Pd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class ry extends ny{}function xu(n,t,...e){let r=[];t instanceof ny&&r.push(t),r=r.concat(e),(function(o){const u=o.filter((f=>f instanceof sy)).length,c=o.filter((f=>f instanceof iy)).length;if(u>1||u>0&&c>0)throw new ie(zt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class iy extends ry{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new iy(t,e,r)}_apply(t){const e=this._parse(t);return nS(t._query,e),new Vl(t.firestore,t.converter,$0(t._query,e))}_parse(t){const e=Od(t.firestore);return(function(o,u,c,f,d,y,A){let x;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ie(zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){yw(A,y);const O=[];for(const F of A)O.push(gw(f,o,F));x={arrayValue:{values:O}}}else x=gw(f,o,A)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||yw(A,y),x=Kk(c,u,A,y==="in"||y==="not-in");return hi.create(d,y,x)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class sy extends ny{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new sy(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:yo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let u=a;const c=o.getFlattenedFilters();for(const f of c)nS(u,f),u=$0(u,f)})(t._query,e),new Vl(t.firestore,t.converter,$0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ay extends ry{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ay(t,e)}_apply(t){const e=(function(a,o,u){if(a.startAt!==null)throw new ie(zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fd(o,u)})(t._query,this._field,this._direction);return new Vl(t.firestore,t.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new Gh(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function Zk(n,t="asc"){const e=t,r=ey("orderBy",n);return ay._create(r,e)}class oy extends ry{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new oy(t,e,r)}_apply(t){return new Vl(t.firestore,t.converter,Mm(t._query,this._limit,this._limitType))}}function eS(n){return oy._create("limit",n,"F")}function gw(n,t,e){if(typeof(e=ii(e))=="string"){if(e==="")throw new ie(zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z3(t)&&e.indexOf("/")!==-1)throw new ie(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(hr.fromString(e));if(!Re.isDocumentKey(r))throw new ie(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kb(n,new Re(r))}if(e instanceof $r)return kb(n,e._key);throw new ie(zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(e)}.`)}function yw(n,t){if(!Array.isArray(n)||n.length===0)throw new ie(zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nS(n,t){const e=(function(a,o){for(const u of a)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ie(zt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ie(zt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Jk{convertValue(t,e="none"){switch(Vu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ti(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Fe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Gu(t,((a,o)=>{r[a]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[Dm].arrayValue?.values?.map((r=>ti(r.doubleValue)));return new Ko(e)}convertGeoPoint(t){return new Yo(ti(t.latitude),ti(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=rg(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(ud(t));default:return null}}convertTimestamp(t){const e=Mu(t);return new vr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=hr.fromString(t);Bn(AA(r),9688,{name:t});const a=new cd(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return a.isEqual(e)||Ol(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Wf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wc extends JA{constructor(t,e,r,a,o,u){super(t,e,r,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(ey("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(zt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=wc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}wc._jsonSchemaVersion="firestore/documentSnapshot/1.0",wc._jsonSchema={type:fi("string",wc._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class gm extends wc{data(t={}){return super.data(t)}}class Ac{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Wf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new gm(this._firestore,this._userDataWriter,r.key,r,new Wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ie(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((c=>{const f=new gm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Wf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new gm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Wf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:tP(c.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(zt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ac._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=A2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n){n=Rs(n,$r);const t=Rs(n.firestore,Xo);return Bk(kd(t),n._key).then((e=>rS(t,n,e)))}Ac._jsonSchemaVersion="firestore/querySnapshot/1.0",Ac._jsonSchema={type:fi("string",Ac._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class uy extends Jk{constructor(t){super(),this.firestore=t}convertBytes(t){return new qa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new $r(this.firestore,null,e)}}function eP(n){n=Rs(n,Vl);const t=Rs(n.firestore,Xo),e=kd(t),r=new uy(t);return tS(n._query),qk(e,n._query).then((a=>new Ac(t,r,n,a)))}function cy(n,t,e){n=Rs(n,$r);const r=Rs(n.firestore,Xo),a=ly(n.converter,t,e);return jd(r,[Q2(Od(r),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Ls.none())])}function Hm(n,t,e,...r){n=Rs(n,$r);const a=Rs(n.firestore,Xo),o=Od(a);let u;return u=typeof(t=ii(t))=="string"||t instanceof Pd?KA(o,"updateDoc",n._key,t,e,r):YA(o,"updateDoc",n._key,t),jd(a,[u.toMutation(n._key,Ls.exists(!0))])}function hy(n){return jd(Rs(n.firestore,Xo),[new ug(n._key,Ls.none())])}function gg(n,t){const e=Rs(n.firestore,Xo),r=fa(n),a=ly(n.converter,t);return jd(e,[Q2(Od(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Ls.exists(!1))]).then((()=>r))}function vc(n,...t){n=ii(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||mw(t[r])||(e=t[r++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(mw(t[r])){const f=t[r];t[r]=f.next?.bind(f),t[r+1]=f.error?.bind(f),t[r+2]=f.complete?.bind(f)}let o,u,c;if(n instanceof $r)u=Rs(n.firestore,Xo),c=ig(n._key.path),o={next:f=>{t[r]&&t[r](rS(u,n,f))},error:t[r+1],complete:t[r+2]};else{const f=Rs(n,Vl);u=Rs(f.firestore,Xo),c=f._query;const d=new uy(u);o={next:y=>{t[r]&&t[r](new Ac(u,d,f,y))},error:t[r+1],complete:t[r+2]},tS(n._query)}return(function(d,y,A,x){const b=new Y2(x),O=new G2(y,b,A);return d.asyncQueue.enqueueAndForget((async()=>q2(await Bm(d),O))),()=>{b.Nu(),d.asyncQueue.enqueueAndForget((async()=>z2(await Bm(d),O)))}})(kd(u),c,a,o)}function jd(n,t){return(function(r,a){const o=new Rl;return r.asyncQueue.enqueueAndForget((async()=>Ik(await Fk(r),a,o))),o.promise})(kd(n),t)}function rS(n,t,e){const r=e.docs.get(t._key),a=new uy(n);return new wc(n,a,t._key,r,new Wf(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Od(t)}set(t,e,r){this._verifyNotCommitted();const a=p0(t,this._firestore),o=ly(a.converter,e,r),u=Q2(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,Ls.none())),this}update(t,e,r,...a){this._verifyNotCommitted();const o=p0(t,this._firestore);let u;return u=typeof(e=ii(e))=="string"||e instanceof Pd?KA(this._dataReader,"WriteBatch.update",o._key,e,r,a):YA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Ls.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=p0(t,this._firestore);return this._mutations=this._mutations.concat(new ug(e._key,Ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(zt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function p0(n,t){if((n=ii(n)).firestore!==t)throw new ie(zt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Bu(){return new X2("serverTimestamp")}function iS(n){return new Z2("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){return kd(n=Rs(n,Xo)),new nP(n,(t=>jd(n,t)))}(function(t,e=!0){(function(a){qh=a})(Fh),Lh(new Tc("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Xo(new XR(r.getProvider("auth-internal")),new t7(u,r.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(d.options.projectId,y)})(u,a),u);return o={useFetchStreams:e,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Ru(_b,bb,t),Ru(_b,bb,"esm2020")})();const or={dashboard:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),sales:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),products:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7.5L12 3l9 4.5M3 7.5v9l9 4.5m9-13.5v9l-9 4.5m0-9l9-4.5m-9 4.5L3 7.5"})}),purchases:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),inventory:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),reports:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),logout:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),plus:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),user:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),money:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),close:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),trash:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),edit:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),filter:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h18M6 12h12M10 20h4"})}),userPlus:M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 14a4 4 0 10-8 0 4 4 0 008 0z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14v7m-5-3h10M16 3h5m-2.5-2.5V5.5"})]}),eye:M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})},iP={apiKey:"AIzaSyA6pwcMnIn0y0HcKRWQhfpvPKwmbH-Jc4Y",authDomain:"sofwipad-erp-contable.firebaseapp.com",projectId:"sofwipad-erp-contable",storageBucket:"sofwipad-erp-contable.appspot.com",messagingSenderId:"902895181248",appId:"1:902895181248:web:dfb884b039dedacfb3bc25",measurementId:"G-D22KTMEDP6"},sS=B4(iP),yd=$R(sS),yr=Hk(sS);YR("debug");const aS=Jt.createContext(),sP=({children:n})=>{const[t,e]=Jt.useState(null),[r,a]=Jt.useState(null),[o,u]=Jt.useState(null),[c,f]=Jt.useState(!0),[d,y]=Jt.useState(""),A=async b=>{const O=rP(yr),F=ua(yr,`companies/${b}/chart_of_accounts`);[{code:"1105",name:"Caja",class:"Activo"},{code:"1110",name:"Bancos",class:"Activo"},{code:"1305",name:"Clientes",class:"Activo"},{code:"1435",name:"Inventarios",class:"Activo"},{code:"2205",name:"Proveedores Nacionales",class:"Pasivo"},{code:"2105",name:"Obligaciones Financieras",class:"Pasivo"},{code:"3115",name:"Aportes Sociales",class:"Patrimonio"},{code:"4135",name:"Comercio al por mayor y al por menor",class:"Ingreso"},{code:"5105",name:"Gastos de Personal",class:"Gasto"},{code:"5195",name:"Diversos",class:"Gasto"},{code:"6135",name:"Costo de Ventas",class:"Costo"}].forEach(B=>{const tt=fa(F,B.code);O.set(tt,B)});try{await O.commit(),console.log(`Plan de cuentas inicial creado para la empresa: ${b}`)}catch(B){console.error("Error creando el plan de cuentas inicial:",B),y("No se pudo completar la configuración inicial de la empresa.")}};Jt.useEffect(()=>{const O=OI(yd,async F=>{if(F&&!F.isAnonymous){const q=fa(yr,"users",F.uid),B=await zm(q);if(B.exists()){const tt={uid:F.uid,...B.data()};if(e(F),a(tt),tt.companyId){const et=fa(yr,"companies",tt.companyId),Q=await zm(et);if(Q.exists()){u({id:Q.id,...Q.data()});const st=ua(yr,`companies/${tt.companyId}/chart_of_accounts`),Et=xu(st,eS(1));(await eP(Et)).empty&&(console.log("Plan de cuentas no encontrado, iniciando configuración..."),await A(tt.companyId))}else y(`Error: La empresa con ID ${tt.companyId} no fue encontrada.`),u(null)}else y("Usuario no está asociado a ninguna empresa."),u(null)}else y("No se encontró el perfil del usuario en la base de datos."),await m3(yd)}else e(null),a(null),u(null);f(!1)});return()=>O()},[]);const x={user:t,userData:r,companyData:o,loading:c,error:d,setError:y};return M.jsx(aS.Provider,{value:x,children:n})},Oc=()=>Jt.useContext(aS),yg=({isOpen:n,onClose:t,title:e,children:r})=>n?M.jsx("div",{className:"fixed inset-0 backdrop-blur-sm z-50 flex justify-center items-center p-4",children:M.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-7xl h-[90vh] overflow-y-auto",children:[M.jsxs("div",{className:"flex justify-between items-center p-4 border-b sticky top-0 bg-white z-10",children:[M.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e}),M.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:or.close})]}),M.jsx("div",{className:"p-6",children:r})]})}):null,Gr=({id:n,label:t,...e})=>M.jsxs("div",{children:[M.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),M.jsx("input",{id:n,...e,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),Bo=({id:n,label:t,children:e,...r})=>M.jsxs("div",{children:[M.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),M.jsx("select",{id:n,...r,className:"w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:e})]}),Is=({children:n,onClick:t,type:e="button",variant:r="primary",...a})=>{const o="inline-flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"border-transparent text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",secondary:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500",danger:"border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500"};return M.jsx("button",{type:e,onClick:t,className:`${o} ${u[r]}`,...a,children:n})},vd=({title:n,children:t,actions:e})=>M.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[M.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),e&&M.jsx("div",{className:"flex space-x-2",children:e})]}),M.jsx("div",{className:"p-4",children:t})]}),vg=()=>M.jsx("div",{className:"flex justify-center items-center h-full",children:M.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-500"})}),oS=({message:n})=>n?M.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative my-4",role:"alert",children:[M.jsx("strong",{className:"font-bold",children:"Error: "}),M.jsx("span",{className:"block sm:inline",children:n})]}):null,aP=()=>{const[n,t]=Jt.useState(!0),[e,r]=Jt.useState(""),[a,o]=Jt.useState(""),[u,c]=Jt.useState(""),[f,d]=Jt.useState(""),[y,A]=Jt.useState(""),[x,b]=Jt.useState(""),[O,F]=Jt.useState(!1),q=async tt=>{tt.preventDefault(),F(!0),b("");try{await kI(yd,e,a)}catch(et){b(et.message)}F(!1)},B=async tt=>{if(tt.preventDefault(),a.length<6){b("La contraseña debe tener al menos 6 caracteres.");return}F(!0),b("");try{const et=ua(yr,"companies"),Q=await gg(et,{name:f,NIT:y,createdAt:Bu(),taxConfig:{iva:19,ica:.414,retefuente:2.5}}),Et=(await LI(yd,e,a)).user;await cy(fa(yr,"users",Et.uid),{name:u,email:e,companyId:Q.id,role:"Admin",createdAt:Bu()})}catch(et){b(et.message)}F(!1)};return M.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[M.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[M.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Sofwipad ERP Contable"}),M.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Inicia sesión en tu cuenta":"Crea una nueva cuenta y empresa"})]}),M.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:M.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[M.jsxs("form",{className:"space-y-6",onSubmit:n?q:B,children:[!n&&M.jsxs(M.Fragment,{children:[M.jsx(Gr,{id:"name",name:"name",type:"text",label:"Tu Nombre Completo",required:!0,value:u,onChange:tt=>c(tt.target.value)}),M.jsx(Gr,{id:"companyName",name:"companyName",type:"text",label:"Nombre de la Empresa",required:!0,value:f,onChange:tt=>d(tt.target.value)}),M.jsx(Gr,{id:"nit",name:"nit",type:"text",label:"NIT de la Empresa",required:!0,value:y,onChange:tt=>A(tt.target.value)}),M.jsx("hr",{})]}),M.jsx(Gr,{id:"email",name:"email",type:"email",label:"Correo Electrónico",autoComplete:"email",required:!0,value:e,onChange:tt=>r(tt.target.value)}),M.jsx(Gr,{id:"password",name:"password",type:"password",label:"Contraseña",autoComplete:"current-password",required:!0,value:a,onChange:tt=>o(tt.target.value)}),M.jsx(oS,{message:x}),M.jsx("div",{children:M.jsx(Is,{type:"submit",variant:"primary",className:"w-full",disabled:O,children:O?"Procesando...":n?"Iniciar Sesión":"Registrar Empresa"})})]}),M.jsxs("div",{className:"mt-6",children:[M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-gray-300"})}),M.jsx("div",{className:"relative flex justify-center text-sm",children:M.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O"})})]}),M.jsx("div",{className:"mt-6 text-center",children:M.jsx("button",{onClick:()=>{t(!n),b("")},className:"font-medium text-indigo-600 hover:text-indigo-500",children:n?"¿No tienes una cuenta? Regístrate":"¿Ya tienes una cuenta? Inicia sesión"})})]})]})})]})},oP=()=>{const{userData:n,companyData:t}=Oc(),[e,r]=Jt.useState("dashboard"),[a,o]=Jt.useState(!0),u=async()=>{await m3(yd)},c=({view:y,icon:A,children:x})=>M.jsxs("a",{href:"#",onClick:b=>{b.preventDefault(),r(y)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors ${e===y?"bg-indigo-600 text-white":"text-gray-300 hover:bg-indigo-800 hover:text-white"}`,children:[M.jsx("span",{className:"mr-3",children:A}),x]}),f=()=>{switch(e){case"dashboard":return M.jsx(vw,{});case"sales":return M.jsx(lP,{setActiveView:r});case"thirdparties":return M.jsx(uP,{});case"products":return M.jsx(cP,{});default:return M.jsx(vw,{})}},d={Admin:"Administrador",Contador:"Contador",Empleado:"Empleado"};return M.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans relative",children:[M.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-indigo-900 text-white flex flex-col transform transition-transform duration-300 z-20
        ${a?"translate-x-0 w-64":"-translate-x-full w-64"}`,children:[M.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-indigo-800",children:[M.jsx("h2",{className:"text-xl font-bold truncate",children:t?.name||"ERP Nube"}),M.jsx("button",{onClick:()=>o(!1),"aria-label":"Cerrar menú",className:"text-gray-300 hover:text-white",children:M.jsx($N,{className:"h-6 w-6"})})]}),M.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[M.jsx(c,{view:"dashboard",icon:or.dashboard,children:"Dashboard"}),M.jsx(c,{view:"sales",icon:or.sales,children:"Ventas"}),M.jsx(c,{view:"purchases",icon:or.purchases,children:"Compras"}),M.jsx(c,{view:"inventory",icon:or.inventory,children:"Inventario"}),M.jsx(c,{view:"reports",icon:or.reports,children:"Reportes"}),M.jsx(c,{view:"thirdparties",icon:or.user,children:"Clientes/Proveedores"}),M.jsx(c,{view:"products",icon:or.products,children:"Productos/Servicios"})]}),M.jsxs("div",{className:"px-4 py-4 border-t border-indigo-800",children:[M.jsxs("div",{className:"flex items-center mb-4",children:[M.jsx("div",{className:"p-2 bg-indigo-700 rounded-full",children:or.user}),M.jsxs("div",{className:"ml-3",children:[M.jsx("p",{className:"text-sm font-medium text-white",children:n?.name}),M.jsx("p",{className:"text-xs text-indigo-300",children:d[n?.role]||n?.role})]})]}),M.jsxs("a",{href:"#",onClick:u,className:"flex items-center w-full px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-red-600 hover:text-white transition-colors",children:[M.jsx("span",{className:"mr-3",children:or.logout}),"Cerrar Sesión"]})]})]}),!a&&M.jsxs("div",{className:"fixed top-1/2 -translate-y-1/2 left-0 z-30 group",children:[M.jsx("button",{onClick:()=>o(!0),"aria-label":"Abrir menú",className:"bg-indigo-600 text-white p-2 rounded-r-md shadow-md transition-all duration-300 hover:bg-indigo-700 hover:-translate-x-1",children:M.jsx(YN,{className:"h-6 w-6"})}),M.jsxs("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300 bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none",children:["Abrir menú",M.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1 w-2 h-2 bg-gray-900 rotate-45"})]})]}),M.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${a?"ml-64":"ml-0"}`,children:[M.jsx("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-6",children:M.jsx("h1",{className:"text-2xl font-semibold text-gray-800 capitalize",children:e})}),M.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:f()})]})]})},vw=()=>{const{companyData:n}=Oc(),t=[{title:"Ventas del Mes",value:"$12,500,000",icon:or.sales,color:"text-green-500"},{title:"Cuentas por Cobrar",value:"$4,200,000",icon:or.money,color:"text-yellow-500"},{title:"Compras del Mes",value:"$7,800,000",icon:or.purchases,color:"text-red-500"},{title:"Valor Inventario",value:"$25,000,000",icon:or.inventory,color:"text-blue-500"}];return M.jsxs("div",{className:"space-y-6",children:[M.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Bienvenido a ",n?.name]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(e=>M.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[M.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${e.color}`,children:pE.cloneElement(e.icon,{className:"h-8 w-8"})}),M.jsxs("div",{className:"ml-4",children:[M.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e.title}),M.jsx("p",{className:"text-sm font-medium text-gray-500",children:e.value})]})]},e.title))}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M.jsx(vd,{title:"Ventas vs Compras (Últimos 6 meses)",children:M.jsx("div",{className:"h-64 bg-gray-200 rounded-md flex items-center justify-center",children:M.jsx("p",{className:"text-gray-500",children:"Gráfico de barras aquí"})})}),M.jsx(vd,{title:"Actividades Recientes",children:M.jsxs("ul",{className:"space-y-3",children:[M.jsx("li",{className:"text-sm text-gray-600",children:"Factura de venta #FV-002 creada."}),M.jsx("li",{className:"text-sm text-gray-600",children:"Pago a proveedor 'DistriPartes SAS' registrado."}),M.jsx("li",{className:"text-sm text-gray-600",children:"Nuevo producto 'Aceite 20W-50' añadido al inventario."})]})})]})]})},lP=({setActiveView:n})=>{const{companyData:t}=Oc(),[e,r]=Jt.useState(!1),[a,o]=Jt.useState(null),[u,c]=Jt.useState(null),[f,d]=Jt.useState(!1),[y,A]=Jt.useState([]),[x,b]=Jt.useState([]),[O,F]=Jt.useState([]),[q,B]=Jt.useState([]),[tt,et]=Jt.useState(!0),[Q,st]=Jt.useState(null);Jt.useEffect(()=>{if(!t)return;et(!0);const U=xu(ua(yr,`companies/${t.id}/invoices_sales`)),T=vc(U,I=>{const k=I.docs.map(ut=>({id:ut.id,...ut.data()}));A(k),et(!1)},I=>{console.error("Error fetching invoices: ",I),et(!1)});return()=>T()},[t]),Jt.useEffect(()=>{if(!t)return;const U=xu(ua(yr,`companies/${t.id}/thirdparties`)),T=xu(ua(yr,`companies/${t.id}/products`)),I=xu(ua(yr,`companies/${t.id}/retenciones`)),k=vc(U,at=>{b(at.docs.map(mt=>({id:mt.id,...mt.data()})))}),ut=vc(T,at=>{F(at.docs.map(mt=>({id:mt.id,...mt.data()})))}),Tt=vc(I,at=>{B(at.docs.map(mt=>({id:mt.id,...mt.data()})))});return()=>{k(),ut(),Tt()}},[t]),Jt.useEffect(()=>{if(!t)return;const U=xu(ua(yr,`companies/${t.id}/invoices_sales`),Zk("createdAt","desc"),eS(1)),T=vc(U,I=>{if(I.empty)st(null);else{const k=I.docs[0].data();st(k.invoiceNumber)}});return()=>T()},[t]);const Et=async U=>{if(!t)return;const T=Al.loading("Creando factura...");try{const I=fa(yr,`companies/${t.id}/counters/invoices_sales`);await cy(I,{lastNumber:iS(1)},{merge:!0});const k=await zm(I),ut=k.exists()?k.data().lastNumber:1,Tt=`FV-${String(ut).padStart(3,"0")}`,at=ua(yr,`companies/${t.id}/invoices_sales`),mt=await gg(at,{...U,companyId:t.id,invoiceNumber:Tt,createdAt:Bu(),status:"Pendiente"});await Hm(mt,{id:mt.id}),r(!1),Al.success("✅ Factura creada con éxito",{id:T})}catch(I){console.error("Error creating invoice: ",I),Al.error("❌ Error al crear la factura",{id:T})}},W=async U=>{if(!t||!a)return;const T=Al.loading("Actualizando factura...");try{const I=fa(yr,`companies/${t.id}/invoices_sales/${a.id}`);await Hm(I,{...U,updatedAt:Bu()}),o(null),r(!1),Al.success("✅ Factura actualizada correctamente",{id:T})}catch(I){console.error("Error updating invoice: ",I),Al.error("❌ Error al actualizar la factura",{id:T})}},D=async U=>{if(!t||!window.confirm("¿Seguro que deseas eliminar esta factura?"))return;const T=Al.loading("Eliminando factura...");try{const I=`companies/${t.id}/invoices_sales/${U}`;await hy(fa(yr,I)),Al.success("✅ Factura eliminada correctamente",{id:T})}catch(I){console.error("❌ Error deleting invoice: ",I),Al.error("❌ Error eliminando factura",{id:T})}},R=U=>{const T=new Se;T.setFontSize(16),T.text("Factura de Venta",14,20),T.setFontSize(10),T.text(`Número: ${U.invoiceNumber}`,14,28),T.text(`Cliente: ${x.find(k=>k.id===U.clientId)?.name||"N/A"}`,14,34);const I=U.items.map(k=>[k.name,k.quantity,`$${k.price}`,`${k.discount}%`,`${k.tax}%`,`${k.retention}%`,`$${(k.price*k.quantity).toFixed(2)}`]);T.autoTable({head:[["Producto","Cant.","Precio","Desc.","IVA","Ret.","Total"]],body:I,startY:40}),T.text(`Subtotal: $${U.subtotal}`,14,T.lastAutoTable.finalY+10),T.text(`IVA: $${U.iva}`,14,T.lastAutoTable.finalY+16),T.text(`Retenciones: -$${U.retenciones}`,14,T.lastAutoTable.finalY+22),T.setFontSize(12),T.text(`Total Neto: $${U.total}`,14,T.lastAutoTable.finalY+32),T.save(`Factura_${U.invoiceNumber}.pdf`)};return M.jsxs("div",{children:[M.jsx("div",{className:"border-b mb-4",children:M.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[M.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de venta"}),M.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Facturas recurrentes"}),M.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Clientes"}),M.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Seguimiento comercial"})]})}),M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("input",{type:"text",placeholder:"Buscar por Identificación o Cliente",className:"border px-3 py-2 rounded-lg text-sm w-80"}),M.jsxs(Is,{variant:"secondary",children:[or.filter," Filtros"]})]}),M.jsxs("div",{className:"flex space-x-2",children:[M.jsxs(Is,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[or.userPlus," Crear Cliente"]}),M.jsxs(Is,{onClick:()=>{o(null),r(!0)},children:[or.plus," Crear Factura"]})]})]}),M.jsx(vd,{title:"Facturas de Venta",children:tt?M.jsx(vg,{}):M.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[M.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-3",children:"Fecha"}),M.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),M.jsx("th",{className:"px-6 py-3",children:"Identificación"}),M.jsx("th",{className:"px-6 py-3",children:"Cliente"}),M.jsx("th",{className:"px-6 py-3",children:"Total"}),M.jsx("th",{className:"px-6 py-3",children:"Moneda"}),M.jsx("th",{className:"px-6 py-3",children:"Estado"}),M.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),M.jsx("tbody",{children:y.map(U=>M.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[M.jsx("td",{className:"px-6 py-4",children:U.date?.seconds?new Date(U.date.seconds*1e3).toLocaleDateString():"N/A"}),M.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:U.invoiceNumber||"FV-SINID"}),M.jsx("td",{className:"px-6 py-4",children:x.find(T=>T.id===U.clientId)?.idNumber||"N/A"}),M.jsx("td",{className:"px-6 py-4",children:x.find(T=>T.id===U.clientId)?.name||"Consumidor Final"}),M.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(U.total||0)]}),M.jsx("td",{className:"px-6 py-4",children:"COP"}),M.jsx("td",{className:"px-6 py-4",children:M.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U.status==="Pagada"?"bg-green-100 text-green-800":U.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:U.status||"Pendiente"})}),M.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[M.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(U),d(!0)},children:or.eye}),M.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(U),r(!0)},children:or.edit}),M.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>D(U.id),children:or.trash})]})]},U.id))})]})}),M.jsx(hP,{isOpen:e,onClose:()=>{r(!1),o(null)},onSubmit:a?W:Et,clients:x,products:O,retenciones:q,initialData:a,lastInvoiceNumber:Q}),f&&u&&M.jsxs(yg,{isOpen:f,onClose:()=>{d(!1),c(null)},title:"Detalle de Factura",children:[M.jsxs("div",{className:"space-y-3 text-sm",children:[M.jsxs("p",{children:[M.jsx("b",{children:"Número:"})," ",u.invoiceNumber]}),M.jsxs("p",{children:[M.jsx("b",{children:"Cliente:"})," ",x.find(U=>U.id===u.clientId)?.name||"N/A"]}),M.jsxs("p",{children:[M.jsx("b",{children:"Fecha:"})," ",u.date?.seconds?new Date(u.date.seconds*1e3).toLocaleDateString():"N/A"]}),M.jsxs("table",{className:"w-full border text-xs",children:[M.jsx("thead",{className:"bg-gray-100",children:M.jsxs("tr",{children:[M.jsx("th",{children:"Producto"}),M.jsx("th",{children:"Cant."}),M.jsx("th",{children:"Precio"}),M.jsx("th",{children:"Desc."}),M.jsx("th",{children:"IVA"}),M.jsx("th",{children:"Ret."}),M.jsx("th",{children:"Total"})]})}),M.jsx("tbody",{children:u.items.map((U,T)=>{const I=U.quantity,k=U.price*I*(1-U.discount/100),ut=k*((U.tax||0)/100),Tt=k*((U.retention||0)/100),at=k+ut-Tt;return M.jsxs("tr",{children:[M.jsx("td",{children:U.name}),M.jsx("td",{children:I}),M.jsxs("td",{children:["$",U.price]}),M.jsxs("td",{children:[U.discount,"%"]}),M.jsxs("td",{children:[U.tax,"%"]}),M.jsxs("td",{children:[U.retention,"%"]}),M.jsxs("td",{children:["$",at.toFixed(2)]})]},T)})})]}),M.jsxs("div",{className:"text-right space-y-1",children:[M.jsxs("p",{children:["Subtotal: $",u.subtotal?.toFixed(2)]}),M.jsxs("p",{children:["IVA: $",u.iva?.toFixed(2)]}),M.jsxs("p",{children:["Retenciones: -$",u.retenciones?.toFixed(2)]}),M.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",u.total?.toFixed(2)]})]})]}),M.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[M.jsx(Is,{variant:"secondary",onClick:()=>d(!1),children:"Cerrar"}),M.jsx(Is,{variant:"primary",onClick:()=>R(u),children:"Descargar PDF"})]})]})]})},uP=()=>{const{companyData:n}=Oc(),[t,e]=Jt.useState([]),[r,a]=Jt.useState(!0),[o,u]=Jt.useState(!1),[c,f]=Jt.useState(null),[d,y]=Jt.useState(""),[A,x]=Jt.useState({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),b=st=>st.personType==="empresa"?st.tradeName||`${st.name}`||"":`${st.name||""} ${st.lastName||""}`.trim(),O=st=>st==="NIT"?"NIT":"CC";Jt.useEffect(()=>{if(!n)return;const st=xu(ua(yr,`companies/${n.id}/thirdparties`)),Et=vc(st,W=>{e(W.docs.map(D=>({id:D.id,...D.data()}))),a(!1)},W=>{console.error("Error loading third parties:",W),a(!1)});return()=>Et()},[n]);const F=t.filter(st=>{const Et=d.toLowerCase();return(st.idNumber||"").toLowerCase().includes(Et)||(st.name||"").toLowerCase().includes(Et)||(st.lastName||"").toLowerCase().includes(Et)||(st.tradeName||"").toLowerCase().includes(Et)||(st.email||"").toLowerCase().includes(Et)}),q=()=>{f(null),x({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),u(!0)},B=st=>{f(st.id),x({type:Array.isArray(st.type)?st.type:[st.type].filter(Boolean),personType:st.personType||"persona",idType:st.idType||(st.personType==="empresa"?"NIT":"CC"),idNumber:st.idNumber||"",name:st.name||"",lastName:st.lastName||"",tradeName:st.tradeName||"",city:st.city||"",address:st.address||"",phone:st.phone||"",email:st.email||"",otherDescription:st.otherDescription||"",createdAt:st.createdAt||null}),u(!0)},tt=st=>{const{name:Et,value:W,type:D,checked:R}=st.target;if(Et==="personType"){x(U=>({...U,personType:W,idType:W==="empresa"?"NIT":"CC"}));return}if(Et==="type"){x(U=>{let T=[...U.type];return R?T.includes(W)||T.push(W):T=T.filter(I=>I!==W),{...U,type:T}});return}x(U=>({...U,[Et]:D==="checkbox"?R:W}))},et=async st=>{if(st.preventDefault(),!n)return;const Et={type:A.type,personType:A.personType,idType:A.idType,idNumber:String(A.idNumber).trim(),name:String(A.name).trim(),lastName:String(A.lastName).trim(),tradeName:String(A.tradeName).trim(),city:String(A.city).trim(),address:String(A.address).trim(),phone:String(A.phone).trim(),email:String(A.email).trim(),otherDescription:A.type.includes("otro")?String(A.otherDescription).trim():"",createdAt:c?A.createdAt:Bu(),updatedAt:Bu()};try{c?await Hm(fa(yr,`companies/${n.id}/thirdparties/${c}`),Et):await gg(ua(yr,`companies/${n.id}/thirdparties`),Et),u(!1),f(null)}catch(W){console.error("Error saving third party",W),alert("⚠️ Error guardando tercero: "+W.message)}},Q=async st=>{if(n&&confirm(`¿Eliminar "${b(st)}"? Esta acción no se puede deshacer.`))try{await hy(fa(yr,`companies/${n.id}/thirdparties/${st.id}`))}catch(Et){console.error("Error deleting third party",Et),alert("⚠️ Error eliminando: "+Et.message)}};return M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("input",{type:"text",placeholder:"Buscar por identificación, nombre o correo",value:d,onChange:st=>y(st.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),M.jsxs(Is,{onClick:q,children:[or.plus," Nuevo Tercero"]})]}),M.jsx(vd,{title:"Terceros (Clientes, Proveedores y Otros)",children:r?M.jsx(vg,{}):M.jsx("div",{className:"overflow-x-auto",children:M.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[M.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo Persona"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Identificación"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Nombre / Razón social"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Ciudad"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Teléfono"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Correo"}),M.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Acciones"})]})}),M.jsxs("tbody",{children:[F.map(st=>M.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[M.jsx("td",{className:"px-6 py-3 capitalize",children:Array.isArray(st.type)?st.type.join(", "):st.type||""}),M.jsx("td",{className:"px-6 py-3 capitalize",children:st.personType}),M.jsxs("td",{className:"px-6 py-3",children:[O(st.idType)," ",st.idNumber]}),M.jsx("td",{className:"px-6 py-3",children:b(st)}),M.jsx("td",{className:"px-6 py-3",children:st.city}),M.jsx("td",{className:"px-6 py-3",children:st.phone}),M.jsx("td",{className:"px-6 py-3",children:st.email}),M.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[M.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>B(st),children:or.edit}),M.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>Q(st),children:or.trash})]})]},st.id)),F.length===0&&M.jsx("tr",{children:M.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})})}),M.jsx(yg,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Tercero`,children:M.jsxs("form",{onSubmit:et,className:"space-y-6",children:[M.jsxs("div",{className:"border rounded-lg p-4",children:[M.jsx("h3",{className:"font-semibold mb-2",children:"Tipo de tercero"}),M.jsx("div",{className:"flex items-center space-x-6",children:["cliente","proveedor","otro"].map(st=>M.jsxs("label",{className:"flex items-center space-x-2 capitalize",children:[M.jsx("input",{type:"checkbox",name:"type",value:st,checked:A.type.includes(st),onChange:tt}),M.jsx("span",{children:st})]},st))}),A.type.includes("otro")&&M.jsx("div",{className:"mt-3",children:M.jsx(Gr,{id:"otherDescription",name:"otherDescription",label:"Descripción (Otro)",value:A.otherDescription,onChange:tt,required:!0})})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs(Bo,{id:"personType",name:"personType",label:"Tipo de Persona",value:A.personType,onChange:tt,children:[M.jsx("option",{value:"persona",children:"Persona"}),M.jsx("option",{value:"empresa",children:"Empresa"})]}),M.jsx(Bo,{id:"idType",name:"idType",label:"Tipo de Identificación",value:A.idType,onChange:tt,children:A.personType==="empresa"?M.jsx("option",{value:"NIT",children:"NIT"}):M.jsx("option",{value:"CC",children:"Cédula de Ciudadanía (CC)"})}),M.jsx(Gr,{id:"idNumber",name:"idNumber",label:A.personType==="empresa"?"Número de NIT":"Número de Cédula",value:A.idNumber,onChange:tt,required:!0}),M.jsx(Gr,{id:"name",name:"name",label:A.personType==="empresa"?"Razón Social / Nombre Legal":"Nombres",value:A.name,onChange:tt,required:!0}),A.personType==="persona"?M.jsx(Gr,{id:"lastName",name:"lastName",label:"Apellidos",value:A.lastName,onChange:tt}):M.jsx(Gr,{id:"tradeName",name:"tradeName",label:"Nombre Comercial",value:A.tradeName,onChange:tt}),M.jsx(Gr,{id:"city",name:"city",label:"Ciudad",value:A.city,onChange:tt}),M.jsx(Gr,{id:"address",name:"address",label:"Dirección",value:A.address,onChange:tt}),M.jsx(Gr,{id:"phone",name:"phone",label:"Teléfono",value:A.phone,onChange:tt}),M.jsx(Gr,{id:"email",name:"email",type:"email",label:"Correo Electrónico",value:A.email,onChange:tt}),c&&M.jsxs("div",{className:"md:col-span-2",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creación"}),M.jsx("input",{type:"text",value:A.createdAt?new Date(A.createdAt.seconds*1e3).toLocaleString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]}),M.jsxs("div",{className:"flex justify-end space-x-2",children:[M.jsx(Is,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),M.jsx(Is,{type:"submit",variant:"primary",children:c?"Actualizar":"Guardar"})]})]})})]})},cP=()=>{const{companyData:n}=Oc(),[t,e]=Jt.useState([]),[r,a]=Jt.useState(!0),[o,u]=Jt.useState(!1),[c,f]=Jt.useState(null),[d,y]=Jt.useState(""),[A,x]=Jt.useState({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),b=["unidades","centímetros","metros","kilogramos","litros"];Jt.useEffect(()=>{if(!n)return;const Q=xu(ua(yr,`companies/${n.id}/products`)),st=vc(Q,Et=>{e(Et.docs.map(W=>({id:W.id,...W.data()}))),a(!1)});return()=>st()},[n]);const O=t.filter(Q=>{const st=d.toLowerCase();return Q.code?.toLowerCase().includes(st)||Q.description?.toLowerCase().includes(st)||Q.name?.toLowerCase().includes(st)}),F=()=>{f(null),x({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),u(!0)},q=Q=>{f(Q.id),x({type:Q.type||"producto",code:Q.code||"",description:Q.description||"",unit:Q.unit||"unidades",unitValue:Q.unitValue??0,taxed:Q.taxed??!0,iva:Q.iva??"",createdAt:Q.createdAt||null}),u(!0)},B=Q=>{const{name:st,value:Et,type:W,checked:D}=Q.target;x(R=>({...R,[st]:W==="checkbox"?D:Et}))},tt=async Q=>{if(Q.preventDefault(),!!n)try{let st=A.code;if(!c){const W=A.type==="producto"?"products":"services",D=fa(yr,`companies/${n.id}/counters/${W}`);await cy(D,{lastCode:iS(1)},{merge:!0});const R=await zm(D),U=R.exists()?R.data().lastCode:1;st=`${A.type==="producto"?"P":"S"}-${String(U).padStart(3,"0")}`}const Et={type:A.type,code:st,description:String(A.description).trim(),name:String(A.description).trim(),unit:A.unit,unitValue:Number(A.unitValue)||0,taxed:!!A.taxed,iva:A.taxed?A.iva===""?null:Number(A.iva):0,createdAt:c?A.createdAt:Bu(),updatedAt:Bu()};c?await Hm(fa(yr,`companies/${n.id}/products/${c}`),Et):await gg(ua(yr,`companies/${n.id}/products`),Et),u(!1),f(null)}catch(st){console.error("Error guardando producto/servicio",st),alert("⚠️ Error guardando producto/servicio: "+st.message)}},et=async Q=>{if(n&&confirm(`¿Eliminar "${Q.description}"? Esta acción no se puede deshacer.`))try{await hy(fa(yr,`companies/${n.id}/products/${Q.id}`))}catch(st){console.error("Error eliminando producto/servicio",st),alert("⚠️ Error eliminando: "+st.message)}};return M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("input",{type:"text",placeholder:"Buscar por código o descripción",value:d,onChange:Q=>y(Q.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),M.jsxs(Is,{onClick:F,children:[or.plus," Nuevo Producto/Servicio"]})]}),M.jsx(vd,{title:"Productos y Servicios",children:r?M.jsx(vg,{}):M.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[M.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:M.jsxs("tr",{children:[M.jsx("th",{className:"px-6 py-3",children:"Tipo"}),M.jsx("th",{className:"px-6 py-3",children:"Código"}),M.jsx("th",{className:"px-6 py-3",children:"Descripción"}),M.jsx("th",{className:"px-6 py-3",children:"Unidad"}),M.jsx("th",{className:"px-6 py-3",children:"Valor Unitario"}),M.jsx("th",{className:"px-6 py-3",children:"Gravado IVA"}),M.jsx("th",{className:"px-6 py-3",children:"IVA"}),M.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),M.jsxs("tbody",{children:[O.map(Q=>M.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[M.jsx("td",{className:"px-6 py-3 capitalize",children:Q.type}),M.jsx("td",{className:"px-6 py-3",children:Q.code}),M.jsx("td",{className:"px-6 py-3",children:Q.description}),M.jsx("td",{className:"px-6 py-3",children:Q.unit}),M.jsxs("td",{className:"px-6 py-3 text-right",children:["$",new Intl.NumberFormat("es-CO").format(Q.unitValue||0)]}),M.jsx("td",{className:"px-6 py-3",children:Q.taxed?"Sí":"No"}),M.jsx("td",{className:"px-6 py-3",children:Q.iva===null||Q.iva===""?"No especificado":`${Q.iva}%`}),M.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[M.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>q(Q),children:or.edit}),M.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>et(Q),children:or.trash})]})]},Q.id)),O.length===0&&M.jsx("tr",{children:M.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})}),M.jsx(yg,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Producto/Servicio`,children:M.jsxs("form",{onSubmit:tt,className:"space-y-6",children:[M.jsxs("div",{className:"border rounded-lg p-4",children:[M.jsx("h3",{className:"font-semibold mb-2",children:"Tipo"}),M.jsxs("div",{className:"flex items-center space-x-6",children:[M.jsxs("label",{className:"flex items-center space-x-2",children:[M.jsx("input",{type:"radio",name:"type",value:"producto",checked:A.type==="producto",onChange:B}),M.jsx("span",{children:"Producto"})]}),M.jsxs("label",{className:"flex items-center space-x-2",children:[M.jsx("input",{type:"radio",name:"type",value:"servicio",checked:A.type==="servicio",onChange:B}),M.jsx("span",{children:"Servicio"})]})]})]}),M.jsxs("div",{className:"border rounded-lg p-4",children:[M.jsxs("h3",{className:"font-semibold mb-2",children:["Información del ",A.type]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsx(Gr,{id:"description",name:"description",label:"Descripción",value:A.description,onChange:B,required:!0}),M.jsx(Bo,{id:"unit",name:"unit",label:"Unidad de medida",value:A.unit,onChange:B,children:b.map(Q=>M.jsx("option",{value:Q,children:Q},Q))}),M.jsx(Gr,{id:"unitValue",name:"unitValue",type:"number",label:"Valor unitario",value:A.unitValue,onChange:B,min:"0",step:"0.01"}),c&&M.jsxs("div",{className:"col-span-2",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creación"}),M.jsx("input",{type:"text",value:A.createdAt?new Date(A.createdAt.seconds*1e3).toLocaleDateString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]})]}),M.jsxs("div",{className:"border rounded-lg p-4",children:[M.jsx("h3",{className:"font-semibold mb-2",children:"Impuestos"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("input",{type:"checkbox",name:"taxed",checked:A.taxed,onChange:B}),M.jsx("span",{children:"Gravado con IVA"})]}),M.jsxs(Bo,{id:"iva",name:"iva",label:"IVA",value:A.iva,onChange:B,disabled:!A.taxed,children:[M.jsx("option",{value:"",children:"No especificado"}),M.jsx("option",{value:0,children:"0%"}),M.jsx("option",{value:5,children:"5%"}),M.jsx("option",{value:19,children:"19%"})]})]})]}),M.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[M.jsx(Is,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),M.jsx(Is,{type:"submit",variant:"primary",children:"Guardar"})]})]})})]})},hP=({isOpen:n,onClose:t,onSubmit:e,clients:r,products:a,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=Oc(),[f,d]=Jt.useState("Electrónica"),[y,A]=Jt.useState(""),[x,b]=Jt.useState(()=>{const ot=new Date;return new Date(ot.getTime()-ot.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[O,F]=Jt.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[q,B]=Jt.useState("Efectivo"),[tt,et]=Jt.useState(""),[Q,st]=Jt.useState(0),[Et,W]=Jt.useState(0),[D,R]=Jt.useState(0),[U,T]=Jt.useState(0),I=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1},{label:"Retención por combustible 0.10%",value:.1}],k=ot=>{if(!ot)return"FV-001";const wt=ot.match(/^FV-(\d+)$/);if(!wt)return null;const Z=parseInt(wt[1],10)+1;return`FV-${String(Z).padStart(3,"0")}`};Jt.useEffect(()=>{o&&(d(o.tipoFactura||"Electrónica"),A(o.clientId||""),b(o.date?new Date(o.date.seconds*1e3).toISOString().split("T")[0]:x),F(o.items||[]),B(o.paymentMethod||"Efectivo"),et(o.observaciones||""))},[o,x]);const ut=(ot,wt,Z)=>{const ft=[...O];if(ft[ot][wt]=Z,wt==="productId")if(Z==="")ft[ot]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const P=a.find(G=>G.id===Z);P&&(ft[ot].price=P.unitValue||0,ft[ot].tax=P.iva??"",ft[ot].code=P.code||"",ft[ot].name=P.name||P.description||"")}F(ft)},Tt=()=>F([...O,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),at=ot=>F(O.filter((wt,Z)=>Z!==ot));Jt.useEffect(()=>{let ot=0,wt=0,Z=0;O.forEach(ft=>{const P=Number(ft.quantity)||0,G=Number(ft.price)||0,J=(Number(ft.discount)||0)/100,ct=P*G*(1-J),dt=ft.tax===""?0:Number(ft.tax)/100,yt=ft.retention===""?0:Number(ft.retention)/100;ot+=ct,wt+=ct*dt,Z+=ct*yt}),st(ot),W(wt),R(Z),T(ot+wt-Z)},[O]);const mt=ot=>{ot.preventDefault();const wt=o?o.invoiceNumber:k(u),Z={id:o?.id||null,tipoFactura:f,clientId:y,vendedor:c?.name||"Usuario",date:new Date(x),items:O.map(ft=>({...ft,quantity:Number(ft.quantity),price:Number(ft.price),discount:Number(ft.discount),tax:ft.tax===""?null:Number(ft.tax),retention:ft.retention===""?null:Number(ft.retention)})),paymentMethod:q,observaciones:tt,subtotal:Q,iva:Et,retenciones:D,total:U,invoiceNumber:wt};e(Z),t()};return M.jsx(yg,{isOpen:n,onClose:t,title:o?"Editar Factura de Venta":"Crear Nueva Factura de Venta",children:M.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[!o&&u&&M.jsxs("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:[M.jsxs("p",{children:["Última factura registrada: ",M.jsx("b",{children:u})]}),k(u)&&M.jsxs("p",{children:["Siguiente sugerida:"," ",M.jsx("b",{children:k(u)})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs(Bo,{label:"Tipo de Factura",value:f,onChange:ot=>d(ot.target.value),children:[M.jsx("option",{value:"Física",children:"FV-1 Documento Ingreso"}),M.jsx("option",{value:"Electrónica",children:"FV-2 Factura Electrónica"})]}),M.jsxs(Bo,{label:"Cliente",value:y,onChange:ot=>A(ot.target.value),required:!0,children:[M.jsx("option",{value:"",children:"Seleccione un cliente"}),r.map(ot=>M.jsxs("option",{value:ot.id,children:[ot.name," - ",ot.idNumber]},ot.id))]}),M.jsx(Gr,{label:"Vendedor",value:c?.name||"",readOnly:!0}),M.jsx(Gr,{label:"Fecha",type:"date",value:x,onChange:ot=>b(ot.target.value)})]}),M.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"Ítems de la Factura"}),M.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[M.jsx("div",{className:"col-span-3",children:"Producto"}),M.jsx("div",{className:"col-span-2",children:"Cantidad"}),M.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),M.jsx("div",{className:"col-span-2",children:"% Desc."}),M.jsx("div",{className:"col-span-2",children:"Impuesto"}),M.jsx("div",{className:"col-span-1",children:"% Ret."}),M.jsx("div",{className:"col-span-1",children:"Valor Total"}),M.jsx("div",{className:"w-8 flex justify-center"})]}),O.map((ot,wt)=>{const Z=Number(ot.quantity)||0,ft=Number(ot.price)||0,P=(Number(ot.discount)||0)/100,G=Z*ft*(1-P),J=ot.tax===""?0:Number(ot.tax)/100,ct=ot.retention===""?0:Number(ot.retention)/100,dt=G+G*J-G*ct;return M.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[M.jsx("div",{className:"col-span-3",children:M.jsxs(Bo,{value:ot.productId,onChange:yt=>ut(wt,"productId",yt.target.value),children:[M.jsx("option",{value:"",children:"Seleccione producto"}),a.map(yt=>M.jsxs("option",{value:yt.id,children:[yt.code," - ",yt.name]},yt.id))]})}),M.jsx("div",{className:"col-span-2",children:M.jsx(Gr,{type:"number",value:ot.quantity,min:"1",onChange:yt=>ut(wt,"quantity",yt.target.value)})}),M.jsx("div",{className:"col-span-2",children:M.jsx(Gr,{type:"number",value:ot.price,onChange:yt=>ut(wt,"price",yt.target.value)})}),M.jsx("div",{className:"col-span-2",children:M.jsx(Gr,{type:"number",value:ot.discount,onChange:yt=>ut(wt,"discount",yt.target.value)})}),M.jsx("div",{className:"col-span-2",children:M.jsxs(Bo,{value:ot.tax,onChange:yt=>ut(wt,"tax",yt.target.value),children:[M.jsx("option",{value:"",children:" "}),M.jsx("option",{value:0,children:"0% (Exento)"}),M.jsx("option",{value:5,children:"5%"}),M.jsx("option",{value:19,children:"19%"})]})}),M.jsx("div",{className:"col-span-1",children:M.jsx(Bo,{value:ot.retention,onChange:yt=>ut(wt,"retention",yt.target.value),children:I.map(yt=>M.jsx("option",{value:yt.value,children:yt.label},yt.value))})}),M.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(dt)}),M.jsx("div",{className:"w-8 flex justify-center items-center",children:M.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>at(wt),children:or.trash})})]},wt)}),M.jsx(Is,{type:"button",variant:"secondary",onClick:Tt,children:"Añadir Ítem"}),M.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[M.jsxs("p",{children:["Subtotal: ",M.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(Q)]})]}),M.jsxs("p",{children:["IVA: ",M.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(Et)]})]}),M.jsxs("p",{children:["Retenciones:"," ",M.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(D)]})]}),M.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(U)]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[M.jsxs(Bo,{label:"Forma de Pago",value:q,onChange:ot=>B(ot.target.value),children:[M.jsx("option",{value:"Efectivo",children:"Efectivo"}),M.jsx("option",{value:"Crédito",children:"Crédito"})]}),M.jsx(Gr,{label:"Observaciones",value:tt,onChange:ot=>et(ot.target.value)})]}),M.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[M.jsx(Is,{type:"button",variant:"secondary",onClick:t,children:"Cancelar"}),M.jsx(Is,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})};function fP(){return M.jsxs(sP,{children:[M.jsx(dP,{}),M.jsx(u6,{position:"top-right",reverseOrder:!1})]})}const dP=()=>{const{user:n,loading:t,error:e}=Oc();return t?M.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-50",children:M.jsx(vg,{})}):e?M.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-50 p-4",children:M.jsx(oS,{message:e})}):n?M.jsx(oP,{}):M.jsx(aP,{})};wE.createRoot(document.getElementById("root")).render(M.jsx(Jt.StrictMode,{children:M.jsx(fP,{})}));export{Yn as _,pP as c,cE as g};
