(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var GO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var q1={exports:{}},Qf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P5;function vE(){if(P5)return Qf;P5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Qf.Fragment=e,Qf.jsx=t,Qf.jsxs=t,Qf}var D5;function bE(){return D5||(D5=1,q1.exports=vE()),q1.exports}var T=bE(),z1={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5;function _E(){if(O5)return sn;O5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=A&&Y[A]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,O={};function F(Y,ce,R){this.props=Y,this.context=ce,this.refs=O,this.updater=R||_}F.prototype.isReactComponent={},F.prototype.setState=function(Y,ce){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ce,"setState")},F.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function B(){}B.prototype=F.prototype;function ne(Y,ce,R){this.props=Y,this.context=ce,this.refs=O,this.updater=R||_}var te=ne.prototype=new B;te.constructor=ne,j(te,F.prototype),te.isPureReactComponent=!0;var ae=Array.isArray,ve={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function $(Y,ce,R,q,Z,le){return R=le.ref,{$$typeof:n,type:Y,key:ce,ref:R!==void 0?R:null,props:le}}function k(Y,ce){return $(Y.type,ce,void 0,void 0,void 0,Y.props)}function N(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function z(Y){var ce={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(R){return ce[R]})}var C=/\/+/g;function D(Y,ce){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):ce.toString(36)}function L(){}function X(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(ce){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ce)},function(ce){Y.status==="pending"&&(Y.status="rejected",Y.reason=ce)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function pe(Y,ce,R,q,Z){var le=typeof Y;(le==="undefined"||le==="boolean")&&(Y=null);var he=!1;if(Y===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(Y.$$typeof){case n:case e:he=!0;break;case y:return he=Y._init,pe(he(Y._payload),ce,R,q,Z)}}if(he)return Z=Z(Y),he=q===""?"."+D(Y,0):q,ae(Z)?(R="",he!=null&&(R=he.replace(C,"$&/")+"/"),pe(Z,ce,R,"",function(ke){return ke})):Z!=null&&(N(Z)&&(Z=k(Z,R+(Z.key==null||Y&&Y.key===Z.key?"":(""+Z.key).replace(C,"$&/")+"/")+he)),ce.push(Z)),1;he=0;var ge=q===""?".":q+":";if(ae(Y))for(var Ce=0;Ce<Y.length;Ce++)q=Y[Ce],le=ge+D(q,Ce),he+=pe(q,ce,R,le,Z);else if(Ce=x(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(q=Y.next()).done;)q=q.value,le=ge+D(q,Ce++),he+=pe(q,ce,R,le,Z);else if(le==="object"){if(typeof Y.then=="function")return pe(X(Y),ce,R,q,Z);throw ce=String(Y),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return he}function ee(Y,ce,R){if(Y==null)return Y;var q=[],Z=0;return pe(Y,q,"","",function(le){return ce.call(R,le,Z++)}),q}function de(Y){if(Y._status===-1){var ce=Y._result;ce=ce(),ce.then(function(R){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=R)},function(R){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=R)}),Y._status===-1&&(Y._status=0,Y._result=ce)}if(Y._status===1)return Y._result.default;throw Y._result}var re=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function _e(){}return sn.Children={map:ee,forEach:function(Y,ce,R){ee(Y,function(){ce.apply(this,arguments)},R)},count:function(Y){var ce=0;return ee(Y,function(){ce++}),ce},toArray:function(Y){return ee(Y,function(ce){return ce})||[]},only:function(Y){if(!N(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},sn.Component=F,sn.Fragment=t,sn.Profiler=s,sn.PureComponent=ne,sn.StrictMode=r,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve,sn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return ve.H.useMemoCache(Y)}},sn.cache=function(Y){return function(){return Y.apply(null,arguments)}},sn.cloneElement=function(Y,ce,R){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var q=j({},Y.props),Z=Y.key,le=void 0;if(ce!=null)for(he in ce.ref!==void 0&&(le=void 0),ce.key!==void 0&&(Z=""+ce.key),ce)!Te.call(ce,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ce.ref===void 0||(q[he]=ce[he]);var he=arguments.length-2;if(he===1)q.children=R;else if(1<he){for(var ge=Array(he),Ce=0;Ce<he;Ce++)ge[Ce]=arguments[Ce+2];q.children=ge}return $(Y.type,Z,void 0,void 0,le,q)},sn.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},sn.createElement=function(Y,ce,R){var q,Z={},le=null;if(ce!=null)for(q in ce.key!==void 0&&(le=""+ce.key),ce)Te.call(ce,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Z[q]=ce[q]);var he=arguments.length-2;if(he===1)Z.children=R;else if(1<he){for(var ge=Array(he),Ce=0;Ce<he;Ce++)ge[Ce]=arguments[Ce+2];Z.children=ge}if(Y&&Y.defaultProps)for(q in he=Y.defaultProps,he)Z[q]===void 0&&(Z[q]=he[q]);return $(Y,le,void 0,void 0,null,Z)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(Y){return{$$typeof:c,render:Y}},sn.isValidElement=N,sn.lazy=function(Y){return{$$typeof:y,_payload:{_status:-1,_result:Y},_init:de}},sn.memo=function(Y,ce){return{$$typeof:d,type:Y,compare:ce===void 0?null:ce}},sn.startTransition=function(Y){var ce=ve.T,R={};ve.T=R;try{var q=Y(),Z=ve.S;Z!==null&&Z(R,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(_e,re)}catch(le){re(le)}finally{ve.T=ce}},sn.unstable_useCacheRefresh=function(){return ve.H.useCacheRefresh()},sn.use=function(Y){return ve.H.use(Y)},sn.useActionState=function(Y,ce,R){return ve.H.useActionState(Y,ce,R)},sn.useCallback=function(Y,ce){return ve.H.useCallback(Y,ce)},sn.useContext=function(Y){return ve.H.useContext(Y)},sn.useDebugValue=function(){},sn.useDeferredValue=function(Y,ce){return ve.H.useDeferredValue(Y,ce)},sn.useEffect=function(Y,ce,R){var q=ve.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(Y,ce)},sn.useId=function(){return ve.H.useId()},sn.useImperativeHandle=function(Y,ce,R){return ve.H.useImperativeHandle(Y,ce,R)},sn.useInsertionEffect=function(Y,ce){return ve.H.useInsertionEffect(Y,ce)},sn.useLayoutEffect=function(Y,ce){return ve.H.useLayoutEffect(Y,ce)},sn.useMemo=function(Y,ce){return ve.H.useMemo(Y,ce)},sn.useOptimistic=function(Y,ce){return ve.H.useOptimistic(Y,ce)},sn.useReducer=function(Y,ce,R){return ve.H.useReducer(Y,ce,R)},sn.useRef=function(Y){return ve.H.useRef(Y)},sn.useState=function(Y){return ve.H.useState(Y)},sn.useSyncExternalStore=function(Y,ce,R){return ve.H.useSyncExternalStore(Y,ce,R)},sn.useTransition=function(){return ve.H.useTransition()},sn.version="19.1.1",sn}var M5;function x2(){return M5||(M5=1,z1.exports=_E()),z1.exports}var Ve=x2();const wE=yE(Ve);var H1={exports:{}},Xf={},G1={exports:{}},$1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function AE(){return j5||(j5=1,(function(n){function e(ee,de){var re=ee.length;ee.push(de);e:for(;0<re;){var _e=re-1>>>1,Y=ee[_e];if(0<s(Y,de))ee[_e]=de,ee[re]=Y,re=_e;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],re=ee.pop();if(re!==de){ee[0]=re;e:for(var _e=0,Y=ee.length,ce=Y>>>1;_e<ce;){var R=2*(_e+1)-1,q=ee[R],Z=R+1,le=ee[Z];if(0>s(q,re))Z<Y&&0>s(le,q)?(ee[_e]=le,ee[Z]=re,_e=Z):(ee[_e]=q,ee[R]=re,_e=R);else if(Z<Y&&0>s(le,re))ee[_e]=le,ee[Z]=re,_e=Z;else break e}}return de}function s(ee,de){var re=ee.sortIndex-de.sortIndex;return re!==0?re:ee.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],y=1,A=null,x=3,_=!1,j=!1,O=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ae(ee){for(var de=t(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=ee)r(d),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(d)}}function ve(ee){if(O=!1,ae(ee),!j)if(t(f)!==null)j=!0,Te||(Te=!0,D());else{var de=t(d);de!==null&&pe(ve,de.startTime-ee)}}var Te=!1,$=-1,k=5,N=-1;function z(){return F?!0:!(n.unstable_now()-N<k)}function C(){if(F=!1,Te){var ee=n.unstable_now();N=ee;var de=!0;try{e:{j=!1,O&&(O=!1,ne($),$=-1),_=!0;var re=x;try{t:{for(ae(ee),A=t(f);A!==null&&!(A.expirationTime>ee&&z());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,x=A.priorityLevel;var Y=_e(A.expirationTime<=ee);if(ee=n.unstable_now(),typeof Y=="function"){A.callback=Y,ae(ee),de=!0;break t}A===t(f)&&r(f),ae(ee)}else r(f);A=t(f)}if(A!==null)de=!0;else{var ce=t(d);ce!==null&&pe(ve,ce.startTime-ee),de=!1}}break e}finally{A=null,x=re,_=!1}de=void 0}}finally{de?D():Te=!1}}}var D;if(typeof te=="function")D=function(){te(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,X=L.port2;L.port1.onmessage=C,D=function(){X.postMessage(null)}}else D=function(){B(C,0)};function pe(ee,de){$=B(function(){ee(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var re=x;x=de;try{return ee()}finally{x=re}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=x;x=ee;try{return de()}finally{x=re}},n.unstable_scheduleCallback=function(ee,de,re){var _e=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,ee){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=re+Y,ee={id:y++,callback:de,priorityLevel:ee,startTime:re,expirationTime:Y,sortIndex:-1},re>_e?(ee.sortIndex=re,e(d,ee),t(f)===null&&ee===t(d)&&(O?(ne($),$=-1):O=!0,pe(ve,re-_e))):(ee.sortIndex=Y,e(f,ee),j||_||(j=!0,Te||(Te=!0,D()))),ee},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(ee){var de=x;return function(){var re=x;x=de;try{return ee.apply(this,arguments)}finally{x=re}}}})($1)),$1}var V5;function SE(){return V5||(V5=1,G1.exports=AE()),G1.exports}var W1={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function xE(){if(U5)return ms;U5=1;var n=x2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ms.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,y)},ms.flushSync=function(f){var d=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=y,r.d.f()}},ms.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ms.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ms.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,A=c(y,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:_}):y==="script"&&r.d.X(f,{crossOrigin:A,integrity:x,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ms.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ms.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,A=c(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ms.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ms.requestFormReset=function(f){r.d.r(f)},ms.unstable_batchedUpdates=function(f,d){return f(d)},ms.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},ms.useFormStatus=function(){return u.H.useHostTransitionStatus()},ms.version="19.1.1",ms}var F5;function EE(){if(F5)return W1.exports;F5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),W1.exports=xE(),W1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function TE(){if(B5)return Xf;B5=1;var n=SE(),e=x2(),t=EE();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return c(g),i;if(b===h)return c(g),a;b=b.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=b;else{for(var M=!1,W=g.child;W;){if(W===l){M=!0,l=g,h=b;break}if(W===h){M=!0,h=g,l=b;break}W=W.sibling}if(!M){for(W=b.child;W;){if(W===l){M=!0,l=b,h=g;break}if(W===h){M=!0,h=b,l=g;break}W=W.sibling}if(!M)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case F:return"Profiler";case O:return"StrictMode";case ve:return"Suspense";case Te:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case te:return(i.displayName||"Context")+".Provider";case ne:return(i._context.displayName||"Context")+".Consumer";case ae:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:X(i.type)||"Memo";case k:a=i._payload,i=i._init;try{return X(i(a))}catch{}}return null}var pe=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},_e=[],Y=-1;function ce(i){return{current:i}}function R(i){0>Y||(i.current=_e[Y],_e[Y]=null,Y--)}function q(i,a){Y++,_e[Y]=i.current,i.current=a}var Z=ce(null),le=ce(null),he=ce(null),ge=ce(null);function Ce(i,a){switch(q(he,a),q(le,i),q(Z,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?o5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=o5(a),i=l5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R(Z),q(Z,i)}function ke(){R(Z),R(le),R(he)}function Be(i){i.memoizedState!==null&&q(ge,i);var a=Z.current,l=l5(a,i.type);a!==l&&(q(le,i),q(Z,l))}function ze(i){le.current===i&&(R(Z),R(le)),ge.current===i&&(R(ge),Gf._currentValue=re)}var nt=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,ue=n.unstable_shouldYield,tn=n.unstable_requestPaint,Nt=n.unstable_now,Et=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,Yt=n.unstable_LowPriority,bt=n.unstable_IdlePriority,mn=n.log,Bt=n.unstable_setDisableYieldValue,ct=null,wt=null;function Tt(i){if(typeof mn=="function"&&Bt(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ct,i)}catch{}}var st=Math.clz32?Math.clz32:Nn,Lt=Math.log,_t=Math.LN2;function Nn(i){return i>>>=0,i===0?32:31-(Lt(i)/_t|0)|0}var an=256,ht=4194304;function It(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function In(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,b=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var W=h&134217727;return W!==0?(h=W&~b,h!==0?g=It(h):(M&=W,M!==0?g=It(M):l||(l=W&~i,l!==0&&(g=It(l))))):(W=h&~b,W!==0?g=It(W):M!==0?g=It(M):l||(l=h&~i,l!==0&&(g=It(l)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:g}function At(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function nn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var i=an;return an<<=1,(an&4194048)===0&&(an=256),i}function ir(){var i=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),i}function Gn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function gn(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pt(i,a,l,h,g,b){var M=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var W=i.entanglements,fe=i.expirationTimes,Le=i.hiddenUpdates;for(l=M&~l;0<l;){var He=31-st(l),Ye=1<<He;W[He]=0,fe[He]=-1;var Pe=Le[He];if(Pe!==null)for(Le[He]=null,He=0;He<Pe.length;He++){var De=Pe[He];De!==null&&(De.lane&=-536870913)}l&=~Ye}h!==0&&rn(i,h,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(M&~a))}function rn(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-st(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function ea(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-st(l),g=1<<h;g&a|i[h]&a&&(i[h]|=a),l&=~g}}function pr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mi(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:N5(i.type))}function Ct(i,a){var l=de.p;try{return de.p=i,a()}finally{de.p=l}}var Cn=Math.random().toString(36).slice(2),$n="__reactFiber$"+Cn,Pn="__reactProps$"+Cn,mr="__reactContainer$"+Cn,Zn="__reactEvents$"+Cn,Vr="__reactListeners$"+Cn,cr="__reactHandles$"+Cn,va="__reactResources$"+Cn,as="__reactMarker$"+Cn;function ai(i){delete i[$n],delete i[Pn],delete i[Zn],delete i[Vr],delete i[cr]}function oi(i){var a=i[$n];if(a)return a;for(var l=i.parentNode;l;){if(a=l[mr]||l[$n]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=f5(i);i!==null;){if(l=i[$n])return l;i=f5(i)}return a}i=l,l=i.parentNode}return null}function Ur(i){if(i=i[$n]||i[mr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Fr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Jn(i){var a=i[va];return a||(a=i[va]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wn(i){i[as]=!0}var os=new Set,Ms={};function Ei(i,a){ls(i,a),ls(i+"Capture",a)}function ls(i,a){for(Ms[i]=a,i=0;i<a.length;i++)os.add(a[i])}var Xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},ta={};function cl(i){return nt.call(ta,i)?!0:nt.call(Ql,i)?!1:Xa.test(i)?ta[i]=!0:(Ql[i]=!0,!1)}function na(i,a,l){if(cl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ir(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Cr(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var ba,Co;function js(i){if(ba===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ba=a&&a[1]||"",Co=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+i+Co}var Za=!1;function Ja(i,a){if(!i||Za)return"";Za=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var Pe=De}Reflect.construct(i,[],Ye)}else{try{Ye.call()}catch(De){Pe=De}i.call(Ye.prototype)}}else{try{throw Error()}catch(De){Pe=De}(Ye=i())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&Pe&&typeof De.stack=="string")return[De.stack,Pe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),M=b[0],W=b[1];if(M&&W){var fe=M.split(`
`),Le=W.split(`
`);for(g=h=0;h<fe.length&&!fe[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(h===fe.length||g===Le.length)for(h=fe.length-1,g=Le.length-1;1<=h&&0<=g&&fe[h]!==Le[g];)g--;for(;1<=h&&0<=g;h--,g--)if(fe[h]!==Le[g]){if(h!==1||g!==1)do if(h--,g--,0>g||fe[h]!==Le[g]){var He=`
`+fe[h].replace(" at new "," at ");return i.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",i.displayName)),He}while(1<=h&&0<=g);break}}}finally{Za=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?js(l):""}function _a(i){switch(i.tag){case 26:case 27:case 5:return js(i.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Ja(i.type,!1);case 11:return Ja(i.type.render,!1);case 1:return Ja(i.type,!0);case 31:return js("Activity");default:return""}}function Ro(i){try{var a="";do a+=_a(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lo(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xl(i){var a=Lo(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(M){h=""+M,b.call(this,M)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function us(i){i._valueTracker||(i._valueTracker=Xl(i))}function ra(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Lo(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eo=/[\n"\\]/g;function en(i){return i.replace(eo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function yi(i,a,l,h,g,b,M,W){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),a!=null?M==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+bn(a)):i.value!==""+bn(a)&&(i.value=""+bn(a)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),a!=null?wa(i,M,bn(a)):l!=null?wa(i,M,bn(l)):h!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.name=""+bn(W):i.removeAttribute("name")}function to(i,a,l,h,g,b,M,W){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;l=l!=null?""+bn(l):"",a=a!=null?""+bn(a):l,W||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=W?i.checked:!!h,i.defaultChecked=!!h,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function wa(i,a,l){a==="number"&&gi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ia(i,a,l,h){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+bn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function on(i,a,l){if(a!=null&&(a=""+bn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+bn(l):""}function Aa(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(pe(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=bn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Vi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||cs.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function hl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&ko(i,g,h)}else for(var b in a)a.hasOwnProperty(b)&&ko(i,b,a[b])}function fl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(i){return dl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ti=null;function hs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,xs=null;function Dt(i){var a=Ur(i);if(a&&(i=a.stateNode)){var l=i[Pn]||null;e:switch(i=a.stateNode,a.type){case"input":if(yi(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var g=h[Pn]||null;if(!g)throw Error(r(90));yi(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&ra(h)}break e;case"textarea":on(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ia(i,!!l.multiple,a,!1)}}}var Us=!1;function Zl(i,a,l){if(Us)return i(a,l);Us=!0;try{var h=i(a);return h}finally{if(Us=!1,(Ui!==null||xs!==null)&&(Rp(),Ui&&(a=Ui,i=xs,xs=Ui=null,Dt(a),i)))for(a=0;a<i.length;a++)Dt(i[a])}}function no(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Pn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Es)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Br=!1}var Fs=null,Sa=null,fs=null;function ro(){if(fs)return fs;var i,a=Sa,l=a.length,h,g="value"in Fs?Fs.value:Fs.textContent,b=g.length;for(i=0;i<l&&a[i]===g[i];i++);var M=l-i;for(h=1;h<=M&&a[l-h]===g[b-h];h++);return fs=g.slice(i,1<h?1-h:void 0)}function Ni(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bi(){return!0}function xa(){return!1}function qr(i){function a(l,h,g,b,M){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(l=i[W],this[W]=l?l(b):b[W]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Bi:xa,this.isPropagationStopped=xa,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),a}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=qr(_n),Ts=y({},_n,{view:0,detail:0}),Ta=qr(Ts),Na,sa,ds,Ns=y({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ln,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ds&&(ds&&i.type==="mousemove"?(Na=i.screenX-ds.screenX,sa=i.screenY-ds.screenY):sa=Na=0,ds=i),Na)},movementY:function(i){return"movementY"in i?i.movementY:sa}}),Ii=qr(Ns),Po=y({},Ns,{dataTransfer:0}),qi=qr(Po),Ci=y({},Ts,{relatedTarget:0}),w=qr(Ci),V=y({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),se=qr(V),me=y({},_n,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ae=qr(me),qe=y({},_n,{data:0}),Ke=qr(qe),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=kt[i])?!!a[i]:!1}function ln(){return qt}var er=y({},Ts,{key:function(i){if(i.key){var a=at[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ni(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ln,charCode:function(i){return i.type==="keypress"?Ni(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ni(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sr=qr(er),Dn=y({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=qr(Dn),qn=y({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ln}),zr=qr(qn),Bs=y({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),aa=qr(Bs),Jl=y({},Ns,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=qr(Jl),Rr=y({},_n,{newState:0,oldState:0}),ps=qr(Rr),Do=[9,13,27,32],zi=Es&&"CompositionEvent"in window,m=null;Es&&"documentMode"in document&&(m=document.documentMode);var E=Es&&"TextEvent"in window&&!m,P=Es&&(!zi||m&&8<m&&11>=m),Q=" ",xe=!1;function Oe(i,a){switch(i){case"keyup":return Do.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ze(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var un=!1;function hr(i,a){switch(i){case"compositionend":return Ze(a);case"keypress":return a.which!==32?null:(xe=!0,Q);case"textInput":return i=a.data,i===Q&&xe?null:i;default:return null}}function cn(i,a){if(un)return i==="compositionend"||!zi&&Oe(i,a)?(i=ro(),fs=Sa=Fs=null,un=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return P&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!fn[i.type]:a==="textarea"}function Is(i,a,l,h){Ui?xs?xs.push(h):xs=[h]:Ui=h,a=Mp(a,"onChange"),0<a.length&&(l=new Ea("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var Lr=null,vi=null;function Ia(i){n5(i,0)}function bi(i){var a=Fr(i);if(ra(a))return i}function Hi(i,a){if(i==="change")return a}var Oo=!1;if(Es){var qs;if(Es){var Ca="oninput"in document;if(!Ca){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),Ca=typeof eu.oninput=="function"}qs=Ca}else qs=!1;Oo=qs&&(!document.documentMode||9<document.documentMode)}function so(){Lr&&(Lr.detachEvent("onpropertychange",wr),vi=Lr=null)}function wr(i){if(i.propertyName==="value"&&bi(vi)){var a=[];Is(a,vi,i,hs(i)),Zl(Ia,a)}}function af(i,a,l){i==="focusin"?(so(),Lr=a,vi=l,Lr.attachEvent("onpropertychange",wr)):i==="focusout"&&so()}function Ra(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bi(vi)}function La(i,a){if(i==="click")return bi(a)}function tu(i,a){if(i==="input"||i==="change")return bi(a)}function nc(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var li=typeof Object.is=="function"?Object.is:nc;function ka(i,a){if(li(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!nt.call(a,g)||!li(i[g],a[g]))return!1}return!0}function Mo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jo(i,a){var l=Mo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mo(l)}}function Pa(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Pa(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function nu(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=gi(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=gi(i.document)}return a}function Gi(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Da=Es&&"documentMode"in document&&11>=document.documentMode,On=null,zn=null,ar=null,yr=!1;function Oa(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yr||On==null||On!==gi(h)||(h=On,"selectionStart"in h&&Gi(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ar&&ka(ar,h)||(ar=h,h=Mp(zn,"onSelect"),0<h.length&&(a=new Ea("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=On)))}function zs(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var $i={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},pl={},of={};Es&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Vo(i){if(pl[i])return pl[i];if(!$i[i])return i;var a=$i[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in of)return pl[i]=a[l];return i}var lf=Vo("animationend"),uf=Vo("animationiteration"),cf=Vo("animationstart"),Xd=Vo("transitionrun"),Zd=Vo("transitionstart"),Jd=Vo("transitioncancel"),hf=Vo("transitionend"),ff=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Hs(i,a){ff.set(i,a),Ei(a,[i])}var ru=new WeakMap;function Cs(i,a){if(typeof i=="object"&&i!==null){var l=ru.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ro(a)},ru.set(i,a),a)}return{value:i,source:a,stack:Ro(a)}}var Rs=[],ml=0,Wc=0;function rc(){for(var i=ml,a=Wc=ml=0;a<i;){var l=Rs[a];Rs[a++]=null;var h=Rs[a];Rs[a++]=null;var g=Rs[a];Rs[a++]=null;var b=Rs[a];if(Rs[a++]=null,h!==null&&g!==null){var M=h.pending;M===null?g.next=g:(g.next=M.next,M.next=g),h.pending=g}b!==0&&Kc(l,g,b)}}function ic(i,a,l,h){Rs[ml++]=i,Rs[ml++]=a,Rs[ml++]=l,Rs[ml++]=h,Wc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Yc(i,a,l,h){return ic(i,a,l,h),yl(i)}function gl(i,a){return ic(i,null,null,a),yl(i)}function Kc(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&a!==null&&(g=31-st(l),i=b.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=l|536870912),b):null}function yl(i){if(50<jf)throw jf=0,f1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ui={};function Gs(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(i,a,l,h){return new Gs(i,a,l,h)}function iu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ma(i,a){var l=i.alternate;return l===null?(l=Ri(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function sc(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function vl(i,a,l,h,g,b){var M=0;if(h=i,typeof i=="function")iu(i)&&(M=1);else if(typeof i=="string")M=iE(i,l,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Ri(31,l,a,g),i.elementType=N,i.lanes=b,i;case j:return ao(l.children,g,b,a);case O:M=8,g|=24;break;case F:return i=Ri(12,l,a,g|2),i.elementType=F,i.lanes=b,i;case ve:return i=Ri(13,l,a,g),i.elementType=ve,i.lanes=b,i;case Te:return i=Ri(19,l,a,g),i.elementType=Te,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case te:M=10;break e;case ne:M=9;break e;case ae:M=11;break e;case $:M=14;break e;case k:M=16,h=null;break e}M=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Ri(M,l,a,g),a.elementType=i,a.type=h,a.lanes=b,a}function ao(i,a,l,h){return i=Ri(7,i,h,a),i.lanes=l,i}function Qc(i,a,l){return i=Ri(6,i,null,a),i.lanes=l,i}function ac(i,a,l){return a=Ri(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Uo=[],oo=0,su=null,Xc=0,$s=[],Ls=0,bl=null,lo=1,uo="";function _l(i,a){Uo[oo++]=Xc,Uo[oo++]=su,su=i,Xc=a}function ep(i,a,l){$s[Ls++]=lo,$s[Ls++]=uo,$s[Ls++]=bl,bl=i;var h=lo;i=uo;var g=32-st(h)-1;h&=~(1<<g),l+=1;var b=32-st(a)+g;if(30<b){var M=g-g%5;b=(h&(1<<M)-1).toString(32),h>>=M,g-=M,lo=1<<32-st(a)+g|l<<g|h,uo=b+i}else lo=1<<b|l<<g|h,uo=i}function oc(i){i.return!==null&&(_l(i,1),ep(i,1,0))}function lc(i){for(;i===su;)su=Uo[--oo],Uo[oo]=null,Xc=Uo[--oo],Uo[oo]=null;for(;i===bl;)bl=$s[--Ls],$s[Ls]=null,uo=$s[--Ls],$s[Ls]=null,lo=$s[--Ls],$s[Ls]=null}var Yr=null,Ar=null,Mn=!1,Fo=null,ja=!1,df=Error(r(519));function wl(i){var a=Error(r(418,""));throw au(Cs(a,i)),df}function tp(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[$n]=i,a[Pn]=h,l){case"dialog":vn("cancel",a),vn("close",a);break;case"iframe":case"object":case"embed":vn("load",a);break;case"video":case"audio":for(l=0;l<Uf.length;l++)vn(Uf[l],a);break;case"source":vn("error",a);break;case"img":case"image":case"link":vn("error",a),vn("load",a);break;case"details":vn("toggle",a);break;case"input":vn("invalid",a),to(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),us(a);break;case"select":vn("invalid",a);break;case"textarea":vn("invalid",a),Aa(a,h.value,h.defaultValue,h.children),us(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||a5(a.textContent,l)?(h.popover!=null&&(vn("beforetoggle",a),vn("toggle",a)),h.onScroll!=null&&vn("scroll",a),h.onScrollEnd!=null&&vn("scrollend",a),h.onClick!=null&&(a.onclick=jp),a=!0):a=!1,a||wl(i)}function co(i){for(Yr=i.return;Yr;)switch(Yr.tag){case 5:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:Yr=Yr.return}}function Wi(i){if(i!==Yr)return!1;if(!Mn)return co(i),Mn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||I1(i.type,i.memoizedProps)),l=!l),l&&Ar&&wl(i),co(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Ar=bo(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Ar=null}}else a===27?(a=Ar,Au(i.type)?(i=k1,k1=null,Ar=i):Ar=a):Ar=Yr?bo(i.stateNode.nextSibling):null;return!0}function ks(){Ar=Yr=null,Mn=!1}function np(){var i=Fo;return i!==null&&(Ys===null?Ys=i:Ys.push.apply(Ys,i),Fo=null),i}function au(i){Fo===null?Fo=[i]:Fo.push(i)}var Va=ce(null),ci=null,ho=null;function Bo(i,a,l){q(Va,a._currentValue),a._currentValue=l}function Ua(i){i._currentValue=Va.current,R(Va)}function Zc(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Jc(i,a,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var M=g.child;b=b.firstContext;e:for(;b!==null;){var W=b;b=g;for(var fe=0;fe<a.length;fe++)if(W.context===a[fe]){b.lanes|=l,W=b.alternate,W!==null&&(W.lanes|=l),Zc(b.return,l,i),h||(M=null);break e}b=W.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(r(341));M.lanes|=l,b=M.alternate,b!==null&&(b.lanes|=l),Zc(M,l,i),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===i){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function ou(i,a,l,h){i=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var W=g.type;li(g.pendingProps.value,M.value)||(i!==null?i.push(W):i=[W])}}else if(g===ge.current){if(M=g.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Gf):i=[Gf])}g=g.return}i!==null&&Jc(a,i,l,h),a.flags|=262144}function eh(i){for(i=i.firstContext;i!==null;){if(!li(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fa(i){ci=i,ho=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kr(i){return th(ci,i)}function qo(i,a){return ci===null&&Fa(i),th(i,a)}function th(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ho===null){if(i===null)throw Error(r(308));ho=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ho=ho.next=a;return l}var jg=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},rp=n.unstable_scheduleCallback,Vg=n.unstable_NormalPriority,Qr={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new jg,data:new Map,refCount:0}}function uc(i){i.refCount--,i.refCount===0&&rp(Vg,function(){i.controller.abort()})}var cc=null,mf=0,Al=0,fo=null;function Ug(i,a){if(cc===null){var l=cc=[];mf=0,Al=b1(),fo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return mf++,a.then(ip,ip),a}function ip(){if(--mf===0&&cc!==null){fo!==null&&(fo.status="fulfilled");var i=cc;cc=null,Al=0,fo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function sp(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var p=ee.S;ee.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ug(i,a),p!==null&&p(i,a)};var v=ce(null);function S(){var i=v.current;return i!==null?i:fr.pooledCache}function I(i,a){a===null?q(v,v.current):q(v,a.pool)}function U(){var i=S();return i===null?null:{parent:Qr._currentValue,pool:i}}var H=Error(r(460)),G=Error(r(474)),K=Error(r(542)),J={then:function(){}};function oe(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ye(){}function Re(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(ye,ye),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ee(i),i;default:if(typeof a.status=="string")a.then(ye,ye);else{if(i=fr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ee(i),i}throw ie=a,H}}var ie=null;function we(){if(ie===null)throw Error(r(459));var i=ie;return ie=null,i}function Ee(i){if(i===H||i===K)throw Error(r(483))}var je=!1;function Ie(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fe(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ue(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xe(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Kn&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=yl(i),Kc(i,null,l),a}return ic(i,h,a,l),yl(i)}function We(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,ea(i,l)}}function vt(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=M:b=b.next=M,l=l.next}while(l!==null);b===null?g=b=a:b=b.next=a}else g=b=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var ot=!1;function Gt(){if(ot){var i=fo;if(i!==null)throw i}}function ut(i,a,l,h){ot=!1;var g=i.updateQueue;je=!1;var b=g.firstBaseUpdate,M=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var fe=W,Le=fe.next;fe.next=null,M===null?b=Le:M.next=Le,M=fe;var He=i.alternate;He!==null&&(He=He.updateQueue,W=He.lastBaseUpdate,W!==M&&(W===null?He.firstBaseUpdate=Le:W.next=Le,He.lastBaseUpdate=fe))}if(b!==null){var Ye=g.baseState;M=0,He=Le=fe=null,W=b;do{var Pe=W.lane&-536870913,De=Pe!==W.lane;if(De?(Ln&Pe)===Pe:(h&Pe)===Pe){Pe!==0&&Pe===Al&&(ot=!0),He!==null&&(He=He.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ht=i,Mt=W;Pe=a;var rr=l;switch(Mt.tag){case 1:if(Ht=Mt.payload,typeof Ht=="function"){Ye=Ht.call(rr,Ye,Pe);break e}Ye=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Mt.payload,Pe=typeof Ht=="function"?Ht.call(rr,Ye,Pe):Ht,Pe==null)break e;Ye=y({},Ye,Pe);break e;case 2:je=!0}}Pe=W.callback,Pe!==null&&(i.flags|=64,De&&(i.flags|=8192),De=g.callbacks,De===null?g.callbacks=[Pe]:De.push(Pe))}else De={lane:Pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},He===null?(Le=He=De,fe=Ye):He=He.next=De,M|=Pe;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;De=W,W=De.next,De.next=null,g.lastBaseUpdate=De,g.shared.pending=null}}while(!0);He===null&&(fe=Ye),g.baseState=fe,g.firstBaseUpdate=Le,g.lastBaseUpdate=He,b===null&&(g.shared.lanes=0),vu|=M,i.lanes=M,i.memoizedState=Ye}}function dn(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Hr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)dn(l[i],a)}var zt=ce(null),ft=ce(0);function et(i,a){i=Rl,q(ft,i),q(zt,a),Rl=i|a.baseLanes}function vr(){q(ft,Rl),q(zt,zt.current)}function $t(){Rl=ft.current,R(zt),R(ft)}var Jt=0,dt=null,Kt=null,wn=null,or=!1,kr=!1,Pr=!1,Sr=0,hn=0,An=null,xr=0;function Ot(){throw Error(r(321))}function Xr(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!li(i[l],a[l]))return!1;return!0}function Ps(i,a,l,h,g,b){return Jt=b,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ee.H=i===null||i.memoizedState===null?Fy:By,Pr=!1,b=l(h,g),Pr=!1,kr&&(b=Yi(a,l,h,g)),Er(i),b}function Er(i){ee.H=yp;var a=Kt!==null&&Kt.next!==null;if(Jt=0,wn=Kt=dt=null,or=!1,hn=0,An=null,a)throw Error(r(300));i===null||ki||(i=i.dependencies,i!==null&&eh(i)&&(ki=!0))}function Yi(i,a,l,h){dt=i;var g=0;do{if(kr&&(An=null),hn=0,kr=!1,25<=g)throw Error(r(301));if(g+=1,wn=Kt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ee.H=mx,b=a(l,h)}while(kr);return b}function Yn(){var i=ee.H,a=i.useState()[0];return a=typeof a.then=="function"?wi(a):a,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(dt.flags|=1024),a}function Dr(){var i=Sr!==0;return Sr=0,i}function Ki(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function _i(i){if(or){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}or=!1}Jt=0,wn=Kt=dt=null,kr=!1,hn=Sr=0,An=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?dt.memoizedState=wn=i:wn=wn.next=i,wn}function Rn(){if(Kt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var a=wn===null?dt.memoizedState:wn.next;if(a!==null)wn=a,Kt=i;else{if(i===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},wn===null?dt.memoizedState=wn=i:wn=wn.next=i}return wn}function Li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wi(i){var a=hn;return hn+=1,An===null&&(An=[]),i=Re(An,i,a),a=dt,(wn===null?a.memoizedState:wn.next)===null&&(a=a.alternate,ee.H=a===null||a.memoizedState===null?Fy:By),i}function Fn(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wi(i);if(i.$$typeof===te)return Kr(i)}throw Error(r(438,String(i)))}function Qi(i){var a=null,l=dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Li(),dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=z;return a.index++,l}function Zr(i,a){return typeof a=="function"?a(i):a}function Ba(i){var a=Rn();return oa(a,Kt,i)}function oa(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,b=h.pending;if(b!==null){if(g!==null){var M=g.next;g.next=b.next,b.next=M}a.baseQueue=g=b,h.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{a=g.next;var W=M=null,fe=null,Le=a,He=!1;do{var Ye=Le.lane&-536870913;if(Ye!==Le.lane?(Ln&Ye)===Ye:(Jt&Ye)===Ye){var Pe=Le.revertLane;if(Pe===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ye===Al&&(He=!0);else if((Jt&Pe)===Pe){Le=Le.next,Pe===Al&&(He=!0);continue}else Ye={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},fe===null?(W=fe=Ye,M=b):fe=fe.next=Ye,dt.lanes|=Pe,vu|=Pe;Ye=Le.action,Pr&&l(b,Ye),b=Le.hasEagerState?Le.eagerState:l(b,Ye)}else Pe={lane:Ye,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},fe===null?(W=fe=Pe,M=b):fe=fe.next=Pe,dt.lanes|=Ye,vu|=Ye;Le=Le.next}while(Le!==null&&Le!==a);if(fe===null?M=b:fe.next=W,!li(b,i.memoizedState)&&(ki=!0,He&&(l=fo,l!==null)))throw l;i.memoizedState=b,i.baseState=M,i.baseQueue=fe,h.lastRenderedState=b}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Jr(i){var a=Rn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,b=a.memoizedState;if(g!==null){l.pending=null;var M=g=g.next;do b=i(b,M.action),M=M.next;while(M!==g);li(b,a.memoizedState)||(ki=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,h]}function hc(i,a,l){var h=dt,g=Rn(),b=Mn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=a();var M=!li((Kt||g).memoizedState,l);M&&(g.memoizedState=l,ki=!0),g=g.queue;var W=lu.bind(null,h,g,i);if(hu(2048,8,W,[i]),g.getSnapshot!==a||M||wn!==null&&wn.memoizedState.tag&1){if(h.flags|=2048,mo(9,mc(),fc.bind(null,h,g,l,a),null),fr===null)throw Error(r(349));b||(Jt&124)!==0||nh(h,a,l)}return l}function nh(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=dt.updateQueue,a===null?(a=Li(),dt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function fc(i,a,l,h){a.value=l,a.getSnapshot=h,ap(a)&&op(i)}function lu(i,a,l){return l(function(){ap(a)&&op(i)})}function ap(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!li(i,l)}catch{return!0}}function op(i){var a=gl(i,2);a!==null&&da(a,i,2)}function dc(i){var a=tr();if(typeof i=="function"){var l=i;if(i=l(),Pr){Tt(!0);try{l()}finally{Tt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:i},a}function po(i,a,l,h){return i.baseState=l,oa(i,Kt,typeof h=="function"?h:Zr)}function Fg(i,a,l,h,g){if(gp(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};ee.T!==null?l(!0):b.isTransition=!1,h(b),l=a.pending,l===null?(b.next=a.pending=b,lp(a,b)):(b.next=l.next,a.pending=l.next=b)}}function lp(i,a){var l=a.action,h=a.payload,g=i.state;if(a.isTransition){var b=ee.T,M={};ee.T=M;try{var W=l(g,h),fe=ee.S;fe!==null&&fe(M,W),up(i,a,W)}catch(Le){uu(i,a,Le)}finally{ee.T=b}}else try{b=l(g,h),up(i,a,b)}catch(Le){uu(i,a,Le)}}function up(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){gf(i,a,h)},function(h){return uu(i,a,h)}):gf(i,a,l)}function gf(i,a,l){a.status="fulfilled",a.value=l,yf(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,lp(i,l)))}function uu(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,yf(a),a=a.next;while(a!==h)}i.action=null}function yf(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function vf(i,a){return a}function pc(i,a){if(Mn){var l=fr.formState;if(l!==null){e:{var h=dt;if(Mn){if(Ar){t:{for(var g=Ar,b=ja;g.nodeType!==8;){if(!b){g=null;break t}if(g=bo(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Ar=bo(g.nextSibling),h=g.data==="F!";break e}}wl(h)}h=!1}h&&(a=l[0])}}return l=tr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:a},l.queue=h,l=jy.bind(null,dt,h),h.dispatch=l,h=dc(!1),b=Bg.bind(null,dt,!1,h.queue),h=tr(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,l=Fg.bind(null,dt,g,b,l),g.dispatch=l,h.memoizedState=i,[a,l,!1]}function rh(i){var a=Rn();return cu(a,Kt,i)}function cu(i,a,l){if(a=oa(i,a,vf)[0],i=Ba(Zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=wi(a)}catch(M){throw M===H?K:M}else h=a;a=Rn();var g=a.queue,b=g.dispatch;return l!==a.memoizedState&&(dt.flags|=2048,mo(9,mc(),cp.bind(null,g,l),null)),[h,b,i]}function cp(i,a){i.action=a}function hp(i){var a=Rn(),l=Kt;if(l!==null)return cu(a,l,i);Rn(),a=a.memoizedState,l=Rn();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function mo(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=dt.updateQueue,a===null&&(a=Li(),dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function mc(){return{destroy:void 0,resource:void 0}}function ih(){return Rn().memoizedState}function la(i,a,l,h){var g=tr();h=h===void 0?null:h,dt.flags|=i,g.memoizedState=mo(1|a,mc(),l,h)}function hu(i,a,l,h){var g=Rn();h=h===void 0?null:h;var b=g.memoizedState.inst;Kt!==null&&h!==null&&Xr(h,Kt.memoizedState.deps)?g.memoizedState=mo(a,b,l,h):(dt.flags|=i,g.memoizedState=mo(1|a,b,l,h))}function bf(i,a){la(8390656,8,i,a)}function fp(i,a){hu(2048,8,i,a)}function _f(i,a){return hu(4,2,i,a)}function Sl(i,a){return hu(4,4,i,a)}function dp(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function wf(i,a,l){l=l!=null?l.concat([i]):null,hu(4,4,dp.bind(null,a,i),l)}function Af(){}function Sf(i,a){var l=Rn();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Xr(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function pp(i,a){var l=Rn();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Xr(a,h[1]))return h[0];if(h=i(),Pr){Tt(!0);try{i()}finally{Tt(!1)}}return l.memoizedState=[h,a],h}function xl(i,a,l){return l===void 0||(Jt&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Pv(),dt.lanes|=i,vu|=i,l)}function sh(i,a,l,h){return li(l,a)?l:zt.current!==null?(i=xl(i,l,h),li(i,a)||(ki=!0),i):(Jt&42)===0?(ki=!0,i.memoizedState=l):(i=Pv(),dt.lanes|=i,vu|=i,a)}function gc(i,a,l,h,g){var b=de.p;de.p=b!==0&&8>b?b:8;var M=ee.T,W={};ee.T=W,Bg(i,!1,a,l);try{var fe=g(),Le=ee.S;if(Le!==null&&Le(W,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var He=sp(fe,h);Nf(i,a,He,fa(i))}else Nf(i,a,h,fa(i))}catch(Ye){Nf(i,a,{then:function(){},status:"rejected",reason:Ye},fa())}finally{de.p=b,ee.T=M}}function go(){}function qa(i,a,l,h){if(i.tag!==5)throw Error(r(476));var g=yo(i).queue;gc(i,g,a,re,l===null?go:function(){return yc(i),l(h)})}function yo(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function yc(i){var a=yo(i).next.queue;Nf(i,a,{},fa())}function vc(){return Kr(Gf)}function xf(){return Rn().memoizedState}function mp(){return Rn().memoizedState}function Ef(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=fa();i=Ue(l);var h=Xe(a,i,l);h!==null&&(da(h,a,l),We(h,a,l)),a={cache:pf()},i.payload=a;return}a=a.return}}function Tf(i,a,l){var h=fa();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},gp(i)?Vy(a,l):(l=Yc(i,a,l,h),l!==null&&(da(l,i,h),Uy(l,a,h)))}function jy(i,a,l){var h=fa();Nf(i,a,l,h)}function Nf(i,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(gp(i))Vy(a,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var M=a.lastRenderedState,W=b(M,l);if(g.hasEagerState=!0,g.eagerState=W,li(W,M))return ic(i,a,g,0),fr===null&&rc(),!1}catch{}finally{}if(l=Yc(i,a,g,h),l!==null)return da(l,i,h),Uy(l,a,h),!0}return!1}function Bg(i,a,l,h){if(h={lane:2,revertLane:b1(),action:h,hasEagerState:!1,eagerState:null,next:null},gp(i)){if(a)throw Error(r(479))}else a=Yc(i,l,h,2),a!==null&&da(a,i,2)}function gp(i){var a=i.alternate;return i===dt||a!==null&&a===dt}function Vy(i,a){kr=or=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Uy(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,ea(i,l)}}var yp={readContext:Kr,use:Fn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Fy={readContext:Kr,use:Fn,useCallback:function(i,a){return tr().memoizedState=[i,a===void 0?null:a],i},useContext:Kr,useEffect:bf,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,la(4194308,4,dp.bind(null,a,i),l)},useLayoutEffect:function(i,a){return la(4194308,4,i,a)},useInsertionEffect:function(i,a){la(4,2,i,a)},useMemo:function(i,a){var l=tr();a=a===void 0?null:a;var h=i();if(Pr){Tt(!0);try{i()}finally{Tt(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=tr();if(l!==void 0){var g=l(a);if(Pr){Tt(!0);try{l(a)}finally{Tt(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=Tf.bind(null,dt,i),[h.memoizedState,i]},useRef:function(i){var a=tr();return i={current:i},a.memoizedState=i},useState:function(i){i=dc(i);var a=i.queue,l=jy.bind(null,dt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Af,useDeferredValue:function(i,a){var l=tr();return xl(l,i,a)},useTransition:function(){var i=dc(!1);return i=gc.bind(null,dt,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=dt,g=tr();if(Mn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),fr===null)throw Error(r(349));(Ln&124)!==0||nh(h,a,l)}g.memoizedState=l;var b={value:l,getSnapshot:a};return g.queue=b,bf(lu.bind(null,h,b,i),[i]),h.flags|=2048,mo(9,mc(),fc.bind(null,h,b,l,a),null),l},useId:function(){var i=tr(),a=fr.identifierPrefix;if(Mn){var l=uo,h=lo;l=(h&~(1<<32-st(h)-1)).toString(32)+l,a=""+a+"R"+l,l=Sr++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=xr++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:vc,useFormState:pc,useActionState:pc,useOptimistic:function(i){var a=tr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Bg.bind(null,dt,!0,l),l.dispatch=a,[i,a]},useMemoCache:Qi,useCacheRefresh:function(){return tr().memoizedState=Ef.bind(null,dt)}},By={readContext:Kr,use:Fn,useCallback:Sf,useContext:Kr,useEffect:fp,useImperativeHandle:wf,useInsertionEffect:_f,useLayoutEffect:Sl,useMemo:pp,useReducer:Ba,useRef:ih,useState:function(){return Ba(Zr)},useDebugValue:Af,useDeferredValue:function(i,a){var l=Rn();return sh(l,Kt.memoizedState,i,a)},useTransition:function(){var i=Ba(Zr)[0],a=Rn().memoizedState;return[typeof i=="boolean"?i:wi(i),a]},useSyncExternalStore:hc,useId:xf,useHostTransitionStatus:vc,useFormState:rh,useActionState:rh,useOptimistic:function(i,a){var l=Rn();return po(l,Kt,i,a)},useMemoCache:Qi,useCacheRefresh:mp},mx={readContext:Kr,use:Fn,useCallback:Sf,useContext:Kr,useEffect:fp,useImperativeHandle:wf,useInsertionEffect:_f,useLayoutEffect:Sl,useMemo:pp,useReducer:Jr,useRef:ih,useState:function(){return Jr(Zr)},useDebugValue:Af,useDeferredValue:function(i,a){var l=Rn();return Kt===null?xl(l,i,a):sh(l,Kt.memoizedState,i,a)},useTransition:function(){var i=Jr(Zr)[0],a=Rn().memoizedState;return[typeof i=="boolean"?i:wi(i),a]},useSyncExternalStore:hc,useId:xf,useHostTransitionStatus:vc,useFormState:hp,useActionState:hp,useOptimistic:function(i,a){var l=Rn();return Kt!==null?po(l,Kt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qi,useCacheRefresh:mp},ah=null,If=0;function vp(i){var a=If;return If+=1,ah===null&&(ah=[]),Re(ah,i,a)}function Cf(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function bp(i,a){throw a.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function qy(i){var a=i._init;return a(i._payload)}function zy(i){function a(Se,be){if(i){var Ne=Se.deletions;Ne===null?(Se.deletions=[be],Se.flags|=16):Ne.push(be)}}function l(Se,be){if(!i)return null;for(;be!==null;)a(Se,be),be=be.sibling;return null}function h(Se){for(var be=new Map;Se!==null;)Se.key!==null?be.set(Se.key,Se):be.set(Se.index,Se),Se=Se.sibling;return be}function g(Se,be){return Se=Ma(Se,be),Se.index=0,Se.sibling=null,Se}function b(Se,be,Ne){return Se.index=Ne,i?(Ne=Se.alternate,Ne!==null?(Ne=Ne.index,Ne<be?(Se.flags|=67108866,be):Ne):(Se.flags|=67108866,be)):(Se.flags|=1048576,be)}function M(Se){return i&&Se.alternate===null&&(Se.flags|=67108866),Se}function W(Se,be,Ne,$e){return be===null||be.tag!==6?(be=Qc(Ne,Se.mode,$e),be.return=Se,be):(be=g(be,Ne),be.return=Se,be)}function fe(Se,be,Ne,$e){var mt=Ne.type;return mt===j?He(Se,be,Ne.props.children,$e,Ne.key):be!==null&&(be.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===k&&qy(mt)===be.type)?(be=g(be,Ne.props),Cf(be,Ne),be.return=Se,be):(be=vl(Ne.type,Ne.key,Ne.props,null,Se.mode,$e),Cf(be,Ne),be.return=Se,be)}function Le(Se,be,Ne,$e){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ne.containerInfo||be.stateNode.implementation!==Ne.implementation?(be=ac(Ne,Se.mode,$e),be.return=Se,be):(be=g(be,Ne.children||[]),be.return=Se,be)}function He(Se,be,Ne,$e,mt){return be===null||be.tag!==7?(be=ao(Ne,Se.mode,$e,mt),be.return=Se,be):(be=g(be,Ne),be.return=Se,be)}function Ye(Se,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Qc(""+be,Se.mode,Ne),be.return=Se,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case x:return Ne=vl(be.type,be.key,be.props,null,Se.mode,Ne),Cf(Ne,be),Ne.return=Se,Ne;case _:return be=ac(be,Se.mode,Ne),be.return=Se,be;case k:var $e=be._init;return be=$e(be._payload),Ye(Se,be,Ne)}if(pe(be)||D(be))return be=ao(be,Se.mode,Ne,null),be.return=Se,be;if(typeof be.then=="function")return Ye(Se,vp(be),Ne);if(be.$$typeof===te)return Ye(Se,qo(Se,be),Ne);bp(Se,be)}return null}function Pe(Se,be,Ne,$e){var mt=be!==null?be.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return mt!==null?null:W(Se,be,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:return Ne.key===mt?fe(Se,be,Ne,$e):null;case _:return Ne.key===mt?Le(Se,be,Ne,$e):null;case k:return mt=Ne._init,Ne=mt(Ne._payload),Pe(Se,be,Ne,$e)}if(pe(Ne)||D(Ne))return mt!==null?null:He(Se,be,Ne,$e,null);if(typeof Ne.then=="function")return Pe(Se,be,vp(Ne),$e);if(Ne.$$typeof===te)return Pe(Se,be,qo(Se,Ne),$e);bp(Se,Ne)}return null}function De(Se,be,Ne,$e,mt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Se=Se.get(Ne)||null,W(be,Se,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case x:return Se=Se.get($e.key===null?Ne:$e.key)||null,fe(be,Se,$e,mt);case _:return Se=Se.get($e.key===null?Ne:$e.key)||null,Le(be,Se,$e,mt);case k:var pn=$e._init;return $e=pn($e._payload),De(Se,be,Ne,$e,mt)}if(pe($e)||D($e))return Se=Se.get(Ne)||null,He(be,Se,$e,mt,null);if(typeof $e.then=="function")return De(Se,be,Ne,vp($e),mt);if($e.$$typeof===te)return De(Se,be,Ne,qo(be,$e),mt);bp(be,$e)}return null}function Ht(Se,be,Ne,$e){for(var mt=null,pn=null,xt=be,jt=be=0,Di=null;xt!==null&&jt<Ne.length;jt++){xt.index>jt?(Di=xt,xt=null):Di=xt.sibling;var Un=Pe(Se,xt,Ne[jt],$e);if(Un===null){xt===null&&(xt=Di);break}i&&xt&&Un.alternate===null&&a(Se,xt),be=b(Un,be,jt),pn===null?mt=Un:pn.sibling=Un,pn=Un,xt=Di}if(jt===Ne.length)return l(Se,xt),Mn&&_l(Se,jt),mt;if(xt===null){for(;jt<Ne.length;jt++)xt=Ye(Se,Ne[jt],$e),xt!==null&&(be=b(xt,be,jt),pn===null?mt=xt:pn.sibling=xt,pn=xt);return Mn&&_l(Se,jt),mt}for(xt=h(xt);jt<Ne.length;jt++)Di=De(xt,Se,jt,Ne[jt],$e),Di!==null&&(i&&Di.alternate!==null&&xt.delete(Di.key===null?jt:Di.key),be=b(Di,be,jt),pn===null?mt=Di:pn.sibling=Di,pn=Di);return i&&xt.forEach(function(Nu){return a(Se,Nu)}),Mn&&_l(Se,jt),mt}function Mt(Se,be,Ne,$e){if(Ne==null)throw Error(r(151));for(var mt=null,pn=null,xt=be,jt=be=0,Di=null,Un=Ne.next();xt!==null&&!Un.done;jt++,Un=Ne.next()){xt.index>jt?(Di=xt,xt=null):Di=xt.sibling;var Nu=Pe(Se,xt,Un.value,$e);if(Nu===null){xt===null&&(xt=Di);break}i&&xt&&Nu.alternate===null&&a(Se,xt),be=b(Nu,be,jt),pn===null?mt=Nu:pn.sibling=Nu,pn=Nu,xt=Di}if(Un.done)return l(Se,xt),Mn&&_l(Se,jt),mt;if(xt===null){for(;!Un.done;jt++,Un=Ne.next())Un=Ye(Se,Un.value,$e),Un!==null&&(be=b(Un,be,jt),pn===null?mt=Un:pn.sibling=Un,pn=Un);return Mn&&_l(Se,jt),mt}for(xt=h(xt);!Un.done;jt++,Un=Ne.next())Un=De(xt,Se,jt,Un.value,$e),Un!==null&&(i&&Un.alternate!==null&&xt.delete(Un.key===null?jt:Un.key),be=b(Un,be,jt),pn===null?mt=Un:pn.sibling=Un,pn=Un);return i&&xt.forEach(function(gE){return a(Se,gE)}),Mn&&_l(Se,jt),mt}function rr(Se,be,Ne,$e){if(typeof Ne=="object"&&Ne!==null&&Ne.type===j&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:e:{for(var mt=Ne.key;be!==null;){if(be.key===mt){if(mt=Ne.type,mt===j){if(be.tag===7){l(Se,be.sibling),$e=g(be,Ne.props.children),$e.return=Se,Se=$e;break e}}else if(be.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===k&&qy(mt)===be.type){l(Se,be.sibling),$e=g(be,Ne.props),Cf($e,Ne),$e.return=Se,Se=$e;break e}l(Se,be);break}else a(Se,be);be=be.sibling}Ne.type===j?($e=ao(Ne.props.children,Se.mode,$e,Ne.key),$e.return=Se,Se=$e):($e=vl(Ne.type,Ne.key,Ne.props,null,Se.mode,$e),Cf($e,Ne),$e.return=Se,Se=$e)}return M(Se);case _:e:{for(mt=Ne.key;be!==null;){if(be.key===mt)if(be.tag===4&&be.stateNode.containerInfo===Ne.containerInfo&&be.stateNode.implementation===Ne.implementation){l(Se,be.sibling),$e=g(be,Ne.children||[]),$e.return=Se,Se=$e;break e}else{l(Se,be);break}else a(Se,be);be=be.sibling}$e=ac(Ne,Se.mode,$e),$e.return=Se,Se=$e}return M(Se);case k:return mt=Ne._init,Ne=mt(Ne._payload),rr(Se,be,Ne,$e)}if(pe(Ne))return Ht(Se,be,Ne,$e);if(D(Ne)){if(mt=D(Ne),typeof mt!="function")throw Error(r(150));return Ne=mt.call(Ne),Mt(Se,be,Ne,$e)}if(typeof Ne.then=="function")return rr(Se,be,vp(Ne),$e);if(Ne.$$typeof===te)return rr(Se,be,qo(Se,Ne),$e);bp(Se,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,be!==null&&be.tag===6?(l(Se,be.sibling),$e=g(be,Ne),$e.return=Se,Se=$e):(l(Se,be),$e=Qc(Ne,Se.mode,$e),$e.return=Se,Se=$e),M(Se)):l(Se,be)}return function(Se,be,Ne,$e){try{If=0;var mt=rr(Se,be,Ne,$e);return ah=null,mt}catch(xt){if(xt===H||xt===K)throw xt;var pn=Ri(29,xt,null,Se.mode);return pn.lanes=$e,pn.return=Se,pn}finally{}}}var oh=zy(!0),Hy=zy(!1),za=ce(null),zo=null;function fu(i){var a=i.alternate;q(Ai,Ai.current&1),q(za,i),zo===null&&(a===null||zt.current!==null||a.memoizedState!==null)&&(zo=i)}function Gy(i){if(i.tag===22){if(q(Ai,Ai.current),q(za,i),zo===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(zo=i)}}else du()}function du(){q(Ai,Ai.current),q(za,za.current)}function El(i){R(za),zo===i&&(zo=null),R(Ai)}var Ai=ce(0);function _p(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||L1(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function qg(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zg={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=fa(),g=Ue(h);g.payload=a,l!=null&&(g.callback=l),a=Xe(i,g,h),a!==null&&(da(a,i,h),We(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=fa(),g=Ue(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Xe(i,g,h),a!==null&&(da(a,i,h),We(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=fa(),h=Ue(l);h.tag=2,a!=null&&(h.callback=a),a=Xe(i,h,l),a!==null&&(da(a,i,l),We(a,i,l))}};function $y(i,a,l,h,g,b,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,M):a.prototype&&a.prototype.isPureReactComponent?!ka(l,h)||!ka(g,b):!0}function Wy(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&zg.enqueueReplaceState(a,a.state,null)}function bc(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var wp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Yy(i){wp(i)}function Ky(i){console.error(i)}function Qy(i){wp(i)}function Ap(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Xy(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Hg(i,a,l){return l=Ue(l),l.tag=3,l.payload={element:null},l.callback=function(){Ap(i,a)},l}function Zy(i){return i=Ue(i),i.tag=3,i}function Jy(i,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;i.payload=function(){return g(b)},i.callback=function(){Xy(a,l,h)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Xy(a,l,h),typeof g!="function"&&(bu===null?bu=new Set([this]):bu.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})})}function gx(i,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&ou(a,l,g,!0),l=za.current,l!==null){switch(l.tag){case 13:return zo===null?p1():l.alternate===null&&Gr===0&&(Gr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===J?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),g1(i,h,g)),!1;case 22:return l.flags|=65536,h===J?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),g1(i,h,g)),!1}throw Error(r(435,l.tag))}return g1(i,h,g),p1(),!1}if(Mn)return a=za.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==df&&(i=Error(r(422),{cause:h}),au(Cs(i,l)))):(h!==df&&(a=Error(r(423),{cause:h}),au(Cs(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Cs(h,l),g=Hg(i.stateNode,h,g),vt(i,g),Gr!==4&&(Gr=2)),!1;var b=Error(r(520),{cause:h});if(b=Cs(b,l),Mf===null?Mf=[b]:Mf.push(b),Gr!==4&&(Gr=2),a===null)return!0;h=Cs(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Hg(l.stateNode,h,i),vt(l,i),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(bu===null||!bu.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Zy(g),Jy(g,i,l,h),vt(l,g),!1}l=l.return}while(l!==null);return!1}var ev=Error(r(461)),ki=!1;function Xi(i,a,l,h){a.child=i===null?Hy(a,null,l,h):oh(a,i.child,l,h)}function tv(i,a,l,h,g){l=l.render;var b=a.ref;if("ref"in h){var M={};for(var W in h)W!=="ref"&&(M[W]=h[W])}else M=h;return Fa(a),h=Ps(i,a,l,M,b,g),W=Dr(),i!==null&&!ki?(Ki(i,a,g),Tl(i,a,g)):(Mn&&W&&oc(a),a.flags|=1,Xi(i,a,h,g),a.child)}function nv(i,a,l,h,g){if(i===null){var b=l.type;return typeof b=="function"&&!iu(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,rv(i,a,b,h,g)):(i=vl(l.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!Zg(i,g)){var M=b.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(M,h)&&i.ref===a.ref)return Tl(i,a,g)}return a.flags|=1,i=Ma(b,h),i.ref=a.ref,i.return=a,a.child=i}function rv(i,a,l,h,g){if(i!==null){var b=i.memoizedProps;if(ka(b,h)&&i.ref===a.ref)if(ki=!1,a.pendingProps=h=b,Zg(i,g))(i.flags&131072)!==0&&(ki=!0);else return a.lanes=i.lanes,Tl(i,a,g)}return Gg(i,a,l,h,g)}function iv(i,a,l){var h=a.pendingProps,g=h.children,b=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=b!==null?b.baseLanes|l:l,i!==null){for(g=a.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;a.childLanes=b&~h}else a.childLanes=0,a.child=null;return sv(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&I(a,b!==null?b.cachePool:null),b!==null?et(a,b):vr(),Gy(a);else return a.lanes=a.childLanes=536870912,sv(i,a,b!==null?b.baseLanes|l:l,l)}else b!==null?(I(a,b.cachePool),et(a,b),du(),a.memoizedState=null):(i!==null&&I(a,null),vr(),du());return Xi(i,a,g,l),a.child}function sv(i,a,l,h){var g=S();return g=g===null?null:{parent:Qr._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&I(a,null),vr(),Gy(a),i!==null&&ou(i,a,h,!0),null}function Sp(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Gg(i,a,l,h,g){return Fa(a),l=Ps(i,a,l,h,void 0,g),h=Dr(),i!==null&&!ki?(Ki(i,a,g),Tl(i,a,g)):(Mn&&h&&oc(a),a.flags|=1,Xi(i,a,l,g),a.child)}function av(i,a,l,h,g,b){return Fa(a),a.updateQueue=null,l=Yi(a,h,l,g),Er(i),h=Dr(),i!==null&&!ki?(Ki(i,a,b),Tl(i,a,b)):(Mn&&h&&oc(a),a.flags|=1,Xi(i,a,l,b),a.child)}function ov(i,a,l,h,g){if(Fa(a),a.stateNode===null){var b=ui,M=l.contextType;typeof M=="object"&&M!==null&&(b=Kr(M)),b=new l(h,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=zg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=h,b.state=a.memoizedState,b.refs={},Ie(a),M=l.contextType,b.context=typeof M=="object"&&M!==null?Kr(M):ui,b.state=a.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(qg(a,l,M,h),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&zg.enqueueReplaceState(b,b.state,null),ut(a,h,b,g),Gt(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){b=a.stateNode;var W=a.memoizedProps,fe=bc(l,W);b.props=fe;var Le=b.context,He=l.contextType;M=ui,typeof He=="object"&&He!==null&&(M=Kr(He));var Ye=l.getDerivedStateFromProps;He=typeof Ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",W=a.pendingProps!==W,He||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(W||Le!==M)&&Wy(a,b,h,M),je=!1;var Pe=a.memoizedState;b.state=Pe,ut(a,h,b,g),Gt(),Le=a.memoizedState,W||Pe!==Le||je?(typeof Ye=="function"&&(qg(a,l,Ye,h),Le=a.memoizedState),(fe=je||$y(a,l,fe,h,Pe,Le,M))?(He||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Le),b.props=h,b.state=Le,b.context=M,h=fe):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,Fe(i,a),M=a.memoizedProps,He=bc(l,M),b.props=He,Ye=a.pendingProps,Pe=b.context,Le=l.contextType,fe=ui,typeof Le=="object"&&Le!==null&&(fe=Kr(Le)),W=l.getDerivedStateFromProps,(Le=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Ye||Pe!==fe)&&Wy(a,b,h,fe),je=!1,Pe=a.memoizedState,b.state=Pe,ut(a,h,b,g),Gt();var De=a.memoizedState;M!==Ye||Pe!==De||je||i!==null&&i.dependencies!==null&&eh(i.dependencies)?(typeof W=="function"&&(qg(a,l,W,h),De=a.memoizedState),(He=je||$y(a,l,He,h,Pe,De,fe)||i!==null&&i.dependencies!==null&&eh(i.dependencies))?(Le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,De,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,De,fe)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=De),b.props=h,b.state=De,b.context=fe,h=He):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=1024),h=!1)}return b=h,Sp(i,a),h=(a.flags&128)!==0,b||h?(b=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&h?(a.child=oh(a,i.child,null,g),a.child=oh(a,null,l,g)):Xi(i,a,l,g),a.memoizedState=b.state,i=a.child):i=Tl(i,a,g),i}function lv(i,a,l,h){return ks(),a.flags|=256,Xi(i,a,l,h),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wg(i){return{baseLanes:i,cachePool:U()}}function Yg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ha),i}function uv(i,a,l){var h=a.pendingProps,g=!1,b=(a.flags&128)!==0,M;if((M=b)||(M=i!==null&&i.memoizedState===null?!1:(Ai.current&2)!==0),M&&(g=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,i===null){if(Mn){if(g?fu(a):du(),Mn){var W=Ar,fe;if(fe=W){e:{for(fe=W,W=ja;fe.nodeType!==8;){if(!W){W=null;break e}if(fe=bo(fe.nextSibling),fe===null){W=null;break e}}W=fe}W!==null?(a.memoizedState={dehydrated:W,treeContext:bl!==null?{id:lo,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},fe=Ri(18,null,null,0),fe.stateNode=W,fe.return=a,a.child=fe,Yr=a,Ar=null,fe=!0):fe=!1}fe||wl(a)}if(W=a.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return L1(W)?a.lanes=32:a.lanes=536870912,null;El(a)}return W=h.children,h=h.fallback,g?(du(),g=a.mode,W=xp({mode:"hidden",children:W},g),h=ao(h,g,l,null),W.return=a,h.return=a,W.sibling=h,a.child=W,g=a.child,g.memoizedState=Wg(l),g.childLanes=Yg(i,M,l),a.memoizedState=$g,h):(fu(a),Kg(a,W))}if(fe=i.memoizedState,fe!==null&&(W=fe.dehydrated,W!==null)){if(b)a.flags&256?(fu(a),a.flags&=-257,a=Qg(i,a,l)):a.memoizedState!==null?(du(),a.child=i.child,a.flags|=128,a=null):(du(),g=h.fallback,W=a.mode,h=xp({mode:"visible",children:h.children},W),g=ao(g,W,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,oh(a,i.child,null,l),h=a.child,h.memoizedState=Wg(l),h.childLanes=Yg(i,M,l),a.memoizedState=$g,a=g);else if(fu(a),L1(W)){if(M=W.nextSibling&&W.nextSibling.dataset,M)var Le=M.dgst;M=Le,h=Error(r(419)),h.stack="",h.digest=M,au({value:h,source:null,stack:null}),a=Qg(i,a,l)}else if(ki||ou(i,a,l,!1),M=(l&i.childLanes)!==0,ki||M){if(M=fr,M!==null&&(h=l&-l,h=(h&42)!==0?1:pr(h),h=(h&(M.suspendedLanes|l))!==0?0:h,h!==0&&h!==fe.retryLane))throw fe.retryLane=h,gl(i,h),da(M,i,h),ev;W.data==="$?"||p1(),a=Qg(i,a,l)}else W.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=fe.treeContext,Ar=bo(W.nextSibling),Yr=a,Mn=!0,Fo=null,ja=!1,i!==null&&($s[Ls++]=lo,$s[Ls++]=uo,$s[Ls++]=bl,lo=i.id,uo=i.overflow,bl=a),a=Kg(a,h.children),a.flags|=4096);return a}return g?(du(),g=h.fallback,W=a.mode,fe=i.child,Le=fe.sibling,h=Ma(fe,{mode:"hidden",children:h.children}),h.subtreeFlags=fe.subtreeFlags&65011712,Le!==null?g=Ma(Le,g):(g=ao(g,W,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,W=i.child.memoizedState,W===null?W=Wg(l):(fe=W.cachePool,fe!==null?(Le=Qr._currentValue,fe=fe.parent!==Le?{parent:Le,pool:Le}:fe):fe=U(),W={baseLanes:W.baseLanes|l,cachePool:fe}),g.memoizedState=W,g.childLanes=Yg(i,M,l),a.memoizedState=$g,h):(fu(a),l=i.child,i=l.sibling,l=Ma(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(M=a.deletions,M===null?(a.deletions=[i],a.flags|=16):M.push(i)),a.child=l,a.memoizedState=null,l)}function Kg(i,a){return a=xp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function xp(i,a){return i=Ri(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Qg(i,a,l){return oh(a,i.child,null,l),i=Kg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function cv(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Zc(i.return,a,l)}function Xg(i,a,l,h,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=l,b.tailMode=g)}function hv(i,a,l){var h=a.pendingProps,g=h.revealOrder,b=h.tail;if(Xi(i,a,h.children,l),h=Ai.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cv(i,l,a);else if(i.tag===19)cv(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(q(Ai,h),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&_p(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Xg(a,!1,g,l,b);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&_p(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Xg(a,!0,l,null,b);break;case"together":Xg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Tl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),vu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(ou(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ma(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ma(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Zg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&eh(i)))}function yx(i,a,l){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Bo(a,Qr,i.memoizedState.cache),ks();break;case 27:case 5:Be(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Bo(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(fu(a),a.flags|=128,null):(l&a.child.childLanes)!==0?uv(i,a,l):(fu(a),i=Tl(i,a,l),i!==null?i.sibling:null);fu(a);break;case 19:var g=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(ou(i,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return hv(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),q(Ai,Ai.current),h)break;return null;case 22:case 23:return a.lanes=0,iv(i,a,l);case 24:Bo(a,Qr,i.memoizedState.cache)}return Tl(i,a,l)}function fv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ki=!0;else{if(!Zg(i,l)&&(a.flags&128)===0)return ki=!1,yx(i,a,l);ki=(i.flags&131072)!==0}else ki=!1,Mn&&(a.flags&1048576)!==0&&ep(a,Xc,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")iu(h)?(i=bc(h,i),a.tag=1,a=ov(null,a,h,i,l)):(a.tag=0,a=Gg(null,a,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===ae){a.tag=11,a=tv(null,a,h,i,l);break e}else if(g===$){a.tag=14,a=nv(null,a,h,i,l);break e}}throw a=X(h)||h,Error(r(306,a,""))}}return a;case 0:return Gg(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=bc(h,a.pendingProps),ov(i,a,h,g,l);case 3:e:{if(Ce(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var b=a.memoizedState;g=b.element,Fe(i,a),ut(a,h,null,l);var M=a.memoizedState;if(h=M.cache,Bo(a,Qr,h),h!==b.cache&&Jc(a,[Qr],l,!0),Gt(),h=M.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=lv(i,a,h,l);break e}else if(h!==g){g=Cs(Error(r(424)),a),au(g),a=lv(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ar=bo(i.firstChild),Yr=a,Mn=!0,Fo=null,ja=!0,l=Hy(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ks(),h===g){a=Tl(i,a,l);break e}Xi(i,a,h,l)}a=a.child}return a;case 26:return Sp(i,a),i===null?(l=g5(a.type,null,a.pendingProps,null))?a.memoizedState=l:Mn||(l=a.type,i=a.pendingProps,h=Vp(he.current).createElement(l),h[$n]=a,h[Pn]=i,Ji(h,l,i),Wn(h),a.stateNode=h):a.memoizedState=g5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Be(a),i===null&&Mn&&(h=a.stateNode=d5(a.type,a.pendingProps,he.current),Yr=a,ja=!0,g=Ar,Au(a.type)?(k1=g,Ar=bo(h.firstChild)):Ar=g),Xi(i,a,a.pendingProps.children,l),Sp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Mn&&((g=h=Ar)&&(h=Gx(h,a.type,a.pendingProps,ja),h!==null?(a.stateNode=h,Yr=a,Ar=bo(h.firstChild),ja=!1,g=!0):g=!1),g||wl(a)),Be(a),g=a.type,b=a.pendingProps,M=i!==null?i.memoizedProps:null,h=b.children,I1(g,b)?h=null:M!==null&&I1(g,M)&&(a.flags|=32),a.memoizedState!==null&&(g=Ps(i,a,Yn,null,null,l),Gf._currentValue=g),Sp(i,a),Xi(i,a,h,l),a.child;case 6:return i===null&&Mn&&((i=l=Ar)&&(l=$x(l,a.pendingProps,ja),l!==null?(a.stateNode=l,Yr=a,Ar=null,i=!0):i=!1),i||wl(a)),null;case 13:return uv(i,a,l);case 4:return Ce(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=oh(a,null,h,l):Xi(i,a,h,l),a.child;case 11:return tv(i,a,a.type,a.pendingProps,l);case 7:return Xi(i,a,a.pendingProps,l),a.child;case 8:return Xi(i,a,a.pendingProps.children,l),a.child;case 12:return Xi(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Bo(a,a.type,h.value),Xi(i,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Fa(a),g=Kr(g),h=h(g),a.flags|=1,Xi(i,a,h,l),a.child;case 14:return nv(i,a,a.type,a.pendingProps,l);case 15:return rv(i,a,a.type,a.pendingProps,l);case 19:return hv(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=xp(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ma(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return iv(i,a,l);case 24:return Fa(a),h=Kr(Qr),i===null?(g=S(),g===null&&(g=fr,b=pf(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),a.memoizedState={parent:h,cache:g},Ie(a),Bo(a,Qr,g)):((i.lanes&l)!==0&&(Fe(i,a),ut(a,null,null,l),Gt()),g=i.memoizedState,b=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Bo(a,Qr,h)):(h=b.cache,Bo(a,Qr,h),h!==g.cache&&Jc(a,[Qr],l,!0))),Xi(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Nl(i){i.flags|=4}function dv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!w5(a)){if(a=za.current,a!==null&&((Ln&4194048)===Ln?zo!==null:(Ln&62914560)!==Ln&&(Ln&536870912)===0||a!==zo))throw ie=J,G;i.flags|=8192}}function Ep(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ir():536870912,i.lanes|=a,hh|=a)}function Rf(i,a){if(!Mn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Or(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function vx(i,a,l){var h=a.pendingProps;switch(lc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(a),null;case 1:return Or(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ua(Qr),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Wi(a)?Nl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,np())),Or(a),null;case 26:return l=a.memoizedState,i===null?(Nl(a),l!==null?(Or(a),dv(a,l)):(Or(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Nl(a),Or(a),dv(a,l)):(Or(a),a.flags&=-16777217):(i.memoizedProps!==h&&Nl(a),Or(a),a.flags&=-16777217),null;case 27:ze(a),l=he.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Nl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Or(a),null}i=Z.current,Wi(a)?tp(a):(i=d5(g,h,l),a.stateNode=i,Nl(a))}return Or(a),null;case 5:if(ze(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Nl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Or(a),null}if(i=Z.current,Wi(a))tp(a);else{switch(g=Vp(he.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[$n]=a,i[Pn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Ji(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Nl(a)}}return Or(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Nl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=he.current,Wi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,g=Yr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[$n]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||a5(i.nodeValue,l)),i||wl(a)}else i=Vp(i).createTextNode(h),i[$n]=a,a.stateNode=i}return Or(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Wi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[$n]=a}else ks(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Or(a),g=!1}else g=np(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(El(a),a):(El(a),null)}if(El(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Ep(a,a.updateQueue),Or(a),null;case 4:return ke(),i===null&&S1(a.stateNode.containerInfo),Or(a),null;case 10:return Ua(a.type),Or(a),null;case 19:if(R(Ai),g=a.memoizedState,g===null)return Or(a),null;if(h=(a.flags&128)!==0,b=g.rendering,b===null)if(h)Rf(g,!1);else{if(Gr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=_p(i),b!==null){for(a.flags|=128,Rf(g,!1),i=b.updateQueue,a.updateQueue=i,Ep(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)sc(l,i),l=l.sibling;return q(Ai,Ai.current&1|2),a.child}i=i.sibling}g.tail!==null&&Nt()>Ip&&(a.flags|=128,h=!0,Rf(g,!1),a.lanes=4194304)}else{if(!h)if(i=_p(b),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,Ep(a,i),Rf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Mn)return Or(a),null}else 2*Nt()-g.renderingStartTime>Ip&&l!==536870912&&(a.flags|=128,h=!0,Rf(g,!1),a.lanes=4194304);g.isBackwards?(b.sibling=a.child,a.child=b):(i=g.last,i!==null?i.sibling=b:a.child=b,g.last=b)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Nt(),a.sibling=null,i=Ai.current,q(Ai,h?i&1|2:i&1),a):(Or(a),null);case 22:case 23:return El(a),$t(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Or(a),a.subtreeFlags&6&&(a.flags|=8192)):Or(a),l=a.updateQueue,l!==null&&Ep(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&R(v),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ua(Qr),Or(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function bx(i,a){switch(lc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ua(Qr),ke(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 13:if(El(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ks()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return R(Ai),null;case 4:return ke(),null;case 10:return Ua(a.type),null;case 22:case 23:return El(a),$t(),i!==null&&R(v),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ua(Qr),null;case 25:return null;default:return null}}function pv(i,a){switch(lc(a),a.tag){case 3:Ua(Qr),ke();break;case 26:case 27:case 5:ze(a);break;case 4:ke();break;case 13:El(a);break;case 19:R(Ai);break;case 10:Ua(a.type);break;case 22:case 23:El(a),$t(),i!==null&&R(v);break;case 24:Ua(Qr)}}function Lf(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var b=l.create,M=l.inst;h=b(),M.destroy=h}l=l.next}while(l!==g)}}catch(W){lr(a,a.return,W)}}function pu(i,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&i)===i){var M=h.inst,W=M.destroy;if(W!==void 0){M.destroy=void 0,g=a;var fe=l,Le=W;try{Le()}catch(He){lr(g,fe,He)}}}h=h.next}while(h!==b)}}catch(He){lr(a,a.return,He)}}function mv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Hr(a,l)}catch(h){lr(i,i.return,h)}}}function gv(i,a,l){l.props=bc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){lr(i,a,h)}}function kf(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){lr(i,a,g)}}function Ho(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){lr(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){lr(i,a,g)}else l.current=null}function yv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){lr(i,i.return,g)}}function Jg(i,a,l){try{var h=i.stateNode;Fx(h,i.type,l,a),h[Pn]=a}catch(g){lr(i,i.return,g)}}function vv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Au(i.type)||i.tag===4}function e1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Au(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function t1(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=jp));else if(h!==4&&(h===27&&Au(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(t1(i,a,l),i=i.sibling;i!==null;)t1(i,a,l),i=i.sibling}function Tp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Au(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Tp(i,a,l),i=i.sibling;i!==null;)Tp(i,a,l),i=i.sibling}function bv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Ji(a,h,l),a[$n]=i,a[Pn]=l}catch(b){lr(i,i.return,b)}}var Il=!1,ei=!1,n1=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function _x(i,a){if(i=i.containerInfo,T1=Hp,i=nu(i),Gi(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var M=0,W=-1,fe=-1,Le=0,He=0,Ye=i,Pe=null;t:for(;;){for(var De;Ye!==l||g!==0&&Ye.nodeType!==3||(W=M+g),Ye!==b||h!==0&&Ye.nodeType!==3||(fe=M+h),Ye.nodeType===3&&(M+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)Pe=Ye,Ye=De;for(;;){if(Ye===i)break t;if(Pe===l&&++Le===g&&(W=M),Pe===b&&++He===h&&(fe=M),(De=Ye.nextSibling)!==null)break;Ye=Pe,Pe=Ye.parentNode}Ye=De}l=W===-1||fe===-1?null:{start:W,end:fe}}else l=null}l=l||{start:0,end:0}}else l=null;for(N1={focusedElem:i,selectionRange:l},Hp=!1,Pi=a;Pi!==null;)if(a=Pi,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Pi=i;else for(;Pi!==null;){switch(a=Pi,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=a,g=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var Ht=bc(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ht,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Mt){lr(l,l.return,Mt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)R1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":R1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Pi=i;break}Pi=a.return}}function wv(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:mu(i,l),h&4&&Lf(5,l);break;case 1:if(mu(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(M){lr(l,l.return,M)}else{var g=bc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(M){lr(l,l.return,M)}}h&64&&mv(l),h&512&&kf(l,l.return);break;case 3:if(mu(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hr(i,a)}catch(M){lr(l,l.return,M)}}break;case 27:a===null&&h&4&&bv(l);case 26:case 5:mu(i,l),a===null&&h&4&&yv(l),h&512&&kf(l,l.return);break;case 12:mu(i,l);break;case 13:mu(i,l),h&4&&xv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Cx.bind(null,l),Wx(i,l))));break;case 22:if(h=l.memoizedState!==null||Il,!h){a=a!==null&&a.memoizedState!==null||ei,g=Il;var b=ei;Il=h,(ei=a)&&!b?gu(i,l,(l.subtreeFlags&8772)!==0):mu(i,l),Il=g,ei=b}break;case 30:break;default:mu(i,l)}}function Av(i){var a=i.alternate;a!==null&&(i.alternate=null,Av(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ai(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tr=null,Ws=!1;function Cl(i,a,l){for(l=l.child;l!==null;)Sv(i,a,l),l=l.sibling}function Sv(i,a,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ct,l)}catch{}switch(l.tag){case 26:ei||Ho(l,a),Cl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ei||Ho(l,a);var h=Tr,g=Ws;Au(l.type)&&(Tr=l.stateNode,Ws=!1),Cl(i,a,l),Bf(l.stateNode),Tr=h,Ws=g;break;case 5:ei||Ho(l,a);case 6:if(h=Tr,g=Ws,Tr=null,Cl(i,a,l),Tr=h,Ws=g,Tr!==null)if(Ws)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(l.stateNode)}catch(b){lr(l,a,b)}else try{Tr.removeChild(l.stateNode)}catch(b){lr(l,a,b)}break;case 18:Tr!==null&&(Ws?(i=Tr,h5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Kf(i)):h5(Tr,l.stateNode));break;case 4:h=Tr,g=Ws,Tr=l.stateNode.containerInfo,Ws=!0,Cl(i,a,l),Tr=h,Ws=g;break;case 0:case 11:case 14:case 15:ei||pu(2,l,a),ei||pu(4,l,a),Cl(i,a,l);break;case 1:ei||(Ho(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&gv(l,a,h)),Cl(i,a,l);break;case 21:Cl(i,a,l);break;case 22:ei=(h=ei)||l.memoizedState!==null,Cl(i,a,l),ei=h;break;default:Cl(i,a,l)}}function xv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kf(i)}catch(l){lr(a,a.return,l)}}function wx(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new _v),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new _v),a;default:throw Error(r(435,i.tag))}}function r1(i,a){var l=wx(i);a.forEach(function(h){var g=Rx.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function ua(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],b=i,M=a,W=M;e:for(;W!==null;){switch(W.tag){case 27:if(Au(W.type)){Tr=W.stateNode,Ws=!1;break e}break;case 5:Tr=W.stateNode,Ws=!1;break e;case 3:case 4:Tr=W.stateNode.containerInfo,Ws=!0;break e}W=W.return}if(Tr===null)throw Error(r(160));Sv(b,M,g),Tr=null,Ws=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Ev(a,i),a=a.sibling}var vo=null;function Ev(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ua(a,i),ca(i),h&4&&(pu(3,i,i.return),Lf(3,i),pu(5,i,i.return));break;case 1:ua(a,i),ca(i),h&512&&(ei||l===null||Ho(l,l.return)),h&64&&Il&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=vo;if(ua(a,i),ca(i),h&512&&(ei||l===null||Ho(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[as]||b[$n]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),Ji(b,h,l),b[$n]=i,Wn(b),h=b;break e;case"link":var M=b5("link","href",g).get(h+(l.href||""));if(M){for(var W=0;W<M.length;W++)if(b=M[W],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(W,1);break t}}b=g.createElement(h),Ji(b,h,l),g.head.appendChild(b);break;case"meta":if(M=b5("meta","content",g).get(h+(l.content||""))){for(W=0;W<M.length;W++)if(b=M[W],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(W,1);break t}}b=g.createElement(h),Ji(b,h,l),g.head.appendChild(b);break;default:throw Error(r(468,h))}b[$n]=i,Wn(b),h=b}i.stateNode=h}else _5(g,i.type,i.stateNode);else i.stateNode=v5(g,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?_5(g,i.type,i.stateNode):v5(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Jg(i,i.memoizedProps,l.memoizedProps)}break;case 27:ua(a,i),ca(i),h&512&&(ei||l===null||Ho(l,l.return)),l!==null&&h&4&&Jg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ua(a,i),ca(i),h&512&&(ei||l===null||Ho(l,l.return)),i.flags&32){g=i.stateNode;try{Vi(g,"")}catch(De){lr(i,i.return,De)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Jg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(n1=!0);break;case 6:if(ua(a,i),ca(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){lr(i,i.return,De)}}break;case 3:if(Bp=null,g=vo,vo=Up(a.containerInfo),ua(a,i),vo=g,ca(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Kf(a.containerInfo)}catch(De){lr(i,i.return,De)}n1&&(n1=!1,Tv(i));break;case 4:h=vo,vo=Up(i.stateNode.containerInfo),ua(a,i),ca(i),vo=h;break;case 12:ua(a,i),ca(i);break;case 13:ua(a,i),ca(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(u1=Nt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,r1(i,h)));break;case 22:g=i.memoizedState!==null;var fe=l!==null&&l.memoizedState!==null,Le=Il,He=ei;if(Il=Le||g,ei=He||fe,ua(a,i),ei=He,Il=Le,ca(i),h&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||fe||Il||ei||_c(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){fe=l=a;try{if(b=fe.stateNode,g)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{W=fe.stateNode;var Ye=fe.memoizedProps.style,Pe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;W.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(De){lr(fe,fe.return,De)}}}else if(a.tag===6){if(l===null){fe=a;try{fe.stateNode.nodeValue=g?"":fe.memoizedProps}catch(De){lr(fe,fe.return,De)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,r1(i,l))));break;case 19:ua(a,i),ca(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,r1(i,h)));break;case 30:break;case 21:break;default:ua(a,i),ca(i)}}function ca(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(vv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=e1(i);Tp(i,b,g);break;case 5:var M=l.stateNode;l.flags&32&&(Vi(M,""),l.flags&=-33);var W=e1(i);Tp(i,W,M);break;case 3:case 4:var fe=l.stateNode.containerInfo,Le=e1(i);t1(i,Le,fe);break;default:throw Error(r(161))}}catch(He){lr(i,i.return,He)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Tv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Tv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function mu(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)wv(i,a.alternate,a),a=a.sibling}function _c(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:pu(4,a,a.return),_c(a);break;case 1:Ho(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&gv(a,a.return,l),_c(a);break;case 27:Bf(a.stateNode);case 26:case 5:Ho(a,a.return),_c(a);break;case 22:a.memoizedState===null&&_c(a);break;case 30:_c(a);break;default:_c(a)}i=i.sibling}}function gu(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,b=a,M=b.flags;switch(b.tag){case 0:case 11:case 15:gu(g,b,l),Lf(4,b);break;case 1:if(gu(g,b,l),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){lr(h,h.return,Le)}if(h=b,g=h.updateQueue,g!==null){var W=h.stateNode;try{var fe=g.shared.hiddenCallbacks;if(fe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<fe.length;g++)dn(fe[g],W)}catch(Le){lr(h,h.return,Le)}}l&&M&64&&mv(b),kf(b,b.return);break;case 27:bv(b);case 26:case 5:gu(g,b,l),l&&h===null&&M&4&&yv(b),kf(b,b.return);break;case 12:gu(g,b,l);break;case 13:gu(g,b,l),l&&M&4&&xv(g,b);break;case 22:b.memoizedState===null&&gu(g,b,l),kf(b,b.return);break;case 30:break;default:gu(g,b,l)}a=a.sibling}}function i1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&uc(l))}function s1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&uc(i))}function Go(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Nv(i,a,l,h),a=a.sibling}function Nv(i,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Go(i,a,l,h),g&2048&&Lf(9,a);break;case 1:Go(i,a,l,h);break;case 3:Go(i,a,l,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&uc(i)));break;case 12:if(g&2048){Go(i,a,l,h),i=a.stateNode;try{var b=a.memoizedProps,M=b.id,W=b.onPostCommit;typeof W=="function"&&W(M,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(fe){lr(a,a.return,fe)}}else Go(i,a,l,h);break;case 13:Go(i,a,l,h);break;case 23:break;case 22:b=a.stateNode,M=a.alternate,a.memoizedState!==null?b._visibility&2?Go(i,a,l,h):Pf(i,a):b._visibility&2?Go(i,a,l,h):(b._visibility|=2,lh(i,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&i1(M,a);break;case 24:Go(i,a,l,h),g&2048&&s1(a.alternate,a);break;default:Go(i,a,l,h)}}function lh(i,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,M=a,W=l,fe=h,Le=M.flags;switch(M.tag){case 0:case 11:case 15:lh(b,M,W,fe,g),Lf(8,M);break;case 23:break;case 22:var He=M.stateNode;M.memoizedState!==null?He._visibility&2?lh(b,M,W,fe,g):Pf(b,M):(He._visibility|=2,lh(b,M,W,fe,g)),g&&Le&2048&&i1(M.alternate,M);break;case 24:lh(b,M,W,fe,g),g&&Le&2048&&s1(M.alternate,M);break;default:lh(b,M,W,fe,g)}a=a.sibling}}function Pf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,g=h.flags;switch(h.tag){case 22:Pf(l,h),g&2048&&i1(h.alternate,h);break;case 24:Pf(l,h),g&2048&&s1(h.alternate,h);break;default:Pf(l,h)}a=a.sibling}}var Df=8192;function uh(i){if(i.subtreeFlags&Df)for(i=i.child;i!==null;)Iv(i),i=i.sibling}function Iv(i){switch(i.tag){case 26:uh(i),i.flags&Df&&i.memoizedState!==null&&aE(vo,i.memoizedState,i.memoizedProps);break;case 5:uh(i);break;case 3:case 4:var a=vo;vo=Up(i.stateNode.containerInfo),uh(i),vo=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Df,Df=16777216,uh(i),Df=a):uh(i));break;default:uh(i)}}function Cv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Of(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Pi=h,Lv(h,i)}Cv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(i),i=i.sibling}function Rv(i){switch(i.tag){case 0:case 11:case 15:Of(i),i.flags&2048&&pu(9,i,i.return);break;case 3:Of(i);break;case 12:Of(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Np(i)):Of(i);break;default:Of(i)}}function Np(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Pi=h,Lv(h,i)}Cv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:pu(8,a,a.return),Np(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Np(a));break;default:Np(a)}i=i.sibling}}function Lv(i,a){for(;Pi!==null;){var l=Pi;switch(l.tag){case 0:case 11:case 15:pu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Pi=h;else e:for(l=i;Pi!==null;){h=Pi;var g=h.sibling,b=h.return;if(Av(h),h===l){Pi=null;break e}if(g!==null){g.return=b,Pi=g;break e}Pi=b}}}var Ax={getCacheForType:function(i){var a=Kr(Qr),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},Sx=typeof WeakMap=="function"?WeakMap:Map,Kn=0,fr=null,yn=null,Ln=0,Qn=0,ha=null,yu=!1,ch=!1,a1=!1,Rl=0,Gr=0,vu=0,wc=0,o1=0,Ha=0,hh=0,Mf=null,Ys=null,l1=!1,u1=0,Ip=1/0,Cp=null,bu=null,Zi=0,_u=null,fh=null,dh=0,c1=0,h1=null,kv=null,jf=0,f1=null;function fa(){if((Kn&2)!==0&&Ln!==0)return Ln&-Ln;if(ee.T!==null){var i=Al;return i!==0?i:b1()}return mi()}function Pv(){Ha===0&&(Ha=(Ln&536870912)===0||Mn?Vt():536870912);var i=za.current;return i!==null&&(i.flags|=32),Ha}function da(i,a,l){(i===fr&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(ph(i,0),wu(i,Ln,Ha,!1)),gn(i,l),((Kn&2)===0||i!==fr)&&(i===fr&&((Kn&2)===0&&(wc|=l),Gr===4&&wu(i,Ln,Ha,!1)),$o(i))}function Dv(i,a,l){if((Kn&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||At(i,a),g=h?Tx(i,a):m1(i,a,!0),b=h;do{if(g===0){ch&&!h&&wu(i,a,0,!1);break}else{if(l=i.current.alternate,b&&!xx(l)){g=m1(i,a,!1),b=!1;continue}if(g===2){if(b=a,i.errorRecoveryDisabledLanes&b)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var W=i;g=Mf;var fe=W.current.memoizedState.isDehydrated;if(fe&&(ph(W,M).flags|=256),M=m1(W,M,!1),M!==2){if(a1&&!fe){W.errorRecoveryDisabledLanes|=b,wc|=b,g=4;break e}b=Ys,Ys=g,b!==null&&(Ys===null?Ys=b:Ys.push.apply(Ys,b))}g=M}if(b=!1,g!==2)continue}}if(g===1){ph(i,0),wu(i,a,0,!0);break}e:{switch(h=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:wu(h,a,Ha,!yu);break e;case 2:Ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=u1+300-Nt(),10<g)){if(wu(h,a,Ha,!yu),In(h,0,!0)!==0)break e;h.timeoutHandle=u5(Ov.bind(null,h,l,Ys,Cp,l1,a,Ha,wc,hh,yu,b,2,-0,0),g);break e}Ov(h,l,Ys,Cp,l1,a,Ha,wc,hh,yu,b,0,-0,0)}}break}while(!0);$o(i)}function Ov(i,a,l,h,g,b,M,W,fe,Le,He,Ye,Pe,De){if(i.timeoutHandle=-1,Ye=a.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Hf={stylesheets:null,count:0,unsuspend:sE},Iv(a),Ye=oE(),Ye!==null)){i.cancelPendingCommit=Ye(qv.bind(null,i,a,b,l,h,g,M,W,fe,He,1,Pe,De)),wu(i,b,M,!Le);return}qv(i,a,b,l,h,g,M,W,fe)}function xx(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],b=g.getSnapshot;g=g.value;try{if(!li(b(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wu(i,a,l,h){a&=~o1,a&=~wc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var b=31-st(g),M=1<<b;h[b]=-1,g&=~M}l!==0&&rn(i,l,a)}function Rp(){return(Kn&6)===0?(Vf(0),!1):!0}function d1(){if(yn!==null){if(Qn===0)var i=yn.return;else i=yn,ho=ci=null,_i(i),ah=null,If=0,i=yn;for(;i!==null;)pv(i.alternate,i),i=i.return;yn=null}}function ph(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,qx(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),d1(),fr=i,yn=l=Ma(i.current,null),Ln=a,Qn=0,ha=null,yu=!1,ch=At(i,a),a1=!1,hh=Ha=o1=wc=vu=Gr=0,Ys=Mf=null,l1=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-st(h),b=1<<g;a|=i[g],h&=~b}return Rl=a,rc(),l}function Mv(i,a){dt=null,ee.H=yp,a===H||a===K?(a=we(),Qn=3):a===G?(a=we(),Qn=4):Qn=a===ev?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ha=a,yn===null&&(Gr=1,Ap(i,Cs(a,i.current)))}function jv(){var i=ee.H;return ee.H=yp,i===null?yp:i}function Vv(){var i=ee.A;return ee.A=Ax,i}function p1(){Gr=4,yu||(Ln&4194048)!==Ln&&za.current!==null||(ch=!0),(vu&134217727)===0&&(wc&134217727)===0||fr===null||wu(fr,Ln,Ha,!1)}function m1(i,a,l){var h=Kn;Kn|=2;var g=jv(),b=Vv();(fr!==i||Ln!==a)&&(Cp=null,ph(i,a)),a=!1;var M=Gr;e:do try{if(Qn!==0&&yn!==null){var W=yn,fe=ha;switch(Qn){case 8:d1(),M=6;break e;case 3:case 2:case 9:case 6:za.current===null&&(a=!0);var Le=Qn;if(Qn=0,ha=null,mh(i,W,fe,Le),l&&ch){M=0;break e}break;default:Le=Qn,Qn=0,ha=null,mh(i,W,fe,Le)}}Ex(),M=Gr;break}catch(He){Mv(i,He)}while(!0);return a&&i.shellSuspendCounter++,ho=ci=null,Kn=h,ee.H=g,ee.A=b,yn===null&&(fr=null,Ln=0,rc()),M}function Ex(){for(;yn!==null;)Uv(yn)}function Tx(i,a){var l=Kn;Kn|=2;var h=jv(),g=Vv();fr!==i||Ln!==a?(Cp=null,Ip=Nt()+500,ph(i,a)):ch=At(i,a);e:do try{if(Qn!==0&&yn!==null){a=yn;var b=ha;t:switch(Qn){case 1:Qn=0,ha=null,mh(i,a,b,1);break;case 2:case 9:if(oe(b)){Qn=0,ha=null,Fv(a);break}a=function(){Qn!==2&&Qn!==9||fr!==i||(Qn=7),$o(i)},b.then(a,a);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:oe(b)?(Qn=0,ha=null,Fv(a)):(Qn=0,ha=null,mh(i,a,b,7));break;case 5:var M=null;switch(yn.tag){case 26:M=yn.memoizedState;case 5:case 27:var W=yn;if(!M||w5(M)){Qn=0,ha=null;var fe=W.sibling;if(fe!==null)yn=fe;else{var Le=W.return;Le!==null?(yn=Le,Lp(Le)):yn=null}break t}}Qn=0,ha=null,mh(i,a,b,5);break;case 6:Qn=0,ha=null,mh(i,a,b,6);break;case 8:d1(),Gr=6;break e;default:throw Error(r(462))}}Nx();break}catch(He){Mv(i,He)}while(!0);return ho=ci=null,ee.H=h,ee.A=g,Kn=l,yn!==null?0:(fr=null,Ln=0,rc(),Gr)}function Nx(){for(;yn!==null&&!ue();)Uv(yn)}function Uv(i){var a=fv(i.alternate,i,Rl);i.memoizedProps=i.pendingProps,a===null?Lp(i):yn=a}function Fv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=av(l,a,a.pendingProps,a.type,void 0,Ln);break;case 11:a=av(l,a,a.pendingProps,a.type.render,a.ref,Ln);break;case 5:_i(a);default:pv(l,a),a=yn=sc(a,Rl),a=fv(l,a,Rl)}i.memoizedProps=i.pendingProps,a===null?Lp(i):yn=a}function mh(i,a,l,h){ho=ci=null,_i(a),ah=null,If=0;var g=a.return;try{if(gx(i,g,a,l,Ln)){Gr=1,Ap(i,Cs(l,i.current)),yn=null;return}}catch(b){if(g!==null)throw yn=g,b;Gr=1,Ap(i,Cs(l,i.current)),yn=null;return}a.flags&32768?(Mn||h===1?i=!0:ch||(Ln&536870912)!==0?i=!1:(yu=i=!0,(h===2||h===9||h===3||h===6)&&(h=za.current,h!==null&&h.tag===13&&(h.flags|=16384))),Bv(a,i)):Lp(a)}function Lp(i){var a=i;do{if((a.flags&32768)!==0){Bv(a,yu);return}i=a.return;var l=vx(a.alternate,a,Rl);if(l!==null){yn=l;return}if(a=a.sibling,a!==null){yn=a;return}yn=a=i}while(a!==null);Gr===0&&(Gr=5)}function Bv(i,a){do{var l=bx(i.alternate,i);if(l!==null){l.flags&=32767,yn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){yn=i;return}yn=i=l}while(i!==null);Gr=6,yn=null}function qv(i,a,l,h,g,b,M,W,fe){i.cancelPendingCommit=null;do kp();while(Zi!==0);if((Kn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=Wc,Pt(i,l,b,M,W,fe),i===fr&&(yn=fr=null,Ln=0),fh=a,_u=i,dh=l,c1=b,h1=g,kv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Lx(tt,function(){return Wv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ee.T,ee.T=null,g=de.p,de.p=2,M=Kn,Kn|=4;try{_x(i,a,l)}finally{Kn=M,de.p=g,ee.T=h}}Zi=1,zv(),Hv(),Gv()}}function zv(){if(Zi===1){Zi=0;var i=_u,a=fh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var h=de.p;de.p=2;var g=Kn;Kn|=4;try{Ev(a,i);var b=N1,M=nu(i.containerInfo),W=b.focusedElem,fe=b.selectionRange;if(M!==W&&W&&W.ownerDocument&&Pa(W.ownerDocument.documentElement,W)){if(fe!==null&&Gi(W)){var Le=fe.start,He=fe.end;if(He===void 0&&(He=Le),"selectionStart"in W)W.selectionStart=Le,W.selectionEnd=Math.min(He,W.value.length);else{var Ye=W.ownerDocument||document,Pe=Ye&&Ye.defaultView||window;if(Pe.getSelection){var De=Pe.getSelection(),Ht=W.textContent.length,Mt=Math.min(fe.start,Ht),rr=fe.end===void 0?Mt:Math.min(fe.end,Ht);!De.extend&&Mt>rr&&(M=rr,rr=Mt,Mt=M);var Se=jo(W,Mt),be=jo(W,rr);if(Se&&be&&(De.rangeCount!==1||De.anchorNode!==Se.node||De.anchorOffset!==Se.offset||De.focusNode!==be.node||De.focusOffset!==be.offset)){var Ne=Ye.createRange();Ne.setStart(Se.node,Se.offset),De.removeAllRanges(),Mt>rr?(De.addRange(Ne),De.extend(be.node,be.offset)):(Ne.setEnd(be.node,be.offset),De.addRange(Ne))}}}}for(Ye=[],De=W;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ye.length;W++){var $e=Ye[W];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Hp=!!T1,N1=T1=null}finally{Kn=g,de.p=h,ee.T=l}}i.current=a,Zi=2}}function Hv(){if(Zi===2){Zi=0;var i=_u,a=fh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var h=de.p;de.p=2;var g=Kn;Kn|=4;try{wv(i,a.alternate,a)}finally{Kn=g,de.p=h,ee.T=l}}Zi=3}}function Gv(){if(Zi===4||Zi===3){Zi=0,tn();var i=_u,a=fh,l=dh,h=kv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Zi=5:(Zi=0,fh=_u=null,$v(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(bu=null),ss(l),a=a.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ct,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ee.T,g=de.p,de.p=2,ee.T=null;try{for(var b=i.onRecoverableError,M=0;M<h.length;M++){var W=h[M];b(W.value,{componentStack:W.stack})}}finally{ee.T=a,de.p=g}}(dh&3)!==0&&kp(),$o(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===f1?jf++:(jf=0,f1=i):jf=0,Vf(0)}}function $v(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,uc(a)))}function kp(i){return zv(),Hv(),Gv(),Wv()}function Wv(){if(Zi!==5)return!1;var i=_u,a=c1;c1=0;var l=ss(dh),h=ee.T,g=de.p;try{de.p=32>l?32:l,ee.T=null,l=h1,h1=null;var b=_u,M=dh;if(Zi=0,fh=_u=null,dh=0,(Kn&6)!==0)throw Error(r(331));var W=Kn;if(Kn|=4,Rv(b.current),Nv(b,b.current,M,l),Kn=W,Vf(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ct,b)}catch{}return!0}finally{de.p=g,ee.T=h,$v(i,a)}}function Yv(i,a,l){a=Cs(l,a),a=Hg(i.stateNode,a,2),i=Xe(i,a,2),i!==null&&(gn(i,2),$o(i))}function lr(i,a,l){if(i.tag===3)Yv(i,i,l);else for(;a!==null;){if(a.tag===3){Yv(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bu===null||!bu.has(h))){i=Cs(l,i),l=Zy(2),h=Xe(a,l,2),h!==null&&(Jy(l,h,a,i),gn(h,2),$o(h));break}}a=a.return}}function g1(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new Sx;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(a1=!0,g.add(l),i=Ix.bind(null,i,a,l),a.then(i,i))}function Ix(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,fr===i&&(Ln&l)===l&&(Gr===4||Gr===3&&(Ln&62914560)===Ln&&300>Nt()-u1?(Kn&2)===0&&ph(i,0):o1|=l,hh===Ln&&(hh=0)),$o(i)}function Kv(i,a){a===0&&(a=ir()),i=gl(i,a),i!==null&&(gn(i,a),$o(i))}function Cx(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Kv(i,l)}function Rx(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Kv(i,l)}function Lx(i,a){return rt(i,a)}var Pp=null,gh=null,y1=!1,Dp=!1,v1=!1,Ac=0;function $o(i){i!==gh&&i.next===null&&(gh===null?Pp=gh=i:gh=gh.next=i),Dp=!0,y1||(y1=!0,Px())}function Vf(i,a){if(!v1&&Dp){v1=!0;do for(var l=!1,h=Pp;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var M=h.suspendedLanes,W=h.pingedLanes;b=(1<<31-st(42|i)+1)-1,b&=g&~(M&~W),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Jv(h,b))}else b=Ln,b=In(h,h===fr?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||At(h,b)||(l=!0,Jv(h,b));h=h.next}while(l);v1=!1}}function kx(){Qv()}function Qv(){Dp=y1=!1;var i=0;Ac!==0&&(Bx()&&(i=Ac),Ac=0);for(var a=Nt(),l=null,h=Pp;h!==null;){var g=h.next,b=Xv(h,a);b===0?(h.next=null,l===null?Pp=g:l.next=g,g===null&&(gh=l)):(l=h,(i!==0||(b&3)!==0)&&(Dp=!0)),h=g}Vf(i)}function Xv(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var M=31-st(b),W=1<<M,fe=g[M];fe===-1?((W&l)===0||(W&h)!==0)&&(g[M]=nn(W,a)):fe<=a&&(i.expiredLanes|=W),b&=~W}if(a=fr,l=Ln,l=In(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Me(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||At(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&Me(h),ss(l)){case 2:case 8:l=yt;break;case 32:l=tt;break;case 268435456:l=bt;break;default:l=tt}return h=Zv.bind(null,i),l=rt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&Me(h),i.callbackPriority=2,i.callbackNode=null,2}function Zv(i,a){if(Zi!==0&&Zi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(kp()&&i.callbackNode!==l)return null;var h=Ln;return h=In(i,i===fr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Dv(i,h,a),Xv(i,Nt()),i.callbackNode!=null&&i.callbackNode===l?Zv.bind(null,i):null)}function Jv(i,a){if(kp())return null;Dv(i,a,!0)}function Px(){zx(function(){(Kn&6)!==0?rt(Je,kx):Qv()})}function b1(){return Ac===0&&(Ac=Vt()),Ac}function e5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vs(""+i)}function t5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Dx(i,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var b=e5((g[Pn]||null).action),M=h.submitter;M&&(a=(a=M[Pn]||null)?e5(a.formAction):M.getAttribute("formAction"),a!==null&&(b=a,M=null));var W=new Ea("action","action",null,h,g);i.push({event:W,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ac!==0){var fe=M?t5(g,M):new FormData(g);qa(l,{pending:!0,data:fe,method:g.method,action:b},null,fe)}}else typeof b=="function"&&(W.preventDefault(),fe=M?t5(g,M):new FormData(g),qa(l,{pending:!0,data:fe,method:g.method,action:b},b,fe))},currentTarget:g}]})}}for(var _1=0;_1<$c.length;_1++){var w1=$c[_1],Ox=w1.toLowerCase(),Mx=w1[0].toUpperCase()+w1.slice(1);Hs(Ox,"on"+Mx)}Hs(lf,"onAnimationEnd"),Hs(uf,"onAnimationIteration"),Hs(cf,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(Xd,"onTransitionRun"),Hs(Zd,"onTransitionStart"),Hs(Jd,"onTransitionCancel"),Hs(hf,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uf));function n5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var b=void 0;if(a)for(var M=h.length-1;0<=M;M--){var W=h[M],fe=W.instance,Le=W.currentTarget;if(W=W.listener,fe!==b&&g.isPropagationStopped())break e;b=W,g.currentTarget=Le;try{b(g)}catch(He){wp(He)}g.currentTarget=null,b=fe}else for(M=0;M<h.length;M++){if(W=h[M],fe=W.instance,Le=W.currentTarget,W=W.listener,fe!==b&&g.isPropagationStopped())break e;b=W,g.currentTarget=Le;try{b(g)}catch(He){wp(He)}g.currentTarget=null,b=fe}}}}function vn(i,a){var l=a[Zn];l===void 0&&(l=a[Zn]=new Set);var h=i+"__bubble";l.has(h)||(r5(a,i,2,!1),l.add(h))}function A1(i,a,l){var h=0;a&&(h|=4),r5(l,i,h,a)}var Op="_reactListening"+Math.random().toString(36).slice(2);function S1(i){if(!i[Op]){i[Op]=!0,os.forEach(function(l){l!=="selectionchange"&&(jx.has(l)||A1(l,!1,i),A1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Op]||(a[Op]=!0,A1("selectionchange",!1,a))}}function r5(i,a,l,h){switch(N5(a)){case 2:var g=cE;break;case 8:g=hE;break;default:g=j1}l=g.bind(null,a,l,i),g=void 0,!Br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function x1(i,a,l,h,g){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var M=h.tag;if(M===3||M===4){var W=h.stateNode.containerInfo;if(W===g)break;if(M===4)for(M=h.return;M!==null;){var fe=M.tag;if((fe===3||fe===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;W!==null;){if(M=oi(W),M===null)return;if(fe=M.tag,fe===5||fe===6||fe===26||fe===27){h=b=M;continue e}W=W.parentNode}}h=h.return}Zl(function(){var Le=b,He=hs(l),Ye=[];e:{var Pe=ff.get(i);if(Pe!==void 0){var De=Ea,Ht=i;switch(i){case"keypress":if(Ni(l)===0)break e;case"keydown":case"keyup":De=sr;break;case"focusin":Ht="focus",De=w;break;case"focusout":Ht="blur",De=w;break;case"beforeblur":case"afterblur":De=w;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=qi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=zr;break;case lf:case uf:case cf:De=se;break;case hf:De=aa;break;case"scroll":case"scrollend":De=Ta;break;case"wheel":De=io;break;case"copy":case"cut":case"paste":De=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=gr;break;case"toggle":case"beforetoggle":De=ps}var Mt=(a&4)!==0,rr=!Mt&&(i==="scroll"||i==="scrollend"),Se=Mt?Pe!==null?Pe+"Capture":null:Pe;Mt=[];for(var be=Le,Ne;be!==null;){var $e=be;if(Ne=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ne===null||Se===null||($e=no(be,Se),$e!=null&&Mt.push(Ff(be,$e,Ne))),rr)break;be=be.return}0<Mt.length&&(Pe=new De(Pe,Ht,null,l,He),Ye.push({event:Pe,listeners:Mt}))}}if((a&7)===0){e:{if(Pe=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",Pe&&l!==Ti&&(Ht=l.relatedTarget||l.fromElement)&&(oi(Ht)||Ht[mr]))break e;if((De||Pe)&&(Pe=He.window===He?He:(Pe=He.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,De?(Ht=l.relatedTarget||l.toElement,De=Le,Ht=Ht?oi(Ht):null,Ht!==null&&(rr=o(Ht),Mt=Ht.tag,Ht!==rr||Mt!==5&&Mt!==27&&Mt!==6)&&(Ht=null)):(De=null,Ht=Le),De!==Ht)){if(Mt=Ii,$e="onMouseLeave",Se="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(Mt=gr,$e="onPointerLeave",Se="onPointerEnter",be="pointer"),rr=De==null?Pe:Fr(De),Ne=Ht==null?Pe:Fr(Ht),Pe=new Mt($e,be+"leave",De,l,He),Pe.target=rr,Pe.relatedTarget=Ne,$e=null,oi(He)===Le&&(Mt=new Mt(Se,be+"enter",Ht,l,He),Mt.target=Ne,Mt.relatedTarget=rr,$e=Mt),rr=$e,De&&Ht)t:{for(Mt=De,Se=Ht,be=0,Ne=Mt;Ne;Ne=yh(Ne))be++;for(Ne=0,$e=Se;$e;$e=yh($e))Ne++;for(;0<be-Ne;)Mt=yh(Mt),be--;for(;0<Ne-be;)Se=yh(Se),Ne--;for(;be--;){if(Mt===Se||Se!==null&&Mt===Se.alternate)break t;Mt=yh(Mt),Se=yh(Se)}Mt=null}else Mt=null;De!==null&&i5(Ye,Pe,De,Mt,!1),Ht!==null&&rr!==null&&i5(Ye,rr,Ht,Mt,!0)}}e:{if(Pe=Le?Fr(Le):window,De=Pe.nodeName&&Pe.nodeName.toLowerCase(),De==="select"||De==="input"&&Pe.type==="file")var mt=Hi;else if(Vn(Pe))if(Oo)mt=tu;else{mt=Ra;var pn=af}else De=Pe.nodeName,!De||De.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Le&&fl(Le.elementType)&&(mt=Hi):mt=La;if(mt&&(mt=mt(i,Le))){Is(Ye,mt,l,He);break e}pn&&pn(i,Pe,Le),i==="focusout"&&Le&&Pe.type==="number"&&Le.memoizedProps.value!=null&&wa(Pe,"number",Pe.value)}switch(pn=Le?Fr(Le):window,i){case"focusin":(Vn(pn)||pn.contentEditable==="true")&&(On=pn,zn=Le,ar=null);break;case"focusout":ar=zn=On=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,Oa(Ye,l,He);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":Oa(Ye,l,He)}var xt;if(zi)e:{switch(i){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else un?Oe(i,l)&&(jt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(P&&l.locale!=="ko"&&(un||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&un&&(xt=ro()):(Fs=He,Sa="value"in Fs?Fs.value:Fs.textContent,un=!0)),pn=Mp(Le,jt),0<pn.length&&(jt=new Ke(jt,i,null,l,He),Ye.push({event:jt,listeners:pn}),xt?jt.data=xt:(xt=Ze(l),xt!==null&&(jt.data=xt)))),(xt=E?hr(i,l):cn(i,l))&&(jt=Mp(Le,"onBeforeInput"),0<jt.length&&(pn=new Ke("onBeforeInput","beforeinput",null,l,He),Ye.push({event:pn,listeners:jt}),pn.data=xt)),Dx(Ye,i,Le,l,He)}n5(Ye,a)})}function Ff(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Mp(i,a){for(var l=a+"Capture",h=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=no(i,l),g!=null&&h.unshift(Ff(i,g,b)),g=no(i,a),g!=null&&h.push(Ff(i,g,b))),i.tag===3)return h;i=i.return}return[]}function yh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function i5(i,a,l,h,g){for(var b=a._reactName,M=[];l!==null&&l!==h;){var W=l,fe=W.alternate,Le=W.stateNode;if(W=W.tag,fe!==null&&fe===h)break;W!==5&&W!==26&&W!==27||Le===null||(fe=Le,g?(Le=no(l,b),Le!=null&&M.unshift(Ff(l,Le,fe))):g||(Le=no(l,b),Le!=null&&M.push(Ff(l,Le,fe)))),l=l.return}M.length!==0&&i.push({event:a,listeners:M})}var Vx=/\r\n?/g,Ux=/\u0000|\uFFFD/g;function s5(i){return(typeof i=="string"?i:""+i).replace(Vx,`
`).replace(Ux,"")}function a5(i,a){return a=s5(a),s5(i)===a}function jp(){}function nr(i,a,l,h,g,b){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Vi(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Vi(i,""+h);break;case"className":Ir(i,"class",h);break;case"tabIndex":Ir(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(i,l,h);break;case"style":hl(i,h,b);break;case"data":if(a!=="object"){Ir(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&nr(i,a,"name",g.name,g,null),nr(i,a,"formEncType",g.formEncType,g,null),nr(i,a,"formMethod",g.formMethod,g,null),nr(i,a,"formTarget",g.formTarget,g,null)):(nr(i,a,"encType",g.encType,g,null),nr(i,a,"method",g.method,g,null),nr(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=jp);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Vs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":vn("beforetoggle",i),vn("toggle",i),na(i,"popover",h);break;case"xlinkActuate":Cr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Cr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Cr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Cr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Cr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Cr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":na(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=tc.get(l)||l,na(i,l,h))}}function E1(i,a,l,h,g,b){switch(l){case"style":hl(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Vi(i,h):(typeof h=="number"||typeof h=="bigint")&&Vi(i,""+h);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=jp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),b=i[Pn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(a,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):na(i,l,h)}}}function Ji(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",i),vn("load",i);var h=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var M=l[b];if(M!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nr(i,a,b,M,l,null)}}g&&nr(i,a,"srcSet",l.srcSet,l,null),h&&nr(i,a,"src",l.src,l,null);return;case"input":vn("invalid",i);var W=b=M=g=null,fe=null,Le=null;for(h in l)if(l.hasOwnProperty(h)){var He=l[h];if(He!=null)switch(h){case"name":g=He;break;case"type":M=He;break;case"checked":fe=He;break;case"defaultChecked":Le=He;break;case"value":b=He;break;case"defaultValue":W=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,a));break;default:nr(i,a,h,He,l,null)}}to(i,b,W,fe,Le,M,g,!1),us(i);return;case"select":vn("invalid",i),h=M=b=null;for(g in l)if(l.hasOwnProperty(g)&&(W=l[g],W!=null))switch(g){case"value":b=W;break;case"defaultValue":M=W;break;case"multiple":h=W;default:nr(i,a,g,W,l,null)}a=b,l=M,i.multiple=!!h,a!=null?ia(i,!!h,a,!1):l!=null&&ia(i,!!h,l,!0);return;case"textarea":vn("invalid",i),b=g=h=null;for(M in l)if(l.hasOwnProperty(M)&&(W=l[M],W!=null))switch(M){case"value":h=W;break;case"defaultValue":g=W;break;case"children":b=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:nr(i,a,M,W,l,null)}Aa(i,h,g,b),us(i);return;case"option":for(fe in l)if(l.hasOwnProperty(fe)&&(h=l[fe],h!=null))switch(fe){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:nr(i,a,fe,h,l,null)}return;case"dialog":vn("beforetoggle",i),vn("toggle",i),vn("cancel",i),vn("close",i);break;case"iframe":case"object":vn("load",i);break;case"video":case"audio":for(h=0;h<Uf.length;h++)vn(Uf[h],i);break;case"image":vn("error",i),vn("load",i);break;case"details":vn("toggle",i);break;case"embed":case"source":case"link":vn("error",i),vn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(h=l[Le],h!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nr(i,a,Le,h,l,null)}return;default:if(fl(a)){for(He in l)l.hasOwnProperty(He)&&(h=l[He],h!==void 0&&E1(i,a,He,h,l,void 0));return}}for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null&&nr(i,a,W,h,l,null))}function Fx(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,M=null,W=null,fe=null,Le=null,He=null;for(De in l){var Ye=l[De];if(l.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":fe=Ye;default:h.hasOwnProperty(De)||nr(i,a,De,null,h,Ye)}}for(var Pe in h){var De=h[Pe];if(Ye=l[Pe],h.hasOwnProperty(Pe)&&(De!=null||Ye!=null))switch(Pe){case"type":b=De;break;case"name":g=De;break;case"checked":Le=De;break;case"defaultChecked":He=De;break;case"value":M=De;break;case"defaultValue":W=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,a));break;default:De!==Ye&&nr(i,a,Pe,De,h,Ye)}}yi(i,M,W,fe,Le,He,b,g);return;case"select":De=M=W=Pe=null;for(b in l)if(fe=l[b],l.hasOwnProperty(b)&&fe!=null)switch(b){case"value":break;case"multiple":De=fe;default:h.hasOwnProperty(b)||nr(i,a,b,null,h,fe)}for(g in h)if(b=h[g],fe=l[g],h.hasOwnProperty(g)&&(b!=null||fe!=null))switch(g){case"value":Pe=b;break;case"defaultValue":W=b;break;case"multiple":M=b;default:b!==fe&&nr(i,a,g,b,h,fe)}a=W,l=M,h=De,Pe!=null?ia(i,!!l,Pe,!1):!!h!=!!l&&(a!=null?ia(i,!!l,a,!0):ia(i,!!l,l?[]:"",!1));return;case"textarea":De=Pe=null;for(W in l)if(g=l[W],l.hasOwnProperty(W)&&g!=null&&!h.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:nr(i,a,W,null,h,g)}for(M in h)if(g=h[M],b=l[M],h.hasOwnProperty(M)&&(g!=null||b!=null))switch(M){case"value":Pe=g;break;case"defaultValue":De=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&nr(i,a,M,g,h,b)}on(i,Pe,De);return;case"option":for(var Ht in l)if(Pe=l[Ht],l.hasOwnProperty(Ht)&&Pe!=null&&!h.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:nr(i,a,Ht,null,h,Pe)}for(fe in h)if(Pe=h[fe],De=l[fe],h.hasOwnProperty(fe)&&Pe!==De&&(Pe!=null||De!=null))switch(fe){case"selected":i.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:nr(i,a,fe,Pe,h,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)Pe=l[Mt],l.hasOwnProperty(Mt)&&Pe!=null&&!h.hasOwnProperty(Mt)&&nr(i,a,Mt,null,h,Pe);for(Le in h)if(Pe=h[Le],De=l[Le],h.hasOwnProperty(Le)&&Pe!==De&&(Pe!=null||De!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,a));break;default:nr(i,a,Le,Pe,h,De)}return;default:if(fl(a)){for(var rr in l)Pe=l[rr],l.hasOwnProperty(rr)&&Pe!==void 0&&!h.hasOwnProperty(rr)&&E1(i,a,rr,void 0,h,Pe);for(He in h)Pe=h[He],De=l[He],!h.hasOwnProperty(He)||Pe===De||Pe===void 0&&De===void 0||E1(i,a,He,Pe,h,De);return}}for(var Se in l)Pe=l[Se],l.hasOwnProperty(Se)&&Pe!=null&&!h.hasOwnProperty(Se)&&nr(i,a,Se,null,h,Pe);for(Ye in h)Pe=h[Ye],De=l[Ye],!h.hasOwnProperty(Ye)||Pe===De||Pe==null&&De==null||nr(i,a,Ye,Pe,h,De)}var T1=null,N1=null;function Vp(i){return i.nodeType===9?i:i.ownerDocument}function o5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function I1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var C1=null;function Bx(){var i=window.event;return i&&i.type==="popstate"?i===C1?!1:(C1=i,!0):(C1=null,!1)}var u5=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0,c5=typeof Promise=="function"?Promise:void 0,zx=typeof queueMicrotask=="function"?queueMicrotask:typeof c5<"u"?function(i){return c5.resolve(null).then(i).catch(Hx)}:u5;function Hx(i){setTimeout(function(){throw i})}function Au(i){return i==="head"}function h5(i,a){var l=a,h=0,g=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<h&&8>h){l=h;var M=i.ownerDocument;if(l&1&&Bf(M.documentElement),l&2&&Bf(M.body),l&4)for(l=M.head,Bf(l),M=l.firstChild;M;){var W=M.nextSibling,fe=M.nodeName;M[as]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&M.rel.toLowerCase()==="stylesheet"||l.removeChild(M),M=W}}if(g===0){i.removeChild(b),Kf(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=b}while(l);Kf(a)}function R1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":R1(l),ai(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Gx(i,a,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[as])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=bo(i.nextSibling),i===null)break}return null}function $x(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=bo(i.nextSibling),i===null))return null;return i}function L1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Wx(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function bo(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var k1=null;function f5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function d5(i,a,l){switch(a=Vp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Bf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ai(i)}var Ga=new Map,p5=new Set;function Up(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ll=de.d;de.d={f:Yx,r:Kx,D:Qx,C:Xx,L:Zx,m:Jx,X:tE,S:eE,M:nE};function Yx(){var i=Ll.f(),a=Rp();return i||a}function Kx(i){var a=Ur(i);a!==null&&a.tag===5&&a.type==="form"?yc(a):Ll.r(i)}var vh=typeof document>"u"?null:document;function m5(i,a,l){var h=vh;if(h&&typeof a=="string"&&a){var g=en(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),p5.has(g)||(p5.add(g),i={rel:i,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Ji(a,"link",i),Wn(a),h.head.appendChild(a)))}}function Qx(i){Ll.D(i),m5("dns-prefetch",i,null)}function Xx(i,a){Ll.C(i,a),m5("preconnect",i,a)}function Zx(i,a,l){Ll.L(i,a,l);var h=vh;if(h&&i&&a){var g='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+en(l.imageSizes)+'"]')):g+='[href="'+en(i)+'"]';var b=g;switch(a){case"style":b=bh(i);break;case"script":b=_h(i)}Ga.has(b)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ga.set(b,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(qf(b))||a==="script"&&h.querySelector(zf(b))||(a=h.createElement("link"),Ji(a,"link",i),Wn(a),h.head.appendChild(a)))}}function Jx(i,a){Ll.m(i,a);var l=vh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+en(h)+'"][href="'+en(i)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=_h(i)}if(!Ga.has(b)&&(i=y({rel:"modulepreload",href:i},a),Ga.set(b,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zf(b)))return}h=l.createElement("link"),Ji(h,"link",i),Wn(h),l.head.appendChild(h)}}}function eE(i,a,l){Ll.S(i,a,l);var h=vh;if(h&&i){var g=Jn(h).hoistableStyles,b=bh(i);a=a||"default";var M=g.get(b);if(!M){var W={loading:0,preload:null};if(M=h.querySelector(qf(b)))W.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ga.get(b))&&P1(i,l);var fe=M=h.createElement("link");Wn(fe),Ji(fe,"link",i),fe._p=new Promise(function(Le,He){fe.onload=Le,fe.onerror=He}),fe.addEventListener("load",function(){W.loading|=1}),fe.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Fp(M,a,h)}M={type:"stylesheet",instance:M,count:1,state:W},g.set(b,M)}}}function tE(i,a){Ll.X(i,a);var l=vh;if(l&&i){var h=Jn(l).hoistableScripts,g=_h(i),b=h.get(g);b||(b=l.querySelector(zf(g)),b||(i=y({src:i,async:!0},a),(a=Ga.get(g))&&D1(i,a),b=l.createElement("script"),Wn(b),Ji(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function nE(i,a){Ll.M(i,a);var l=vh;if(l&&i){var h=Jn(l).hoistableScripts,g=_h(i),b=h.get(g);b||(b=l.querySelector(zf(g)),b||(i=y({src:i,async:!0,type:"module"},a),(a=Ga.get(g))&&D1(i,a),b=l.createElement("script"),Wn(b),Ji(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function g5(i,a,l,h){var g=(g=he.current)?Up(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=bh(l.href),l=Jn(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=bh(l.href);var b=Jn(g).hoistableStyles,M=b.get(i);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,M),(b=g.querySelector(qf(i)))&&!b._p&&(M.instance=b,M.state.loading=5),Ga.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ga.set(i,l),b||rE(g,i,l,M.state))),a&&h===null)throw Error(r(528,""));return M}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_h(l),l=Jn(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bh(i){return'href="'+en(i)+'"'}function qf(i){return'link[rel="stylesheet"]['+i+"]"}function y5(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function rE(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Ji(a,"link",l),Wn(a),i.head.appendChild(a))}function _h(i){return'[src="'+en(i)+'"]'}function zf(i){return"script[async]"+i}function v5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+en(l.href)+'"]');if(h)return a.instance=h,Wn(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Wn(h),Ji(h,"style",g),Fp(h,l.precedence,i),a.instance=h;case"stylesheet":g=bh(l.href);var b=i.querySelector(qf(g));if(b)return a.state.loading|=4,a.instance=b,Wn(b),b;h=y5(l),(g=Ga.get(g))&&P1(h,g),b=(i.ownerDocument||i).createElement("link"),Wn(b);var M=b;return M._p=new Promise(function(W,fe){M.onload=W,M.onerror=fe}),Ji(b,"link",h),a.state.loading|=4,Fp(b,l.precedence,i),a.instance=b;case"script":return b=_h(l.src),(g=i.querySelector(zf(b)))?(a.instance=g,Wn(g),g):(h=l,(g=Ga.get(b))&&(h=y({},l),D1(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Wn(g),Ji(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Fp(h,l.precedence,i));return a.instance}function Fp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,M=0;M<h.length;M++){var W=h[M];if(W.dataset.precedence===a)b=W;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function P1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function D1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Bp=null;function b5(i,a,l){if(Bp===null){var h=new Map,g=Bp=new Map;g.set(l,h)}else g=Bp,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[as]||b[$n]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(a)||"";M=i+M;var W=h.get(M);W?W.push(b):h.set(M,[b])}}return h}function _5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function iE(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function w5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hf=null;function sE(){}function aE(i,a,l){if(Hf===null)throw Error(r(475));var h=Hf;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=bh(l.href),b=i.querySelector(qf(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=qp.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=b,Wn(b);return}b=i.ownerDocument||i,l=y5(l),(g=Ga.get(g))&&P1(l,g),b=b.createElement("link"),Wn(b);var M=b;M._p=new Promise(function(W,fe){M.onload=W,M.onerror=fe}),Ji(b,"link",l),a.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=qp.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function oE(){if(Hf===null)throw Error(r(475));var i=Hf;return i.stylesheets&&i.count===0&&O1(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&O1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function qp(){if(this.count--,this.count===0){if(this.stylesheets)O1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zp=null;function O1(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zp=new Map,a.forEach(lE,i),zp=null,qp.call(i))}function lE(i,a){if(!(a.state.loading&4)){var l=zp.get(i);if(l)var h=l.get(null);else{l=new Map,zp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var M=g[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),h=M)}h&&l.set(null,h)}g=a.instance,M=g.getAttribute("data-precedence"),b=l.get(M)||h,b===h&&l.set(null,g),l.set(M,g),this.count++,h=qp.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Gf={$$typeof:te,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function uE(i,a,l,h,g,b,M,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function A5(i,a,l,h,g,b,M,W,fe,Le,He,Ye){return i=new uE(i,a,l,M,W,fe,Le,Ye),a=1,b===!0&&(a|=24),b=Ri(3,null,null,a),i.current=b,b.stateNode=i,a=pf(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:a},Ie(b),i}function S5(i){return i?(i=ui,i):ui}function x5(i,a,l,h,g,b){g=S5(g),h.context===null?h.context=g:h.pendingContext=g,h=Ue(a),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=Xe(i,h,a),l!==null&&(da(l,i,a),We(l,i,a))}function E5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function M1(i,a){E5(i,a),(i=i.alternate)&&E5(i,a)}function T5(i){if(i.tag===13){var a=gl(i,67108864);a!==null&&da(a,i,67108864),M1(i,67108864)}}var Hp=!0;function cE(i,a,l,h){var g=ee.T;ee.T=null;var b=de.p;try{de.p=2,j1(i,a,l,h)}finally{de.p=b,ee.T=g}}function hE(i,a,l,h){var g=ee.T;ee.T=null;var b=de.p;try{de.p=8,j1(i,a,l,h)}finally{de.p=b,ee.T=g}}function j1(i,a,l,h){if(Hp){var g=V1(h);if(g===null)x1(i,a,h,Gp,l),I5(i,h);else if(dE(g,i,a,l,h))h.stopPropagation();else if(I5(i,h),a&4&&-1<fE.indexOf(i)){for(;g!==null;){var b=Ur(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=It(b.pendingLanes);if(M!==0){var W=b;for(W.pendingLanes|=2,W.entangledLanes|=2;M;){var fe=1<<31-st(M);W.entanglements[1]|=fe,M&=~fe}$o(b),(Kn&6)===0&&(Ip=Nt()+500,Vf(0))}}break;case 13:W=gl(b,2),W!==null&&da(W,b,2),Rp(),M1(b,2)}if(b=V1(h),b===null&&x1(i,a,h,Gp,l),b===g)break;g=b}g!==null&&h.stopPropagation()}else x1(i,a,h,null,l)}}function V1(i){return i=hs(i),U1(i)}var Gp=null;function U1(i){if(Gp=null,i=oi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Gp=i,null}function N5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Je:return 2;case yt:return 8;case tt:case Yt:return 32;case bt:return 268435456;default:return 32}default:return 32}}var F1=!1,Su=null,xu=null,Eu=null,$f=new Map,Wf=new Map,Tu=[],fE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I5(i,a){switch(i){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":xu=null;break;case"mouseover":case"mouseout":Eu=null;break;case"pointerover":case"pointerout":$f.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(a.pointerId)}}function Yf(i,a,l,h,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},a!==null&&(a=Ur(a),a!==null&&T5(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function dE(i,a,l,h,g){switch(a){case"focusin":return Su=Yf(Su,i,a,l,h,g),!0;case"dragenter":return xu=Yf(xu,i,a,l,h,g),!0;case"mouseover":return Eu=Yf(Eu,i,a,l,h,g),!0;case"pointerover":var b=g.pointerId;return $f.set(b,Yf($f.get(b)||null,i,a,l,h,g)),!0;case"gotpointercapture":return b=g.pointerId,Wf.set(b,Yf(Wf.get(b)||null,i,a,l,h,g)),!0}return!1}function C5(i){var a=oi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Ct(i.priority,function(){if(l.tag===13){var h=fa();h=pr(h);var g=gl(l,h);g!==null&&da(g,l,h),M1(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $p(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=V1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ti=h,l.target.dispatchEvent(h),Ti=null}else return a=Ur(l),a!==null&&T5(a),i.blockedOn=l,!1;a.shift()}return!0}function R5(i,a,l){$p(i)&&l.delete(a)}function pE(){F1=!1,Su!==null&&$p(Su)&&(Su=null),xu!==null&&$p(xu)&&(xu=null),Eu!==null&&$p(Eu)&&(Eu=null),$f.forEach(R5),Wf.forEach(R5)}function Wp(i,a){i.blockedOn===a&&(i.blockedOn=null,F1||(F1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pE)))}var Yp=null;function L5(i){Yp!==i&&(Yp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yp===i&&(Yp=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(U1(h||l)===null)continue;break}var b=Ur(l);b!==null&&(i.splice(a,3),a-=3,qa(b,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Kf(i){function a(fe){return Wp(fe,i)}Su!==null&&Wp(Su,i),xu!==null&&Wp(xu,i),Eu!==null&&Wp(Eu,i),$f.forEach(a),Wf.forEach(a);for(var l=0;l<Tu.length;l++){var h=Tu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Tu.length&&(l=Tu[0],l.blockedOn===null);)C5(l),l.blockedOn===null&&Tu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],b=l[h+1],M=g[Pn]||null;if(typeof b=="function")M||L5(l);else if(M){var W=null;if(b&&b.hasAttribute("formAction")){if(g=b,M=b[Pn]||null)W=M.formAction;else if(U1(g)!==null)continue}else W=M.action;typeof W=="function"?l[h+1]=W:(l.splice(h,3),h-=3),L5(l)}}}function B1(i){this._internalRoot=i}Kp.prototype.render=B1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=fa();x5(l,h,i,a,null,null)},Kp.prototype.unmount=B1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;x5(i.current,2,null,i,null,null),Rp(),a[mr]=null}};function Kp(i){this._internalRoot=i}Kp.prototype.unstable_scheduleHydration=function(i){if(i){var a=mi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Tu.length&&a!==0&&a<Tu[l].priority;l++);Tu.splice(l,0,i),l===0&&C5(i)}};var k5=e.version;if(k5!=="19.1.1")throw Error(r(527,k5,"19.1.1"));de.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var mE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ct=Qp.inject(mE),wt=Qp}catch{}}return Xf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",g=Yy,b=Ky,M=Qy,W=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(W=a.unstable_transitionCallbacks)),a=A5(i,1,!1,null,null,l,h,g,b,M,W,null),i[mr]=a.current,S1(i),new B1(a)},Xf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,g="",b=Yy,M=Ky,W=Qy,fe=null,Le=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(fe=l.unstable_transitionCallbacks),l.formState!==void 0&&(Le=l.formState)),a=A5(i,1,!0,a,l??null,h,g,b,M,W,fe,Le),a.context=S5(null),l=a.current,h=fa(),h=pr(h),g=Ue(h),g.callback=null,Xe(l,g,h),l=h,a.current.lanes=l,gn(a,l),$o(a),i[mr]=a.current,S1(i),new Kp(a)},Xf.version="19.1.1",Xf}var q5;function NE(){if(q5)return H1.exports;q5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),H1.exports=TE(),H1.exports}var IE=NE();let CE={data:""},RE=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||CE,LE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kE=/\/\*[^]*?\*\/|  +/g,z5=/\n+/g,Lu=(n,e)=>{let t="",r="",s="";for(let o in n){let u=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+u+";":r+=o[1]=="f"?Lu(u,o):o+"{"+Lu(u,o[1]=="k"?"":e)+"}":typeof u=="object"?r+=Lu(u,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Lu.p?Lu.p(o,u):o+":"+u+";")}return t+(e&&s?e+"{"+s+"}":s)+r},kl={},e4=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+e4(n[t]);return e}return n},PE=(n,e,t,r,s)=>{let o=e4(n),u=kl[o]||(kl[o]=(f=>{let d=0,y=11;for(;d<f.length;)y=101*y+f.charCodeAt(d++)>>>0;return"go"+y})(o));if(!kl[u]){let f=o!==n?n:(d=>{let y,A,x=[{}];for(;y=LE.exec(d.replace(kE,""));)y[4]?x.shift():y[3]?(A=y[3].replace(z5," ").trim(),x.unshift(x[0][A]=x[0][A]||{})):x[0][y[1]]=y[2].replace(z5," ").trim();return x[0]})(n);kl[u]=Lu(s?{["@keyframes "+u]:f}:f,t?"":"."+u)}let c=t&&kl.g?kl.g:null;return t&&(kl.g=kl[u]),((f,d,y,A)=>{A?d.data=d.data.replace(A,f):d.data.indexOf(f)===-1&&(d.data=y?f+d.data:d.data+f)})(kl[u],e,r,c),u},DE=(n,e,t)=>n.reduce((r,s,o)=>{let u=e[o];if(u&&u.call){let c=u(t),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;u=f?"."+f:c&&typeof c=="object"?c.props?"":Lu(c,""):c===!1?"":c}return r+s+(u??"")},"");function sg(n){let e=this||{},t=n.call?n(e.p):n;return PE(t.unshift?t.raw?DE(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,RE(e.target),e.g,e.o,e.k)}let t4,M0,j0;sg.bind({g:1});let Bl=sg.bind({k:1});function OE(n,e,t,r){Lu.p=e,t4=n,M0=t,j0=r}function Xu(n,e){let t=this||{};return function(){let r=arguments;function s(o,u){let c=Object.assign({},o),f=c.className||s.className;t.p=Object.assign({theme:M0&&M0()},c),t.o=/ *go\d+/.test(f),c.className=sg.apply(t,r)+(f?" "+f:"");let d=n;return n[0]&&(d=c.as||n,delete c.as),j0&&d[0]&&j0(c),t4(d,c)}return s}}var ME=n=>typeof n=="function",Rm=(n,e)=>ME(n)?n(e):n,jE=(()=>{let n=0;return()=>(++n).toString()})(),n4=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),VE=20,E2="default",r4=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:r}=e;return r4(n,{type:n.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},dm=[],i4={toasts:[],pausedAt:void 0,settings:{toastLimit:VE}},Qo={},s4=(n,e=E2)=>{Qo[e]=r4(Qo[e]||i4,n),dm.forEach(([t,r])=>{t===e&&r(Qo[e])})},a4=n=>Object.keys(Qo).forEach(e=>s4(n,e)),UE=n=>Object.keys(Qo).find(e=>Qo[e].toasts.some(t=>t.id===n)),ag=(n=E2)=>e=>{s4(e,n)},FE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BE=(n={},e=E2)=>{let[t,r]=Ve.useState(Qo[e]||i4),s=Ve.useRef(Qo[e]);Ve.useEffect(()=>(s.current!==Qo[e]&&r(Qo[e]),dm.push([e,r]),()=>{let u=dm.findIndex(([c])=>c===e);u>-1&&dm.splice(u,1)}),[e]);let o=t.toasts.map(u=>{var c,f,d;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((c=n[u.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:u.duration||((f=n[u.type])==null?void 0:f.duration)||n?.duration||FE[u.type],style:{...n.style,...(d=n[u.type])==null?void 0:d.style,...u.style}}});return{...t,toasts:o}},qE=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||jE()}),Ld=n=>(e,t)=>{let r=qE(e,n,t);return ag(r.toasterId||UE(r.id))({type:2,toast:r}),r.id},Si=(n,e)=>Ld("blank")(n,e);Si.error=Ld("error");Si.success=Ld("success");Si.loading=Ld("loading");Si.custom=Ld("custom");Si.dismiss=(n,e)=>{let t={type:3,toastId:n};e?ag(e)(t):a4(t)};Si.dismissAll=n=>Si.dismiss(void 0,n);Si.remove=(n,e)=>{let t={type:4,toastId:n};e?ag(e)(t):a4(t)};Si.removeAll=n=>Si.remove(void 0,n);Si.promise=(n,e,t)=>{let r=Si.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let o=e.success?Rm(e.success,s):void 0;return o?Si.success(o,{id:r,...t,...t?.success}):Si.dismiss(r),s}).catch(s=>{let o=e.error?Rm(e.error,s):void 0;o?Si.error(o,{id:r,...t,...t?.error}):Si.dismiss(r)}),n};var zE=1e3,HE=(n,e="default")=>{let{toasts:t,pausedAt:r}=BE(n,e),s=Ve.useRef(new Map).current,o=Ve.useCallback((A,x=zE)=>{if(s.has(A))return;let _=setTimeout(()=>{s.delete(A),u({type:4,toastId:A})},x);s.set(A,_)},[]);Ve.useEffect(()=>{if(r)return;let A=Date.now(),x=t.map(_=>{if(_.duration===1/0)return;let j=(_.duration||0)+_.pauseDuration-(A-_.createdAt);if(j<0){_.visible&&Si.dismiss(_.id);return}return setTimeout(()=>Si.dismiss(_.id,e),j)});return()=>{x.forEach(_=>_&&clearTimeout(_))}},[t,r,e]);let u=Ve.useCallback(ag(e),[e]),c=Ve.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=Ve.useCallback((A,x)=>{u({type:1,toast:{id:A,height:x}})},[u]),d=Ve.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),y=Ve.useCallback((A,x)=>{let{reverseOrder:_=!1,gutter:j=8,defaultPosition:O}=x||{},F=t.filter(te=>(te.position||O)===(A.position||O)&&te.height),B=F.findIndex(te=>te.id===A.id),ne=F.filter((te,ae)=>ae<B&&te.visible).length;return F.filter(te=>te.visible).slice(..._?[ne+1]:[0,ne]).reduce((te,ae)=>te+(ae.height||0)+j,0)},[t]);return Ve.useEffect(()=>{t.forEach(A=>{if(A.dismissed)o(A.id,A.removeDelay);else{let x=s.get(A.id);x&&(clearTimeout(x),s.delete(A.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:f,startPause:c,endPause:d,calculateOffset:y}}},GE=Bl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$E=Bl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WE=Bl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,YE=Xu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$E} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${WE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KE=Bl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QE=Xu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${KE} 1s linear infinite;
`,XE=Bl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZE=Bl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JE=Xu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,e6=Xu("div")`
  position: absolute;
`,t6=Xu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,n6=Bl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r6=Xu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${n6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,i6=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?Ve.createElement(r6,null,e):e:t==="blank"?null:Ve.createElement(t6,null,Ve.createElement(QE,{...r}),t!=="loading"&&Ve.createElement(e6,null,t==="error"?Ve.createElement(YE,{...r}):Ve.createElement(JE,{...r})))},s6=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,a6=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,o6="0%{opacity:0;} 100%{opacity:1;}",l6="0%{opacity:1;} 100%{opacity:0;}",u6=Xu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,c6=Xu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,h6=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=n4()?[o6,l6]:[s6(t),a6(t)];return{animation:e?`${Bl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bl(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},f6=Ve.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?h6(n.position||e||"top-center",n.visible):{opacity:0},o=Ve.createElement(i6,{toast:n}),u=Ve.createElement(c6,{...n.ariaProps},Rm(n.message,n));return Ve.createElement(u6,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:o,message:u}):Ve.createElement(Ve.Fragment,null,o,u))});OE(Ve.createElement);var d6=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let o=Ve.useCallback(u=>{if(u){let c=()=>{let f=u.getBoundingClientRect().height;r(n,f)};c(),new MutationObserver(c).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return Ve.createElement("div",{ref:o,className:e,style:t},s)},p6=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:n4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},m6=sg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xp=16,g6=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,toasterId:o,containerStyle:u,containerClassName:c})=>{let{toasts:f,handlers:d}=HE(t,o);return Ve.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Xp,left:Xp,right:Xp,bottom:Xp,pointerEvents:"none",...u},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(y=>{let A=y.position||e,x=d.calculateOffset(y,{reverseOrder:n,gutter:r,defaultPosition:e}),_=p6(A,x);return Ve.createElement(d6,{id:y.id,key:y.id,onHeightUpdate:d.updateHeight,className:y.visible?m6:"",style:_},y.type==="custom"?Rm(y.message,y):s?s(y):Ve.createElement(f6,{toast:y,position:A}))}))},Oi=Si;const y6=()=>{};var H5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},v6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},l4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,y=o>>2,A=(o&3)<<4|c>>4;let x=(c&15)<<2|d>>6,_=d&63;f||(_=64,u||(x=64)),r.push(t[y],t[A],t[x],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(o4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):v6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||A==null)throw new b6;const x=o<<2|c>>4;if(r.push(x),d!==64){const _=c<<4&240|d>>2;if(r.push(_),A!==64){const j=d<<6&192|A;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class b6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _6=function(n){const e=o4(n);return l4.encodeByteArray(e,!0)},Lm=function(n){return _6(n).replace(/\./g,"")},u4=function(n){try{return l4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=()=>w6().__FIREBASE_DEFAULTS__,S6=()=>{if(typeof process>"u"||typeof H5>"u")return;const n=H5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},x6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&u4(n[1]);return e&&JSON.parse(e)},og=()=>{try{return y6()||A6()||S6()||x6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},c4=n=>og()?.emulatorHosts?.[n],E6=n=>{const e=c4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},h4=()=>og()?.config,f4=n=>og()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Lm(JSON.stringify(t)),Lm(JSON.stringify(u)),""].join(".")}const ad={};function I6(){const n={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?n.emulator.push(e):n.prod.push(e);return n}function C6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let G5=!1;function p4(n,e){if(typeof window>"u"||typeof document>"u"||!Kh(window.location.host)||ad[n]===e||ad[n]||G5)return;ad[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=I6().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{G5=!0,u()},x}function y(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=C6(r),_=t("text"),j=document.getElementById(_)||document.createElement("span"),O=t("learnmore"),F=document.getElementById(O)||document.createElement("a"),B=t("preprendIcon"),ne=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const te=x.element;c(te),y(F,O);const ae=d();f(ne,B),te.append(ne,j,F,ae),document.body.appendChild(te)}o?(j.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ss())}function L6(){const n=og()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function P6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D6(){const n=Ss();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function O6(){return!L6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function M6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="FirebaseError";class To extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=j6,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?V6(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new To(s,c,r)}}function V6(n,e){return n.replace(U6,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const U6=/\{\$([^}]+)}/g;function F6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if($5(o)&&$5(u)){if(!qu(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function $5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ed(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function td(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function B6(n,e){const t=new q6(n,e);return t.subscribe.bind(t)}class q6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");z6(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Y1),s.error===void 0&&(s.error=Y1),s.complete===void 0&&(s.complete=Y1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Y1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=1e3,G6=2,$6=14400*1e3,W6=.5;function W5(n,e=H6,t=G6){const r=e*Math.pow(t,n),s=Math.round(W6*r*(Math.random()-.5)*2);return Math.min($6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n){return n&&n._delegate?n._delegate:n}class Ao{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new T6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q6(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K6(n){return n===Sc?void 0:n}function Q6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Y6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const Z6={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},J6=Sn.INFO,eT={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},tT=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=eT[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=J6,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const nT=(n,e)=>e.some(t=>n instanceof t);let Y5,K5;function rT(){return Y5||(Y5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return K5||(K5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v4=new WeakMap,V0=new WeakMap,b4=new WeakMap,K1=new WeakMap,T2=new WeakMap;function sT(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Vu(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&v4.set(t,n)}).catch(()=>{}),T2.set(e,n),e}function aT(n){if(V0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});V0.set(n,e)}let U0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return V0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||b4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oT(n){U0=n(U0)}function lT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Q1(this),e,...t);return b4.set(r,e.sort?e.sort():[e]),Vu(r)}:iT().includes(n)?function(...e){return n.apply(Q1(this),e),Vu(v4.get(this))}:function(...e){return Vu(n.apply(Q1(this),e))}}function uT(n){return typeof n=="function"?lT(n):(n instanceof IDBTransaction&&aT(n),nT(n,rT())?new Proxy(n,U0):n)}function Vu(n){if(n instanceof IDBRequest)return sT(n);if(K1.has(n))return K1.get(n);const e=uT(n);return e!==n&&(K1.set(n,e),T2.set(e,n)),e}const Q1=n=>T2.get(n);function _4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=Vu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Vu(u.result),f.oldVersion,f.newVersion,Vu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const cT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],X1=new Map;function Q5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(X1.get(e))return X1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=hT.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cT.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return X1.set(e,o),o}oT(n=>({...n,get:(e,t,r)=>Q5(e,t)||n.get(e,t,r),has:(e,t)=>!!Q5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dT(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function dT(n){return n.getComponent()?.type==="VERSION"}const F0="@firebase/app",X5="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new lg("@firebase/app"),pT="@firebase/app-compat",mT="@firebase/analytics-compat",gT="@firebase/analytics",yT="@firebase/app-check-compat",vT="@firebase/app-check",bT="@firebase/auth",_T="@firebase/auth-compat",wT="@firebase/database",AT="@firebase/data-connect",ST="@firebase/database-compat",xT="@firebase/functions",ET="@firebase/functions-compat",TT="@firebase/installations",NT="@firebase/installations-compat",IT="@firebase/messaging",CT="@firebase/messaging-compat",RT="@firebase/performance",LT="@firebase/performance-compat",kT="@firebase/remote-config",PT="@firebase/remote-config-compat",DT="@firebase/storage",OT="@firebase/storage-compat",MT="@firebase/firestore",jT="@firebase/ai",VT="@firebase/firestore-compat",UT="firebase",FT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="[DEFAULT]",BT={[F0]:"fire-core",[pT]:"fire-core-compat",[gT]:"fire-analytics",[mT]:"fire-analytics-compat",[vT]:"fire-app-check",[yT]:"fire-app-check-compat",[bT]:"fire-auth",[_T]:"fire-auth-compat",[wT]:"fire-rtdb",[AT]:"fire-data-connect",[ST]:"fire-rtdb-compat",[xT]:"fire-fn",[ET]:"fire-fn-compat",[TT]:"fire-iid",[NT]:"fire-iid-compat",[IT]:"fire-fcm",[CT]:"fire-fcm-compat",[RT]:"fire-perf",[LT]:"fire-perf-compat",[kT]:"fire-rc",[PT]:"fire-rc-compat",[DT]:"fire-gcs",[OT]:"fire-gcs-compat",[MT]:"fire-fst",[VT]:"fire-fst-compat",[jT]:"fire-vertex","fire-js":"fire-js",[UT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Map,qT=new Map,q0=new Map;function Z5(n,e){try{n.container.addComponent(e)}catch(t){ql.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function il(n){const e=n.name;if(q0.has(e))return ql.debug(`There were multiple attempts to register component ${e}.`),!1;q0.set(e,n);for(const t of km.values())Z5(t,n);for(const t of qT.values())Z5(t,n);return!0}function Bc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $a(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uu=new Fc("app","Firebase",zT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=FT;function w4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:B0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Uu.create("bad-app-name",{appName:String(s)});if(t||(t=h4()),!t)throw Uu.create("no-options");const o=km.get(s);if(o){if(qu(t,o.options)&&qu(r,o.config))return o;throw Uu.create("duplicate-app",{appName:s})}const u=new X6(s);for(const f of q0.values())u.addComponent(f);const c=new HT(t,r,u);return km.set(s,c),c}function N2(n=B0){const e=km.get(n);if(!e&&n===B0&&h4())return w4();if(!e)throw Uu.create("no-app",{appName:n});return e}function Ka(n,e,t){let r=BT[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ql.warn(u.join(" "));return}il(new Ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",$T=1,gd="firebase-heartbeat-store";let Z1=null;function A4(){return Z1||(Z1=_4(GT,$T,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Uu.create("idb-open",{originalErrorMessage:n.message})})),Z1}async function WT(n){try{const t=(await A4()).transaction(gd),r=await t.objectStore(gd).get(S4(n));return await t.done,r}catch(e){if(e instanceof To)ql.warn(e.message);else{const t=Uu.create("idb-get",{originalErrorMessage:e?.message});ql.warn(t.message)}}}async function J5(n,e){try{const r=(await A4()).transaction(gd,"readwrite");await r.objectStore(gd).put(e,S4(n)),await r.done}catch(t){if(t instanceof To)ql.warn(t.message);else{const r=Uu.create("idb-set",{originalErrorMessage:t?.message});ql.warn(r.message)}}}function S4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=1024,KT=30;class QT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>KT){const s=JT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ql.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eb(),{heartbeatsToSend:t,unsentEntries:r}=XT(this._heartbeatsCache.heartbeats),s=Lm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ql.warn(e),""}}}function eb(){return new Date().toISOString().substring(0,10)}function XT(n,e=YT){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),tb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),tb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ZT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tb(n){return Lm(JSON.stringify({version:2,heartbeats:n})).length}function JT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n){il(new Ao("platform-logger",e=>new fT(e),"PRIVATE")),il(new Ao("heartbeat",e=>new QT(e),"PRIVATE")),Ka(F0,X5,n),Ka(F0,X5,"esm2020"),Ka("fire-js","")}eN("");var tN="firebase",nN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka(tN,nN,"app");function x4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rN=x4,E4=new Fc("auth","Firebase",x4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new lg("@firebase/auth");function iN(n,...e){Pm.logLevel<=Sn.WARN&&Pm.warn(`Auth (${Qh}): ${n}`,...e)}function pm(n,...e){Pm.logLevel<=Sn.ERROR&&Pm.error(`Auth (${Qh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(n,...e){throw I2(n,...e)}function Zo(n,...e){return I2(n,...e)}function T4(n,e,t){const r={...rN(),[e]:t};return new Fc("auth","Firebase",r).create(e,{appName:n.name})}function Ul(n){return T4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return E4.create(n,...e)}function Ut(n,e,...t){if(!n)throw I2(e,...t)}function Ml(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pm(e),new Error(e)}function zl(n,e){n||Ml(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof self<"u"&&self.location?.href||""}function sN(){return nb()==="http:"||nb()==="https:"}function nb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||m4()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.shortDelay=e,this.longDelay=t,zl(t>e,"Short delay should be less than long delay!"),this.isMobile=R6()||P6()}get(){return aN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){zl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cN=new Pd(3e4,6e4);function Wl(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yl(n,e,t,r,s={}){return I4(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=kd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return k6()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Kh(n.emulatorConfig.host)&&(d.credentials="include"),N4.fetch()(await C4(n,n.config.apiHost,t,c),d)})}async function I4(n,e,t){n._canInitEmulator=!1;const r={...lN,...e};try{const s=new fN(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Zp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Zp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Zp(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw T4(n,y,d);So(n,y)}}catch(s){if(s instanceof To)throw s;So(n,"network-request-failed",{message:String(s)})}}async function Dd(n,e,t,r,s={}){const o=await Yl(n,e,t,r,s);return"mfaPendingCredential"in o&&So(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function C4(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?C2(n.config,s):`${n.config.apiScheme}://${s}`;return uN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function hN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),cN.get())})}}function Zp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Zo(n,e,r);return s.customData._tokenResponse=t,s}function rb(n){return n!==void 0&&n.enterprise!==void 0}class dN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pN(n,e){return Yl(n,"GET","/v2/recaptchaConfig",Wl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e){return Yl(n,"POST","/v1/accounts:delete",e)}async function Dm(n,e){return Yl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gN(n,e=!1){const t=Mr(n),r=await t.getIdToken(e),s=R2(r);Ut(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:od(J1(s.auth_time)),issuedAtTime:od(J1(s.iat)),expirationTime:od(J1(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function J1(n){return Number(n)*1e3}function R2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pm("JWT malformed, contained fewer than 3 sections"),null;try{const s=u4(t);return s?JSON.parse(s):(pm("Failed to decode base64 JWT payload"),null)}catch(s){return pm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function ib(n){const e=R2(n);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof To&&yN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function yN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(n){const e=n.auth,t=await n.getIdToken(),r=await yd(n,Dm(e,{idToken:t}));Ut(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?R4(s.providerUserInfo):[],u=_N(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=c?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new H0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function bN(n){const e=Mr(n);await Om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function R4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,e){const t=await I4(n,{},async()=>{const r=kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await C4(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&Kh(n.emulatorConfig.host)&&(f.credentials="include"),N4.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AN(n,e){return Yl(n,"POST","/v2/accounts:revokeToken",Wl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const t=ib(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await wN(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new kh;return r&&(Ut(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ut(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ut(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return Ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(n,e){Ut(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new vN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new H0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await yd(this,this.stsTokenManager.getToken(this.auth,e));return Ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gN(this,e)}reload(){return bN(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($a(this.auth.app))return Promise.reject(Ul(this.auth));const e=await this.getIdToken();return await yd(this,mN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:_,providerData:j,stsTokenManager:O}=t;Ut(A&&O,e,"internal-error");const F=kh.fromJSON(this.name,O);Ut(typeof A=="string",e,"internal-error"),Iu(r,e.name),Iu(s,e.name),Ut(typeof x=="boolean",e,"internal-error"),Ut(typeof _=="boolean",e,"internal-error"),Iu(o,e.name),Iu(u,e.name),Iu(c,e.name),Iu(f,e.name),Iu(d,e.name),Iu(y,e.name);const B=new wo({uid:A,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:_,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:F,createdAt:d,lastLoginAt:y});return j&&Array.isArray(j)&&(B.providerData=j.map(ne=>({...ne}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,t,r=!1){const s=new kh;s.updateFromServerResponse(t);const o=new wo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Om(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ut(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?R4(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new kh;c.updateFromIdToken(r);const f=new wo({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new H0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;function jl(n){zl(n instanceof Function,"Expected a class definition");let e=sb.get(n);return e?(zl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L4.type="NONE";const ab=L4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n,e,t){return`firebase:${n}:${e}:${t}`}class Ph{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=mm(this.userKey,s.apiKey,o),this.fullPersistenceKey=mm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Dm(this.auth,{idToken:e}).catch(()=>{});return t?wo._fromGetAccountInfoResponse(this.auth,t,e):null}return wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ph(jl(ab),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||jl(ab);const u=mm(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(u);if(y){let A;if(typeof y=="string"){const x=await Dm(e,{idToken:y}).catch(()=>{});if(!x)break;A=await wo._fromGetAccountInfoResponse(e,x,y)}else A=wo._fromJSON(e,y);d!==o&&(c=A),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ph(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Ph(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j4(e))return"Blackberry";if(V4(e))return"Webos";if(P4(e))return"Safari";if((e.includes("chrome/")||D4(e))&&!e.includes("edge/"))return"Chrome";if(M4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function k4(n=Ss()){return/firefox\//i.test(n)}function P4(n=Ss()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D4(n=Ss()){return/crios\//i.test(n)}function O4(n=Ss()){return/iemobile/i.test(n)}function M4(n=Ss()){return/android/i.test(n)}function j4(n=Ss()){return/blackberry/i.test(n)}function V4(n=Ss()){return/webos/i.test(n)}function L2(n=Ss()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SN(n=Ss()){return L2(n)&&!!window.navigator?.standalone}function xN(){return D6()&&document.documentMode===10}function U4(n=Ss()){return L2(n)||M4(n)||V4(n)||j4(n)||/windows phone/i.test(n)||O4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n,e=[]){let t;switch(n){case"Browser":t=ob(Ss());break;case"Worker":t=`${ob(Ss())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e={}){return Yl(n,"GET","/v2/passwordPolicy",Wl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=6;class IN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??NN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Dm(this,{idToken:e}),r=await wo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($a(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Om(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($a(this.app))return Promise.reject(Ul(this));const t=e?Mr(e):null;return t&&Ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $a(this.app)?Promise.reject(Ul(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $a(this.app)?Promise.reject(Ul(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TN(this),t=new IN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await AN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jl(e)||this._popupRedirectResolver;Ut(t,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[jl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($a(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zu(n){return Mr(n)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=B6(t=>this.observer=t)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(n){ug=n}function B4(n){return ug.loadJS(n)}function LN(){return ug.recaptchaEnterpriseScript}function kN(){return ug.gapiScript}function PN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ON{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MN="recaptcha-enterprise",q4="NO_RECAPTCHA";class jN{constructor(e){this.type=MN,this.auth=Zu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{pN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new dN(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;rb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(q4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&rb(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=LN();f.length!==0&&(f+=c),B4(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function ub(n,e,t,r=!1,s=!1){const o=new jN(n);let u;if(s)u=q4;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Mm(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ub(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ub(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){const t=Bc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(qu(o,e??{}))return s;So(s,"already-initialized")}return t.initialize({options:e})}function UN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function FN(n,e,t){const r=Zu(n);Ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=z4(e),{host:u,port:c}=BN(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ut(qu(d,r.config.emulator)&&qu(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Kh(u)?(d4(`${o}//${u}${f}`),p4("Auth",!0)):qN()}function z4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BN(n){const e=z4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:cb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:cb(u)}}}function cb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ml("not implemented")}_getIdTokenResponse(e){return Ml("not implemented")}_linkToIdToken(e,t){return Ml("not implemented")}_getReauthenticationResolver(e){return Ml("not implemented")}}async function zN(n,e){return Yl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){return Dd(n,"POST","/v1/accounts:signInWithPassword",Wl(n,e))}async function GN(n,e){return Yl(n,"POST","/v1/accounts:sendOobCode",Wl(n,e))}async function $N(n,e){return GN(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",Wl(n,e))}async function YN(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",Wl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends k2{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new vd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new vd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,t,"signInWithPassword",HN);case"emailLink":return WN(e,{email:this._email,oobCode:this._password});default:So(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,r,"signUpPassword",zN);case"emailLink":return YN(e,{idToken:t,email:this._email,oobCode:this._password});default:So(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(n,e){return Dd(n,"POST","/v1/accounts:signInWithIdp",Wl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="http://localhost";class Lc extends k2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):So("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Lc(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Dh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}buildRequest(){const e={requestUri:KN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XN(n){const e=ed(td(n)).link,t=e?ed(td(e)).deep_link_id:null,r=ed(td(n)).deep_link_id;return(r?ed(td(r)).link:null)||r||t||e||n}class P2{constructor(e){const t=ed(td(e)),r=t.apiKey??null,s=t.oobCode??null,o=QN(t.mode??null);Ut(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=XN(e);try{return new P2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this.providerId=Xh.PROVIDER_ID}static credential(e,t){return vd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=P2.parseLink(t);return Ut(r,"argument-error"),vd._fromEmailAndCode(e,r.code,r.tenantId)}}Xh.PROVIDER_ID="password";Xh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends H4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Od{constructor(){super("facebook.com")}static credential(e){return Lc._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.FACEBOOK_SIGN_IN_METHOD="facebook.com";ku.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lc._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pu.credential(t,r)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Od{constructor(){super("github.com")}static credential(e){return Lc._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Du.credential(e.oauthAccessToken)}catch{return null}}}Du.GITHUB_SIGN_IN_METHOD="github.com";Du.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Od{constructor(){super("twitter.com")}static credential(e,t){return Lc._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ou.credential(t,r)}catch{return null}}}Ou.TWITTER_SIGN_IN_METHOD="twitter.com";Ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e){return Dd(n,"POST","/v1/accounts:signUp",Wl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await wo._fromIdTokenResponse(e,r,s),u=hb(r);return new kc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=hb(r);return new kc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends To{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new jm(e,t,r,s)}}function G4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(n,o,e,r):o})}async function JN(n,e,t=!1){const r=await yd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(n,e,t=!1){const{auth:r}=n;if($a(r.app))return Promise.reject(Ul(r));const s="reauthenticate";try{const o=await yd(n,G4(r,s,e,n),t);Ut(o.idToken,r,"internal-error");const u=R2(o.idToken);Ut(u,r,"internal-error");const{sub:c}=u;return Ut(n.uid===c,r,"user-mismatch"),kc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&So(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(n,e,t=!1){if($a(n.app))return Promise.reject(Ul(n));const r="signIn",s=await G4(n,r,e),o=await kc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function tI(n,e){return $4(Zu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(n){const e=Zu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nI(n,e,t){const r=Zu(n);await Mm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$N)}async function rI(n,e,t){if($a(n.app))return Promise.reject(Ul(n));const r=Zu(n),u=await Mm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&W4(n),f}),c=await kc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function iI(n,e,t){return $a(n.app)?Promise.reject(Ul(n)):tI(Mr(n),Xh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W4(n),r})}function sI(n,e,t,r){return Mr(n).onIdTokenChanged(e,t,r)}function aI(n,e,t){return Mr(n).beforeAuthStateChanged(e,t)}function oI(n,e,t,r){return Mr(n).onAuthStateChanged(e,t,r)}function Y4(n){return Mr(n).signOut()}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1e3,uI=10;class Q4 extends K4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);xN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uI):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q4.type="LOCAL";const cI=Q4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4 extends K4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}X4.type="SESSION";const Z4=X4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await hI(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=D2("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(A){const x=A;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return window}function dI(n){Jo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return typeof Jo().WorkerGlobalScope<"u"&&typeof Jo().importScripts=="function"}async function pI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mI(){return navigator?.serviceWorker?.controller||null}function gI(){return J4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="firebaseLocalStorageDb",yI=1,Um="firebaseLocalStorage",t3="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hg(n,e){return n.transaction([Um],e?"readwrite":"readonly").objectStore(Um)}function vI(){const n=indexedDB.deleteDatabase(e3);return new Md(n).toPromise()}function G0(){const n=indexedDB.open(e3,yI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Um,{keyPath:t3})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Um)?e(r):(r.close(),await vI(),e(await G0()))})})}async function fb(n,e,t){const r=hg(n,!0).put({[t3]:e,value:t});return new Md(r).toPromise()}async function bI(n,e){const t=hg(n,!1).get(e),r=await new Md(t).toPromise();return r===void 0?null:r.value}function db(n,e){const t=hg(n,!0).delete(e);return new Md(t).toPromise()}const _I=800,wI=3;class n3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>wI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G0();return await fb(e,Vm,"1"),await db(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=hg(s,!1).getAll();return new Md(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n3.type="LOCAL";const AI=n3;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n,e){return e?jl(e):(Ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2 extends k2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xI(n){return $4(n.auth,new O2(n),n.bypassAuthState)}function EI(n){const{auth:e,user:t}=n;return Ut(t,e,"internal-error"),eI(t,new O2(n),n.bypassAuthState)}async function TI(n){const{auth:e,user:t}=n;return Ut(t,e,"internal-error"),JN(t,new O2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return TI;case"reauthViaPopup":case"reauthViaRedirect":return EI;default:So(this.auth,"internal-error")}}resolve(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Pd(2e3,1e4);class Rh extends r3{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Rh.currentPopupAction&&Rh.currentPopupAction.cancel(),Rh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const e=D2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NI.get())};e()}}Rh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="pendingRedirect",gm=new Map;class CI extends r3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=gm.get(this.auth._key());if(!e){try{const r=await RI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gm.set(this.auth._key(),e)}return this.bypassAuthState||gm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RI(n,e){const t=PI(e),r=kI(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function LI(n,e){gm.set(n._key(),e)}function kI(n){return jl(n._redirectPersistence)}function PI(n){return mm(II,n.config.apiKey,n.name)}async function DI(n,e,t=!1){if($a(n.app))return Promise.reject(Ul(n));const r=Zu(n),s=SI(r,e),u=await new CI(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=600*1e3;class MI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!i3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Zo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OI&&this.cachedEventUids.clear(),this.cachedEventUids.has(pb(e))}saveEventToCache(e){this.cachedEventUids.add(pb(e)),this.lastProcessedEventTime=Date.now()}}function pb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function i3({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function jI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(n,e={}){return Yl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FI=/^https?/;async function BI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await VI(n);for(const t of e)try{if(qI(t))return}catch{}So(n,"unauthorized-domain")}function qI(n){const e=z0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!FI.test(t))return!1;if(UI.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Pd(3e4,6e4);function mb(){const n=Jo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HI(n){return new Promise((e,t)=>{function r(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),t(Zo(n,"network-request-failed"))},timeout:zI.get()})}if(Jo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jo().gapi?.load)r();else{const s=PN("iframefcb");return Jo()[s]=()=>{gapi.load?r():t(Zo(n,"network-request-failed"))},B4(`${kN()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw ym=null,e})}let ym=null;function GI(n){return ym=ym||HI(n),ym}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Pd(5e3,15e3),WI="__/auth/iframe",YI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(n){const e=n.config;Ut(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?C2(e,YI):`https://${n.config.authDomain}/${WI}`,r={apiKey:e.apiKey,appName:n.name,v:Qh},s=QI.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${kd(r).slice(1)}`}async function ZI(n){const e=await GI(n),t=Jo().gapi;return Ut(t,n,"internal-error"),e.open({where:document.body,url:XI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Zo(n,"network-request-failed"),c=Jo().setTimeout(()=>{o(u)},$I.get());function f(){Jo().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eC=500,tC=600,nC="_blank",rC="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iC(n,e,t,r=eC,s=tC){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...JI,width:r.toString(),height:s.toString(),top:o,left:u},d=Ss().toLowerCase();t&&(c=D4(d)?nC:t),k4(d)&&(e=e||rC,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[_,j])=>`${x}${_}=${j},`,"");if(SN(d)&&c!=="_self")return sC(e||"",c),new gb(null);const A=window.open(e||"",c,y);Ut(A,n,"popup-blocked");try{A.focus()}catch{}return new gb(A)}function sC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__/auth/handler",oC="emulator/auth/handler",lC=encodeURIComponent("fac");async function yb(n,e,t,r,s,o){Ut(n.config.authDomain,n,"auth-domain-config-required"),Ut(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qh,eventId:s};if(e instanceof H4){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",F6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,A]of Object.entries({}))u[y]=A}if(e instanceof Od){const y=e.getScopes().filter(A=>A!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const f=await n._getAppCheckToken(),d=f?`#${lC}=${encodeURIComponent(f)}`:"";return`${uC(n)}?${kd(c).slice(1)}${d}`}function uC({config:n}){return n.emulator?C2(n,oC):`https://${n.authDomain}/${aC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="webStorageSupport";class cC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z4,this._completeRedirectFn=DI,this._overrideRedirectResult=LI}async _openPopup(e,t,r,s){zl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await yb(e,t,r,z0(),s);return iC(e,o,D2())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await yb(e,t,r,z0(),s);return dI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(zl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ZI(e),r=new MI(e);return t.register("authEvent",s=>(Ut(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e0,{type:e0},s=>{const o=s?.[0]?.[e0];o!==void 0&&t(!!o),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U4()||P4()||L2()}}const hC=cC;var vb="@firebase/auth",bb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pC(n){il(new Ao("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ut(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F4(n)},d=new CN(r,s,o,f);return UN(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),il(new Ao("auth-internal",e=>{const t=Zu(e.getProvider("auth").getImmediate());return(r=>new fC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ka(vb,bb,dC(n)),Ka(vb,bb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=300,gC=f4("authIdTokenMaxAge")||mC;let _b=null;const yC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>gC)return;const s=t?.token;_b!==s&&(_b=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vC(n=N2()){const e=Bc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VN(n,{popupRedirectResolver:hC,persistence:[AI,cI,Z4]}),r=f4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=yC(o.toString());aI(t,u,()=>u(t.currentUser)),sI(t,c=>u(c))}}const s=c4("auth");return s&&FN(t,`http://${s}`),t}function bC(){return document.getElementsByTagName("head")?.[0]??document}RN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Zo("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",bC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pC("Browser");var wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fu,s3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,k){function N(){}N.prototype=k.prototype,$.D=k.prototype,$.prototype=new N,$.prototype.constructor=$,$.C=function(z,C,D){for(var L=Array(arguments.length-2),X=2;X<arguments.length;X++)L[X-2]=arguments[X];return k.prototype[C].apply(z,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s($,k,N){N||(N=0);var z=Array(16);if(typeof k=="string")for(var C=0;16>C;++C)z[C]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(C=0;16>C;++C)z[C]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=$.g[0],N=$.g[1],C=$.g[2];var D=$.g[3],L=k+(D^N&(C^D))+z[0]+3614090360&4294967295;k=N+(L<<7&4294967295|L>>>25),L=D+(C^k&(N^C))+z[1]+3905402710&4294967295,D=k+(L<<12&4294967295|L>>>20),L=C+(N^D&(k^N))+z[2]+606105819&4294967295,C=D+(L<<17&4294967295|L>>>15),L=N+(k^C&(D^k))+z[3]+3250441966&4294967295,N=C+(L<<22&4294967295|L>>>10),L=k+(D^N&(C^D))+z[4]+4118548399&4294967295,k=N+(L<<7&4294967295|L>>>25),L=D+(C^k&(N^C))+z[5]+1200080426&4294967295,D=k+(L<<12&4294967295|L>>>20),L=C+(N^D&(k^N))+z[6]+2821735955&4294967295,C=D+(L<<17&4294967295|L>>>15),L=N+(k^C&(D^k))+z[7]+4249261313&4294967295,N=C+(L<<22&4294967295|L>>>10),L=k+(D^N&(C^D))+z[8]+1770035416&4294967295,k=N+(L<<7&4294967295|L>>>25),L=D+(C^k&(N^C))+z[9]+2336552879&4294967295,D=k+(L<<12&4294967295|L>>>20),L=C+(N^D&(k^N))+z[10]+4294925233&4294967295,C=D+(L<<17&4294967295|L>>>15),L=N+(k^C&(D^k))+z[11]+2304563134&4294967295,N=C+(L<<22&4294967295|L>>>10),L=k+(D^N&(C^D))+z[12]+1804603682&4294967295,k=N+(L<<7&4294967295|L>>>25),L=D+(C^k&(N^C))+z[13]+4254626195&4294967295,D=k+(L<<12&4294967295|L>>>20),L=C+(N^D&(k^N))+z[14]+2792965006&4294967295,C=D+(L<<17&4294967295|L>>>15),L=N+(k^C&(D^k))+z[15]+1236535329&4294967295,N=C+(L<<22&4294967295|L>>>10),L=k+(C^D&(N^C))+z[1]+4129170786&4294967295,k=N+(L<<5&4294967295|L>>>27),L=D+(N^C&(k^N))+z[6]+3225465664&4294967295,D=k+(L<<9&4294967295|L>>>23),L=C+(k^N&(D^k))+z[11]+643717713&4294967295,C=D+(L<<14&4294967295|L>>>18),L=N+(D^k&(C^D))+z[0]+3921069994&4294967295,N=C+(L<<20&4294967295|L>>>12),L=k+(C^D&(N^C))+z[5]+3593408605&4294967295,k=N+(L<<5&4294967295|L>>>27),L=D+(N^C&(k^N))+z[10]+38016083&4294967295,D=k+(L<<9&4294967295|L>>>23),L=C+(k^N&(D^k))+z[15]+3634488961&4294967295,C=D+(L<<14&4294967295|L>>>18),L=N+(D^k&(C^D))+z[4]+3889429448&4294967295,N=C+(L<<20&4294967295|L>>>12),L=k+(C^D&(N^C))+z[9]+568446438&4294967295,k=N+(L<<5&4294967295|L>>>27),L=D+(N^C&(k^N))+z[14]+3275163606&4294967295,D=k+(L<<9&4294967295|L>>>23),L=C+(k^N&(D^k))+z[3]+4107603335&4294967295,C=D+(L<<14&4294967295|L>>>18),L=N+(D^k&(C^D))+z[8]+1163531501&4294967295,N=C+(L<<20&4294967295|L>>>12),L=k+(C^D&(N^C))+z[13]+2850285829&4294967295,k=N+(L<<5&4294967295|L>>>27),L=D+(N^C&(k^N))+z[2]+4243563512&4294967295,D=k+(L<<9&4294967295|L>>>23),L=C+(k^N&(D^k))+z[7]+1735328473&4294967295,C=D+(L<<14&4294967295|L>>>18),L=N+(D^k&(C^D))+z[12]+2368359562&4294967295,N=C+(L<<20&4294967295|L>>>12),L=k+(N^C^D)+z[5]+4294588738&4294967295,k=N+(L<<4&4294967295|L>>>28),L=D+(k^N^C)+z[8]+2272392833&4294967295,D=k+(L<<11&4294967295|L>>>21),L=C+(D^k^N)+z[11]+1839030562&4294967295,C=D+(L<<16&4294967295|L>>>16),L=N+(C^D^k)+z[14]+4259657740&4294967295,N=C+(L<<23&4294967295|L>>>9),L=k+(N^C^D)+z[1]+2763975236&4294967295,k=N+(L<<4&4294967295|L>>>28),L=D+(k^N^C)+z[4]+1272893353&4294967295,D=k+(L<<11&4294967295|L>>>21),L=C+(D^k^N)+z[7]+4139469664&4294967295,C=D+(L<<16&4294967295|L>>>16),L=N+(C^D^k)+z[10]+3200236656&4294967295,N=C+(L<<23&4294967295|L>>>9),L=k+(N^C^D)+z[13]+681279174&4294967295,k=N+(L<<4&4294967295|L>>>28),L=D+(k^N^C)+z[0]+3936430074&4294967295,D=k+(L<<11&4294967295|L>>>21),L=C+(D^k^N)+z[3]+3572445317&4294967295,C=D+(L<<16&4294967295|L>>>16),L=N+(C^D^k)+z[6]+76029189&4294967295,N=C+(L<<23&4294967295|L>>>9),L=k+(N^C^D)+z[9]+3654602809&4294967295,k=N+(L<<4&4294967295|L>>>28),L=D+(k^N^C)+z[12]+3873151461&4294967295,D=k+(L<<11&4294967295|L>>>21),L=C+(D^k^N)+z[15]+530742520&4294967295,C=D+(L<<16&4294967295|L>>>16),L=N+(C^D^k)+z[2]+3299628645&4294967295,N=C+(L<<23&4294967295|L>>>9),L=k+(C^(N|~D))+z[0]+4096336452&4294967295,k=N+(L<<6&4294967295|L>>>26),L=D+(N^(k|~C))+z[7]+1126891415&4294967295,D=k+(L<<10&4294967295|L>>>22),L=C+(k^(D|~N))+z[14]+2878612391&4294967295,C=D+(L<<15&4294967295|L>>>17),L=N+(D^(C|~k))+z[5]+4237533241&4294967295,N=C+(L<<21&4294967295|L>>>11),L=k+(C^(N|~D))+z[12]+1700485571&4294967295,k=N+(L<<6&4294967295|L>>>26),L=D+(N^(k|~C))+z[3]+2399980690&4294967295,D=k+(L<<10&4294967295|L>>>22),L=C+(k^(D|~N))+z[10]+4293915773&4294967295,C=D+(L<<15&4294967295|L>>>17),L=N+(D^(C|~k))+z[1]+2240044497&4294967295,N=C+(L<<21&4294967295|L>>>11),L=k+(C^(N|~D))+z[8]+1873313359&4294967295,k=N+(L<<6&4294967295|L>>>26),L=D+(N^(k|~C))+z[15]+4264355552&4294967295,D=k+(L<<10&4294967295|L>>>22),L=C+(k^(D|~N))+z[6]+2734768916&4294967295,C=D+(L<<15&4294967295|L>>>17),L=N+(D^(C|~k))+z[13]+1309151649&4294967295,N=C+(L<<21&4294967295|L>>>11),L=k+(C^(N|~D))+z[4]+4149444226&4294967295,k=N+(L<<6&4294967295|L>>>26),L=D+(N^(k|~C))+z[11]+3174756917&4294967295,D=k+(L<<10&4294967295|L>>>22),L=C+(k^(D|~N))+z[2]+718787259&4294967295,C=D+(L<<15&4294967295|L>>>17),L=N+(D^(C|~k))+z[9]+3951481745&4294967295,$.g[0]=$.g[0]+k&4294967295,$.g[1]=$.g[1]+(C+(L<<21&4294967295|L>>>11))&4294967295,$.g[2]=$.g[2]+C&4294967295,$.g[3]=$.g[3]+D&4294967295}r.prototype.u=function($,k){k===void 0&&(k=$.length);for(var N=k-this.blockSize,z=this.B,C=this.h,D=0;D<k;){if(C==0)for(;D<=N;)s(this,$,D),D+=this.blockSize;if(typeof $=="string"){for(;D<k;)if(z[C++]=$.charCodeAt(D++),C==this.blockSize){s(this,z),C=0;break}}else for(;D<k;)if(z[C++]=$[D++],C==this.blockSize){s(this,z),C=0;break}}this.h=C,this.o+=k},r.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var k=1;k<$.length-8;++k)$[k]=0;var N=8*this.o;for(k=$.length-8;k<$.length;++k)$[k]=N&255,N/=256;for(this.u($),$=Array(16),k=N=0;4>k;++k)for(var z=0;32>z;z+=8)$[N++]=this.g[k]>>>z&255;return $};function o($,k){var N=c;return Object.prototype.hasOwnProperty.call(N,$)?N[$]:N[$]=k($)}function u($,k){this.h=k;for(var N=[],z=!0,C=$.length-1;0<=C;C--){var D=$[C]|0;z&&D==k||(N[C]=D,z=!1)}this.g=N}var c={};function f($){return-128<=$&&128>$?o($,function(k){return new u([k|0],0>k?-1:0)}):new u([$|0],0>$?-1:0)}function d($){if(isNaN($)||!isFinite($))return A;if(0>$)return F(d(-$));for(var k=[],N=1,z=0;$>=N;z++)k[z]=$/N|0,N*=4294967296;return new u(k,0)}function y($,k){if($.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if($.charAt(0)=="-")return F(y($.substring(1),k));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(k,8)),z=A,C=0;C<$.length;C+=8){var D=Math.min(8,$.length-C),L=parseInt($.substring(C,C+D),k);8>D?(D=d(Math.pow(k,D)),z=z.j(D).add(d(L))):(z=z.j(N),z=z.add(d(L)))}return z}var A=f(0),x=f(1),_=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-F(this).m();for(var $=0,k=1,N=0;N<this.g.length;N++){var z=this.i(N);$+=(0<=z?z:4294967296+z)*k,k*=4294967296}return $},n.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(j(this))return"0";if(O(this))return"-"+F(this).toString($);for(var k=d(Math.pow($,6)),N=this,z="";;){var C=ae(N,k).g;N=B(N,C.j(k));var D=((0<N.g.length?N.g[0]:N.h)>>>0).toString($);if(N=C,j(N))return D+z;for(;6>D.length;)D="0"+D;z=D+z}},n.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function j($){if($.h!=0)return!1;for(var k=0;k<$.g.length;k++)if($.g[k]!=0)return!1;return!0}function O($){return $.h==-1}n.l=function($){return $=B(this,$),O($)?-1:j($)?0:1};function F($){for(var k=$.g.length,N=[],z=0;z<k;z++)N[z]=~$.g[z];return new u(N,~$.h).add(x)}n.abs=function(){return O(this)?F(this):this},n.add=function($){for(var k=Math.max(this.g.length,$.g.length),N=[],z=0,C=0;C<=k;C++){var D=z+(this.i(C)&65535)+($.i(C)&65535),L=(D>>>16)+(this.i(C)>>>16)+($.i(C)>>>16);z=L>>>16,D&=65535,L&=65535,N[C]=L<<16|D}return new u(N,N[N.length-1]&-2147483648?-1:0)};function B($,k){return $.add(F(k))}n.j=function($){if(j(this)||j($))return A;if(O(this))return O($)?F(this).j(F($)):F(F(this).j($));if(O($))return F(this.j(F($)));if(0>this.l(_)&&0>$.l(_))return d(this.m()*$.m());for(var k=this.g.length+$.g.length,N=[],z=0;z<2*k;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(var C=0;C<$.g.length;C++){var D=this.i(z)>>>16,L=this.i(z)&65535,X=$.i(C)>>>16,pe=$.i(C)&65535;N[2*z+2*C]+=L*pe,ne(N,2*z+2*C),N[2*z+2*C+1]+=D*pe,ne(N,2*z+2*C+1),N[2*z+2*C+1]+=L*X,ne(N,2*z+2*C+1),N[2*z+2*C+2]+=D*X,ne(N,2*z+2*C+2)}for(z=0;z<k;z++)N[z]=N[2*z+1]<<16|N[2*z];for(z=k;z<2*k;z++)N[z]=0;return new u(N,0)};function ne($,k){for(;($[k]&65535)!=$[k];)$[k+1]+=$[k]>>>16,$[k]&=65535,k++}function te($,k){this.g=$,this.h=k}function ae($,k){if(j(k))throw Error("division by zero");if(j($))return new te(A,A);if(O($))return k=ae(F($),k),new te(F(k.g),F(k.h));if(O(k))return k=ae($,F(k)),new te(F(k.g),k.h);if(30<$.g.length){if(O($)||O(k))throw Error("slowDivide_ only works with positive integers.");for(var N=x,z=k;0>=z.l($);)N=ve(N),z=ve(z);var C=Te(N,1),D=Te(z,1);for(z=Te(z,2),N=Te(N,2);!j(z);){var L=D.add(z);0>=L.l($)&&(C=C.add(N),D=L),z=Te(z,1),N=Te(N,1)}return k=B($,C.j(k)),new te(C,k)}for(C=A;0<=$.l(k);){for(N=Math.max(1,Math.floor($.m()/k.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),D=d(N),L=D.j(k);O(L)||0<L.l($);)N-=z,D=d(N),L=D.j(k);j(D)&&(D=x),C=C.add(D),$=B($,L)}return new te(C,$)}n.A=function($){return ae(this,$).h},n.and=function($){for(var k=Math.max(this.g.length,$.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)&$.i(z);return new u(N,this.h&$.h)},n.or=function($){for(var k=Math.max(this.g.length,$.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)|$.i(z);return new u(N,this.h|$.h)},n.xor=function($){for(var k=Math.max(this.g.length,$.g.length),N=[],z=0;z<k;z++)N[z]=this.i(z)^$.i(z);return new u(N,this.h^$.h)};function ve($){for(var k=$.g.length+1,N=[],z=0;z<k;z++)N[z]=$.i(z)<<1|$.i(z-1)>>>31;return new u(N,$.h)}function Te($,k){var N=k>>5;k%=32;for(var z=$.g.length-N,C=[],D=0;D<z;D++)C[D]=0<k?$.i(D+N)>>>k|$.i(D+N+1)<<32-k:$.i(D+N);return new u(C,$.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Fu=u}).apply(typeof wb<"u"?wb:typeof self<"u"?self:typeof window<"u"?window:{});var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a3,nd,o3,vm,$0,l3,u3,c3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,P){return m==Array.prototype||m==Object.prototype||(m[E]=P.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jp=="object"&&Jp];for(var E=0;E<m.length;++E){var P=m[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=t(this);function s(m,E){if(E)e:{var P=r;m=m.split(".");for(var Q=0;Q<m.length-1;Q++){var xe=m[Q];if(!(xe in P))break e;P=P[xe]}m=m[m.length-1],Q=P[m],E=E(Q),E!=Q&&E!=null&&e(P,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var P=0,Q=!1,xe={next:function(){if(!Q&&P<m.length){var Oe=P++;return{value:E(Oe,m[Oe]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}s("Array.prototype.values",function(m){return m||function(){return o(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,P){return m.call.apply(m.bind,arguments)}function A(m,E,P){if(!m)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,Q),m.apply(E,xe)}}return function(){return m.apply(E,arguments)}}function x(m,E,P){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:A,x.apply(null,arguments)}function _(m,E){var P=Array.prototype.slice.call(arguments,1);return function(){var Q=P.slice();return Q.push.apply(Q,arguments),m.apply(this,Q)}}function j(m,E){function P(){}P.prototype=E.prototype,m.aa=E.prototype,m.prototype=new P,m.prototype.constructor=m,m.Qb=function(Q,xe,Oe){for(var Ze=Array(arguments.length-2),un=2;un<arguments.length;un++)Ze[un-2]=arguments[un];return E.prototype[xe].apply(Q,Ze)}}function O(m){const E=m.length;if(0<E){const P=Array(E);for(let Q=0;Q<E;Q++)P[Q]=m[Q];return P}return[]}function F(m,E){for(let P=1;P<arguments.length;P++){const Q=arguments[P];if(f(Q)){const xe=m.length||0,Oe=Q.length||0;m.length=xe+Oe;for(let Ze=0;Ze<Oe;Ze++)m[xe+Ze]=Q[Ze]}else m.push(Q)}}class B{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function ne(m){return/^[\s\xa0]*$/.test(m)}function te(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function ae(m){return ae[" "](m),m}ae[" "]=function(){};var ve=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Te(m,E,P){for(const Q in m)E.call(P,m[Q],Q,m)}function $(m,E){for(const P in m)E.call(void 0,m[P],P,m)}function k(m){const E={};for(const P in m)E[P]=m[P];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(m,E){let P,Q;for(let xe=1;xe<arguments.length;xe++){Q=arguments[xe];for(P in Q)m[P]=Q[P];for(let Oe=0;Oe<N.length;Oe++)P=N[Oe],Object.prototype.hasOwnProperty.call(Q,P)&&(m[P]=Q[P])}}function C(m){var E=1;m=m.split(":");const P=[];for(;0<E&&m.length;)P.push(m.shift()),E--;return m.length&&P.push(m.join(":")),P}function D(m){c.setTimeout(()=>{throw m},0)}function L(){var m=_e;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class X{constructor(){this.h=this.g=null}add(E,P){const Q=pe.get();Q.set(E,P),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var pe=new B(()=>new ee,m=>m.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let de,re=!1,_e=new X,Y=()=>{const m=c.Promise.resolve(void 0);de=()=>{m.then(ce)}};var ce=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(P){D(P)}var E=pe;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}re=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};c.addEventListener("test",P,E),c.removeEventListener("test",P,E)}catch{}return m})();function le(m,E){if(q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var P=this.type=m.type,Q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(ve){e:{try{ae(E.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(E=null)}}else P=="mouseover"?E=m.fromElement:P=="mouseout"&&(E=m.toElement);this.relatedTarget=E,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:he[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&le.aa.h.call(this)}}j(le,q);var he={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function ke(m,E,P,Q,xe){this.listener=m,this.proxy=null,this.src=E,this.type=P,this.capture=!!Q,this.ha=xe,this.key=++Ce,this.da=this.fa=!1}function Be(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ze(m){this.src=m,this.g={},this.h=0}ze.prototype.add=function(m,E,P,Q,xe){var Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);var Ze=rt(m,E,Q,xe);return-1<Ze?(E=m[Ze],P||(E.fa=!1)):(E=new ke(E,this.src,Oe,!!Q,xe),E.fa=P,m.push(E)),E};function nt(m,E){var P=E.type;if(P in m.g){var Q=m.g[P],xe=Array.prototype.indexOf.call(Q,E,void 0),Oe;(Oe=0<=xe)&&Array.prototype.splice.call(Q,xe,1),Oe&&(Be(E),m.g[P].length==0&&(delete m.g[P],m.h--))}}function rt(m,E,P,Q){for(var xe=0;xe<m.length;++xe){var Oe=m[xe];if(!Oe.da&&Oe.listener==E&&Oe.capture==!!P&&Oe.ha==Q)return xe}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ue={};function tn(m,E,P,Q,xe){if(Array.isArray(E)){for(var Oe=0;Oe<E.length;Oe++)tn(m,E[Oe],P,Q,xe);return null}return P=Bt(P),m&&m[ge]?m.K(E,P,d(Q)?!!Q.capture:!1,xe):Nt(m,E,P,!1,Q,xe)}function Nt(m,E,P,Q,xe,Oe){if(!E)throw Error("Invalid event type");var Ze=d(xe)?!!xe.capture:!!xe,un=bt(m);if(un||(m[Me]=un=new ze(m)),P=un.add(E,P,Q,Ze,Oe),P.proxy)return P;if(Q=Et(),P.proxy=Q,Q.src=m,Q.listener=P,m.addEventListener)Z||(xe=Ze),xe===void 0&&(xe=!1),m.addEventListener(E.toString(),Q,xe);else if(m.attachEvent)m.attachEvent(tt(E.toString()),Q);else if(m.addListener&&m.removeListener)m.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Et(){function m(P){return E.call(m.src,m.listener,P)}const E=Yt;return m}function Je(m,E,P,Q,xe){if(Array.isArray(E))for(var Oe=0;Oe<E.length;Oe++)Je(m,E[Oe],P,Q,xe);else Q=d(Q)?!!Q.capture:!!Q,P=Bt(P),m&&m[ge]?(m=m.i,E=String(E).toString(),E in m.g&&(Oe=m.g[E],P=rt(Oe,P,Q,xe),-1<P&&(Be(Oe[P]),Array.prototype.splice.call(Oe,P,1),Oe.length==0&&(delete m.g[E],m.h--)))):m&&(m=bt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=rt(E,P,Q,xe)),(P=-1<m?E[m]:null)&&yt(P))}function yt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ge])nt(E.i,m);else{var P=m.type,Q=m.proxy;E.removeEventListener?E.removeEventListener(P,Q,m.capture):E.detachEvent?E.detachEvent(tt(P),Q):E.addListener&&E.removeListener&&E.removeListener(Q),(P=bt(E))?(nt(P,m),P.h==0&&(P.src=null,E[Me]=null)):Be(m)}}}function tt(m){return m in ue?ue[m]:ue[m]="on"+m}function Yt(m,E){if(m.da)m=!0;else{E=new le(E,this);var P=m.listener,Q=m.ha||m.src;m.fa&&yt(m),m=P.call(Q,E)}return m}function bt(m){return m=m[Me],m instanceof ze?m:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(m){return typeof m=="function"?m:(m[mn]||(m[mn]=function(E){return m.handleEvent(E)}),m[mn])}function ct(){R.call(this),this.i=new ze(this),this.M=this,this.F=null}j(ct,R),ct.prototype[ge]=!0,ct.prototype.removeEventListener=function(m,E,P,Q){Je(this,m,E,P,Q)};function wt(m,E){var P,Q=m.F;if(Q)for(P=[];Q;Q=Q.F)P.push(Q);if(m=m.M,Q=E.type||E,typeof E=="string")E=new q(E,m);else if(E instanceof q)E.target=E.target||m;else{var xe=E;E=new q(Q,m),z(E,xe)}if(xe=!0,P)for(var Oe=P.length-1;0<=Oe;Oe--){var Ze=E.g=P[Oe];xe=Tt(Ze,Q,!0,E)&&xe}if(Ze=E.g=m,xe=Tt(Ze,Q,!0,E)&&xe,xe=Tt(Ze,Q,!1,E)&&xe,P)for(Oe=0;Oe<P.length;Oe++)Ze=E.g=P[Oe],xe=Tt(Ze,Q,!1,E)&&xe}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var P=m.g[E],Q=0;Q<P.length;Q++)Be(P[Q]);delete m.g[E],m.h--}}this.F=null},ct.prototype.K=function(m,E,P,Q){return this.i.add(String(m),E,!1,P,Q)},ct.prototype.L=function(m,E,P,Q){return this.i.add(String(m),E,!0,P,Q)};function Tt(m,E,P,Q){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var xe=!0,Oe=0;Oe<E.length;++Oe){var Ze=E[Oe];if(Ze&&!Ze.da&&Ze.capture==P){var un=Ze.listener,hr=Ze.ha||Ze.src;Ze.fa&&nt(m.i,Ze),xe=un.call(hr,Q)!==!1&&xe}}return xe&&!Q.defaultPrevented}function st(m,E,P){if(typeof m=="function")P&&(m=x(m,P));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function Lt(m){m.g=st(()=>{m.g=null,m.i&&(m.i=!1,Lt(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class _t extends R{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(m){R.call(this),this.h=m,this.g={}}j(Nn,R);var an=[];function ht(m){Te(m.g,function(E,P){this.g.hasOwnProperty(P)&&yt(E)},m),m.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),ht(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=c.JSON.stringify,In=c.JSON.parse,At=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function nn(){}nn.prototype.h=null;function Vt(m){return m.h||(m.h=m.i())}function ir(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){q.call(this,"d")}j(gn,q);function Pt(){q.call(this,"c")}j(Pt,q);var rn={},ea=null;function pr(){return ea=ea||new ct}rn.La="serverreachability";function ss(m){q.call(this,rn.La,m)}j(ss,q);function mi(m){const E=pr();wt(E,new ss(E))}rn.STAT_EVENT="statevent";function Ct(m,E){q.call(this,rn.STAT_EVENT,m),this.stat=E}j(Ct,q);function Cn(m){const E=pr();wt(E,new Ct(E,m))}rn.Ma="timingevent";function $n(m,E){q.call(this,rn.Ma,m),this.size=E}j($n,q);function Pn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Zn(m,E,P,Q,xe,Oe){m.info(function(){if(m.g)if(Oe)for(var Ze="",un=Oe.split("&"),hr=0;hr<un.length;hr++){var cn=un[hr].split("=");if(1<cn.length){var fn=cn[0];cn=cn[1];var Vn=fn.split("_");Ze=2<=Vn.length&&Vn[1]=="type"?Ze+(fn+"="+cn+"&"):Ze+(fn+"=redacted&")}}else Ze=null;else Ze=Oe;return"XMLHTTP REQ ("+Q+") [attempt "+xe+"]: "+E+`
`+P+`
`+Ze})}function Vr(m,E,P,Q,xe,Oe,Ze){m.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+xe+"]: "+E+`
`+P+`
`+Oe+" "+Ze})}function cr(m,E,P,Q){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+as(m,P)+(Q?" "+Q:"")})}function va(m,E){m.info(function(){return"TIMEOUT: "+E})}mr.prototype.info=function(){};function as(m,E){if(!m.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(m=0;m<P.length;m++)if(Array.isArray(P[m])){var Q=P[m];if(!(2>Q.length)){var xe=Q[1];if(Array.isArray(xe)&&!(1>xe.length)){var Oe=xe[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Ze=1;Ze<xe.length;Ze++)xe[Ze]=""}}}}return It(P)}catch{return E}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function Fr(){}j(Fr,nn),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},Ur=new Fr;function Jn(m,E,P,Q){this.j=m,this.i=E,this.l=P,this.R=Q||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var os={},Ms={};function Ei(m,E,P){m.L=1,m.v=Aa(yi(E)),m.m=P,m.P=!0,ls(m,null)}function ls(m,E){m.F=Date.now(),ta(m),m.A=yi(m.v);var P=m.A,Q=m.R;Array.isArray(Q)||(Q=[String(Q)]),Dt(P.i,"t",Q),m.C=0,P=m.j.J,m.h=new Wn,m.g=aa(m.j,P?E:null,!m.m),0<m.O&&(m.M=new _t(x(m.Y,m,m.g),m.O)),E=m.U,P=m.g,Q=m.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(an[0]=xe.toString()),xe=an);for(var Oe=0;Oe<xe.length;Oe++){var Ze=tn(P,xe[Oe],Q||E.handleEvent,!1,E.h||E);if(!Ze)break;E.g[Ze.key]=Ze}E=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),mi(),Zn(m.i,m.u,m.A,m.l,m.R,m.m)}Jn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ii(m)==3?E.j():this.Y(m)},Jn.prototype.Y=function(m){try{if(m==this.g)e:{const Vn=Ii(this.g);var E=this.g.Ba();const Is=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||Vn!=4||E==7||(E==8||0>=Is?mi(3):mi(2)),na(this);var P=this.g.Z();this.X=P;t:if(Xa(this)){var Q=Po(this.g);m="";var xe=Q.length,Oe=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Ir(this);var Ze="";break t}this.h.i=new c.TextDecoder}for(E=0;E<xe;E++)this.h.h=!0,m+=this.h.i.decode(Q[E],{stream:!(Oe&&E==xe-1)});Q.length=0,this.h.g+=m,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=P==200,Vr(this.i,this.u,this.A,this.l,this.R,Vn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var un,hr=this.g;if((un=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(un)){var cn=un;break t}}cn=null}if(P=cn)cr(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,P);else{this.o=!1,this.s=3,Cn(12),Cr(this),Ir(this);break e}}if(this.P){P=!0;let Lr;for(;!this.J&&this.C<Ze.length;)if(Lr=Ql(this,Ze),Lr==Ms){Vn==4&&(this.s=4,Cn(14),P=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lr==os){this.s=4,Cn(15),cr(this.i,this.l,Ze,"[Invalid Chunk]"),P=!1;break}else cr(this.i,this.l,Lr,null),ba(this,Lr);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||Ze.length!=0||this.h.h||(this.s=1,Cn(16),P=!1),this.o=this.o&&P,!P)cr(this.i,this.l,Ze,"[Invalid Chunked Response]"),Cr(this),Ir(this);else if(0<Ze.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),ln(fn),fn.M=!0,Cn(11))}}else cr(this.i,this.l,Ze,null),ba(this,Ze);Vn==4&&Cr(this),this.o&&!this.J&&(Vn==4?Dn(this.j,this):(this.o=!1,ta(this)))}else qi(this.g),P==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),Cr(this),Ir(this)}}}catch{}finally{}};function Xa(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ql(m,E){var P=m.C,Q=E.indexOf(`
`,P);return Q==-1?Ms:(P=Number(E.substring(P,Q)),isNaN(P)?os:(Q+=1,Q+P>E.length?Ms:(E=E.slice(Q,Q+P),m.C=Q+P,E)))}Jn.prototype.cancel=function(){this.J=!0,Cr(this)};function ta(m){m.S=Date.now()+m.I,cl(m,m.I)}function cl(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Pn(x(m.ba,m),E)}function na(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Jn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(va(this.i,this.A),this.L!=2&&(mi(),Cn(17)),Cr(this),this.s=2,Ir(this)):cl(this,this.S-m)};function Ir(m){m.j.G==0||m.J||Dn(m.j,m)}function Cr(m){na(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,ht(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ba(m,E){try{var P=m.j;if(P.G!=0&&(P.g==m||_a(P.h,m))){if(!m.K&&_a(P.h,m)&&P.G==3){try{var Q=P.Da.g.parse(E)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var xe=Q;if(xe[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<m.F)sr(P),se(P);else break e;qt(P),Cn(18)}}else P.za=xe[1],0<P.za-P.T&&37500>xe[2]&&P.F&&P.v==0&&!P.C&&(P.C=Pn(x(P.Za,P),6e3));if(1>=Ja(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else qn(P,11)}else if((m.K||P.g==m)&&sr(P),!ne(E))for(xe=P.Da.g.parse(E),E=0;E<xe.length;E++){let cn=xe[E];if(P.T=cn[0],cn=cn[1],P.G==2)if(cn[0]=="c"){P.K=cn[1],P.ia=cn[2];const fn=cn[3];fn!=null&&(P.la=fn,P.j.info("VER="+P.la));const Vn=cn[4];Vn!=null&&(P.Aa=Vn,P.j.info("SVER="+P.Aa));const Is=cn[5];Is!=null&&typeof Is=="number"&&0<Is&&(Q=1.5*Is,P.L=Q,P.j.info("backChannelRequestTimeoutMs_="+Q)),Q=P;const Lr=m.g;if(Lr){const vi=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var Oe=Q.h;Oe.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Ro(Oe,Oe.h),Oe.h=null))}if(Q.D){const Ia=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(Q.ya=Ia,on(Q.I,Q.D,Ia))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-m.F,P.j.info("Handshake RTT: "+P.R+"ms")),Q=P;var Ze=m;if(Q.qa=Bs(Q,Q.J?Q.ia:null,Q.W),Ze.K){bn(Q.h,Ze);var un=Ze,hr=Q.L;hr&&(un.I=hr),un.B&&(na(un),ta(un)),Q.g=Ze}else kt(Q);0<P.i.length&&Ae(P)}else cn[0]!="stop"&&cn[0]!="close"||qn(P,7);else P.G==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?qn(P,7):V(P):cn[0]!="noop"&&P.l&&P.l.ta(cn),P.v=0)}}mi(4)}catch{}}var Co=class{constructor(m,E){this.g=m,this.map=E}};function js(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Za(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ja(m){return m.h?1:m.g?m.g.size:0}function _a(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Ro(m,E){m.g?m.g.add(E):m.h=E}function bn(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}js.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Lo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const P of m.g.values())E=E.concat(P.D);return E}return O(m.i)}function Xl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],P=m.length,Q=0;Q<P;Q++)E.push(m[Q]);return E}E=[],P=0;for(Q in m)E[P++]=m[Q];return E}function us(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var P=0;P<m;P++)E.push(P);return E}E=[],P=0;for(const Q in m)E[P++]=Q;return E}}}function ra(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var P=us(m),Q=Xl(m),xe=Q.length,Oe=0;Oe<xe;Oe++)E.call(void 0,Q[Oe],P&&P[Oe],m)}var gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(m,E){if(m){m=m.split("&");for(var P=0;P<m.length;P++){var Q=m[P].indexOf("="),xe=null;if(0<=Q){var Oe=m[P].substring(0,Q);xe=m[P].substring(Q+1)}else Oe=m[P];E(Oe,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function en(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof en){this.h=m.h,to(this,m.j),this.o=m.o,this.g=m.g,wa(this,m.s),this.l=m.l;var E=m.i,P=new Ti;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),ia(this,P),this.m=m.m}else m&&(E=String(m).match(gi))?(this.h=!1,to(this,E[1]||"",!0),this.o=Vi(E[2]||""),this.g=Vi(E[3]||"",!0),wa(this,E[4]),this.l=Vi(E[5]||"",!0),ia(this,E[6]||"",!0),this.m=Vi(E[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}en.prototype.toString=function(){var m=[],E=this.j;E&&m.push(cs(E,hl,!0),":");var P=this.g;return(P||E=="file")&&(m.push("//"),(E=this.o)&&m.push(cs(E,hl,!0),"@"),m.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&m.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(cs(P,P.charAt(0)=="/"?tc:fl,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",cs(P,Vs)),m.join("")};function yi(m){return new en(m)}function to(m,E,P){m.j=P?Vi(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function wa(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function ia(m,E,P){E instanceof Ti?(m.i=E,Zl(m.i,m.h)):(P||(E=cs(E,dl)),m.i=new Ti(E,m.h))}function on(m,E,P){m.i.set(E,P)}function Aa(m){return on(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Vi(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function cs(m,E,P){return typeof m=="string"?(m=encodeURI(m).replace(E,ko),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ko(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,tc=/[#\?]/g,dl=/[#\?@]/g,Vs=/#/g;function Ti(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function hs(m){m.g||(m.g=new Map,m.h=0,m.i&&eo(m.i,function(E,P){m.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}n=Ti.prototype,n.add=function(m,E){hs(this),this.i=null,m=Us(this,m);var P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(E),this.h+=1,this};function Ui(m,E){hs(m),E=Us(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function xs(m,E){return hs(m),E=Us(m,E),m.g.has(E)}n.forEach=function(m,E){hs(this),this.g.forEach(function(P,Q){P.forEach(function(xe){m.call(E,xe,Q,this)},this)},this)},n.na=function(){hs(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let Q=0;Q<E.length;Q++){const xe=m[Q];for(let Oe=0;Oe<xe.length;Oe++)P.push(E[Q])}return P},n.V=function(m){hs(this);let E=[];if(typeof m=="string")xs(this,m)&&(E=E.concat(this.g.get(Us(this,m))));else{m=Array.from(this.g.values());for(let P=0;P<m.length;P++)E=E.concat(m[P])}return E},n.set=function(m,E){return hs(this),this.i=null,m=Us(this,m),xs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Dt(m,E,P){Ui(m,E),0<P.length&&(m.i=null,m.g.set(Us(m,E),O(P)),m.h+=P.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var Q=E[P];const Oe=encodeURIComponent(String(Q)),Ze=this.V(Q);for(Q=0;Q<Ze.length;Q++){var xe=Oe;Ze[Q]!==""&&(xe+="="+encodeURIComponent(String(Ze[Q]))),m.push(xe)}}return this.i=m.join("&")};function Us(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Zl(m,E){E&&!m.j&&(hs(m),m.i=null,m.g.forEach(function(P,Q){var xe=Q.toLowerCase();Q!=xe&&(Ui(this,Q),Dt(this,xe,P))},m)),m.j=E}function no(m,E){const P=new mr;if(c.Image){const Q=new Image;Q.onload=_(Br,P,"TestLoadImage: loaded",!0,E,Q),Q.onerror=_(Br,P,"TestLoadImage: error",!1,E,Q),Q.onabort=_(Br,P,"TestLoadImage: abort",!1,E,Q),Q.ontimeout=_(Br,P,"TestLoadImage: timeout",!1,E,Q),c.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=m}else E(!1)}function Es(m,E){const P=new mr,Q=new AbortController,xe=setTimeout(()=>{Q.abort(),Br(P,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:Q.signal}).then(Oe=>{clearTimeout(xe),Oe.ok?Br(P,"TestPingServer: ok",!0,E):Br(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(xe),Br(P,"TestPingServer: error",!1,E)})}function Br(m,E,P,Q,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),Q(P)}catch{}}function Fi(){this.g=new At}function Fs(m,E,P){const Q=P||"";try{ra(m,function(xe,Oe){let Ze=xe;d(xe)&&(Ze=It(xe)),E.push(Q+Oe+"="+encodeURIComponent(Ze))})}catch(xe){throw E.push(Q+"type="+encodeURIComponent("_badmap")),xe}}function Sa(m){this.l=m.Ub||null,this.j=m.eb||!1}j(Sa,nn),Sa.prototype.g=function(){return new fs(this.l,this.j)},Sa.prototype.i=(function(m){return function(){return m}})({});function fs(m,E){ct.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(fs,ct),n=fs.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Bi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ro(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ro(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ni(this):Bi(this),this.readyState==3&&ro(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ni(this))},n.Qa=function(m){this.g&&(this.response=m,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Bi(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=E.next();return m.join(`\r
`)};function Bi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xa(m){let E="";return Te(m,function(P,Q){E+=Q,E+=":",E+=P,E+=`\r
`}),E}function qr(m,E,P){e:{for(Q in P){var Q=!1;break e}Q=!0}Q||(P=xa(P),typeof m=="string"?P!=null&&encodeURIComponent(String(P)):on(m,E,P))}function _n(m){ct.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(_n,ct);var Ea=/^https?$/i,Ts=["POST","PUT"];n=_n.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,P,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?Vt(this.o):Vt(Ur),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Oe){Ta(this,Oe);return}if(m=P||"",P=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var xe in Q)P.set(xe,Q[xe]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Oe of Q.keys())P.set(Oe,Q.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(P.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),xe=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ts,E,void 0))||Q||xe||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Ze]of P)this.g.setRequestHeader(Oe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(m),this.u=!1}catch(Oe){Ta(this,Oe)}};function Ta(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Na(m),ds(m)}function Na(m){m.A||(m.A=!0,wt(m,"complete"),wt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,wt(this,"complete"),wt(this,"abort"),ds(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),_n.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},n.bb=function(){sa(this)};function sa(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Ii(m)!=4||m.Z()!=2)){if(m.u&&Ii(m)==4)st(m.Ea,0,m);else if(wt(m,"readystatechange"),Ii(m)==4){m.h=!1;try{const Ze=m.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var Q;if(Q=Ze===0){var xe=String(m.D).match(gi)[1]||null;!xe&&c.self&&c.self.location&&(xe=c.self.location.protocol.slice(0,-1)),Q=!Ea.test(xe?xe.toLowerCase():"")}P=Q}if(P)wt(m,"complete"),wt(m,"success");else{m.m=6;try{var Oe=2<Ii(m)?m.g.statusText:""}catch{Oe=""}m.l=Oe+" ["+m.Z()+"]",Na(m)}}finally{ds(m)}}}}function ds(m,E){if(m.g){Ns(m);const P=m.g,Q=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||wt(m,"ready");try{P.onreadystatechange=Q}catch{}}}function Ns(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ii(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),In(E)}};function Po(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(m){const E={};m=(m.g&&2<=Ii(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<m.length;Q++){if(ne(m[Q]))continue;var P=C(m[Q]);const xe=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Oe=E[xe]||[];E[xe]=Oe,Oe.push(P)}$(E,function(Q){return Q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(m,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||E}function w(m){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,m),this.cb=Ci("retryDelaySeedMs",1e4,m),this.Wa=Ci("forwardChannelMaxRetries",2,m),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new js(m&&m.concurrentRequestLimit),this.Da=new Fi,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=w.prototype,n.la=8,n.G=1,n.connect=function(m,E,P,Q){Cn(0),this.W=m,this.H=E||{},P&&Q!==void 0&&(this.H.OSID=P,this.H.OAID=Q),this.F=this.X,this.I=Bs(this,null,this.W),Ae(this)};function V(m){if(me(m),m.G==3){var E=m.U++,P=yi(m.I);if(on(P,"SID",m.K),on(P,"RID",E),on(P,"TYPE","terminate"),at(m,P),E=new Jn(m,m.j,E),E.L=2,E.v=Aa(yi(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&c.Image&&(new Image().src=E.v,P=!0),P||(E.g=aa(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ta(E)}zr(m)}function se(m){m.g&&(ln(m),m.g.cancel(),m.g=null)}function me(m){se(m),m.u&&(c.clearTimeout(m.u),m.u=null),sr(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Ae(m){if(!Za(m.h)&&!m.s){m.s=!0;var E=m.Ga;de||Y(),re||(de(),re=!0),_e.add(E,m),m.B=0}}function qe(m,E){return Ja(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Pn(x(m.Ga,m,E),gr(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const xe=new Jn(this,this.j,m);let Oe=this.o;if(this.S&&(Oe?(Oe=k(Oe),z(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(xe.H=Oe,Oe=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var Q=this.i[P];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(E+=Q,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=pt(this,xe,E),P=yi(this.I),on(P,"RID",m),on(P,"CVER",22),this.D&&on(P,"X-HTTP-Session-Id",this.D),at(this,P),Oe&&(this.O?E="headers="+encodeURIComponent(String(xa(Oe)))+"&"+E:this.m&&qr(P,this.m,Oe)),Ro(this.h,xe),this.Ua&&on(P,"TYPE","init"),this.P?(on(P,"$req",E),on(P,"SID","null"),xe.T=!0,Ei(xe,P,null)):Ei(xe,P,E),this.G=2}}else this.G==3&&(m?Ke(this,m):this.i.length==0||Za(this.h)||Ke(this))};function Ke(m,E){var P;E?P=E.l:P=m.U++;const Q=yi(m.I);on(Q,"SID",m.K),on(Q,"RID",P),on(Q,"AID",m.T),at(m,Q),m.m&&m.o&&qr(Q,m.m,m.o),P=new Jn(m,m.j,P,m.B+1),m.m===null&&(P.H=m.o),E&&(m.i=E.D.concat(m.i)),E=pt(m,P,1e3),P.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ro(m.h,P),Ei(P,Q,E)}function at(m,E){m.H&&Te(m.H,function(P,Q){on(E,Q,P)}),m.l&&ra({},function(P,Q){on(E,Q,P)})}function pt(m,E,P){P=Math.min(m.i.length,P);var Q=m.l?x(m.l.Na,m.l,m):null;e:{var xe=m.i;let Oe=-1;for(;;){const Ze=["count="+P];Oe==-1?0<P?(Oe=xe[0].g,Ze.push("ofs="+Oe)):Oe=0:Ze.push("ofs="+Oe);let un=!0;for(let hr=0;hr<P;hr++){let cn=xe[hr].g;const fn=xe[hr].map;if(cn-=Oe,0>cn)Oe=Math.max(0,xe[hr].g-100),un=!1;else try{Fs(fn,Ze,"req"+cn+"_")}catch{Q&&Q(fn)}}if(un){Q=Ze.join("&");break e}}}return m=m.i.splice(0,P),E.D=m,Q}function kt(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;de||Y(),re||(de(),re=!0),_e.add(E,m),m.v=0}}function qt(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Pn(x(m.Fa,m),gr(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,er(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Pn(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),se(this),er(this))};function ln(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function er(m){m.g=new Jn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=yi(m.qa);on(E,"RID","rpc"),on(E,"SID",m.K),on(E,"AID",m.T),on(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&on(E,"TO",m.ja),on(E,"TYPE","xmlhttp"),at(m,E),m.m&&m.o&&qr(E,m.m,m.o),m.L&&(m.g.I=m.L);var P=m.g;m=m.ia,P.L=1,P.v=Aa(yi(E)),P.m=null,P.P=!0,ls(P,m)}n.Za=function(){this.C!=null&&(this.C=null,se(this),qt(this),Cn(19))};function sr(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Dn(m,E){var P=null;if(m.g==E){sr(m),ln(m),m.g=null;var Q=2}else if(_a(m.h,E))P=E.D,bn(m.h,E),Q=1;else return;if(m.G!=0){if(E.o)if(Q==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var xe=m.B;Q=pr(),wt(Q,new $n(Q,P)),Ae(m)}else kt(m);else if(xe=E.s,xe==3||xe==0&&0<E.X||!(Q==1&&qe(m,E)||Q==2&&qt(m)))switch(P&&0<P.length&&(E=m.h,E.i=E.i.concat(P)),xe){case 1:qn(m,5);break;case 4:qn(m,10);break;case 3:qn(m,6);break;default:qn(m,2)}}}function gr(m,E){let P=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(P*=2),P*E}function qn(m,E){if(m.j.info("Error code "+E),E==2){var P=x(m.fb,m),Q=m.Xa;const xe=!Q;Q=new en(Q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(Q,"https"),Aa(Q),xe?no(Q.toString(),P):Es(Q.toString(),P)}else Cn(2);m.G=0,m.l&&m.l.sa(E),zr(m),me(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function zr(m){if(m.G=0,m.ka=[],m.l){const E=Lo(m.h);(E.length!=0||m.i.length!=0)&&(F(m.ka,E),F(m.ka,m.i),m.h.i.length=0,O(m.i),m.i.length=0),m.l.ra()}}function Bs(m,E,P){var Q=P instanceof en?yi(P):new en(P);if(Q.g!="")E&&(Q.g=E+"."+Q.g),wa(Q,Q.s);else{var xe=c.location;Q=xe.protocol,E=E?E+"."+xe.hostname:xe.hostname,xe=+xe.port;var Oe=new en(null);Q&&to(Oe,Q),E&&(Oe.g=E),xe&&wa(Oe,xe),P&&(Oe.l=P),Q=Oe}return P=m.D,E=m.ya,P&&E&&on(Q,P,E),on(Q,"VER",m.la),at(m,Q),Q}function aa(m,E,P){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new _n(new Sa({eb:P})):new _n(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}n=Jl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(m,E){return new Rr(m,E)};function Rr(m,E){ct.call(this),this.g=new w(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!ne(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!ne(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new zi(this)}j(Rr,ct),Rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){V(this.g)},Rr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.u&&(P={},P.__data__=It(m),m=P);E.i.push(new Co(E.Ya++,m)),E.G==3&&Ae(E)},Rr.prototype.N=function(){this.g.l=null,delete this.j,V(this.g),delete this.g,Rr.aa.N.call(this)};function ps(m){gn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const P in E){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}j(ps,gn);function Do(){Pt.call(this),this.status=1}j(Do,Pt);function zi(m){this.g=m}j(zi,Jl),zi.prototype.ua=function(){wt(this.g,"a")},zi.prototype.ta=function(m){wt(this.g,new ps(m))},zi.prototype.sa=function(m){wt(this.g,new Do)},zi.prototype.ra=function(){wt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,c3=function(){return new io},u3=function(){return pr()},l3=rn,$0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,vm=ai,oi.COMPLETE="complete",o3=oi,ir.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,nd=ir,_n.prototype.listenOnce=_n.prototype.L,_n.prototype.getLastError=_n.prototype.Ka,_n.prototype.getLastErrorCode=_n.prototype.Ba,_n.prototype.getStatus=_n.prototype.Z,_n.prototype.getResponseJson=_n.prototype.Oa,_n.prototype.getResponseText=_n.prototype.oa,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Ha,a3=_n}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});const Ab="@firebase/firestore",Sb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ws.UNAUTHENTICATED=new ws(null),ws.GOOGLE_CREDENTIALS=new ws("google-credentials-uid"),ws.FIRST_PARTY=new ws("first-party-uid"),ws.MOCK_USER=new ws("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new lg("@firebase/firestore");function xh(){return zu.logLevel}function _C(n){zu.setLogLevel(n)}function lt(n,...e){if(zu.logLevel<=Sn.DEBUG){const t=e.map(M2);zu.debug(`Firestore (${Zh}): ${n}`,...t)}}function Hl(n,...e){if(zu.logLevel<=Sn.ERROR){const t=e.map(M2);zu.error(`Firestore (${Zh}): ${n}`,...t)}}function qh(n,...e){if(zu.logLevel<=Sn.WARN){const t=e.map(M2);zu.warn(`Firestore (${Zh}): ${n}`,...t)}}function M2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,h3(n,r,t)}function h3(n,e,t){let r=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hl(r),new Error(r)}function Hn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||h3(e,s,r)}function Zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends To{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ws.UNAUTHENTICATED)))}shutdown(){}}class AC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class SC{constructor(e){this.t=e,this.currentUser=ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fl,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new f3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new ws(e)}}class xC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ws.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ws.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$a(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Hn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=NC(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function En(n,e){return n<e?-1:n>e?1:0}function W0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return t0(s)===t0(o)?En(s,o):t0(s)?1:-1}return En(n.length,e.length)}const IC=55296,CC=57343;function t0(n){const e=n.charCodeAt(0);return e>=IC&&e<=CC}function zh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__name__";class Ko{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ft(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ft(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ko.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return En(e.length,t.length)}static compareSegments(e,t){const r=Ko.isNumericId(e),s=Ko.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ko.extractNumericId(e).compare(Ko.extractNumericId(t)):W0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fu.fromString(e.substring(4,e.length-2))}}class dr extends Ko{construct(e,t,r){return new dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new dr(t)}static emptyPath(){return new dr([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ns extends Ko{construct(e,t,r){return new ns(e,t,r)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ns.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Eb}static keyField(){return new ns([Eb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new it(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new it(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new it(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new it(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ns(t)}static emptyPath(){return new ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(dr.fromString(e))}static fromName(e){return new Rt(dr.fromString(e).popFirst(5))}static empty(){return new Rt(dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new dr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n,e,t){if(!t)throw new it(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LC(n,e,t,r){if(e===!0&&r===!0)throw new it(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Tb(n){if(!Rt.isDocumentKey(n))throw new it(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nb(n){if(Rt.isDocumentKey(n))throw new it(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function Ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fg(n);throw new it(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,e){const t={typeString:n};return e&&(t.value=e),t}function jd(n,e){if(!p3(n))throw new it(Ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new it(Ge.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=-62135596800,Cb=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Cb);return new br(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ib)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cb}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:br._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jd(e,br._jsonSchema))return new br(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ib;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}br._jsonSchemaVersion="firestore/timestamp/1.0",br._jsonSchema={type:pi("string",br._jsonSchemaVersion),seconds:pi("number"),nanoseconds:pi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new br(0,0))}static max(){return new Qt(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function kC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qt.fromTimestamp(r===1e9?new br(t+1,0):new br(t,r));return new Hu(s,Rt.empty(),e)}function PC(n){return new Hu(n.readTime,n.key,bd)}class Hu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hu(Qt.min(),Rt.empty(),bd)}static max(){return new Hu(Qt.max(),Rt.empty(),bd)}}function DC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Rt.comparator(n.documentKey,e.documentKey),t!==0?t:En(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==OC)throw n;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.reject(t)}static resolve(e){return new Qe(((t,r)=>{t(e)}))}static reject(e){return new Qe(((t,r)=>{r(e)}))}static waitFor(e){return new Qe(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Qe.resolve(!1);for(const r of e)t=t.next((s=>s?Qe.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Qe(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((y=>{u[d]=y,++c,c===o&&r(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new Qe(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function jC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ef(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=-1;function pg(n){return n==null}function Fm(n){return n===0&&1/n==-1/0}function VC(n){return typeof n=="number"&&Number.isInteger(n)&&!Fm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="";function UC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rb(e)),e=FC(n.get(t),e);return Rb(e)}function FC(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case m3:t+="";break;default:t+=o}}return t}function Rb(n){return n+m3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}}class em{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??es.RED,this.left=s??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new es(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return es.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kb(this.data.getIterator())}getIteratorFrom(e){return new kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.fields=e,e.sort(ns.comparator)}static empty(){return new ma([])}unionWith(e){let t=new xi(ns.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new y3("Invalid base64 string: "+o):o}})(e);return new is(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(n){if(Hn(!!n,39018),typeof n=="string"){let e=0;const t=BC.exec(n);if(Hn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $u(n){return typeof n=="string"?is.fromBase64String(n):is.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="server_timestamp",b3="__type__",_3="__previous_value__",w3="__local_write_time__";function U2(n){return(n?.mapValue?.fields||{})[b3]?.stringValue===v3}function mg(n){const e=n.mapValue.fields[_3];return U2(e)?mg(e):e}function _d(n){const e=Gu(n.mapValue.fields[w3].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,r,s,o,u,c,f,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Bm="(default)";class wd{constructor(e,t){this.projectId=e,this.database=t||Bm}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===Bm}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="__type__",zC="__max__",tm={mapValue:{}},S3="__vector__",qm="value";function Wu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?U2(n)?4:GC(n)?9007199254740991:HC(n)?10:11:Ft(28295,{value:n})}function sl(n,e){if(n===e)return!0;const t=Wu(n);if(t!==Wu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _d(n).isEqual(_d(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Gu(s.timestampValue),c=Gu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return $u(s.bytesValue).isEqual($u(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return ti(s.geoPointValue.latitude)===ti(o.geoPointValue.latitude)&&ti(s.geoPointValue.longitude)===ti(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return ti(s.integerValue)===ti(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=ti(s.doubleValue),c=ti(o.doubleValue);return u===c?Fm(u)===Fm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return zh(n.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Lb(u)!==Lb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!sl(u[f],c[f])))return!1;return!0})(n,e);default:return Ft(52216,{left:n})}}function Ad(n,e){return(n.values||[]).find((t=>sl(t,e)))!==void 0}function Hh(n,e){if(n===e)return 0;const t=Wu(n),r=Wu(e);if(t!==r)return En(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return En(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=ti(o.integerValue||o.doubleValue),f=ti(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return Pb(n.timestampValue,e.timestampValue);case 4:return Pb(_d(n),_d(e));case 5:return W0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=$u(o),f=$u(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const y=En(c[d],f[d]);if(y!==0)return y}return En(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=En(ti(o.latitude),ti(u.latitude));return c!==0?c:En(ti(o.longitude),ti(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Db(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[qm]?.arrayValue,y=f[qm]?.arrayValue,A=En(d?.values?.length||0,y?.values?.length||0);return A!==0?A:Db(d,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===tm.mapValue&&u===tm.mapValue)return 0;if(o===tm.mapValue)return 1;if(u===tm.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let A=0;A<f.length&&A<y.length;++A){const x=W0(f[A],y[A]);if(x!==0)return x;const _=Hh(c[f[A]],d[y[A]]);if(_!==0)return _}return En(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Ft(23264,{he:t})}}function Pb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return En(n,e);const t=Gu(n),r=Gu(e),s=En(t.seconds,r.seconds);return s!==0?s:En(t.nanos,r.nanos)}function Db(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Hh(t[s],r[s]);if(o)return o}return En(t.length,r.length)}function Gh(n){return Y0(n)}function Y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Gu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $u(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Rt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Y0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Y0(t.fields[u])}`;return s+"}"})(n.mapValue):Ft(61005,{value:n})}function bm(n){switch(Wu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mg(n);return e?16+bm(e):16;case 5:return 2*n.stringValue.length;case 6:return $u(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+bm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ju(r.fields,((o,u)=>{s+=o.length+bm(u)})),s})(n.mapValue);default:throw Ft(13486,{value:n})}}function Ob(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function K0(n){return!!n&&"integerValue"in n}function F2(n){return!!n&&"arrayValue"in n}function Mb(n){return!!n&&"nullValue"in n}function jb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _m(n){return!!n&&"mapValue"in n}function HC(n){return(n?.mapValue?.fields||{})[A3]?.stringValue===S3}function ld(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ju(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ld(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ld(n.arrayValue.values[t]);return e}return{...n}}function GC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=ns.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=ld(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());_m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];_m(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ju(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Qs(ld(this.value))}}function x3(n){const e=[];return Ju(n.fields,((t,r)=>{const s=new ns([t]);if(_m(r)){const o=x3(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new ma(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new As(e,0,Qt.min(),Qt.min(),Qt.min(),Qs.empty(),0)}static newFoundDocument(e,t,r,s){return new As(e,1,t,Qt.min(),r,s,0)}static newNoDocument(e,t){return new As(e,2,t,Qt.min(),Qt.min(),Qs.empty(),0)}static newUnknownDocument(e,t){return new As(e,3,t,Qt.min(),Qt.min(),Qs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof As&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new As(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){this.position=e,this.inclusive=t}}function Vb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Rt.comparator(Rt.fromName(u.referenceValue),t.key):r=Hh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ub(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t="asc"){this.field=e,this.dir=t}}function $C(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{}class di extends E3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YC(e,t,r):t==="array-contains"?new XC(e,r):t==="in"?new ZC(e,r):t==="not-in"?new JC(e,r):t==="array-contains-any"?new eR(e,r):new di(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new KC(e,r):new QC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hh(t,this.value)):t!==null&&Wu(this.value)===Wu(t)&&this.matchesComparison(Hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xo extends E3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xo(e,t)}matches(e){return T3(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T3(n){return n.op==="and"}function N3(n){return WC(n)&&T3(n)}function WC(n){for(const e of n.filters)if(e instanceof xo)return!1;return!0}function Q0(n){if(n instanceof di)return n.field.canonicalString()+n.op.toString()+Gh(n.value);if(N3(n))return n.filters.map((e=>Q0(e))).join(",");{const e=n.filters.map((t=>Q0(t))).join(",");return`${n.op}(${e})`}}function I3(n,e){return n instanceof di?(function(r,s){return s instanceof di&&r.op===s.op&&r.field.isEqual(s.field)&&sl(r.value,s.value)})(n,e):n instanceof xo?(function(r,s){return s instanceof xo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&I3(u,s.filters[c])),!0):!1})(n,e):void Ft(19439)}function C3(n){return n instanceof di?(function(t){return`${t.field.canonicalString()} ${t.op} ${Gh(t.value)}`})(n):n instanceof xo?(function(t){return t.op.toString()+" {"+t.getFilters().map(C3).join(" ,")+"}"})(n):"Filter"}class YC extends di{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class KC extends di{constructor(e,t){super(e,"in",t),this.keys=R3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QC extends di{constructor(e,t){super(e,"not-in",t),this.keys=R3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function R3(n,e){return(e.arrayValue?.values||[]).map((t=>Rt.fromName(t.referenceValue)))}class XC extends di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return F2(t)&&Ad(t.arrayValue,this.value)}}class ZC extends di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ad(this.value.arrayValue,t)}}class JC extends di{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ad(this.value.arrayValue,t)}}class eR extends di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!F2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ad(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function Fb(n,e=null,t=[],r=[],s=null,o=null,u=null){return new tR(n,e,t,r,s,o,u)}function B2(n){const e=Zt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Q0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),pg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Gh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Gh(r))).join(",")),e.Te=t}return e.Te}function q2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$C(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ub(n.startAt,e.startAt)&&Ub(n.endAt,e.endAt)}function X0(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nR(n,e,t,r,s,o,u,c){return new tf(n,e,t,r,s,o,u,c)}function gg(n){return new tf(n)}function Bb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function L3(n){return n.collectionGroup!==null}function ud(n){const e=Zt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new xi(ns.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Sd(o,r))})),t.has(ns.keyField().canonicalString())||e.Ie.push(new Sd(ns.keyField(),r))}return e.Ie}function el(n){const e=Zt(n);return e.Ee||(e.Ee=rR(e,ud(n))),e.Ee}function rR(n,e){if(n.limitType==="F")return Fb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Sd(s.field,o)}));const t=n.endAt?new zm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zm(n.startAt.position,n.startAt.inclusive):null;return Fb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Z0(n,e){const t=n.filters.concat([e]);return new tf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hm(n,e,t){return new tf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yg(n,e){return q2(el(n),el(e))&&n.limitType===e.limitType}function k3(n){return`${B2(el(n))}|lt:${n.limitType}`}function Eh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>C3(s))).join(", ")}]`),pg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Gh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Gh(s))).join(",")),`Target(${r})`})(el(n))}; limitType=${n.limitType})`}function vg(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of ud(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,f){const d=Vb(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,ud(r),s)||r.endAt&&!(function(u,c,f){const d=Vb(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,ud(r),s))})(n,e)}function iR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function P3(n){return(e,t)=>{let r=!1;for(const s of ud(n)){const o=sR(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function sR(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Hh(f,d):Ft(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ju(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return g3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new jr(Rt.comparator);function Gl(){return aR}const D3=new jr(Rt.comparator);function rd(...n){let e=D3;for(const t of n)e=e.insert(t.key,t);return e}function O3(n){let e=D3;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Tc(){return cd()}function M3(){return cd()}function cd(){return new qc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const oR=new jr(Rt.comparator),lR=new xi(Rt.comparator);function Tn(...n){let e=lR;for(const t of n)e=e.add(t);return e}const uR=new xi(En);function cR(){return uR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function j3(n){return{integerValue:""+n}}function V3(n,e){return VC(e)?j3(e):z2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this._=void 0}}function hR(n,e,t){return n instanceof xd?(function(s,o){const u={fields:{[b3]:{stringValue:v3},[w3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&U2(o)&&(o=mg(o)),o&&(u.fields[_3]=o),{mapValue:u}})(t,e):n instanceof Ed?F3(n,e):n instanceof Td?B3(n,e):(function(s,o){const u=U3(s,o),c=qb(u)+qb(s.Ae);return K0(u)&&K0(s.Ae)?j3(c):z2(s.serializer,c)})(n,e)}function fR(n,e,t){return n instanceof Ed?F3(n,e):n instanceof Td?B3(n,e):t}function U3(n,e){return n instanceof Nd?(function(r){return K0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class xd extends bg{}class Ed extends bg{constructor(e){super(),this.elements=e}}function F3(n,e){const t=q3(e);for(const r of n.elements)t.some((s=>sl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Td extends bg{constructor(e){super(),this.elements=e}}function B3(n,e){let t=q3(e);for(const r of n.elements)t=t.filter((s=>!sl(s,r)));return{arrayValue:{values:t}}}class Nd extends bg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qb(n){return ti(n.integerValue||n.doubleValue)}function q3(n){return F2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t){this.field=e,this.transform=t}}function dR(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ed&&s instanceof Ed||r instanceof Td&&s instanceof Td?zh(r.elements,s.elements,sl):r instanceof Nd&&s instanceof Nd?sl(r.Ae,s.Ae):r instanceof xd&&s instanceof xd})(n.transform,e.transform)}class pR{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _g{}function H3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wg(n.key,Os.none()):new Vd(n.key,n.data,Os.none());{const t=n.data,r=Qs.empty();let s=new xi(ns.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new ec(n.key,r,new ma(s.toArray()),Os.none())}}function mR(n,e,t){n instanceof Vd?(function(s,o,u){const c=s.value.clone(),f=Hb(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof ec?(function(s,o,u){if(!wm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Hb(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(G3(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function hd(n,e,t,r){return n instanceof Vd?(function(o,u,c,f){if(!wm(o.precondition,u))return c;const d=o.value.clone(),y=Gb(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof ec?(function(o,u,c,f){if(!wm(o.precondition,u))return c;const d=Gb(o.fieldTransforms,f,u),y=u.data;return y.setAll(G3(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,e,t,r):(function(o,u,c){return wm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function gR(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=U3(r.transform,s||null);o!=null&&(t===null&&(t=Qs.empty()),t.set(r.field,o))}return t||null}function zb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zh(r,s,((o,u)=>dR(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vd extends _g{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ec extends _g{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function G3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Hb(n,e,t){const r=new Map;Hn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,fR(u,c,t[s]))}return r}function Gb(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,hR(o,u,e))}return r}class wg extends _g{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends _g{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&mR(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=M3();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=H3(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Qt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Tn())}isEqual(e){return this.batchId===e.batchId&&zh(this.mutations,e.mutations,((t,r)=>zb(t,r)))&&zh(this.baseMutations,e.baseMutations,((t,r)=>zb(t,r)))}}class H2{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return oR})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new H2(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi,kn;function wR(n){switch(n){case Ge.OK:return Ft(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function $3(n){if(n===void 0)return Hl("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case hi.OK:return Ge.OK;case hi.CANCELLED:return Ge.CANCELLED;case hi.UNKNOWN:return Ge.UNKNOWN;case hi.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case hi.INTERNAL:return Ge.INTERNAL;case hi.UNAVAILABLE:return Ge.UNAVAILABLE;case hi.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case hi.NOT_FOUND:return Ge.NOT_FOUND;case hi.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case hi.ABORTED:return Ge.ABORTED;case hi.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case hi.DATA_LOSS:return Ge.DATA_LOSS;default:return Ft(39323,{code:n})}}(kn=hi||(hi={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Fu([4294967295,4294967295],0);function $b(n){const e=AR().encode(n),t=new s3;return t.update(e),new Uint8Array(t.digest())}function Wb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fu([t,r],0),new Fu([s,o],0)]}class G2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new id(`Invalid padding: ${t}`);if(r<0)throw new id(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new id(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new id(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fu.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Fu.fromNumber(r)));return s.compare(SR)===1&&(s=new Fu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$b(e),[r,s]=Wb(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new G2(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=$b(e),[r,s]=Wb(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ag(Qt.min(),s,new jr(En),Gl(),Tn())}}class Ud{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ud(r,t,Tn(),Tn(),Tn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class W3{constructor(e,t){this.targetId=e,this.Ce=t}}class Y3{constructor(e,t,r=is.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Yb{constructor(){this.ve=0,this.Fe=Kb(),this.Me=is.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tn(),t=Tn(),r=Tn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ft(38017,{changeType:o})}})),new Ud(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Kb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gl(),this.Je=nm(),this.He=nm(),this.Ye=new jr(En)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ft(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(X0(o))if(r===0){const u=new Rt(o.path);this.et(t,u,As.newNoDocument(u,Qt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=$u(r).toUint8Array()}catch(f){if(f instanceof y3)return qh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new G2(u,s,o)}catch(f){return qh(f instanceof id?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&X0(c.target)){const f=new Rt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,As.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=Tn();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Ag(e,t,this.Ye,this.je,r);return this.je=Gl(),this.Je=nm(),this.He=nm(),this.Ye=new jr(En),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Yb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xi(En),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xi(En),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||lt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nm(){return new jr(Rt.comparator)}function Kb(){return new jr(Rt.comparator)}const ER={asc:"ASCENDING",desc:"DESCENDING"},TR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class IR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J0(n,e){return n.useProto3Json||pg(e)?e:{value:e}}function Gm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CR(n,e){return Gm(n,e.toTimestamp())}function tl(n){return Hn(!!n,49232),Qt.fromTimestamp((function(t){const r=Gu(t);return new br(r.seconds,r.nanos)})(n))}function $2(n,e){return e2(n,e).canonicalString()}function e2(n,e){const t=(function(s){return new dr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Q3(n){const e=dr.fromString(n);return Hn(tA(e),10190,{key:e.toString()}),e}function t2(n,e){return $2(n.databaseId,e.path)}function n0(n,e){const t=Q3(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(Z3(t))}function X3(n,e){return $2(n.databaseId,e)}function RR(n){const e=Q3(n);return e.length===4?dr.emptyPath():Z3(e)}function n2(n){return new dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z3(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Qb(n,e,t){return{name:t2(n,e),fields:t.value.mapValue.fields}}function LR(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ft(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Hn(y===void 0||typeof y=="string",58123),is.fromBase64String(y||"")):(Hn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),is.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const y=d.code===void 0?Ge.UNKNOWN:$3(d.code);return new it(y,d.message||"")})(u);t=new Y3(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=n0(n,r.document.name),o=tl(r.document.updateTime),u=r.document.createTime?tl(r.document.createTime):Qt.min(),c=new Qs({mapValue:{fields:r.document.fields}}),f=As.newFoundDocument(s,o,u,c),d=r.targetIds||[],y=r.removedTargetIds||[];t=new Am(d,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=n0(n,r.document),o=r.readTime?tl(r.readTime):Qt.min(),u=As.newNoDocument(s,o),c=r.removedTargetIds||[];t=new Am([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=n0(n,r.document),o=r.removedTargetIds||[];t=new Am([],o,s,null)}else{if(!("filter"in e))return Ft(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new _R(s,o),c=r.targetId;t=new W3(c,u)}}return t}function kR(n,e){let t;if(e instanceof Vd)t={update:Qb(n,e.key,e.value)};else if(e instanceof wg)t={delete:t2(n,e.key)};else if(e instanceof ec)t={update:Qb(n,e.key,e.data),updateMask:BR(e.fieldMask)};else{if(!(e instanceof yR))return Ft(16599,{Vt:e.type});t={verify:t2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof xd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ed)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Td)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nd)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Ft(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:CR(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ft(27497)})(n,e.precondition)),t}function PR(n,e){return n&&n.length>0?(Hn(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?tl(s.updateTime):tl(o);return u.isEqual(Qt.min())&&(u=tl(o)),new pR(u,s.transformResults||[])})(t,e)))):[]}function DR(n,e){return{documents:[X3(n,e.path)]}}function OR(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=X3(n,s);const o=(function(d){if(d.length!==0)return eA(xo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(x){return{field:Th(x.field),direction:VR(x.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=J0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function MR(n){let e=RR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Hn(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(A){const x=J3(A);return x instanceof xo&&N3(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(A){return A.map((x=>(function(j){return new Sd(Nh(j.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(t.orderBy));let c=null;t.limit&&(c=(function(A){let x;return x=typeof A=="object"?A.value:A,pg(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(A){const x=!!A.before,_=A.values||[];return new zm(_,x)})(t.startAt));let d=null;return t.endAt&&(d=(function(A){const x=!A.before,_=A.values||[];return new zm(_,x)})(t.endAt)),nR(e,s,u,o,c,"F",f,d)}function jR(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Nh(t.unaryFilter.field);return di.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Nh(t.unaryFilter.field);return di.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nh(t.unaryFilter.field);return di.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nh(t.unaryFilter.field);return di.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}})(n):n.fieldFilter!==void 0?(function(t){return di.create(Nh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return xo.create(t.compositeFilter.filters.map((r=>J3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}})(t.compositeFilter.op))})(n):Ft(30097,{filter:n})}function VR(n){return ER[n]}function UR(n){return TR[n]}function FR(n){return NR[n]}function Th(n){return{fieldPath:n.canonicalString()}}function Nh(n){return ns.fromServerFormat(n.fieldPath)}function eA(n){return n instanceof di?(function(t){if(t.op==="=="){if(jb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NOT_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Th(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(t.field),op:UR(t.op),value:t.value}}})(n):n instanceof xo?(function(t){const r=t.getFilters().map((s=>eA(s)));return r.length===1?r[0]:{compositeFilter:{op:FR(t.op),filters:r}}})(n):Ft(54877,{filter:n})}function BR(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t,r,s,o=Qt.min(),u=Qt.min(),c=is.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.yt=e}}function zR(n){const e=MR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Cn=new GR}addToCollectionParentIndex(e,t){return this.Cn.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(Hu.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(Hu.min())}updateCollectionGroup(e,t,r){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class GR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new xi(dr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xi(dr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nA=41943040;class Ks{static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(nA,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $h(0)}static cr(){return new $h(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="LruGarbageCollector",$R=1048576;function Jb([n,e],[t,r]){const s=En(n,t);return s===0?En(e,r):s}class WR{constructor(e){this.Ir=e,this.buffer=new xi(Jb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(Zb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ef(t)?lt(Zb,"Ignoring IndexedDB error during garbage collection: ",t):await Jh(t)}await this.Vr(3e5)}))}}class KR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Qe.resolve(dg.ce);const r=new WR(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(Xb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,c,f,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,u=Date.now(),this.nthSequenceNumber(e,s)))).next((A=>(r=A,c=Date.now(),this.removeTargets(e,r,t)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(d=Date.now(),xh()<=Sn.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function QR(n,e){return new KR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.changes=new qc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,As.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Qe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&hd(r.mutation,s,ma.empty(),br.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Tn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Tn()){const s=Tc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=rd();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Tc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Tn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=Gl();const u=cd(),c=(function(){return cd()})();return t.forEach(((f,d)=>{const y=r.get(d.key);s.has(d.key)&&(y===void 0||y.mutation instanceof ec)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),hd(y.mutation,d,y.mutation.getFieldMask(),br.now())):u.set(d.key,ma.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,y)=>u.set(d,y))),t.forEach(((d,y)=>c.set(d,new ZR(y,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=cd();let s=new jr(((u,c)=>u-c)),o=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let y=r.get(f)||ma.empty();y=c.applyToLocalView(d,y),r.set(f,y);const A=(s.get(c.batchId)||Tn()).add(f);s=s.insert(c.batchId,A)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,y=f.value,A=M3();y.forEach((x=>{if(!o.has(x)){const _=H3(t.get(x),r.get(x));_!==null&&A.set(x,_),o=o.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,A))}return Qe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Rt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Qe.resolve(Tc());let c=bd,f=o;return u.next((d=>Qe.forEach(d,((y,A)=>(c<A.largestBatchId&&(c=A.largestBatchId),o.get(y)?Qe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{f=f.insert(y,x)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Tn()))).next((y=>({batchId:c,changes:O3(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next((r=>{let s=rd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=rd();return this.indexManager.getCollectionParents(e,o).next((c=>Qe.forEach(c,(f=>{const d=(function(A,x){return new tf(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((y=>{y.forEach(((A,x)=>{u=u.insert(A,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,As.newInvalidDocument(y)))}));let c=rd();return u.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&hd(y.mutation,d,ma.empty(),br.now()),vg(t,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Qe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:tl(s.createTime)}})(t)),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:zR(s.bundledQuery),readTime:tl(s.readTime)}})(t)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.overlays=new jr(Rt.comparator),this.qr=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tc();return Qe.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),Qe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Qe.resolve()}getOverlaysForCollection(e,t,r){const s=Tc(),o=t.length+1,u=new Rt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Qe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new jr(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=Tc(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=Tc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>c.set(d,y))),!(c.size()>=s)););return Qe.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new bR(t,r));let o=this.qr.get(t);o===void 0&&(o=Tn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.sessionToken=is.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Qr=new xi(Mi.$r),this.Ur=new xi(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Mi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Rt(new dr([])),r=new Mi(t,e),s=new Mi(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Rt(new dr([])),r=new Mi(t,e),s=new Mi(t,e+1);let o=Tn();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Mi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Rt.comparator(e.key,t.key)||En(e.Yr,t.Yr)}static Kr(e,t){return En(e.Yr,t.Yr)||Rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xi(Mi.$r)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new vR(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Zr=this.Zr.add(new Mi(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Qe.resolve(u)}lookupMutationBatch(e,t){return Qe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return Qe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?V2:this.tr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),s=new Mi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const c=this.Xr(u.Yr);o.push(c)})),Qe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xi(En);return t.forEach((s=>{const o=new Mi(s,0),u=new Mi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),Qe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Rt.isDocumentKey(o)||(o=o.child(""));const u=new Mi(new Rt(o),0);let c=new xi(En);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Yr)),!0)}),u),Qe.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Hn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Qe.forEach(t.mutations,(s=>{const o=new Mi(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Mi(t,0),s=this.Zr.firstAfterOrEqual(r);return Qe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.ri=e,this.docs=(function(){return new jr(Rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Qe.resolve(r?r.document.mutableCopy():As.newInvalidDocument(t))}getEntries(e,t){let r=Gl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():As.newInvalidDocument(s))})),Qe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Gl();const u=t.path,c=new Rt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||DC(PC(y),r)<=0||(s.has(y.key)||vg(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Qe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ft(9500)}ii(e,t){return Qe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new s8(this)}getSize(e){return Qe.resolve(this.size)}}class s8 extends XR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Qe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e){this.persistence=e,this.si=new qc((t=>B2(t)),q2),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.oi=0,this._i=new W2,this.targetCount=0,this.ai=$h.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Qe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.Pr(t),Qe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Qe.waitFor(o).next((()=>s))}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Qe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Qe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Qe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Qe.resolve(r)}containsKey(e,t){return Qe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.ui={},this.overlays={},this.ci=new dg(0),this.li=!1,this.li=!0,this.hi=new n8,this.referenceDelegate=e(this),this.Pi=new a8(this),this.indexManager=new HR,this.remoteDocumentCache=(function(s){return new i8(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qR(t),this.Ii=new e8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new r8(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const s=new o8(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Qe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class o8 extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class Y2{constructor(e){this.persistence=e,this.Ri=new W2,this.Vi=null}static mi(e){return new Y2(e)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Qe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.fi,(r=>{const s=Rt.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Qt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Qe.or([()=>Qe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class $m{constructor(e,t){this.persistence=e,this.pi=new qc((r=>UC(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=QR(this,t)}static mi(e,t){return new $m(e,t)}Ei(){}di(e){return Qe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Qe.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?Qe.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((c=>{c||(r++,o.removeEntry(u,Qt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Qe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Qe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Qe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Qe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bm(e.data.value)),t}br(e,t,r){return Qe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Qe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Tn(),s=Tn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new K2(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return O6()?8:jC(Ss())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new l8;return this.Ss(e,t,u).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,u,c.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(xh()<=Sn.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Eh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Qe.resolve()):(xh()<=Sn.DEBUG&&lt("QueryEngine","Query:",Eh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(xh()<=Sn.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Eh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,el(t))):Qe.resolve())}ys(e,t){if(Bb(t))return Qe.resolve(null);let r=el(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Hm(t,null,"F"),r=el(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Tn(...o);return this.ps.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,c);return this.Cs(t,d,u,f.readTime)?this.ys(e,Hm(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,s){return Bb(t)||s.isEqual(Qt.min())?Qe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?Qe.resolve(null):(xh()<=Sn.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eh(t)),this.vs(e,u,t,kC(s,bd)).next((c=>c)))}))}Ds(e,t){let r=new xi(P3(e));return t.forEach(((s,o)=>{vg(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return xh()<=Sn.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Eh(t)),this.ps.getDocumentsMatchingQuery(e,t,Hu.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="LocalStore",c8=3e8;class h8{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new jr(En),this.xs=new qc((o=>B2(o)),q2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function f8(n,e,t,r){return new h8(n,e,t,r)}async function iA(n,e){const t=Zt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=Tn();for(const d of s){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function d8(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,y){const A=d.batch,x=A.keys();let _=Qe.resolve();return x.forEach((j=>{_=_.next((()=>y.getEntry(f,j))).next((O=>{const F=d.docVersions.get(j);Hn(F!==null,48541),O.version.compareTo(F)<0&&(A.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,A)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Tn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function sA(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function p8(n,e){const t=Zt(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((y,A)=>{const x=s.get(A);if(!x)return;c.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,A))));let _=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?_=_.withResumeToken(is.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):y.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(y.resumeToken,r)),s=s.insert(A,_),(function(O,F,B){return O.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=c8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(x,_,y)&&c.push(t.Pi.updateTargetData(o,_))}));let f=Gl(),d=Tn();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),c.push(m8(o,u,e.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!r.isEqual(Qt.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((A=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(y)}return Qe.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=s,o)))}function m8(n,e,t){let r=Tn(),s=Tn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Gl();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Qt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):lt(Q2,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function g8(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=V2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function y8(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,Qe.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new Mu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function r2(n,e,t){const r=Zt(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ef(u))throw u;lt(Q2,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function e_(n,e,t){const r=Zt(n);let s=Qt.min(),o=Tn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,y){const A=Zt(f),x=A.xs.get(y);return x!==void 0?Qe.resolve(A.Ms.get(x)):A.Pi.getTargetData(d,y)})(r,u,el(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Qt.min(),t?o:Tn()))).next((c=>(v8(r,iR(e),c),{documents:c,Qs:o})))))}function v8(n,e,t){let r=n.Os.get(e)||Qt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class t_{constructor(){this.activeTargetIds=cR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b8{constructor(){this.Mo=new t_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new t_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class r_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(n_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm=null;function i2(){return rm===null?rm=(function(){return 268435456+Math.round(2147483648*Math.random())})():rm++,"0x"+rm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="RestConnection",w8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Bm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=i2(),c=this.zo(e,t.toUriEncodedString());lt(r0,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(c),y=Kh(d);return this.Jo(e,c,f,r,y).then((A=>(lt(r0,`Received RPC '${e}' ${u}: `,A),A)),(A=>{throw qh(r0,`RPC '${e}' ${u} failed with error: `,A,"url: ",c,"request:",r),A}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=w8[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="WebChannelConnection";class x8 extends A8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=i2();return new Promise(((c,f)=>{const d=new a3;d.setWithCredentials(!0),d.listenOnce(o3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case vm.NO_ERROR:const A=d.getResponseJson();lt(gs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),c(A);break;case vm.TIMEOUT:lt(gs,`RPC '${e}' ${u} timed out`),f(new it(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case vm.HTTP_ERROR:const x=d.getStatus();if(lt(gs,`RPC '${e}' ${u} failed with status:`,x,"response text:",d.getResponseText()),x>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const j=_?.error;if(j&&j.status&&j.message){const O=(function(B){const ne=B.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(ne)>=0?ne:Ge.UNKNOWN})(j.status);f(new it(O,j.message))}else f(new it(Ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new it(Ge.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{lt(gs,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);lt(gs,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=i2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=c3(),c=u3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");lt(gs,`Creating RPC '${e}' stream ${s}: ${y}`,f);const A=u.createWebChannel(y,f);this.I_(A);let x=!1,_=!1;const j=new S8({Yo:F=>{_?lt(gs,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(x||(lt(gs,`Opening RPC '${e}' stream ${s} transport.`),A.open(),x=!0),lt(gs,`RPC '${e}' stream ${s} sending:`,F),A.send(F))},Zo:()=>A.close()}),O=(F,B,ne)=>{F.listen(B,(te=>{try{ne(te)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return O(A,nd.EventType.OPEN,(()=>{_||(lt(gs,`RPC '${e}' stream ${s} transport opened.`),j.o_())})),O(A,nd.EventType.CLOSE,(()=>{_||(_=!0,lt(gs,`RPC '${e}' stream ${s} transport closed`),j.a_(),this.E_(A))})),O(A,nd.EventType.ERROR,(F=>{_||(_=!0,qh(gs,`RPC '${e}' stream ${s} transport errored. Name:`,F.name,"Message:",F.message),j.a_(new it(Ge.UNAVAILABLE,"The operation could not be completed")))})),O(A,nd.EventType.MESSAGE,(F=>{if(!_){const B=F.data[0];Hn(!!B,16349);const ne=B,te=ne?.error||ne[0]?.error;if(te){lt(gs,`RPC '${e}' stream ${s} received error:`,te);const ae=te.status;let ve=(function(k){const N=hi[k];if(N!==void 0)return $3(N)})(ae),Te=te.message;ve===void 0&&(ve=Ge.INTERNAL,Te="Unknown error status: "+ae+" with message "+te.message),_=!0,j.a_(new it(ve,Te)),A.close()}else lt(gs,`RPC '${e}' stream ${s} received:`,B),j.u_(B)}})),O(c,l3.STAT_EVENT,(F=>{F.stat===$0.PROXY?lt(gs,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===$0.NOPROXY&&lt(gs,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function i0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n){return new IR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="PersistentStream";class oA{constructor(e,t,r,s,o,u,c,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(Hl(t.toString()),Hl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new it(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(i_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(lt(i_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class E8 extends oA{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LR(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Qt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Qt.min():u.readTime?tl(u.readTime):Qt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=n2(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=X0(f)?{documents:DR(o,f)}:{query:OR(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=K3(o,u.resumeToken);const d=J0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Qt.min())>0){c.readTime=Gm(o,u.snapshotVersion.toTimestamp());const d=J0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=jR(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=n2(this.serializer),t.removeTarget=e,this.q_(t)}}class T8 extends oA{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=PR(e.writeResults,e.commitTime),r=tl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=n2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>kR(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{}class I8 extends N8{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,e2(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Ge.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(e,e2(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Ge.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hl(t),this.aa=!1):lt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="RemoteStore";class R8{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{zc(this)&&(lt(Pc,"Restarting streams for network reachability change."),await(async function(f){const d=Zt(f);d.Ea.add(4),await Fd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await xg(d)})(this))}))})),this.Ra=new C8(r,s)}}async function xg(n){if(zc(n))for(const e of n.da)await e(!0)}async function Fd(n){for(const e of n.da)await e(!1)}function lA(n,e){const t=Zt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ey(t)?J2(t):nf(t).O_()&&Z2(t,e))}function X2(n,e){const t=Zt(n),r=nf(t);t.Ia.delete(e),r.O_()&&uA(t,e),t.Ia.size===0&&(r.O_()?r.L_():zc(t)&&t.Ra.set("Unknown"))}function Z2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nf(n).Y_(e)}function uA(n,e){n.Va.Ue(e),nf(n).Z_(e)}function J2(n){n.Va=new xR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),nf(n).start(),n.Ra.ua()}function ey(n){return zc(n)&&!nf(n).x_()&&n.Ia.size>0}function zc(n){return Zt(n).Ea.size===0}function cA(n){n.Va=void 0}async function L8(n){n.Ra.set("Online")}async function k8(n){n.Ia.forEach(((e,t)=>{Z2(n,e)}))}async function P8(n,e){cA(n),ey(n)?(n.Ra.ha(e),J2(n)):n.Ra.set("Unknown")}async function D8(n,e,t){if(n.Ra.set("Online"),e instanceof Y3&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){lt(Pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wm(n,r)}else if(e instanceof Am?n.Va.Ze(e):e instanceof W3?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qt.min()))try{const r=await sA(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(is.EMPTY_BYTE_STRING,y.snapshotVersion)),uA(o,f);const A=new Mu(y.target,f,d,y.sequenceNumber);Z2(o,A)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){lt(Pc,"Failed to raise snapshot:",r),await Wm(n,r)}}async function Wm(n,e,t){if(!ef(e))throw e;n.Ea.add(1),await Fd(n),n.Ra.set("Offline"),t||(t=()=>sA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{lt(Pc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await xg(n)}))}function hA(n,e){return e().catch((t=>Wm(n,t,e)))}async function Eg(n){const e=Zt(n),t=Yu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:V2;for(;O8(e);)try{const s=await g8(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,M8(e,s)}catch(s){await Wm(e,s)}fA(e)&&dA(e)}function O8(n){return zc(n)&&n.Ta.length<10}function M8(n,e){n.Ta.push(e);const t=Yu(n);t.O_()&&t.X_&&t.ea(e.mutations)}function fA(n){return zc(n)&&!Yu(n).x_()&&n.Ta.length>0}function dA(n){Yu(n).start()}async function j8(n){Yu(n).ra()}async function V8(n){const e=Yu(n);for(const t of n.Ta)e.ea(t.mutations)}async function U8(n,e,t){const r=n.Ta.shift(),s=H2.from(r,e,t);await hA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Eg(n)}async function F8(n,e){e&&Yu(n).X_&&await(async function(r,s){if((function(u){return wR(u)&&u!==Ge.ABORTED})(s.code)){const o=r.Ta.shift();Yu(r).B_(),await hA(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Eg(r)}})(n,e),fA(n)&&dA(n)}async function s_(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),lt(Pc,"RemoteStore received new credentials");const r=zc(t);t.Ea.add(3),await Fd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xg(t)}async function B8(n,e){const t=Zt(n);e?(t.Ea.delete(2),await xg(t)):e||(t.Ea.add(2),await Fd(t),t.Ra.set("Unknown"))}function nf(n){return n.ma||(n.ma=(function(t,r,s){const o=Zt(t);return o.sa(),new E8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:L8.bind(null,n),t_:k8.bind(null,n),r_:P8.bind(null,n),H_:D8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ey(n)?J2(n):n.Ra.set("Unknown")):(await n.ma.stop(),cA(n))}))),n.ma}function Yu(n){return n.fa||(n.fa=(function(t,r,s){const o=Zt(t);return o.sa(),new T8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:j8.bind(null,n),r_:F8.bind(null,n),ta:V8.bind(null,n),na:U8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Eg(n)):(await n.fa.stop(),n.Ta.length>0&&(lt(Pc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new ty(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(n,e){if(Hl("AsyncQueue",`${e}: ${n}`),ef(n))return new it(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{static emptySet(e){return new Oh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=rd(),this.sortedSet=new jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new jr(Rt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ft(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Wh{constructor(e,t,r,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Wh(e,t,Oh.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class z8{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Zt(t),o=s.queries;s.queries=o_(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new it(Ge.ABORTED,"Firestore shutting down"))}}function o_(){return new qc((n=>k3(n)),yg)}async function ry(n,e){const t=Zt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new q8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=ny(u,`Initialization of query '${Eh(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&sy(t)}async function iy(n,e){const t=Zt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function H8(n,e){const t=Zt(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.Sa)c.Fa(s)&&(r=!0);u.wa=s}}r&&sy(t)}function G8(n,e,t){const r=Zt(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function sy(n){n.Ca.forEach((e=>{e.next()}))}var s2,l_;(l_=s2||(s2={})).Ma="default",l_.Cache="cache";class ay{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Wh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==s2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class $8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tn(),this.mutatedKeys=Tn(),this.eu=P3(e),this.tu=new Oh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new a_,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,A)=>{const x=s.get(y),_=vg(this.query,A)?A:null,j=!!x&&this.mutatedKeys.has(x.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let F=!1;x&&_?x.data.isEqual(_.data)?j!==O&&(r.track({type:3,doc:_}),F=!0):this.su(x,_)||(r.track({type:2,doc:_}),F=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(c=!0)):!x&&_?(r.track({type:0,doc:_}),F=!0):x&&!_&&(r.track({type:1,doc:x}),F=!0,(f||d)&&(c=!0)),F&&(_?(u=u.add(_),o=O?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,A)=>(function(_,j){const O=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:F})}};return O(_)-O(j)})(y.type,A.type)||this.eu(y.doc,A.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Wh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new mA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new pA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Tn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oy="SyncEngine";class W8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Y8{constructor(e){this.key=e,this.hu=!1}}class K8{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qc((c=>k3(c)),yg),this.Iu=new Map,this.Eu=new Set,this.du=new jr(Rt.comparator),this.Au=new Map,this.Ru=new W2,this.Vu={},this.mu=new Map,this.fu=$h.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Q8(n,e,t=!0){const r=wA(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await gA(r,e,t,!0),s}async function X8(n,e){const t=wA(n);await gA(t,e,!0,!1)}async function gA(n,e,t,r){const s=await y8(n.localStore,el(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await Z8(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&lA(n.remoteStore,s),c}async function Z8(n,e,t,r,s){n.pu=(A,x,_)=>(async function(O,F,B,ne){let te=F.view.ru(B);te.Cs&&(te=await e_(O.localStore,F.query,!1).then((({documents:$})=>F.view.ru($,te))));const ae=ne&&ne.targetChanges.get(F.targetId),ve=ne&&ne.targetMismatches.get(F.targetId)!=null,Te=F.view.applyChanges(te,O.isPrimaryClient,ae,ve);return c_(O,F.targetId,Te.au),Te.snapshot})(n,A,x,_);const o=await e_(n.localStore,e,!0),u=new $8(e,o.Qs),c=u.ru(o.documents),f=Ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);c_(n,t,d.au);const y=new W8(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function J8(n,e,t){const r=Zt(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!yg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await r2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&X2(r.remoteStore,s.targetId),a2(r,s.targetId)})).catch(Jh)):(a2(r,s.targetId),await r2(r.localStore,s.targetId,!0))}async function eL(n,e){const t=Zt(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),X2(t.remoteStore,r.targetId))}async function tL(n,e,t){const r=lL(n);try{const s=await(function(u,c){const f=Zt(u),d=br.now(),y=c.reduce(((_,j)=>_.add(j.key)),Tn());let A,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let j=Gl(),O=Tn();return f.Ns.getEntries(_,y).next((F=>{j=F,j.forEach(((B,ne)=>{ne.isValidDocument()||(O=O.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,j))).next((F=>{A=F;const B=[];for(const ne of c){const te=gR(ne,A.get(ne.key).overlayedDocument);te!=null&&B.push(new ec(ne.key,te,x3(te.value.mapValue),Os.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,B,c)})).next((F=>{x=F;const B=F.applyToLocalDocumentSet(A,O);return f.documentOverlayCache.saveOverlays(_,F.batchId,B)}))})).then((()=>({batchId:x.batchId,changes:O3(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new jr(En)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(r,s.batchId,t),await Bd(r,s.changes),await Eg(r.remoteStore)}catch(s){const o=ny(s,"Failed to persist write");t.reject(o)}}async function yA(n,e){const t=Zt(n);try{const r=await p8(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Hn(u.hu,14607):s.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await Bd(t,r,e)}catch(r){await Jh(r)}}function u_(n,e,t){const r=Zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=Zt(u);f.onlineState=c;let d=!1;f.queries.forEach(((y,A)=>{for(const x of A.Sa)x.va(c)&&(d=!0)})),d&&sy(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nL(n,e,t){const r=Zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new jr(Rt.comparator);u=u.insert(o,As.newNoDocument(o,Qt.min()));const c=Tn().add(o),f=new Ag(Qt.min(),new Map,new jr(En),u,c);await yA(r,f),r.du=r.du.remove(o),r.Au.delete(e),ly(r)}else await r2(r.localStore,e,!1).then((()=>a2(r,e,t))).catch(Jh)}async function rL(n,e){const t=Zt(n),r=e.batch.batchId;try{const s=await d8(t.localStore,e);bA(t,r,null),vA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bd(t,s)}catch(s){await Jh(s)}}async function iL(n,e,t){const r=Zt(n);try{const s=await(function(u,c){const f=Zt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,c).next((A=>(Hn(A!==null,37113),y=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(r.localStore,e);bA(r,e,t),vA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bd(r,s)}catch(s){await Jh(s)}}function vA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function bA(n,e,t){const r=Zt(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function a2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||_A(n,r)}))}function _A(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(X2(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ly(n))}function c_(n,e,t){for(const r of t)r instanceof pA?(n.Ru.addReference(r.key,e),sL(n,r)):r instanceof mA?(lt(oy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||_A(n,r.key)):Ft(19791,{wu:r})}function sL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(lt(oy,"New document in limbo: "+t),n.Eu.add(r),ly(n))}function ly(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Rt(dr.fromString(e)),r=n.fu.next();n.Au.set(r,new Y8(t)),n.du=n.du.insert(t,r),lA(n.remoteStore,new Mu(el(gg(t.path)),r,"TargetPurposeLimboResolution",dg.ce))}}async function Bd(n,e,t){const r=Zt(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const y=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){s.push(d);const y=K2.As(f.targetId,d);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,d){const y=Zt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Qe.forEach(d,(x=>Qe.forEach(x.Es,(_=>y.persistence.referenceDelegate.addReference(A,x.targetId,_))).next((()=>Qe.forEach(x.ds,(_=>y.persistence.referenceDelegate.removeReference(A,x.targetId,_)))))))))}catch(A){if(!ef(A))throw A;lt(Q2,"Failed to update sequence numbers: "+A)}for(const A of d){const x=A.targetId;if(!A.fromCache){const _=y.Ms.get(x),j=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(j);y.Ms=y.Ms.insert(x,O)}}})(r.localStore,o))}async function aL(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){lt(oy,"User change. New user:",e.toKey());const r=await iA(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new it(Ge.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bd(t,r.Ls)}}function oL(n,e){const t=Zt(n),r=t.Au.get(e);if(r&&r.hu)return Tn().add(r.key);{let s=Tn();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function wA(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nL.bind(null,e),e.Pu.H_=H8.bind(null,e.eventManager),e.Pu.yu=G8.bind(null,e.eventManager),e}function lL(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iL.bind(null,e),e}class Ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return f8(this.persistence,new u8,e.initialUser,this.serializer)}Cu(e){return new rA(Y2.mi,this.serializer)}Du(e){return new b8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ym.provider={build:()=>new Ym};class uL extends Ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hn(this.persistence.referenceDelegate instanceof $m,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new rA((r=>$m.mi(r,t)),this.serializer)}}class o2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aL.bind(null,this.syncEngine),await B8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new z8})()}createDatastore(e){const t=Sg(e.databaseInfo.databaseId),r=(function(o){return new x8(o)})(e.databaseInfo);return(function(o,u,c,f){return new I8(o,u,c,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new R8(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>u_(this.syncEngine,t,0)),(function(){return r_.v()?new r_:new _8})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,y){const A=new K8(s,o,u,c,f,d);return y&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Zt(t);lt(Pc,"RemoteStore shutting down."),r.Ea.add(5),await Fd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}o2.provider={build:()=>new o2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="FirestoreClient";class cL{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ws.UNAUTHENTICATED,this.clientId=j2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{lt(Ku,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(lt(Ku,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ny(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function s0(n,e){n.asyncQueue.verifyOperationInProgress(),lt(Ku,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await iA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function h_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hL(n);lt(Ku,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>s_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>s_(e.remoteStore,s))),n._onlineComponents=e}async function hL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt(Ku,"Using user provided OfflineComponentProvider");try{await s0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ge.FAILED_PRECONDITION||s.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;qh("Error using user provided cache. Falling back to memory cache: "+t),await s0(n,new Ym)}}else lt(Ku,"Using default OfflineComponentProvider"),await s0(n,new uL(void 0));return n._offlineComponents}async function AA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt(Ku,"Using user provided OnlineComponentProvider"),await h_(n,n._uninitializedComponentsProvider._online)):(lt(Ku,"Using default OnlineComponentProvider"),await h_(n,new o2))),n._onlineComponents}function fL(n){return AA(n).then((e=>e.syncEngine))}async function Km(n){const e=await AA(n),t=e.eventManager;return t.onListen=Q8.bind(null,e.syncEngine),t.onUnlisten=J8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eL.bind(null,e.syncEngine),t}function dL(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new uy({next:x=>{y.Nu(),u.enqueueAndForget((()=>iy(o,A)));const _=x.docs.has(c);!_&&x.fromCache?d.reject(new it(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&f&&f.source==="server"?d.reject(new it(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),A=new ay(gg(c.path),y,{includeMetadataChanges:!0,qa:!0});return ry(o,A)})(await Km(n),n.asyncQueue,e,t,r))),r.promise}function pL(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new uy({next:x=>{y.Nu(),u.enqueueAndForget((()=>iy(o,A))),x.fromCache&&f.source==="server"?d.reject(new it(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(x)},error:x=>d.reject(x)}),A=new ay(c,y,{includeMetadataChanges:!0,qa:!0});return ry(o,A)})(await Km(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firestore.googleapis.com",d_=!0;class p_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=d_}else this.host=e.host,this.ssl=e.ssl??d_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$R)throw new it(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wC;switch(r.type){case"firstParty":return new EC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=f_.get(t);r&&(lt("ComponentProvider","Removing Datastore"),f_.delete(t),r.terminate())})(this),Promise.resolve()}}function mL(n,e,t,r={}){n=Ds(n,Tg);const s=Kh(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(d4(`https://${c}`),p4("Firestore",!0)),o.host!==xA&&o.host!==c&&qh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:r};if(!qu(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=ws.MOCK_USER;else{d=N6(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new it(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ws(A)}n._authCredentials=new AC(new f3(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class Wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}toJSON(){return{type:Wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(jd(t,Wr._jsonSchema))return new Wr(e,r||null,new Rt(dr.fromString(t.referencePath)))}}Wr._jsonSchemaVersion="firestore/documentReference/1.0",Wr._jsonSchema={type:pi("string",Wr._jsonSchemaVersion),referencePath:pi("string")};class Bu extends Kl{constructor(e,t,r){super(e,t,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new Rt(e))}withConverter(e){return new Bu(this.firestore,e,this._path)}}function fi(n,e,...t){if(n=Mr(n),d3("collection","path",e),n instanceof Tg){const r=dr.fromString(e,...t);return Nb(r),new Bu(n,null,r)}{if(!(n instanceof Wr||n instanceof Bu))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return Nb(r),new Bu(n.firestore,null,r)}}function rs(n,e,...t){if(n=Mr(n),arguments.length===1&&(e=j2.newId()),d3("doc","path",e),n instanceof Tg){const r=dr.fromString(e,...t);return Tb(r),new Wr(n,null,new Rt(r))}{if(!(n instanceof Wr||n instanceof Bu))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return Tb(r),new Wr(n.firestore,n instanceof Bu?n.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aA(this,"async_queue_retry"),this._c=()=>{const r=i0();r&&lt(m_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=i0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=i0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ef(e))throw e;lt(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hl("INTERNAL UNHANDLED ERROR: ",y_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ty.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ft(47125,{Pc:y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function y_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class al extends Tg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new g_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function gL(n,e){const t=typeof n=="object"?n:N2(),r=typeof n=="string"?n:Bm,s=Bc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=E6("firestore");o&&mL(s,...o)}return s}function qd(n){if(n._terminated)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yL(n),n._firestoreClient}function yL(n){const e=n._freezeSettings(),t=(function(s,o,u,c){return new qC(s,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,SA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new cL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(is.fromBase64String(e))}catch(t){throw new it(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wa(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jd(e,Wa._jsonSchema))return Wa.fromBase64String(e.bytes)}}Wa._jsonSchemaVersion="firestore/bytes/1.0",Wa._jsonSchema={type:pi("string",Wa._jsonSchemaVersion),bytes:pi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nl._jsonSchemaVersion}}static fromJSON(e){if(jd(e,nl._jsonSchema))return new nl(e.latitude,e.longitude)}}nl._jsonSchemaVersion="firestore/geoPoint/1.0",nl._jsonSchema={type:pi("string",nl._jsonSchemaVersion),latitude:pi("number"),longitude:pi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jd(e,rl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rl(e.vectorValues);throw new it(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rl._jsonSchemaVersion="firestore/vectorValue/1.0",rl._jsonSchema={type:pi("string",rl._jsonSchemaVersion),vectorValues:pi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^__.*__$/;class bL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vd(e,this.data,t,this.fieldTransforms)}}class EA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:n})}}class cy{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TA(this.Ac)&&vL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _L{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sg(e)}Cc(e,t,r,s=!1){return new cy({Ac:e,methodName:t,Dc:r,path:ns.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(n){const e=n._freezeSettings(),t=Sg(n._databaseId);return new _L(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hy(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);py("Data must be an object, but it was:",u,r);const c=CA(r,u);let f,d;if(o.merge)f=new ma(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const A of o.mergeFields){const x=l2(e,A,t);if(!u.contains(x))throw new it(Ge.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);LA(y,x)||y.push(x)}f=new ma(y),d=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=u.fieldTransforms;return new bL(new Qs(c),f,d)}class Ng extends Hd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ng}}class fy extends Hd{_toFieldTransform(e){return new z3(e.path,new xd)}isEqual(e){return e instanceof fy}}class dy extends Hd{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Nd(e.serializer,V3(e.serializer,this.Fc));return new z3(e.path,t)}isEqual(e){return e instanceof dy&&this.Fc===e.Fc}}function NA(n,e,t,r){const s=n.Cc(1,e,t);py("Data must be an object, but it was:",s,r);const o=[],u=Qs.empty();Ju(r,((f,d)=>{const y=my(e,f,t);d=Mr(d);const A=s.yc(y);if(d instanceof Ng)o.push(y);else{const x=$d(d,A);x!=null&&(o.push(y),u.set(y,x))}}));const c=new ma(o);return new EA(u,c,s.fieldTransforms)}function IA(n,e,t,r,s,o){const u=n.Cc(1,e,t),c=[l2(e,r,t)],f=[s];if(o.length%2!=0)throw new it(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(l2(e,o[x])),f.push(o[x+1]);const d=[],y=Qs.empty();for(let x=c.length-1;x>=0;--x)if(!LA(d,c[x])){const _=c[x];let j=f[x];j=Mr(j);const O=u.yc(_);if(j instanceof Ng)d.push(_);else{const F=$d(j,O);F!=null&&(d.push(_),y.set(_,F))}}const A=new ma(d);return new EA(y,A,u.fieldTransforms)}function wL(n,e,t,r=!1){return $d(t,n.Cc(r?4:3,e))}function $d(n,e){if(RA(n=Mr(n)))return py("Unsupported field value:",e,n),CA(n,e);if(n instanceof Hd)return(function(r,s){if(!TA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let f=$d(c,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=br.fromDate(r);return{timestampValue:Gm(s.serializer,o)}}if(r instanceof br){const o=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gm(s.serializer,o)}}if(r instanceof nl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wa)return{bytesValue:K3(s.serializer,r._byteString)};if(r instanceof Wr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$2(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof rl)return(function(u,c){return{mapValue:{fields:{[A3]:{stringValue:S3},[qm]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return z2(c.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${fg(r)}`)})(n,e)}function CA(n,e){const t={};return g3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ju(n,((r,s)=>{const o=$d(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function RA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof br||n instanceof nl||n instanceof Wa||n instanceof Wr||n instanceof Hd||n instanceof rl)}function py(n,e,t){if(!RA(t)||!p3(t)){const r=fg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function l2(n,e,t){if((e=Mr(e))instanceof zd)return e._internalPath;if(typeof e=="string")return my(n,e);throw Qm("Field path arguments must be of type string or ",n,!1,void 0,t)}const AL=new RegExp("[~\\*/\\[\\]]");function my(n,e,t){if(e.search(AL)>=0)throw Qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw Qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qm(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new it(Ge.INVALID_ARGUMENT,c+n+f)}function LA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ig("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SL extends kA{data(){return super.data()}}function Ig(n,e){return typeof e=="string"?my(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class yy extends gy{}function Xs(n,e,...t){let r=[];e instanceof gy&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof vy)).length,c=o.filter((f=>f instanceof Cg)).length;if(u>1||u>0&&c>0)throw new it(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Cg extends yy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cg(e,t,r)}_apply(e){const t=this._parse(e);return OA(e._query,t),new Kl(e.firestore,e.converter,Z0(e._query,t))}_parse(e){const t=Gd(e.firestore);return(function(o,u,c,f,d,y,A){let x;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){__(A,y);const j=[];for(const O of A)j.push(b_(f,o,O));x={arrayValue:{values:j}}}else x=b_(f,o,A)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||__(A,y),x=wL(c,u,A,y==="in"||y==="not-in");return di.create(d,y,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xL(n,e,t){const r=e,s=Ig("where",n);return Cg._create(s,r,t)}class vy extends gy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:xo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)OA(u,f),u=Z0(u,f)})(e._query,t),new Kl(e.firestore,e.converter,Z0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class by extends yy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new by(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(o,u)})(e._query,this._field,this._direction);return new Kl(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new tf(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function DA(n,e="asc"){const t=e,r=Ig("orderBy",n);return by._create(r,t)}class _y extends yy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){return new Kl(e.firestore,e.converter,Hm(e._query,this._limit,this._limitType))}}function wy(n){return _y._create("limit",n,"F")}function b_(n,e,t){if(typeof(t=Mr(t))=="string"){if(t==="")throw new it(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L3(e)&&t.indexOf("/")!==-1)throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dr.fromString(t));if(!Rt.isDocumentKey(r))throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ob(n,new Rt(r))}if(t instanceof Wr)return Ob(n,t._key);throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(t)}.`)}function __(n,e){if(!Array.isArray(n)||n.length===0)throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(n,e){const t=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new it(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EL{convertValue(e,t="none"){switch(Wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ju(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[qm].arrayValue?.values?.map((r=>ti(r.doubleValue)));return new rl(t)}convertGeoPoint(e){return new nl(ti(e.latitude),ti(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const t=Gu(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dr.fromString(e);Hn(tA(r),9688,{name:e});const s=new wd(r.get(1),r.get(3)),o=new Rt(r.popFirst(5));return s.isEqual(t)||Hl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends kA{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ig("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ic._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ic._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ic._jsonSchema={type:pi("string",Ic._jsonSchemaVersion),bundleSource:pi("string","DocumentSnapshot"),bundleName:pi("string"),bundle:pi("string")};class Sm extends Ic{data(e={}){return super.data(e)}}class Cc{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new sd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Sm(this._firestore,this._userDataWriter,r.key,r,new sd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new Sm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new sd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Sm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new sd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:TL(c.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){n=Ds(n,Wr);const e=Ds(n.firestore,al);return dL(qd(e),n._key).then((t=>jA(e,n,t)))}Cc._jsonSchemaVersion="firestore/querySnapshot/1.0",Cc._jsonSchema={type:pi("string",Cc._jsonSchemaVersion),bundleSource:pi("string","QuerySnapshot"),bundleName:pi("string"),bundle:pi("string")};class Sy extends EL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,t)}}function MA(n){n=Ds(n,Kl);const e=Ds(n.firestore,al),t=qd(e),r=new Sy(e);return PA(n._query),pL(t,n._query).then((s=>new Cc(e,r,n,s)))}function Rg(n,e,t){n=Ds(n,Wr);const r=Ds(n.firestore,al),s=Ay(n.converter,e,t);return Yd(r,[hy(Gd(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Os.none())])}function Dc(n,e,t,...r){n=Ds(n,Wr);const s=Ds(n.firestore,al),o=Gd(s);let u;return u=typeof(e=Mr(e))=="string"||e instanceof zd?IA(o,"updateDoc",n._key,e,t,r):NA(o,"updateDoc",n._key,e),Yd(s,[u.toMutation(n._key,Os.exists(!0))])}function Lg(n){return Yd(Ds(n.firestore,al),[new wg(n._key,Os.none())])}function Wd(n,e){const t=Ds(n.firestore,al),r=rs(n),s=Ay(n.converter,e);return Yd(t,[hy(Gd(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Os.exists(!1))]).then((()=>r))}function Ya(n,...e){n=Mr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||v_(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(v_(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,u,c;if(n instanceof Wr)u=Ds(n.firestore,al),c=gg(n._key.path),o={next:f=>{e[r]&&e[r](jA(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Ds(n,Kl);u=Ds(f.firestore,al),c=f._query;const d=new Sy(u);o={next:y=>{e[r]&&e[r](new Cc(u,d,f,y))},error:e[r+1],complete:e[r+2]},PA(n._query)}return(function(d,y,A,x){const _=new uy(x),j=new ay(y,_,A);return d.asyncQueue.enqueueAndForget((async()=>ry(await Km(d),j))),()=>{_.Nu(),d.asyncQueue.enqueueAndForget((async()=>iy(await Km(d),j)))}})(qd(u),c,s,o)}function Yd(n,e){return(function(r,s){const o=new Fl;return r.asyncQueue.enqueueAndForget((async()=>tL(await fL(r),s,o))),o.promise})(qd(n),e)}function jA(n,e,t){const r=t.docs.get(e._key),s=new Sy(n);return new Ic(n,s,e._key,r,new sd(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gd(e)}set(e,t,r){this._verifyNotCommitted();const s=a0(e,this._firestore),o=Ay(s.converter,t,r),u=hy(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Os.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=a0(e,this._firestore);let u;return u=typeof(t=Mr(t))=="string"||t instanceof zd?IA(this._dataReader,"WriteBatch.update",o._key,t,r,s):NA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=a0(e,this._firestore);return this._mutations=this._mutations.concat(new wg(t._key,Os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function a0(n,e){if((n=Mr(n)).firestore!==e)throw new it(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function ol(){return new fy("serverTimestamp")}function xy(n){return new dy("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(n){return qd(n=Ds(n,al)),new NL(n,(e=>Yd(n,e)))}(function(e,t=!0){(function(s){Zh=s})(Qh),il(new Ao("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new al(new SC(r.getProvider("auth-internal")),new TC(u,r.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new it(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(d.options.projectId,y)})(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Ka(Ab,Sb,e),Ka(Ab,Sb,"esm2020")})();const VA="@firebase/installations",Ey="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1e4,FA=`w:${Ey}`,BA="FIS_v2",CL="https://firebaseinstallations.googleapis.com/v1",RL=3600*1e3,LL="installations",kL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oc=new Fc(LL,kL,PL);function qA(n){return n instanceof To&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA({projectId:n}){return`${CL}/projects/${n}/installations`}function HA(n){return{token:n.token,requestStatus:2,expiresIn:OL(n.expiresIn),creationTime:Date.now()}}async function GA(n,e){const r=(await e.json()).error;return Oc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $A({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function DL(n,{refreshToken:e}){const t=$A(n);return t.append("Authorization",ML(e)),t}async function WA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function OL(n){return Number(n.replace("s","000"))}function ML(n){return`${BA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=zA(n),s=$A(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:t,authVersion:BA,appId:n.appId,sdkVersion:FA},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await WA(()=>fetch(r,c));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:HA(d.authToken)}}else throw await GA("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^[cdef][\w-]{21}$/,u2="";function FL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=BL(n);return UL.test(t)?t:u2}catch{return u2}}function BL(n){return VL(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new Map;function QA(n,e){const t=kg(n);XA(t,e),qL(t,e)}function XA(n,e){const t=KA.get(n);if(t)for(const r of t)r(e)}function qL(n,e){const t=zL();t&&t.postMessage({key:n,fid:e}),HL()}let Nc=null;function zL(){return!Nc&&"BroadcastChannel"in self&&(Nc=new BroadcastChannel("[Firebase] FID Change"),Nc.onmessage=n=>{XA(n.data.key,n.data.fid)}),Nc}function HL(){KA.size===0&&Nc&&(Nc.close(),Nc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="firebase-installations-database",$L=1,Mc="firebase-installations-store";let o0=null;function Ty(){return o0||(o0=_4(GL,$L,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Mc)}}})),o0}async function Xm(n,e){const t=kg(n),s=(await Ty()).transaction(Mc,"readwrite"),o=s.objectStore(Mc),u=await o.get(t);return await o.put(e,t),await s.done,(!u||u.fid!==e.fid)&&QA(n,e.fid),e}async function ZA(n){const e=kg(n),r=(await Ty()).transaction(Mc,"readwrite");await r.objectStore(Mc).delete(e),await r.done}async function Pg(n,e){const t=kg(n),s=(await Ty()).transaction(Mc,"readwrite"),o=s.objectStore(Mc),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await s.done,c&&(!u||u.fid!==c.fid)&&QA(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(n){let e;const t=await Pg(n.appConfig,r=>{const s=WL(r),o=YL(n,s);return e=o.registrationPromise,o.installationEntry});return t.fid===u2?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function WL(n){const e=n||{fid:FL(),registrationStatus:0};return JA(e)}function YL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Oc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=KL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QL(n)}:{installationEntry:e}}async function KL(n,e){try{const t=await jL(n,e);return Xm(n.appConfig,t)}catch(t){throw qA(t)&&t.customData.serverCode===409?await ZA(n.appConfig):await Xm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function QL(n){let e=await w_(n.appConfig);for(;e.registrationStatus===1;)await YA(100),e=await w_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Ny(n);return r||t}return e}function w_(n){return Pg(n,e=>{if(!e)throw Oc.create("installation-not-found");return JA(e)})}function JA(n){return XL(n)?{fid:n.fid,registrationStatus:0}:n}function XL(n){return n.registrationStatus===1&&n.registrationTime+UA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL({appConfig:n,heartbeatServiceProvider:e},t){const r=JL(n,t),s=DL(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:FA,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await WA(()=>fetch(r,c));if(f.ok){const d=await f.json();return HA(d)}else throw await GA("Generate Auth Token",f)}function JL(n,{fid:e}){return`${zA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(n,e=!1){let t;const r=await Pg(n.appConfig,o=>{if(!eS(o))throw Oc.create("not-registered");const u=o.authToken;if(!e&&n7(u))return o;if(u.requestStatus===1)return t=e7(n,e),o;{if(!navigator.onLine)throw Oc.create("app-offline");const c=i7(o);return t=t7(n,c),c}});return t?await t:r.authToken}async function e7(n,e){let t=await A_(n.appConfig);for(;t.authToken.requestStatus===1;)await YA(100),t=await A_(n.appConfig);const r=t.authToken;return r.requestStatus===0?Iy(n,e):r}function A_(n){return Pg(n,e=>{if(!eS(e))throw Oc.create("not-registered");const t=e.authToken;return s7(t)?{...e,authToken:{requestStatus:0}}:e})}async function t7(n,e){try{const t=await ZL(n,e),r={...e,authToken:t};return await Xm(n.appConfig,r),t}catch(t){if(qA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await ZA(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Xm(n.appConfig,r)}throw t}}function eS(n){return n!==void 0&&n.registrationStatus===2}function n7(n){return n.requestStatus===2&&!r7(n)}function r7(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+RL}function i7(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function s7(n){return n.requestStatus===1&&n.requestTime+UA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(n){const e=n,{installationEntry:t,registrationPromise:r}=await Ny(e);return r?r.catch(console.error):Iy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(n,e=!1){const t=n;return await l7(t),(await Iy(t,e)).token}async function l7(n){const{registrationPromise:e}=await Ny(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(n){if(!n||!n.options)throw l0("App Configuration");if(!n.name)throw l0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw l0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function l0(n){return Oc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="installations",c7="installations-internal",h7=n=>{const e=n.getProvider("app").getImmediate(),t=u7(e),r=Bc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f7=n=>{const e=n.getProvider("app").getImmediate(),t=Bc(e,tS).getImmediate();return{getId:()=>a7(t),getToken:s=>o7(t,s)}};function d7(){il(new Ao(tS,h7,"PUBLIC")),il(new Ao(c7,f7,"PRIVATE"))}d7();Ka(VA,Ey);Ka(VA,Ey,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="analytics",p7="firebase_id",m7="origin",g7=60*1e3,y7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new lg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ya=new Fc("analytics","Analytics",v7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(n){if(!n.startsWith(Cy)){const e=ya.create("invalid-gtag-resource",{gtagURL:n});return Zs.warn(e.message),""}return n}function nS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function _7(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function w7(n,e){const t=_7("firebase-js-sdk-policy",{createScriptURL:b7}),r=document.createElement("script"),s=`${Cy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function A7(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function S7(n,e,t,r,s,o){const u=r[s];try{if(u)await e[u];else{const f=(await nS(t)).find(d=>d.measurementId===s);f&&await e[f.appId]}}catch(c){Zs.error(c)}n("config",s,o)}async function x7(n,e,t,r,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const c=await nS(t);for(const f of u){const d=c.find(A=>A.measurementId===f),y=d&&e[d.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,s||{})}catch(o){Zs.error(o)}}function E7(n,e,t,r){async function s(o,...u){try{if(o==="event"){const[c,f]=u;await x7(n,e,t,c,f)}else if(o==="config"){const[c,f]=u;await S7(n,e,t,r,c,f)}else if(o==="consent"){const[c,f]=u;n("consent",c,f)}else if(o==="get"){const[c,f,d]=u;n("get",c,f,d)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){Zs.error(c)}}return s}function T7(n,e,t,r,s){let o=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=E7(o,n,e,t),{gtagCore:o,wrappedGtag:window[s]}}function N7(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=30,C7=1e3;class R7{constructor(e={},t=C7){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rS=new R7;function L7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function k7(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:L7(t)},s=y7.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();c.error?.message&&(u=c.error.message)}catch{}throw ya.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function P7(n,e=rS,t){const{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw ya.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw ya.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new M7;return setTimeout(async()=>{c.abort()},g7),iS({appId:r,apiKey:s,measurementId:o},u,c,e)}async function iS(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=rS){const{appId:o,measurementId:u}=n;try{await D7(r,e)}catch(c){if(u)return Zs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:u};throw c}try{const c=await k7(n);return s.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!O7(f)){if(s.deleteThrottleMetadata(o),u)return Zs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:u};throw c}const d=Number(f?.customData?.httpStatus)===503?W5(t,s.intervalMillis,I7):W5(t,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return s.setThrottleMetadata(o,y),Zs.debug(`Calling attemptFetch again in ${d} millis`),iS(n,y,r,s)}}function D7(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(o),r(ya.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O7(n){if(!(n instanceof To)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class M7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function j7(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const o=await e,u={...r,send_to:o};n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(){if(g4())try{await y4()}catch(n){return Zs.warn(ya.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Zs.warn(ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U7(n,e,t,r,s,o,u){const c=P7(n);c.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Zs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Zs.error(x)),e.push(c);const f=V7().then(x=>{if(x)return r.getId()}),[d,y]=await Promise.all([c,f]);N7(o)||w7(o,d.measurementId),s("js",new Date);const A=u?.config??{};return A[m7]="firebase",A.update=!0,y!=null&&(A[p7]=y),s("config",d.measurementId,A),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.app=e}_delete(){return delete fd[this.app.options.appId],Promise.resolve()}}let fd={},S_=[];const x_={};let u0="dataLayer",B7="gtag",E_,sS,T_=!1;function q7(){const n=[];if(m4()&&n.push("This is a browser extension environment."),M6()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=ya.create("invalid-analytics-context",{errorInfo:e});Zs.warn(t.message)}}function z7(n,e,t){q7();const r=n.options.appId;if(!r)throw ya.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Zs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ya.create("no-api-key");if(fd[r]!=null)throw ya.create("already-exists",{id:r});if(!T_){A7(u0);const{wrappedGtag:o,gtagCore:u}=T7(fd,S_,x_,u0,B7);sS=o,E_=u,T_=!0}return fd[r]=U7(n,S_,x_,e,E_,u0,t),new F7(n)}function H7(n=N2()){n=Mr(n);const e=Bc(n,Zm);return e.isInitialized()?e.getImmediate():G7(n)}function G7(n,e={}){const t=Bc(n,Zm);if(t.isInitialized()){const s=t.getImmediate();if(qu(e,t.getOptions()))return s;throw ya.create("already-initialized")}return t.initialize({options:e})}function aS(n,e,t,r){n=Mr(n),j7(sS,fd[n.app.options.appId],e,t,r).catch(s=>Zs.error(s))}const N_="@firebase/analytics",I_="0.10.18";function $7(){il(new Ao(Zm,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return z7(r,s,t)},"PUBLIC")),il(new Ao("analytics-internal",n,"PRIVATE")),Ka(N_,I_),Ka(N_,I_,"esm2020");function n(e){try{const t=e.getProvider(Zm).getImmediate();return{logEvent:(r,s,o)=>aS(t,r,s,o)}}catch(t){throw ya.create("interop-component-reg-failed",{reason:t})}}}$7();const W7={apiKey:"AIzaSyA6pwcMnIn0y0HcKRWQhfpvPKwmbH-Jc4Y",authDomain:"sofwipad-erp-contable.firebaseapp.com",projectId:"sofwipad-erp-contable",storageBucket:"sofwipad-erp-contable.appspot.com",messagingSenderId:"902895181248",appId:"1:902895181248:web:dfb884b039dedacfb3bc25",measurementId:"G-D22KTMEDP6"},Ry=w4(W7),Mh=vC(Ry),xn=gL(Ry);_C("debug");let C_;typeof window<"u"&&(C_=H7(Ry),aS(C_,"app_start",{app:"ERP Contable",time:new Date().toISOString()}));const oS=Ve.createContext(),Y7=({children:n})=>{const[e,t]=Ve.useState(null),[r,s]=Ve.useState(null),[o,u]=Ve.useState(null),[c,f]=Ve.useState(!0),[d,y]=Ve.useState(""),A=async _=>{const j=IL(xn),O=fi(xn,`companies/${_}/chart_of_accounts`);[{code:"1105",name:"Caja",class:"Activo"},{code:"1110",name:"Bancos",class:"Activo"},{code:"1305",name:"Clientes",class:"Activo"},{code:"1435",name:"Inventarios",class:"Activo"},{code:"2205",name:"Proveedores Nacionales",class:"Pasivo"},{code:"2105",name:"Obligaciones Financieras",class:"Pasivo"},{code:"3115",name:"Aportes Sociales",class:"Patrimonio"},{code:"4135",name:"Comercio al por mayor y al por menor",class:"Ingreso"},{code:"5105",name:"Gastos de Personal",class:"Gasto"},{code:"5195",name:"Diversos",class:"Gasto"},{code:"6135",name:"Costo de Ventas",class:"Costo"}].forEach(B=>{const ne=rs(O,B.code);j.set(ne,B)});try{await j.commit(),console.log(`Plan de cuentas inicial creado para la empresa: ${_}`)}catch(B){console.error("Error creando el plan de cuentas inicial:",B),y("No se pudo completar la configuracin inicial de la empresa.")}};Ve.useEffect(()=>{const j=oI(Mh,async O=>{if(O&&!O.isAnonymous){const F=rs(xn,"users",O.uid),B=await Id(F);if(B.exists()){const ne={uid:O.uid,...B.data()};if(t(O),s(ne),ne.companyId){const te=rs(xn,"companies",ne.companyId),ae=await Id(te);if(ae.exists()){u({id:ae.id,...ae.data()});const ve=fi(xn,`companies/${ne.companyId}/chart_of_accounts`),Te=Xs(ve,wy(1));(await MA(Te)).empty&&(console.log("Plan de cuentas no encontrado, iniciando configuracin..."),await A(ne.companyId))}else y(`Error: La empresa con ID ${ne.companyId} no fue encontrada.`),u(null)}else y("Usuario no est asociado a ninguna empresa."),u(null)}else y("No se encontr el perfil del usuario en la base de datos."),await Y4(Mh)}else t(null),s(null),u(null);f(!1)});return()=>j()},[]);const x={user:e,userData:r,companyData:o,loading:c,error:d,setError:y};return T.jsx(oS.Provider,{value:x,children:n})},ll=()=>Ve.useContext(oS),Bn=({id:n,label:e,...t})=>T.jsxs("div",{children:[T.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),T.jsx("input",{id:n,...t,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),si=({children:n,onClick:e,type:t="button",variant:r="primary",...s})=>{const o="inline-flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md",u={primary:"border-transparent text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",secondary:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500",danger:"border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500"};return T.jsx("button",{type:t,onClick:e,className:`${o} ${u[r]}`,...s,children:n})},Yh=({message:n})=>n?T.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative my-4",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"Error: "}),T.jsx("span",{className:"block sm:inline",children:n})]}):null,Ly=({message:n})=>n?T.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative my-4",role:"alert",children:[T.jsx("strong",{className:"font-bold",children:"xito: "}),T.jsx("span",{className:"block sm:inline",children:n})]}):null,K7=()=>{const[n,e]=Ve.useState(!0),[t,r]=Ve.useState(""),[s,o]=Ve.useState(""),[u,c]=Ve.useState(""),[f,d]=Ve.useState(""),[y,A]=Ve.useState(""),[x,_]=Ve.useState(""),[j,O]=Ve.useState(""),[F,B]=Ve.useState(!1),[ne,te]=Ve.useState(!1),ae=async $=>{$.preventDefault(),B(!0),_(""),O("");try{await iI(Mh,t,s)}catch(k){_(k.message)}B(!1)},ve=async $=>{if($.preventDefault(),s.length<6){_("La contrasea debe tener al menos 6 caracteres.");return}B(!0),_(""),O("");try{const k=fi(xn,"companies"),N=await Wd(k,{name:f,NIT:y,createdAt:ol(),taxConfig:{iva:19,ica:.414,retefuente:2.5}}),C=(await rI(Mh,t,s)).user;await Rg(rs(xn,"users",C.uid),{name:u,email:t,companyId:N.id,role:"Administrador",createdAt:ol()})}catch(k){_(k.message)}B(!1)},Te=async $=>{$.preventDefault(),B(!0),_(""),O("");try{await nI(Mh,t),O("Se ha enviado un correo de restablecimiento de contrasea a tu direccin de correo electrnico."),r(""),te(!1)}catch(k){_(k.message)}B(!1),setTimeout(()=>O(""),5e3),setTimeout(()=>_(""),5e3)};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[T.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Sofwipad ERP Contable"}),T.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Inicia sesin en tu cuenta":"Crea una nueva cuenta y empresa"})]}),T.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:T.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[T.jsxs("form",{className:"space-y-6",onSubmit:n?ae:ve,children:[!n&&T.jsxs(T.Fragment,{children:[T.jsx(Bn,{id:"name",name:"name",type:"text",label:"Tu Nombre Completo",required:!0,value:u,onChange:$=>c($.target.value)}),T.jsx(Bn,{id:"companyName",name:"companyName",type:"text",label:"Nombre de la Empresa",required:!0,value:f,onChange:$=>d($.target.value)}),T.jsx(Bn,{id:"nit",name:"nit",type:"text",label:"NIT de la Empresa",required:!0,value:y,onChange:$=>A($.target.value)}),T.jsx("hr",{})]}),ne?T.jsx(Bn,{id:"emailReset",name:"emailReset",type:"email",label:"Correo Electrnico",autoComplete:"email",required:!0,value:t,onChange:$=>r($.target.value)}):T.jsxs(T.Fragment,{children:[T.jsx(Bn,{id:"email",name:"email",type:"email",label:"Correo Electrnico",autoComplete:"email",required:!0,value:t,onChange:$=>r($.target.value)}),T.jsx(Bn,{id:"password",name:"password",type:"password",label:"Contrasea",autoComplete:"current-password",required:!0,value:s,onChange:$=>o($.target.value)})]}),T.jsx(Yh,{message:x}),T.jsx(Ly,{message:j}),T.jsx("div",{children:ne?T.jsx(si,{type:"button",variant:"primary",className:`w-full border border-indigo-600 text-indigo-600 font-semibold 
             px-6 py-3 rounded-md 
             transition duration-300 ease-in-out
             hover:bg-indigo-600 hover:text-white 
             active:bg-indigo-700 active:text-white`,onClick:Te,disabled:F,children:F?"Enviando...":"Enviar correo de restablecimiento"}):T.jsx(si,{type:"submit",variant:"primary",className:`w-full border border-indigo-600 text-indigo-600 font-semibold 
             px-6 py-3 rounded-md 
             transition duration-2000 ease-in-out
             hover:bg-indigo-600 hover:text-white 
             active:bg-indigo-700 active:text-white `,disabled:F,children:F?"Procesando...":n?"Iniciar Sesin":"Registrar Empresa"})})]}),T.jsxs("div",{className:"mt-6",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-300"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O"})})]}),T.jsxs("div",{className:"mt-6 text-center",children:[!ne&&n&&T.jsx("button",{onClick:()=>{te(!0),_(""),O("")},className:"font-medium text-indigo-600 hover:text-indigo-800 hover:underline mr-4",children:"Olvidaste tu contrasea?"}),T.jsx("button",{onClick:()=>{e(!n),_(""),O(""),te(!1)},className:"font-medium text-indigo-600 hover:text-indigo-800 hover:underline",children:n?"No tienes una cuenta? Regstrate":"Ya tienes una cuenta? Inicia sesin"})]})]})]})})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X7=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),R_=n=>{const e=X7(n);return e.charAt(0).toUpperCase()+e.slice(1)},lS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Z7=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Ve.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...c},f)=>Ve.createElement("svg",{ref:f,...J7,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:lS("lucide",s),...!o&&!Z7(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,y])=>Ve.createElement(d,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=(n,e)=>{const t=Ve.forwardRef(({className:r,...s},o)=>Ve.createElement(ek,{ref:o,iconNode:e,className:lS(`lucide-${Q7(R_(n))}`,`lucide-${n}`,r),...s}));return t.displayName=R_(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nk=uS("chevron-left",tk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ik=uS("chevron-right",rk),jn={dashboard:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),sales:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),products:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7.5L12 3l9 4.5M3 7.5v9l9 4.5m9-13.5v9l-9 4.5m0-9l9-4.5m-9 4.5L3 7.5"})}),purchases:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),inventory:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),reports:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),logout:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),plus:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),user:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),money:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),close:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),trash:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),edit:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),userPlus:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 14a4 4 0 10-8 0 4 4 0 008 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14v7m-5-3h10M16 3h5m-2.5-2.5V5.5"})]}),eye:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})},jc=({title:n,children:e,actions:t})=>T.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[T.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),t&&T.jsx("div",{className:"flex space-x-2",children:t})]}),T.jsx("div",{className:"p-4",children:e})]}),L_=()=>{const{companyData:n}=ll(),e=[{title:"Ventas del Mes",value:"$12,500,000",icon:jn.sales,color:"text-green-500"},{title:"Cuentas por Cobrar",value:"$4,200,000",icon:jn.money,color:"text-yellow-500"},{title:"Compras del Mes",value:"$7,800,000",icon:jn.purchases,color:"text-red-500"},{title:"Valor Inventario",value:"$25,000,000",icon:jn.inventory,color:"text-blue-500"}];return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Bienvenido a ",n?.name]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(t=>T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[T.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${t.color}`,children:wE.cloneElement(t.icon,{className:"h-8 w-8"})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-lg font-semibold text-gray-800",children:t.title}),T.jsx("p",{className:"text-sm font-medium text-gray-500",children:t.value})]})]},t.title))}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsx(jc,{title:"Ventas vs Compras (ltimos 6 meses)",children:T.jsx("div",{className:"h-64 bg-gray-200 rounded-md flex items-center justify-center",children:T.jsx("p",{className:"text-gray-500",children:"Grfico de barras aqu"})})}),T.jsx(jc,{title:"Actividades Recientes",children:T.jsxs("ul",{className:"space-y-3",children:[T.jsx("li",{className:"text-sm text-gray-600",children:"Factura de venta #FV-002 creada."}),T.jsx("li",{className:"text-sm text-gray-600",children:"Pago a proveedor 'DistriPartes SAS' registrado."}),T.jsx("li",{className:"text-sm text-gray-600",children:"Nuevo producto 'Aceite 20W-50' aadido al inventario."})]})})]})]})},sk="modulepreload",ak=function(n){return"/sofwipad-erp-contable/"+n},k_={},c0=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=f(t.map(d=>{if(d=ak(d),d in k_)return;k_[d]=!0;const y=d.endsWith(".css"),A=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":sk,y||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),y)return new Promise((_,j)=>{x.addEventListener("load",_),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(n)}var Eo=Uint8Array,ga=Uint16Array,ky=Int32Array,Py=new Eo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dy=new Eo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P_=new Eo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cS=function(n,e){for(var t=new ga(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new ky(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},hS=cS(Py,2),ok=hS.b,c2=hS.r;ok[28]=258,c2[258]=28;var lk=cS(Dy,0),D_=lk.r,h2=new ga(32768);for(var _r=0;_r<32768;++_r){var Cu=(_r&43690)>>1|(_r&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,h2[_r]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var dd=(function(n,e,t){for(var r=n.length,s=0,o=new ga(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new ga(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new ga(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],y=e-n[s],A=u[n[s]-1]++<<y,x=A|(1<<y)-1;A<=x;++A)c[h2[A]>>f]=d}else for(c=new ga(r),s=0;s<r;++s)n[s]&&(c[s]=h2[u[n[s]-1]++]>>15-n[s]);return c}),Vc=new Eo(288);for(var _r=0;_r<144;++_r)Vc[_r]=8;for(var _r=144;_r<256;++_r)Vc[_r]=9;for(var _r=256;_r<280;++_r)Vc[_r]=7;for(var _r=280;_r<288;++_r)Vc[_r]=8;var Jm=new Eo(32);for(var _r=0;_r<32;++_r)Jm[_r]=5;var uk=dd(Vc,9,0),ck=dd(Jm,5,0),fS=function(n){return(n+7)/8|0},hk=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Eo(n.subarray(e,t))},Pl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Zf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},h0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:pS,l:0};if(s==1){var u=new Eo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(ve,Te){return ve.f-Te.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,y=1,A=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};y!=s-1;)c=t[t[d].f<t[A].f?d++:A++],f=t[d!=y&&t[d].f<t[A].f?d++:A++],t[y++]={s:-1,f:c.f+f.f,l:c,r:f};for(var x=o[0].s,r=1;r<s;++r)o[r].s>x&&(x=o[r].s);var _=new ga(x+1),j=f2(t[y-1],_,0);if(j>e){var r=0,O=0,F=j-e,B=1<<F;for(o.sort(function(Te,$){return _[$.s]-_[Te.s]||Te.f-$.f});r<s;++r){var ne=o[r].s;if(_[ne]>e)O+=B-(1<<j-_[ne]),_[ne]=e;else break}for(O>>=F;O>0;){var te=o[r].s;_[te]<e?O-=1<<e-_[te]++-1:++r}for(;r>=0&&O;--r){var ae=o[r].s;_[ae]==e&&(--_[ae],++O)}j=e}return{t:new Eo(_),l:j}},f2=function(n,e,t){return n.s==-1?Math.max(f2(n.l,e,t+1),f2(n.r,e,t+1)):e[n.s]=t},O_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ga(++e),r=0,s=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},Jf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},dS=function(n,e,t){var r=t.length,s=fS(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},M_=function(n,e,t,r,s,o,u,c,f,d,y){Pl(e,y++,t),++s[256];for(var A=h0(s,15),x=A.t,_=A.l,j=h0(o,15),O=j.t,F=j.l,B=O_(x),ne=B.c,te=B.n,ae=O_(O),ve=ae.c,Te=ae.n,$=new ga(19),k=0;k<ne.length;++k)++$[ne[k]&31];for(var k=0;k<ve.length;++k)++$[ve[k]&31];for(var N=h0($,7),z=N.t,C=N.l,D=19;D>4&&!z[P_[D-1]];--D);var L=d+5<<3,X=Jf(s,Vc)+Jf(o,Jm)+u,pe=Jf(s,x)+Jf(o,O)+u+14+3*D+Jf($,z)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&L<=X&&L<=pe)return dS(e,y,n.subarray(f,f+d));var ee,de,re,_e;if(Pl(e,y,1+(pe<X)),y+=2,pe<X){ee=dd(x,_,0),de=x,re=dd(O,F,0),_e=O;var Y=dd(z,C,0);Pl(e,y,te-257),Pl(e,y+5,Te-1),Pl(e,y+10,D-4),y+=14;for(var k=0;k<D;++k)Pl(e,y+3*k,z[P_[k]]);y+=3*D;for(var ce=[ne,ve],R=0;R<2;++R)for(var q=ce[R],k=0;k<q.length;++k){var Z=q[k]&31;Pl(e,y,Y[Z]),y+=z[Z],Z>15&&(Pl(e,y,q[k]>>5&127),y+=q[k]>>12)}}else ee=uk,de=Vc,re=ck,_e=Jm;for(var k=0;k<c;++k){var le=r[k];if(le>255){var Z=le>>18&31;Zf(e,y,ee[Z+257]),y+=de[Z+257],Z>7&&(Pl(e,y,le>>23&31),y+=Py[Z]);var he=le&31;Zf(e,y,re[he]),y+=_e[he],he>3&&(Zf(e,y,le>>5&8191),y+=Dy[he])}else Zf(e,y,ee[le]),y+=de[le]}return Zf(e,y,ee[256]),y+de[256]},fk=new ky([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pS=new Eo(0),dk=function(n,e,t,r,s,o){var u=o.z||n.length,c=new Eo(r+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(r,c.length-s),d=o.l,y=(o.r||0)&7;if(e){y&&(f[0]=o.r>>3);for(var A=fk[e-1],x=A>>13,_=A&8191,j=(1<<t)-1,O=o.p||new ga(32768),F=o.h||new ga(j+1),B=Math.ceil(t/3),ne=2*B,te=function(Me){return(n[Me]^n[Me+1]<<B^n[Me+2]<<ne)&j},ae=new ky(25e3),ve=new ga(288),Te=new ga(32),$=0,k=0,N=o.i||0,z=0,C=o.w||0,D=0;N+2<u;++N){var L=te(N),X=N&32767,pe=F[L];if(O[X]=pe,F[L]=X,C<=N){var ee=u-N;if(($>7e3||z>24576)&&(ee>423||!d)){y=M_(n,f,0,ae,ve,Te,k,z,D,N-D,y),z=$=k=0,D=N;for(var de=0;de<286;++de)ve[de]=0;for(var de=0;de<30;++de)Te[de]=0}var re=2,_e=0,Y=_,ce=X-pe&32767;if(ee>2&&L==te(N-ce))for(var R=Math.min(x,ee)-1,q=Math.min(32767,N),Z=Math.min(258,ee);ce<=q&&--Y&&X!=pe;){if(n[N+re]==n[N+re-ce]){for(var le=0;le<Z&&n[N+le]==n[N+le-ce];++le);if(le>re){if(re=le,_e=ce,le>R)break;for(var he=Math.min(ce,le-2),ge=0,de=0;de<he;++de){var Ce=N-ce+de&32767,ke=O[Ce],Be=Ce-ke&32767;Be>ge&&(ge=Be,pe=Ce)}}}X=pe,pe=O[X],ce+=X-pe&32767}if(_e){ae[z++]=268435456|c2[re]<<18|D_[_e];var ze=c2[re]&31,nt=D_[_e]&31;k+=Py[ze]+Dy[nt],++ve[257+ze],++Te[nt],C=N+re,++$}else ae[z++]=n[N],++ve[n[N]]}}for(N=Math.max(N,C);N<u;++N)ae[z++]=n[N],++ve[n[N]];y=M_(n,f,d,ae,ve,Te,k,z,D,N-D,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=F,o.p=O,o.i=N,o.w=C)}else{for(var N=o.w||0;N<u+d;N+=65535){var rt=N+65535;rt>=u&&(f[y/8|0]=d,rt=u),y=dS(f,y+1,n.subarray(N,rt))}o.i=u}return hk(c,0,r+fS(y)+s)},mS=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},pk=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Eo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return dk(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},gS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},mk=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=mS();s.p(e.dictionary),gS(n,2,s.d())}};function d2(n,e){e||(e={});var t=mS();t.p(n);var r=pk(n,e,e.dictionary?6:2,4);return mk(r,e),gS(r,r.length-4,t.d()),r}var gk=typeof TextDecoder<"u"&&new TextDecoder,yk=0;try{gk.decode(pS,{stream:!0}),yk=1}catch{}function vk(n){if(Array.isArray(n))return n}function bk(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(y){d=!0,s=y}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function j_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function _k(n,e){if(n){if(typeof n=="string")return j_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j_(n,e):void 0}}function wk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(n,e){return vk(n)||bk(n,e)||_k(n,e)||wk()}function U_(n,e="utf8"){return new TextDecoder(e).decode(n)}const Ak=new TextEncoder;function Sk(n){return Ak.encode(n)}const xk=1024*8,Ek=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),f0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Oy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=xk,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof Oy)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=f0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===Ek&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const f=new f0[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new f0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return U_(this.readBytes(e))}decodeText(e=1,t="utf8"){return U_(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Sk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function rf(n){let e=n.length;for(;--e>=0;)n[e]=0}const Tk=3,Nk=258,yS=29,Ik=256,Ck=Ik+1+yS,vS=30,Rk=512,Lk=new Array((Ck+2)*2);rf(Lk);const kk=new Array(vS*2);rf(kk);const Pk=new Array(Rk);rf(Pk);const Dk=new Array(Nk-Tk+1);rf(Dk);const Ok=new Array(yS);rf(Ok);const Mk=new Array(vS);rf(Mk);const jk=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var p2=jk;const Vk=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Uk=new Uint32Array(Vk()),Fk=(n,e,t,r)=>{const s=Uk,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var Wo=Fk,m2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Bk=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var qk=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)Bk(t,r)&&(n[r]=t[r])}}return n},zk=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},_S={assign:qk,flattenChunks:zk};let wS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wS=!1}const Cd=new Uint8Array(256);for(let n=0;n<256;n++)Cd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Cd[254]=Cd[254]=1;var Hk=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Gk=(n,e)=>{if(e<65534&&n.subarray&&wS)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var $k=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=Cd[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return Gk(o,s)},Wk=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Cd[n[t]]>e?t:e},g2={string2buf:Hk,buf2string:$k,utf8border:Wk};function Yk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kk=Yk;const im=16209,Qk=16191;var Xk=function(e,t){let r,s,o,u,c,f,d,y,A,x,_,j,O,F,B,ne,te,ae,ve,Te,$,k,N,z;const C=e.state;r=e.next_in,N=e.input,s=r+(e.avail_in-5),o=e.next_out,z=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=C.dmax,d=C.wsize,y=C.whave,A=C.wnext,x=C.window,_=C.hold,j=C.bits,O=C.lencode,F=C.distcode,B=(1<<C.lenbits)-1,ne=(1<<C.distbits)-1;e:do{j<15&&(_+=N[r++]<<j,j+=8,_+=N[r++]<<j,j+=8),te=O[_&B];t:for(;;){if(ae=te>>>24,_>>>=ae,j-=ae,ae=te>>>16&255,ae===0)z[o++]=te&65535;else if(ae&16){ve=te&65535,ae&=15,ae&&(j<ae&&(_+=N[r++]<<j,j+=8),ve+=_&(1<<ae)-1,_>>>=ae,j-=ae),j<15&&(_+=N[r++]<<j,j+=8,_+=N[r++]<<j,j+=8),te=F[_&ne];n:for(;;){if(ae=te>>>24,_>>>=ae,j-=ae,ae=te>>>16&255,ae&16){if(Te=te&65535,ae&=15,j<ae&&(_+=N[r++]<<j,j+=8,j<ae&&(_+=N[r++]<<j,j+=8)),Te+=_&(1<<ae)-1,Te>f){e.msg="invalid distance too far back",C.mode=im;break e}if(_>>>=ae,j-=ae,ae=o-u,Te>ae){if(ae=Te-ae,ae>y&&C.sane){e.msg="invalid distance too far back",C.mode=im;break e}if($=0,k=x,A===0){if($+=d-ae,ae<ve){ve-=ae;do z[o++]=x[$++];while(--ae);$=o-Te,k=z}}else if(A<ae){if($+=d+A-ae,ae-=A,ae<ve){ve-=ae;do z[o++]=x[$++];while(--ae);if($=0,A<ve){ae=A,ve-=ae;do z[o++]=x[$++];while(--ae);$=o-Te,k=z}}}else if($+=A-ae,ae<ve){ve-=ae;do z[o++]=x[$++];while(--ae);$=o-Te,k=z}for(;ve>2;)z[o++]=k[$++],z[o++]=k[$++],z[o++]=k[$++],ve-=3;ve&&(z[o++]=k[$++],ve>1&&(z[o++]=k[$++]))}else{$=o-Te;do z[o++]=z[$++],z[o++]=z[$++],z[o++]=z[$++],ve-=3;while(ve>2);ve&&(z[o++]=z[$++],ve>1&&(z[o++]=z[$++]))}}else if((ae&64)===0){te=F[(te&65535)+(_&(1<<ae)-1)];continue n}else{e.msg="invalid distance code",C.mode=im;break e}break}}else if((ae&64)===0){te=O[(te&65535)+(_&(1<<ae)-1)];continue t}else if(ae&32){C.mode=Qk;break e}else{e.msg="invalid literal/length code",C.mode=im;break e}break}}while(r<s&&o<c);ve=j>>3,r-=ve,j-=ve<<3,_&=(1<<j)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),C.hold=_,C.bits=j};const wh=15,F_=852,B_=592,q_=0,d0=1,z_=2,Zk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nP=(n,e,t,r,s,o,u,c)=>{const f=c.bits;let d=0,y=0,A=0,x=0,_=0,j=0,O=0,F=0,B=0,ne=0,te,ae,ve,Te,$,k=null,N;const z=new Uint16Array(wh+1),C=new Uint16Array(wh+1);let D=null,L,X,pe;for(d=0;d<=wh;d++)z[d]=0;for(y=0;y<r;y++)z[e[t+y]]++;for(_=f,x=wh;x>=1&&z[x]===0;x--);if(_>x&&(_=x),x===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(A=1;A<x&&z[A]===0;A++);for(_<A&&(_=A),F=1,d=1;d<=wh;d++)if(F<<=1,F-=z[d],F<0)return-1;if(F>0&&(n===q_||x!==1))return-1;for(C[1]=0,d=1;d<wh;d++)C[d+1]=C[d]+z[d];for(y=0;y<r;y++)e[t+y]!==0&&(u[C[e[t+y]]++]=y);if(n===q_?(k=D=u,N=20):n===d0?(k=Zk,D=Jk,N=257):(k=eP,D=tP,N=0),ne=0,y=0,d=A,$=o,j=_,O=0,ve=-1,B=1<<_,Te=B-1,n===d0&&B>F_||n===z_&&B>B_)return 1;for(;;){L=d-O,u[y]+1<N?(X=0,pe=u[y]):u[y]>=N?(X=D[u[y]-N],pe=k[u[y]-N]):(X=96,pe=0),te=1<<d-O,ae=1<<j,A=ae;do ae-=te,s[$+(ne>>O)+ae]=L<<24|X<<16|pe|0;while(ae!==0);for(te=1<<d-1;ne&te;)te>>=1;if(te!==0?(ne&=te-1,ne+=te):ne=0,y++,--z[d]===0){if(d===x)break;d=e[t+u[y]]}if(d>_&&(ne&Te)!==ve){for(O===0&&(O=_),$+=A,j=d-O,F=1<<j;j+O<x&&(F-=z[j+O],!(F<=0));)j++,F<<=1;if(B+=1<<j,n===d0&&B>F_||n===z_&&B>B_)return 1;ve=ne&Te,s[ve]=_<<24|j<<16|$-o|0}}return ne!==0&&(s[$+ne]=d-O<<24|64<<16|0),c.bits=_,0};var pd=nP;const rP=0,AS=1,SS=2,{Z_FINISH:H_,Z_BLOCK:iP,Z_TREES:sm,Z_OK:Uc,Z_STREAM_END:sP,Z_NEED_DICT:aP,Z_STREAM_ERROR:Qa,Z_DATA_ERROR:xS,Z_MEM_ERROR:ES,Z_BUF_ERROR:oP,Z_DEFLATED:G_}=bS,Dg=16180,$_=16181,W_=16182,Y_=16183,K_=16184,Q_=16185,X_=16186,Z_=16187,J_=16188,ew=16189,eg=16190,Dl=16191,p0=16192,tw=16193,m0=16194,nw=16195,rw=16196,iw=16197,sw=16198,am=16199,om=16200,aw=16201,ow=16202,lw=16203,uw=16204,cw=16205,g0=16206,hw=16207,fw=16208,Nr=16209,TS=16210,NS=16211,lP=852,uP=592,cP=15,hP=cP,dw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function fP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Dg||e.mode>NS?1:0},IS=n=>{if(Hc(n))return Qa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Dg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(lP),e.distcode=e.distdyn=new Int32Array(uP),e.sane=1,e.back=-1,Uc},CS=n=>{if(Hc(n))return Qa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,IS(n)},RS=(n,e)=>{let t;if(Hc(n))return Qa;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,CS(n))},LS=(n,e)=>{if(!n)return Qa;const t=new fP;n.state=t,t.strm=n,t.window=null,t.mode=Dg;const r=RS(n,e);return r!==Uc&&(n.state=null),r},dP=n=>LS(n,hP);let pw=!0,y0,v0;const pP=n=>{if(pw){y0=new Int32Array(512),v0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(pd(AS,n.lens,0,288,y0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;pd(SS,n.lens,0,32,v0,0,n.work,{bits:5}),pw=!1}n.lencode=y0,n.lenbits=9,n.distcode=v0,n.distbits=5},kS=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},mP=(n,e)=>{let t,r,s,o,u,c,f,d,y,A,x,_,j,O,F=0,B,ne,te,ae,ve,Te,$,k;const N=new Uint8Array(4);let z,C;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hc(n)||!n.output||!n.input&&n.avail_in!==0)return Qa;t=n.state,t.mode===Dl&&(t.mode=p0),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,y=t.bits,A=c,x=f,k=Uc;e:for(;;)switch(t.mode){case Dg:if(t.wrap===0){t.mode=p0;break}for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,N[0]=d&255,N[1]=d>>>8&255,t.check=Wo(t.check,N,2,0),d=0,y=0,t.mode=$_;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Nr;break}if((d&15)!==G_){n.msg="unknown compression method",t.mode=Nr;break}if(d>>>=4,y-=4,$=(d&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){n.msg="invalid window size",t.mode=Nr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?ew:Dl,d=0,y=0;break;case $_:for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.flags=d,(t.flags&255)!==G_){n.msg="unknown compression method",t.mode=Nr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Nr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,t.check=Wo(t.check,N,2,0)),d=0,y=0,t.mode=W_;case W_:for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,N[2]=d>>>16&255,N[3]=d>>>24&255,t.check=Wo(t.check,N,4,0)),d=0,y=0,t.mode=Y_;case Y_:for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,t.check=Wo(t.check,N,2,0)),d=0,y=0,t.mode=K_;case K_:if(t.flags&1024){for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,t.check=Wo(t.check,N,2,0)),d=0,y=0}else t.head&&(t.head.extra=null);t.mode=Q_;case Q_:if(t.flags&1024&&(_=t.length,_>c&&(_=c),_&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),$)),t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,_,o)),c-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=X_;case X_:if(t.flags&2048){if(c===0)break e;_=0;do $=r[o+_++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&_<c);if(t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,_,o)),c-=_,o+=_,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Z_;case Z_:if(t.flags&4096){if(c===0)break e;_=0;do $=r[o+_++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&_<c);if(t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,_,o)),c-=_,o+=_,$)break e}else t.head&&(t.head.comment=null);t.mode=J_;case J_:if(t.flags&512){for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Nr;break}d=0,y=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dl;break;case ew:for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}n.adler=t.check=dw(d),d=0,y=0,t.mode=eg;case eg:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,aP;n.adler=t.check=1,t.mode=Dl;case Dl:if(e===iP||e===sm)break e;case p0:if(t.last){d>>>=y&7,y-=y&7,t.mode=g0;break}for(;y<3;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}switch(t.last=d&1,d>>>=1,y-=1,d&3){case 0:t.mode=tw;break;case 1:if(pP(t),t.mode=am,e===sm){d>>>=2,y-=2;break e}break;case 2:t.mode=rw;break;case 3:n.msg="invalid block type",t.mode=Nr}d>>>=2,y-=2;break;case tw:for(d>>>=y&7,y-=y&7;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Nr;break}if(t.length=d&65535,d=0,y=0,t.mode=m0,e===sm)break e;case m0:t.mode=nw;case nw:if(_=t.length,_){if(_>c&&(_=c),_>f&&(_=f),_===0)break e;s.set(r.subarray(o,o+_),u),c-=_,o+=_,f-=_,u+=_,t.length-=_;break}t.mode=Dl;break;case rw:for(;y<14;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.nlen=(d&31)+257,d>>>=5,y-=5,t.ndist=(d&31)+1,d>>>=5,y-=5,t.ncode=(d&15)+4,d>>>=4,y-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Nr;break}t.have=0,t.mode=iw;case iw:for(;t.have<t.ncode;){for(;y<3;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.lens[D[t.have++]]=d&7,d>>>=3,y-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},k=pd(rP,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,k){n.msg="invalid code lengths set",t.mode=Nr;break}t.have=0,t.mode=sw;case sw:for(;t.have<t.nlen+t.ndist;){for(;F=t.lencode[d&(1<<t.lenbits)-1],B=F>>>24,ne=F>>>16&255,te=F&65535,!(B<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(te<16)d>>>=B,y-=B,t.lens[t.have++]=te;else{if(te===16){for(C=B+2;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(d>>>=B,y-=B,t.have===0){n.msg="invalid bit length repeat",t.mode=Nr;break}$=t.lens[t.have-1],_=3+(d&3),d>>>=2,y-=2}else if(te===17){for(C=B+3;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=B,y-=B,$=0,_=3+(d&7),d>>>=3,y-=3}else{for(C=B+7;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=B,y-=B,$=0,_=11+(d&127),d>>>=7,y-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Nr;break}for(;_--;)t.lens[t.have++]=$}}if(t.mode===Nr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Nr;break}if(t.lenbits=9,z={bits:t.lenbits},k=pd(AS,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,k){n.msg="invalid literal/lengths set",t.mode=Nr;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},k=pd(SS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,k){n.msg="invalid distances set",t.mode=Nr;break}if(t.mode=am,e===sm)break e;case am:t.mode=om;case om:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,Xk(n,x),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,y=t.bits,t.mode===Dl&&(t.back=-1);break}for(t.back=0;F=t.lencode[d&(1<<t.lenbits)-1],B=F>>>24,ne=F>>>16&255,te=F&65535,!(B<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(ne&&(ne&240)===0){for(ae=B,ve=ne,Te=te;F=t.lencode[Te+((d&(1<<ae+ve)-1)>>ae)],B=F>>>24,ne=F>>>16&255,te=F&65535,!(ae+B<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=ae,y-=ae,t.back+=ae}if(d>>>=B,y-=B,t.back+=B,t.length=te,ne===0){t.mode=cw;break}if(ne&32){t.back=-1,t.mode=Dl;break}if(ne&64){n.msg="invalid literal/length code",t.mode=Nr;break}t.extra=ne&15,t.mode=aw;case aw:if(t.extra){for(C=t.extra;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,y-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ow;case ow:for(;F=t.distcode[d&(1<<t.distbits)-1],B=F>>>24,ne=F>>>16&255,te=F&65535,!(B<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if((ne&240)===0){for(ae=B,ve=ne,Te=te;F=t.distcode[Te+((d&(1<<ae+ve)-1)>>ae)],B=F>>>24,ne=F>>>16&255,te=F&65535,!(ae+B<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=ae,y-=ae,t.back+=ae}if(d>>>=B,y-=B,t.back+=B,ne&64){n.msg="invalid distance code",t.mode=Nr;break}t.offset=te,t.extra=ne&15,t.mode=lw;case lw:if(t.extra){for(C=t.extra;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,y-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Nr;break}t.mode=uw;case uw:if(f===0)break e;if(_=x-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Nr;break}_>t.wnext?(_-=t.wnext,j=t.wsize-_):j=t.wnext-_,_>t.length&&(_=t.length),O=t.window}else O=s,j=u-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do s[u++]=O[j++];while(--_);t.length===0&&(t.mode=om);break;case cw:if(f===0)break e;s[u++]=t.length,f--,t.mode=om;break;case g0:if(t.wrap){for(;y<32;){if(c===0)break e;c--,d|=r[o++]<<y,y+=8}if(x-=f,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?Wo(t.check,s,x,u-x):p2(t.check,s,x,u-x)),x=f,t.wrap&4&&(t.flags?d:dw(d))!==t.check){n.msg="incorrect data check",t.mode=Nr;break}d=0,y=0}t.mode=hw;case hw:if(t.wrap&&t.flags){for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Nr;break}d=0,y=0}t.mode=fw;case fw:k=sP;break e;case Nr:k=xS;break e;case TS:return ES;case NS:default:return Qa}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,(t.wsize||x!==n.avail_out&&t.mode<Nr&&(t.mode<g0||e!==H_))&&kS(n,n.output,n.next_out,x-n.avail_out),A-=n.avail_in,x-=n.avail_out,n.total_in+=A,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?Wo(t.check,s,x,n.next_out-x):p2(t.check,s,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dl?128:0)+(t.mode===am||t.mode===m0?256:0),(A===0&&x===0||e===H_)&&k===Uc&&(k=oP),k},gP=n=>{if(Hc(n))return Qa;let e=n.state;return e.window&&(e.window=null),n.state=null,Uc},yP=(n,e)=>{if(Hc(n))return Qa;const t=n.state;return(t.wrap&2)===0?Qa:(t.head=e,e.done=!1,Uc)},vP=(n,e)=>{const t=e.length;let r,s,o;return Hc(n)||(r=n.state,r.wrap!==0&&r.mode!==eg)?Qa:r.mode===eg&&(s=1,s=p2(s,e,t,0),s!==r.check)?xS:(o=kS(n,e,t,t),o?(r.mode=TS,ES):(r.havedict=1,Uc))};var bP=CS,_P=RS,wP=IS,AP=dP,SP=LS,xP=mP,EP=gP,TP=yP,NP=vP,IP="pako inflate (from Nodeca project)",Ol={inflateReset:bP,inflateReset2:_P,inflateResetKeep:wP,inflateInit:AP,inflateInit2:SP,inflate:xP,inflateEnd:EP,inflateGetHeader:TP,inflateSetDictionary:NP,inflateInfo:IP};function CP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var RP=CP;const PS=Object.prototype.toString,{Z_NO_FLUSH:LP,Z_FINISH:kP,Z_OK:Rd,Z_STREAM_END:b0,Z_NEED_DICT:_0,Z_STREAM_ERROR:PP,Z_DATA_ERROR:mw,Z_MEM_ERROR:DP}=bS;function Kd(n){this.options=_S.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kk,this.strm.avail_out=0;let t=Ol.inflateInit2(this.strm,e.windowBits);if(t!==Rd)throw new Error(m2[t]);if(this.header=new RP,Ol.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=g2.string2buf(e.dictionary):PS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ol.inflateSetDictionary(this.strm,e.dictionary),t!==Rd)))throw new Error(m2[t])}Kd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?kP:LP,PS.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ol.inflate(t,u),o===_0&&s&&(o=Ol.inflateSetDictionary(t,s),o===Rd?o=Ol.inflate(t,u):o===mw&&(o=_0));t.avail_in>0&&o===b0&&t.state.wrap>0&&n[t.next_in]!==0;)Ol.inflateReset(t),o=Ol.inflate(t,u);switch(o){case PP:case mw:case _0:case DP:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===b0))if(this.options.to==="string"){let f=g2.utf8border(t.output,t.next_out),d=t.next_out-f,y=g2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(y)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Rd&&c===0)){if(o===b0)return o=Ol.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Kd.prototype.onData=function(n){this.chunks.push(n)};Kd.prototype.onEnd=function(n){n===Rd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_S.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function OP(n,e){const t=new Kd(e);if(t.push(n),t.err)throw t.msg||m2[t.err];return t.result}var MP=Kd,jP=OP,VP={Inflate:MP,inflate:jP};const{Inflate:UP,inflate:FP}=VP;var gw=UP,BP=FP;const DS=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;DS[n]=e}const yw=4294967295;function qP(n,e,t){let r=n;for(let s=0;s<t;s++)r=DS[(r^e[s])&255]^r>>>8;return r}function zP(n,e){return(qP(yw,n,e)^yw)>>>0}function vw(n,e,t){const r=n.readUint32(),s=zP(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function OS(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function MS(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function jS(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function VS(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function US(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+HP(e[o-s],t[o],t[o-s])&255}}function HP(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function GP(n,e,t,r,s,o){switch(n){case 0:OS(e,t,s);break;case 1:MS(e,t,s,o);break;case 2:jS(e,t,r,s);break;case 3:VS(e,t,r,s,o);break;case 4:US(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const $P=new Uint16Array([255]),WP=new Uint8Array($P.buffer),YP=WP[0]===255;function KP(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(r*t*c);let d=0;for(let y=0;y<7;y++){const A=u[y],x=Math.ceil((t-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(x<=0||_<=0)continue;const j=x*c,O=new Uint8Array(j);for(let F=0;F<_;F++){const B=e[d++],ne=e.subarray(d,d+j);d+=j;const te=new Uint8Array(j);GP(B,ne,te,O,j,c),O.set(te);for(let ae=0;ae<x;ae++){const ve=A.x+ae*A.xStep,Te=A.y+F*A.yStep;if(!(ve>=t||Te>=r))for(let $=0;$<c;$++)f[(Te*t+ve)*c+$]=te[ae*c+$]}}}if(o===16){const y=new Uint16Array(f.buffer);if(YP)for(let A=0;A<y.length;A++)y[A]=QP(y[A]);return y}else return f}function QP(n){return(n&255)<<8|n>>8&255}const XP=new Uint16Array([255]),ZP=new Uint8Array(XP.buffer),JP=ZP[0]===255,eD=new Uint8Array(0);function bw(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(r*c);let d=eD,y=0,A,x;for(let _=0;_<r;_++){switch(A=e.subarray(y+1,y+1+c),x=f.subarray(_*c,(_+1)*c),e[y]){case 0:OS(A,x,c);break;case 1:MS(A,x,c,u);break;case 2:jS(A,x,d,c);break;case 3:VS(A,x,d,c,u);break;case 4:US(A,x,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}d=x,y+=c+1}if(o===16){const _=new Uint16Array(f.buffer);if(JP)for(let j=0;j<_.length;j++)_[j]=tD(_[j]);return _}else return f}function tD(n){return(n&255)<<8|n>>8&255}const xm=Uint8Array.of(137,80,78,71,13,10,26,10);function _w(n){if(!nD(n.readBytes(xm.length)))throw new Error("wrong PNG signature")}function nD(n){if(n.length<xm.length)return!1;for(let e=0;e<xm.length;e++)if(n[e]!==xm[e])return!1;return!0}const rD="tEXt",iD=0,FS=new TextDecoder("latin1");function sD(n){if(oD(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const aD=/^[\u0000-\u00FF]*$/;function oD(n){if(!aD.test(n))throw new Error("invalid latin1 text")}function lD(n,e,t){const r=BS(e);n[r]=uD(e,t-r.length-1)}function BS(n){for(n.mark();n.readByte()!==iD;);const e=n.offset;n.reset();const t=FS.decode(n.readBytes(e-n.offset-1));return n.skip(1),sD(t),t}function uD(n,e){return FS.decode(n.readBytes(e))}const pa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},w0={UNKNOWN:-1,DEFLATE:0},ww={UNKNOWN:-1,ADAPTIVE:0},A0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},lm={NONE:0,BACKGROUND:1,PREVIOUS:2},S0={SOURCE:0,OVER:1};class cD extends Oy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new gw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=w0.UNKNOWN,this._filterMethod=ww.UNKNOWN,this._interlaceMethod=A0.UNKNOWN,this._colorType=pa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_w(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(_w(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case rD:lD(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vw(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?vw(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=hD(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case pa.GREYSCALE:r=1;break;case pa.TRUECOLOUR:r=3;break;case pa.INDEXED_COLOUR:r=1;break;case pa.GREYSCALE_ALPHA:r=2;break;case pa.TRUECOLOUR_ALPHA:r=4;break;case pa.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==w0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case pa.GREYSCALE:case pa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case pa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case pa.UNKNOWN:case pa.GREYSCALE_ALPHA:case pa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=BS(this),r=this.readUint8();if(r!==w0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:BP(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=bw({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case lm.NONE:break;case lm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case lm.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case S0.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case S0.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const y=t.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:t.data[f+d],x=Math.floor(y*A+(1-y)*e.data[c+d]);e.data[c+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ww.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===A0.NO_INTERLACE)this._png.data=bw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===A0.ADAM7)this._png.data=KP({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:lm.NONE,blendOp:S0.SOURCE,data:e}),this._inflator=new gw,this._writingDataChunks=!1}}function hD(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Aw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Aw||(Aw={}));function fD(n,e){return new cD(n,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function x0(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var ur={log:x0,warn:function(n){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):x0.call(null,arguments))},error:function(n){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):x0(n))}};function E0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){xc(r.response,e,t)},r.onerror=function(){ur.error("could not download file")},r.send()}function Sw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function um(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var xc=Wt.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Wt.URL||Wt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Sw(s.href)?E0(n,e,t):um(s,s.target="_blank"):um(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){um(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Sw(n))E0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){um(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return E0(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(n)}else{var f=Wt.URL||Wt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qS(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Em=Wt.atob.bind(Wt),xw=Wt.btoa.bind(Wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=ys(t,r,s,o,e[0],7,-680876936),o=ys(o,t,r,s,e[1],12,-389564586),s=ys(s,o,t,r,e[2],17,606105819),r=ys(r,s,o,t,e[3],22,-1044525330),t=ys(t,r,s,o,e[4],7,-176418897),o=ys(o,t,r,s,e[5],12,1200080426),s=ys(s,o,t,r,e[6],17,-1473231341),r=ys(r,s,o,t,e[7],22,-45705983),t=ys(t,r,s,o,e[8],7,1770035416),o=ys(o,t,r,s,e[9],12,-1958414417),s=ys(s,o,t,r,e[10],17,-42063),r=ys(r,s,o,t,e[11],22,-1990404162),t=ys(t,r,s,o,e[12],7,1804603682),o=ys(o,t,r,s,e[13],12,-40341101),s=ys(s,o,t,r,e[14],17,-1502002290),t=vs(t,r=ys(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=vs(o,t,r,s,e[6],9,-1069501632),s=vs(s,o,t,r,e[11],14,643717713),r=vs(r,s,o,t,e[0],20,-373897302),t=vs(t,r,s,o,e[5],5,-701558691),o=vs(o,t,r,s,e[10],9,38016083),s=vs(s,o,t,r,e[15],14,-660478335),r=vs(r,s,o,t,e[4],20,-405537848),t=vs(t,r,s,o,e[9],5,568446438),o=vs(o,t,r,s,e[14],9,-1019803690),s=vs(s,o,t,r,e[3],14,-187363961),r=vs(r,s,o,t,e[8],20,1163531501),t=vs(t,r,s,o,e[13],5,-1444681467),o=vs(o,t,r,s,e[2],9,-51403784),s=vs(s,o,t,r,e[7],14,1735328473),t=bs(t,r=vs(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=bs(o,t,r,s,e[8],11,-2022574463),s=bs(s,o,t,r,e[11],16,1839030562),r=bs(r,s,o,t,e[14],23,-35309556),t=bs(t,r,s,o,e[1],4,-1530992060),o=bs(o,t,r,s,e[4],11,1272893353),s=bs(s,o,t,r,e[7],16,-155497632),r=bs(r,s,o,t,e[10],23,-1094730640),t=bs(t,r,s,o,e[13],4,681279174),o=bs(o,t,r,s,e[0],11,-358537222),s=bs(s,o,t,r,e[3],16,-722521979),r=bs(r,s,o,t,e[6],23,76029189),t=bs(t,r,s,o,e[9],4,-640364487),o=bs(o,t,r,s,e[12],11,-421815835),s=bs(s,o,t,r,e[15],16,530742520),t=_s(t,r=bs(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=_s(o,t,r,s,e[7],10,1126891415),s=_s(s,o,t,r,e[14],15,-1416354905),r=_s(r,s,o,t,e[5],21,-57434055),t=_s(t,r,s,o,e[12],6,1700485571),o=_s(o,t,r,s,e[3],10,-1894986606),s=_s(s,o,t,r,e[10],15,-1051523),r=_s(r,s,o,t,e[1],21,-2054922799),t=_s(t,r,s,o,e[8],6,1873313359),o=_s(o,t,r,s,e[15],10,-30611744),s=_s(s,o,t,r,e[6],15,-1560198380),r=_s(r,s,o,t,e[13],21,1309151649),t=_s(t,r,s,o,e[4],6,-145523070),o=_s(o,t,r,s,e[11],10,-1120210379),s=_s(s,o,t,r,e[2],15,718787259),r=_s(r,s,o,t,e[9],21,-343485551),n[0]=ju(t,n[0]),n[1]=ju(r,n[1]),n[2]=ju(s,n[2]),n[3]=ju(o,n[3])}function Og(n,e,t,r,s,o){return e=ju(ju(e,n),ju(r,o)),ju(e<<s|e>>>32-s,t)}function ys(n,e,t,r,s,o,u){return Og(e&t|~e&r,n,e,s,o,u)}function vs(n,e,t,r,s,o,u){return Og(e&r|t&~r,n,e,s,o,u)}function bs(n,e,t,r,s,o,u){return Og(e^t^r,n,e,s,o,u)}function _s(n,e,t,r,s,o,u){return Og(t^(e|~r),n,e,s,o,u)}function zS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)T0(r,dD(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(T0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,T0(r,s),r}function dD(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Ew="0123456789abcdef".split("");function pD(n){for(var e="",t=0;t<4;t++)e+=Ew[n>>8*t+4&15]+Ew[n>>8*t&15];return e}function mD(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function y2(n){return zS(n).map(mD).join("")}var gD=(function(n){for(var e=0;e<n.length;e++)n[e]=pD(n[e]);return n.join("")})(zS("hello"))!="5d41402abc4b2a76b9719d911017c592";function ju(n,e){if(gD){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function v2(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var y=c[f];d=(d+y+u.charCodeAt(f))%256,c[f]=c[d],c[d]=y}t=n,r=c}else c=r;var A=e.length,x=0,_=0,j="";for(f=0;f<A;f++)_=(_+(y=c[x=(x+1)%256]))%256,c[x]=c[_],c[_]=y,u=c[(c[x]+c[_])%256],j+=String.fromCharCode(e.charCodeAt(f)^u);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Tw={print:4,modify:8,copy:16,"annot-forms":32};function Ih(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(Tw.perm!==void 0)throw new Error("Invalid permission: "+c);s+=Tw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=y2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=v2(this.encryptionKey,this.padding)}function Ch(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Nw(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){Wt.console&&ur.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function tg(n){if(!(this instanceof tg))return new tg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function HS(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,s){if(!(this instanceof Ec))return new Ec(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,HS.call(this,r,s)}function Lh(n,e,t,r,s){if(!(this instanceof Lh))return new Lh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,HS.call(this,r,s)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",y=null;Xn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,x={},_={internal:{},__private__:{}};_.__private__.PubSub=Nw;var j="1.3",O=_.__private__.getPdfVersion=function(){return j};_.__private__.setPdfVersion=function(w){j=w};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return F};var B=_.__private__.getPageFormat=function(w){return F[w]};s=s||"a4";var ne="compat",te="advanced",ae=ne;function ve(){this.saveGraphicsState(),ue(new Ct(Lt,0,0,-Lt,0,qi()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),d="n",ae=te}function Te(){this.restoreGraphicsState(),d="S",ae=ne}var $=_.__private__.combineFontStyleAndFontWeight=function(w,V){if(w=="bold"&&V=="normal"||w=="bold"&&V==400||w=="normal"&&V=="italic"||w=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(w=V==400||V==="normal"?w==="italic"?"italic":"normal":V!=700&&V!=="bold"||w!=="normal"?(V==700?"bold":V)+""+w:"bold"),w};_.advancedAPI=function(w){var V=ae===ne;return V&&ve.call(this),typeof w!="function"||(w(this),V&&Te.call(this)),this},_.compatAPI=function(w){var V=ae===te;return V&&Te.call(this),typeof w!="function"||(w(this),V&&ve.call(this)),this},_.isAdvancedAPI=function(){return ae===te};var k,N=function(w){if(ae!==te)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=_.roundToPrecision=_.__private__.roundToPrecision=function(w,V){var se=e||V;if(isNaN(w)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(se).replace(/0+$/,"")};k=_.hpf=_.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return z(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return z(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return z(w,16)};var C=_.f2=_.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return z(w,2)},D=_.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return z(w,3)},L=_.scale=_.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return ae===ne?w*Lt:ae===te?w:void 0},X=function(w){return L((function(V){return ae===ne?qi()-V:ae===te?V:void 0})(w))};_.__private__.setPrecision=_.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var pe,ee="00000000000000000000000000000000",de=_.__private__.getFileId=function(){return ee},re=_.__private__.setFileId=function(w){return ee=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(en=new Ih(y.userPermissions,y.userPassword,y.ownerPassword,ee)),ee};_.setFileId=function(w){return re(w),this},_.getFileId=function(){return de()};var _e=_.__private__.convertDateToPDFDate=function(w){var V=w.getTimezoneOffset(),se=V<0?"+":"-",me=Math.floor(Math.abs(V/60)),Ae=Math.abs(V%60),qe=[se,Z(me),"'",Z(Ae),"'"].join("");return["D:",w.getFullYear(),Z(w.getMonth()+1),Z(w.getDate()),Z(w.getHours()),Z(w.getMinutes()),Z(w.getSeconds()),qe].join("")},Y=_.__private__.convertPDFDateToDate=function(w){var V=parseInt(w.substr(2,4),10),se=parseInt(w.substr(6,2),10)-1,me=parseInt(w.substr(8,2),10),Ae=parseInt(w.substr(10,2),10),qe=parseInt(w.substr(12,2),10),Ke=parseInt(w.substr(14,2),10);return new Date(V,se,me,Ae,qe,Ke,0)},ce=_.__private__.setCreationDate=function(w){var V;if(w===void 0&&(w=new Date),w instanceof Date)V=_e(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=w}return pe=V},R=_.__private__.getCreationDate=function(w){var V=pe;return w==="jsDate"&&(V=Y(pe)),V};_.setCreationDate=function(w){return ce(w),this},_.getCreationDate=function(w){return R(w)};var q,Z=_.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},le=_.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},he=0,ge=[],Ce=[],ke=0,Be=[],ze=[],nt=!1,rt=Ce;_.__private__.setCustomOutputDestination=function(w){nt=!0,rt=w};var Me=function(w){nt||(rt=w)};_.__private__.resetCustomOutputDestination=function(){nt=!1,rt=Ce};var ue=_.__private__.out=function(w){return w=w.toString(),ke+=w.length+1,rt.push(w),rt},tn=_.__private__.write=function(w){return ue(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Nt=_.__private__.getArrayBuffer=function(w){for(var V=w.length,se=new ArrayBuffer(V),me=new Uint8Array(se);V--;)me[V]=w.charCodeAt(V);return se},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Et};var Je=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(w){return Je=ae===te?w/Lt:w,this};var yt,tt=_.__private__.getFontSize=_.getFontSize=function(){return ae===ne?Je:Je*Lt},Yt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(w){return Yt=w,this},_.__private__.getR2L=_.getR2L=function(){return Yt};var bt,mn=_.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))yt=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');yt=w}else yt=parseInt(w,10)};_.__private__.getZoomMode=function(){return yt};var Bt,ct=_.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');bt=w};_.__private__.getPageMode=function(){return bt};var wt=_.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Bt=w};_.__private__.getLayoutMode=function(){return Bt},_.__private__.setDisplayMode=_.setDisplayMode=function(w,V,se){return mn(w),wt(V),ct(se),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(w){if(Object.keys(Tt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[w]},_.__private__.getDocumentProperties=function(){return Tt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(w){for(var V in Tt)Tt.hasOwnProperty(V)&&w[V]&&(Tt[V]=w[V]);return this},_.__private__.setDocumentProperty=function(w,V){if(Object.keys(Tt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[w]=V};var st,Lt,_t,Nn,an,ht={},It={},In=[],At={},nn={},Vt={},ir={},Gn=null,gn=0,Pt=[],rn=new Nw(_),ea=n.hotfixes||[],pr={},ss={},mi=[],Ct=function w(V,se,me,Ae,qe,Ke){if(!(this instanceof w))return new w(V,se,me,Ae,qe,Ke);isNaN(V)&&(V=1),isNaN(se)&&(se=0),isNaN(me)&&(me=0),isNaN(Ae)&&(Ae=1),isNaN(qe)&&(qe=0),isNaN(Ke)&&(Ke=0),this._matrix=[V,se,me,Ae,qe,Ke]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(w)},Ct.prototype.multiply=function(w){var V=w.sx*this.sx+w.shy*this.shx,se=w.sx*this.shy+w.shy*this.sy,me=w.shx*this.sx+w.sy*this.shx,Ae=w.shx*this.shy+w.sy*this.sy,qe=w.tx*this.sx+w.ty*this.shx+this.tx,Ke=w.tx*this.shy+w.ty*this.sy+this.ty;return new Ct(V,se,me,Ae,qe,Ke)},Ct.prototype.decompose=function(){var w=this.sx,V=this.shy,se=this.shx,me=this.sy,Ae=this.tx,qe=this.ty,Ke=Math.sqrt(w*w+V*V),at=(w/=Ke)*se+(V/=Ke)*me;se-=w*at,me-=V*at;var pt=Math.sqrt(se*se+me*me);return at/=pt,w*(me/=pt)<V*(se/=pt)&&(w=-w,V=-V,at=-at,Ke=-Ke),{scale:new Ct(Ke,0,0,pt,0,0),translate:new Ct(1,0,0,1,Ae,qe),rotate:new Ct(w,V,-V,w,0,0),skew:new Ct(1,0,at,1,0,0)}},Ct.prototype.toString=function(w){return this.join(" ")},Ct.prototype.inversed=function(){var w=this.sx,V=this.shy,se=this.shx,me=this.sy,Ae=this.tx,qe=this.ty,Ke=1/(w*me-V*se),at=me*Ke,pt=-V*Ke,kt=-se*Ke,qt=w*Ke;return new Ct(at,pt,kt,qt,-at*Ae-kt*qe,-pt*Ae-qt*qe)},Ct.prototype.applyToPoint=function(w){var V=w.x*this.sx+w.y*this.shx+this.tx,se=w.x*this.shy+w.y*this.sy+this.ty;return new Ta(V,se)},Ct.prototype.applyToRectangle=function(w){var V=this.applyToPoint(w),se=this.applyToPoint(new Ta(w.x+w.w,w.y+w.h));return new Na(V.x,V.y,se.x-V.x,se.y-V.y)},Ct.prototype.clone=function(){var w=this.sx,V=this.shy,se=this.shx,me=this.sy,Ae=this.tx,qe=this.ty;return new Ct(w,V,se,me,Ae,qe)},_.Matrix=Ct;var Cn=_.matrixMult=function(w,V){return V.multiply(w)},$n=new Ct(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=$n;var Pn=function(w,V){if(!nn[w]){var se=(V instanceof Ec?"Sh":"P")+(Object.keys(At).length+1).toString(10);V.id=se,nn[w]=se,At[se]=V,rn.publish("addPattern",V)}};_.ShadingPattern=Ec,_.TilingPattern=Lh,_.addShadingPattern=function(w,V){return N("addShadingPattern()"),Pn(w,V),this},_.beginTilingPattern=function(w){N("beginTilingPattern()"),ds(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},_.endTilingPattern=function(w,V){N("endTilingPattern()"),V.stream=ze[q].join(`
`),Pn(w,V),rn.publish("endTilingPattern",V),mi.pop().restore()};var mr,Zn=_.__private__.newObject=function(){var w=Vr();return cr(w,!0),w},Vr=_.__private__.newObjectDeferred=function(){return he++,ge[he]=function(){return ke},he},cr=function(w,V){return V=typeof V=="boolean"&&V,ge[w]=ke,V&&ue(w+" 0 obj"),w},va=_.__private__.newAdditionalObject=function(){var w={objId:Vr(),content:""};return Be.push(w),w},as=Vr(),ai=Vr(),oi=_.__private__.decodeColorString=function(w){var V=w.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var se=parseFloat(V[0]);V=[se,se,se,"r"]}for(var me="#",Ae=0;Ae<3;Ae++)me+=("0"+Math.floor(255*parseFloat(V[Ae])).toString(16)).slice(-2);return me},Ur=_.__private__.encodeColorString=function(w){var V;typeof w=="string"&&(w={ch1:w});var se=w.ch1,me=w.ch2,Ae=w.ch3,qe=w.ch4,Ke=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var at=new qS(se);if(at.ok)se=at.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var pt=parseInt(se.substr(1),16);se=pt>>16&255,me=pt>>8&255,Ae=255&pt}if(me===void 0||qe===void 0&&se===me&&me===Ae)V=typeof se=="string"?se+" "+Ke[0]:w.precision===2?C(se/255)+" "+Ke[0]:D(se/255)+" "+Ke[0];else if(qe===void 0||Xn(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Ke[1]].join(" ");V=typeof se=="string"?[se,me,Ae,Ke[1]].join(" "):w.precision===2?[C(se/255),C(me/255),C(Ae/255),Ke[1]].join(" "):[D(se/255),D(me/255),D(Ae/255),Ke[1]].join(" ")}else V=typeof se=="string"?[se,me,Ae,qe,Ke[2]].join(" "):w.precision===2?[C(se),C(me),C(Ae),C(qe),Ke[2]].join(" "):[D(se),D(me),D(Ae),D(qe),Ke[2]].join(" ");return V},Fr=_.__private__.getFilters=function(){return u},Jn=_.__private__.putStream=function(w){var V=(w=w||{}).data||"",se=w.filters||Fr(),me=w.alreadyAppliedFilters||[],Ae=w.addLength1||!1,qe=V.length,Ke=w.objectId,at=function(gr){return gr};if(y!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(at=en.encryptor(Ke,0));var pt={};se===!0&&(se=["FlateEncode"]);var kt=w.additionalKeyValues||[],qt=(pt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(V,se):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(pt.data.length!==0&&(kt.push({key:"Length",value:pt.data.length}),Ae===!0&&kt.push({key:"Length1",value:qe})),qt.length!=0)if(qt.split("/").length-1==1)kt.push({key:"Filter",value:qt});else{kt.push({key:"Filter",value:"["+qt+"]"});for(var ln=0;ln<kt.length;ln+=1)if(kt[ln].key==="DecodeParms"){for(var er=[],sr=0;sr<pt.reverseChain.split("/").length-1;sr+=1)er.push("null");er.push(kt[ln].value),kt[ln].value="["+er.join(" ")+"]"}}ue("<<");for(var Dn=0;Dn<kt.length;Dn++)ue("/"+kt[Dn].key+" "+kt[Dn].value);ue(">>"),pt.data.length!==0&&(ue("stream"),ue(at(pt.data)),ue("endstream"))},Wn=_.__private__.putPage=function(w){var V=w.number,se=w.data,me=w.objId,Ae=w.contentsObjId;cr(me,!0),ue("<</Type /Page"),ue("/Parent "+w.rootDictionaryObjId+" 0 R"),ue("/Resources "+w.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(k(w.mediaBox.bottomLeftX))+" "+parseFloat(k(w.mediaBox.bottomLeftY))+" "+k(w.mediaBox.topRightX)+" "+k(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&ue("/CropBox ["+k(w.cropBox.bottomLeftX)+" "+k(w.cropBox.bottomLeftY)+" "+k(w.cropBox.topRightX)+" "+k(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&ue("/BleedBox ["+k(w.bleedBox.bottomLeftX)+" "+k(w.bleedBox.bottomLeftY)+" "+k(w.bleedBox.topRightX)+" "+k(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&ue("/TrimBox ["+k(w.trimBox.bottomLeftX)+" "+k(w.trimBox.bottomLeftY)+" "+k(w.trimBox.topRightX)+" "+k(w.trimBox.topRightY)+"]"),w.artBox!==null&&ue("/ArtBox ["+k(w.artBox.bottomLeftX)+" "+k(w.artBox.bottomLeftY)+" "+k(w.artBox.topRightX)+" "+k(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&ue("/UserUnit "+w.userUnit),rn.publish("putPage",{objId:me,pageContext:Pt[V],pageNumber:V,page:se}),ue("/Contents "+Ae+" 0 R"),ue(">>"),ue("endobj");var qe=se.join(`
`);return ae===te&&(qe+=`
Q`),cr(Ae,!0),Jn({data:qe,filters:Fr(),objectId:Ae}),ue("endobj"),me},os=_.__private__.putPages=function(){var w,V,se=[];for(w=1;w<=gn;w++)Pt[w].objId=Vr(),Pt[w].contentsObjId=Vr();for(w=1;w<=gn;w++)se.push(Wn({number:w,data:ze[w],objId:Pt[w].objId,contentsObjId:Pt[w].contentsObjId,mediaBox:Pt[w].mediaBox,cropBox:Pt[w].cropBox,bleedBox:Pt[w].bleedBox,trimBox:Pt[w].trimBox,artBox:Pt[w].artBox,userUnit:Pt[w].userUnit,rootDictionaryObjId:as,resourceDictionaryObjId:ai}));cr(as,!0),ue("<</Type /Pages");var me="/Kids [";for(V=0;V<gn;V++)me+=se[V]+" 0 R ";ue(me+"]"),ue("/Count "+gn),ue(">>"),ue("endobj"),rn.publish("postPutPages")},Ms=function(w){rn.publish("putFont",{font:w,out:ue,newObject:Zn,putStream:Jn}),w.isAlreadyPutted!==!0&&(w.objectNumber=Zn(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Ch(w.postScriptName)),ue("/Subtype /Type1"),typeof w.encoding=="string"&&ue("/Encoding /"+w.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},Ei=function(w){w.objectNumber=Zn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[k(w.x),k(w.y),k(w.x+w.width),k(w.y+w.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var se=w.pages[1].join(`
`);Jn({data:se,additionalKeyValues:V,objectId:w.objectNumber}),ue("endobj")},ls=function(w,V){V||(V=21);var se=Zn(),me=(function(Ke,at){var pt,kt=[],qt=1/(at-1);for(pt=0;pt<1;pt+=qt)kt.push(pt);if(kt.push(1),Ke[0].offset!=0){var ln={offset:0,color:Ke[0].color};Ke.unshift(ln)}if(Ke[Ke.length-1].offset!=1){var er={offset:1,color:Ke[Ke.length-1].color};Ke.push(er)}for(var sr="",Dn=0,gr=0;gr<kt.length;gr++){for(pt=kt[gr];pt>Ke[Dn+1].offset;)Dn++;var qn=Ke[Dn].offset,zr=(pt-qn)/(Ke[Dn+1].offset-qn),Bs=Ke[Dn].color,aa=Ke[Dn+1].color;sr+=le(Math.round((1-zr)*Bs[0]+zr*aa[0]).toString(16))+le(Math.round((1-zr)*Bs[1]+zr*aa[1]).toString(16))+le(Math.round((1-zr)*Bs[2]+zr*aa[2]).toString(16))}return sr.trim()})(w.colors,V),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+V+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:me,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ue("endobj"),w.objectNumber=Zn(),ue("<< /ShadingType "+w.type),ue("/ColorSpace /DeviceRGB");var qe="/Coords ["+k(parseFloat(w.coords[0]))+" "+k(parseFloat(w.coords[1]))+" ";w.type===2?qe+=k(parseFloat(w.coords[2]))+" "+k(parseFloat(w.coords[3])):qe+=k(parseFloat(w.coords[2]))+" "+k(parseFloat(w.coords[3]))+" "+k(parseFloat(w.coords[4]))+" "+k(parseFloat(w.coords[5])),ue(qe+="]"),w.matrix&&ue("/Matrix ["+w.matrix.toString()+"]"),ue("/Function "+se+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Xa=function(w,V){var se=Vr(),me=Zn();V.push({resourcesOid:se,objectOid:me}),w.objectNumber=me;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+w.boundingBox.map(k).join(" ")+"]"}),Ae.push({key:"XStep",value:k(w.xStep)}),Ae.push({key:"YStep",value:k(w.yStep)}),Ae.push({key:"Resources",value:se+" 0 R"}),w.matrix&&Ae.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Jn({data:w.stream,additionalKeyValues:Ae,objectId:w.objectNumber}),ue("endobj")},Ql=function(w){for(var V in w.objectNumber=Zn(),ue("<<"),w)switch(V){case"opacity":ue("/ca "+C(w[V]));break;case"stroke-opacity":ue("/CA "+C(w[V]))}ue(">>"),ue("endobj")},ta=function(w){cr(w.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in ue("/Font <<"),ht)ht.hasOwnProperty(V)&&(A===!1||A===!0&&x.hasOwnProperty(V))&&ue("/"+V+" "+ht[V].objectNumber+" 0 R");ue(">>")})(),(function(){if(Object.keys(At).length>0){for(var V in ue("/Shading <<"),At)At.hasOwnProperty(V)&&At[V]instanceof Ec&&At[V].objectNumber>=0&&ue("/"+V+" "+At[V].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),ue(">>")}})(),(function(V){if(Object.keys(At).length>0){for(var se in ue("/Pattern <<"),At)At.hasOwnProperty(se)&&At[se]instanceof _.TilingPattern&&At[se].objectNumber>=0&&At[se].objectNumber<V&&ue("/"+se+" "+At[se].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),ue(">>")}})(w.objectOid),(function(){if(Object.keys(Vt).length>0){var V;for(V in ue("/ExtGState <<"),Vt)Vt.hasOwnProperty(V)&&Vt[V].objectNumber>=0&&ue("/"+V+" "+Vt[V].objectNumber+" 0 R");rn.publish("putGStateDict"),ue(">>")}})(),(function(){for(var V in ue("/XObject <<"),pr)pr.hasOwnProperty(V)&&pr[V].objectNumber>=0&&ue("/"+V+" "+pr[V].objectNumber+" 0 R");rn.publish("putXobjectDict"),ue(">>")})(),ue(">>"),ue("endobj")},cl=function(w){It[w.fontName]=It[w.fontName]||{},It[w.fontName][w.fontStyle]=w.id},na=function(w,V,se,me,Ae){var qe={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:w,fontName:V,fontStyle:se,encoding:me,isStandardFont:Ae||!1,metadata:{}};return rn.publish("addFont",{font:qe,instance:this}),ht[qe.id]=qe,cl(qe),qe.id},Ir=_.__private__.pdfEscape=_.pdfEscape=function(w,V){return(function(se,me){var Ae,qe,Ke,at,pt,kt,qt,ln,er;if(Ke=(me=me||{}).sourceEncoding||"Unicode",pt=me.outputEncoding,(me.autoencode||pt)&&ht[st].metadata&&ht[st].metadata[Ke]&&ht[st].metadata[Ke].encoding&&(at=ht[st].metadata[Ke].encoding,!pt&&ht[st].encoding&&(pt=ht[st].encoding),!pt&&at.codePages&&(pt=at.codePages[0]),typeof pt=="string"&&(pt=at[pt]),pt)){for(qt=!1,kt=[],Ae=0,qe=se.length;Ae<qe;Ae++)(ln=pt[se.charCodeAt(Ae)])?kt.push(String.fromCharCode(ln)):kt.push(se[Ae]),kt[Ae].charCodeAt(0)>>8&&(qt=!0);se=kt.join("")}for(Ae=se.length;qt===void 0&&Ae!==0;)se.charCodeAt(Ae-1)>>8&&(qt=!0),Ae--;if(!qt)return se;for(kt=me.noBOM?[]:[254,255],Ae=0,qe=se.length;Ae<qe;Ae++){if((er=(ln=se.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(er),kt.push(ln-(er<<8))}return String.fromCharCode.apply(void 0,kt)})(w,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cr=_.__private__.beginPage=function(w){ze[++gn]=[],Pt[gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},js(gn),Me(ze[q])},ba=function(w,V){var se,me,Ae;switch(t=V||t,typeof w=="string"&&(se=B(w.toLowerCase()),Array.isArray(se)&&(me=se[0],Ae=se[1])),Array.isArray(w)&&(me=w[0]*Lt,Ae=w[1]*Lt),isNaN(me)&&(me=s[0],Ae=s[1]),(me>14400||Ae>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ae=Math.min(14400,Ae)),s=[me,Ae],t.substr(0,1)){case"l":Ae>me&&(s=[Ae,me]);break;case"p":me>Ae&&(s=[Ae,me])}Cr(s),Us(xs),ue(fs),_n!==0&&ue(_n+" J"),Ea!==0&&ue(Ea+" j"),rn.publish("addPage",{pageNumber:gn})},Co=function(w){w>0&&w<=gn&&(ze.splice(w,1),Pt.splice(w,1),gn--,q>gn&&(q=gn),this.setPage(q))},js=function(w){w>0&&w<=gn&&(q=w)},Za=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ze.length-1},Ja=function(w,V,se){var me,Ae=void 0;return se=se||{},w=w!==void 0?w:ht[st].fontName,V=V!==void 0?V:ht[st].fontStyle,me=w.toLowerCase(),It[me]!==void 0&&It[me][V]!==void 0?Ae=It[me][V]:It[w]!==void 0&&It[w][V]!==void 0?Ae=It[w][V]:se.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+w+"', '"+V+"'. Refer to getFontList() for available fonts."),Ae||se.noFallback||(Ae=It.times[V])==null&&(Ae=It.times.normal),Ae},_a=_.__private__.putInfo=function(){var w=Zn(),V=function(me){return me};for(var se in y!==null&&(V=en.encryptor(w,0)),ue("<<"),ue("/Producer ("+Ir(V("jsPDF "+St.version))+")"),Tt)Tt.hasOwnProperty(se)&&Tt[se]&&ue("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Ir(V(Tt[se]))+")");ue("/CreationDate ("+Ir(V(pe))+")"),ue(">>"),ue("endobj")},Ro=_.__private__.putCatalog=function(w){var V=(w=w||{}).rootDictionaryObjId||as;switch(Zn(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+V+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+yt;se.substr(se.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+C(yt)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}bt&&ue("/PageMode /"+bt),rn.publish("putCatalog"),ue(">>"),ue("endobj")},bn=_.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(he+1)),ue("/Root "+he+" 0 R"),ue("/Info "+(he-1)+" 0 R"),y!==null&&ue("/Encrypt "+en.oid+" 0 R"),ue("/ID [ <"+ee+"> <"+ee+"> ]"),ue(">>")},Lo=_.__private__.putHeader=function(){ue("%PDF-"+j),ue("%")},Xl=_.__private__.putXRef=function(){var w="0000000000";ue("xref"),ue("0 "+(he+1)),ue("0000000000 65535 f ");for(var V=1;V<=he;V++)typeof ge[V]=="function"?ue((w+ge[V]()).slice(-10)+" 00000 n "):ge[V]!==void 0?ue((w+ge[V]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},us=_.__private__.buildDocument=function(){var w;he=0,ke=0,Ce=[],ge=[],Be=[],as=Vr(),ai=Vr(),Me(Ce),rn.publish("buildDocument"),Lo(),os(),(function(){rn.publish("putAdditionalObjects");for(var se=0;se<Be.length;se++){var me=Be[se];cr(me.objId,!0),ue(me.content),ue("endobj")}rn.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var se in ht)ht.hasOwnProperty(se)&&(A===!1||A===!0&&x.hasOwnProperty(se))&&Ms(ht[se])})(),(function(){var se;for(se in Vt)Vt.hasOwnProperty(se)&&Ql(Vt[se])})(),(function(){for(var se in pr)pr.hasOwnProperty(se)&&Ei(pr[se])})(),(function(se){var me;for(me in At)At.hasOwnProperty(me)&&(At[me]instanceof Ec?ls(At[me]):At[me]instanceof Lh&&Xa(At[me],se))})(w),rn.publish("putResources"),w.forEach(ta),ta({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),y!==null&&(en.oid=Zn(),ue("<<"),ue("/Filter /Standard"),ue("/V "+en.v),ue("/R "+en.r),ue("/U <"+en.toHexString(en.U)+">"),ue("/O <"+en.toHexString(en.O)+">"),ue("/P "+en.P),ue(">>"),ue("endobj")),_a(),Ro();var V=ke;return Xl(),bn(),ue("startxref"),ue(""+V),ue("%%EOF"),Me(ze[q]),Ce.join(`
`)},ra=_.__private__.getBlob=function(w){return new Blob([Nt(w)],{type:"application/pdf"})},gi=_.output=_.__private__.output=(mr=function(w,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",w){case void 0:return us();case"save":_.save(V.filename);break;case"arraybuffer":return Nt(us());case"blob":return ra(us());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(ra(us()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",me=us();try{se=xw(me)}catch{se=xw(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+V.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ae=V.pdfObjectUrl,qe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",at=Wt.open();return at!==null&&at.document.write(Ke),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',kt=Wt.open();if(kt!==null){kt.document.write(pt);var qt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=V.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',er=Wt.open();if(er!==null&&(er.document.write(ln),er.document.title=V.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",V);default:return null}},mr.foo=function(){try{return mr.apply(this,arguments)}catch(se){var w=se.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var V="Error in function "+w.split(`
`)[0].split("<")[0]+": "+se.message;if(!Wt.console)throw new Error(V);Wt.console.error(V,se),Wt.alert&&alert(V)}},mr.foo.bar=mr,mr.foo),eo=function(w){return Array.isArray(ea)===!0&&ea.indexOf(w)>-1};switch(r){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Lt=r}var en=null;ce(),re();var yi=_.__private__.getPageInfo=_.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[w].objId,pageNumber:w,pageContext:Pt[w]}},to=_.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Pt)if(Pt[V].objId===w)break;return yi(V)},wa=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Pt[q].objId,pageNumber:q,pageContext:Pt[q]}};_.addPage=function(){return ba.apply(this,arguments),this},_.setPage=function(){return js.apply(this,arguments),Me.call(this,ze[q]),this},_.insertPage=function(w){return this.addPage(),this.movePage(q,w),this},_.movePage=function(w,V){var se,me;if(w>V){se=ze[w],me=Pt[w];for(var Ae=w;Ae>V;Ae--)ze[Ae]=ze[Ae-1],Pt[Ae]=Pt[Ae-1];ze[V]=se,Pt[V]=me,this.setPage(V)}else if(w<V){se=ze[w],me=Pt[w];for(var qe=w;qe<V;qe++)ze[qe]=ze[qe+1],Pt[qe]=Pt[qe+1];ze[V]=se,Pt[V]=me,this.setPage(V)}return this},_.deletePage=function(){return Co.apply(this,arguments),this},_.__private__.text=_.text=function(w,V,se,me,Ae){var qe,Ke,at,pt,kt,qt,ln,er,sr,Dn=(me=me||{}).scope||this;if(typeof w=="number"&&typeof V=="number"&&(typeof se=="string"||Array.isArray(se))){var gr=se;se=V,V=w,w=gr}if(arguments[3]instanceof Ct==0?(at=arguments[4],pt=arguments[5],Xn(ln=arguments[3])==="object"&&ln!==null||(typeof at=="string"&&(pt=at,at=null),typeof ln=="string"&&(pt=ln,ln=null),typeof ln=="number"&&(at=ln,ln=null),me={flags:ln,angle:at,align:pt})):(N("The transform parameter of text() with a Matrix value"),sr=Ae),isNaN(V)||isNaN(se)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Dn;var qn,zr="",Bs=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Ui,aa=Dn.internal.scaleFactor;function Jl(On){return On=On.split("	").join(Array(me.TabLen||9).join(" ")),Ir(On,ln)}function io(On){for(var zn,ar=On.concat(),yr=[],Oa=ar.length;Oa--;)typeof(zn=ar.shift())=="string"?yr.push(zn):Array.isArray(On)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?yr.push(zn[0]):yr.push([zn[0],zn[1],zn[2]]);return yr}function Rr(On,zn){var ar;if(typeof On=="string")ar=zn(On)[0];else if(Array.isArray(On)){for(var yr,Oa,zs=On.concat(),$i=[],pl=zs.length;pl--;)typeof(yr=zs.shift())=="string"?$i.push(zn(yr)[0]):Array.isArray(yr)&&typeof yr[0]=="string"&&(Oa=zn(yr[0],yr[1],yr[2]),$i.push([Oa[0],Oa[1],Oa[2]]));ar=$i}return ar}var ps=!1,Do=!0;if(typeof w=="string")ps=!0;else if(Array.isArray(w)){var zi=w.concat();Ke=[];for(var m,E=zi.length;E--;)(typeof(m=zi.shift())!="string"||Array.isArray(m)&&typeof m[0]!="string")&&(Do=!1);ps=Do}if(ps===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var P=Je/Dn.internal.scaleFactor,Q=P*(Bs-1);switch(me.baseline){case"bottom":se-=Q;break;case"top":se+=P-Q;break;case"hanging":se+=P-2*Q;break;case"middle":se+=P/2-Q}if((qt=me.maxWidth||0)>0&&(typeof w=="string"?w=Dn.splitTextToSize(w,qt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(On,zn){return On.concat(Dn.splitTextToSize(zn,qt))},[]))),qe={text:w,x:V,y:se,options:me,mutex:{pdfEscape:Ir,activeFontKey:st,fonts:ht,activeFontSize:Je}},rn.publish("preProcessText",qe),w=qe.text,at=(me=qe.options).angle,sr instanceof Ct==0&&at&&typeof at=="number"){at*=Math.PI/180,me.rotationDirection===0&&(at=-at),ae===te&&(at=-at);var xe=Math.cos(at),Oe=Math.sin(at);sr=new Ct(xe,Oe,-Oe,xe,0,0)}else at&&at instanceof Ct&&(sr=at);ae!==te||sr||(sr=$n),(kt=me.charSpace||xa)!==void 0&&(zr+=k(L(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=me.horizontalScale)!==void 0&&(zr+=k(100*er)+` Tz
`),me.lang;var Ze=-1,un=me.renderingMode!==void 0?me.renderingMode:me.stroke,hr=Dn.internal.getCurrentPageInfo().pageContext;switch(un){case 0:case!1:case"fill":Ze=0;break;case 1:case!0:case"stroke":Ze=1;break;case 2:case"fillThenStroke":Ze=2;break;case 3:case"invisible":Ze=3;break;case 4:case"fillAndAddForClipping":Ze=4;break;case 5:case"strokeAndAddPathForClipping":Ze=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ze=6;break;case 7:case"addToPathForClipping":Ze=7}var cn=hr.usedRenderingMode!==void 0?hr.usedRenderingMode:-1;Ze!==-1?zr+=Ze+` Tr
`:cn!==-1&&(zr+=`0 Tr
`),Ze!==-1&&(hr.usedRenderingMode=Ze),pt=me.align||"left";var fn,Vn=Je*Bs,Is=Dn.internal.pageSize.getWidth(),Lr=ht[st];kt=me.charSpace||xa,qt=me.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},me.flags);var vi=[],Ia=function(On){return Dn.getStringUnitWidth(On,{font:Lr,charSpace:kt,fontSize:Je,doKerning:!1})*Je/aa};if(Object.prototype.toString.call(w)==="[object Array]"){var bi;Ke=io(w),pt!=="left"&&(fn=Ke.map(Ia));var Hi,Oo=0;if(pt==="right"){V-=fn[0],w=[],E=Ke.length;for(var qs=0;qs<E;qs++)qs===0?(Hi=Br(V),bi=Fi(se)):(Hi=L(Oo-fn[qs]),bi=-Vn),w.push([Ke[qs],Hi,bi]),Oo=fn[qs]}else if(pt==="center"){V-=fn[0]/2,w=[],E=Ke.length;for(var Ca=0;Ca<E;Ca++)Ca===0?(Hi=Br(V),bi=Fi(se)):(Hi=L((Oo-fn[Ca])/2),bi=-Vn),w.push([Ke[Ca],Hi,bi]),Oo=fn[Ca]}else if(pt==="left"){w=[],E=Ke.length;for(var eu=0;eu<E;eu++)w.push(Ke[eu])}else if(pt==="justify"&&Lr.encoding==="Identity-H"){w=[],E=Ke.length,qt=qt!==0?qt:Is;for(var so=0,wr=0;wr<E;wr++)if(bi=wr===0?Fi(se):-Vn,Hi=wr===0?Br(V):so,wr<E-1){var af=L((qt-fn[wr])/(Ke[wr].split(" ").length-1)),Ra=Ke[wr].split(" ");w.push([Ra[0]+" ",Hi,bi]),so=0;for(var La=1;La<Ra.length;La++){var tu=(Ia(Ra[La-1]+" "+Ra[La])-Ia(Ra[La]))*aa+af;La==Ra.length-1?w.push([Ra[La],tu,0]):w.push([Ra[La]+" ",tu,0]),so-=tu}}else w.push([Ke[wr],Hi,bi]);w.push(["",so,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],E=Ke.length,qt=qt!==0?qt:Is,wr=0;wr<E;wr++)bi=wr===0?Fi(se):-Vn,Hi=wr===0?Br(V):0,wr<E-1?vi.push(k(L((qt-fn[wr])/(Ke[wr].split(" ").length-1)))):vi.push(0),w.push([Ke[wr],Hi,bi])}}(typeof me.R2L=="boolean"?me.R2L:Yt)===!0&&(w=Rr(w,function(On,zn,ar){return[On.split("").reverse().join(""),zn,ar]})),qe={text:w,x:V,y:se,options:me,mutex:{pdfEscape:Ir,activeFontKey:st,fonts:ht,activeFontSize:Je}},rn.publish("postProcessText",qe),w=qe.text,qn=qe.mutex.isHex||!1;var nc=ht[st].encoding;nc!=="WinAnsiEncoding"&&nc!=="StandardEncoding"||(w=Rr(w,function(On,zn,ar){return[Jl(On),zn,ar]})),Ke=io(w),w=[];for(var li,ka,Mo,jo=Array.isArray(Ke[0])?1:0,Pa="",nu=function(On,zn,ar){var yr="";return ar instanceof Ct?(ar=typeof me.angle=="number"?Cn(ar,new Ct(1,0,0,1,On,zn)):Cn(new Ct(1,0,0,1,On,zn),ar),ae===te&&(ar=Cn(new Ct(1,0,0,-1,0,0),ar)),yr=ar.join(" ")+` Tm
`):yr=k(On)+" "+k(zn)+` Td
`,yr},Gi=0;Gi<Ke.length;Gi++){switch(Pa="",jo){case 1:Mo=(qn?"<":"(")+Ke[Gi][0]+(qn?">":")"),li=parseFloat(Ke[Gi][1]),ka=parseFloat(Ke[Gi][2]);break;case 0:Mo=(qn?"<":"(")+Ke[Gi]+(qn?">":")"),li=Br(V),ka=Fi(se)}vi!==void 0&&vi[Gi]!==void 0&&(Pa=vi[Gi]+` Tw
`),Gi===0?w.push(Pa+nu(li,ka,sr)+Mo):jo===0?w.push(Pa+Mo):jo===1&&w.push(Pa+nu(li,ka,sr)+Mo)}w=jo===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Da=`BT
/`;return Da+=st+" "+Je+` Tf
`,Da+=k(Je*Bs)+` TL
`,Da+=Ni+`
`,Da+=zr,Da+=w,ue(Da+="ET"),x[st]=!0,Dn};var ia=_.__private__.clip=_.clip=function(w){return ue(w==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return ia("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ue("n"),this};var on=_.__private__.isValidStyle=function(w){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(V=!0),V};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(w){return on(w)&&(d=w),this};var Aa=_.__private__.getStyle=_.getStyle=function(w){var V=d;switch(w){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=w}return V},Vi=_.close=function(){return ue("h"),this};_.stroke=function(){return ue("S"),this},_.fill=function(w){return cs("f",w),this},_.fillEvenOdd=function(w){return cs("f*",w),this},_.fillStroke=function(w){return cs("B",w),this},_.fillStrokeEvenOdd=function(w){return cs("B*",w),this};var cs=function(w,V){Xn(V)==="object"?fl(V,w):ue(w)},ko=function(w){w===null||ae===te&&w===void 0||(w=Aa(w),ue(w))};function hl(w,V,se,me,Ae){var qe=new Lh(V||this.boundingBox,se||this.xStep,me||this.yStep,this.gState,Ae||this.matrix);qe.stream=this.stream;var Ke=w+"$$"+this.cloneIndex+++"$$";return Pn(Ke,qe),qe}var fl=function(w,V){var se=nn[w.key],me=At[se];if(me instanceof Ec)ue("q"),ue(tc(V)),me.gState&&_.setGState(me.gState),ue(w.matrix.toString()+" cm"),ue("/"+se+" sh"),ue("Q");else if(me instanceof Lh){var Ae=new Ct(1,0,0,-1,0,qi());w.matrix&&(Ae=Ae.multiply(w.matrix||$n),se=hl.call(me,w.key,w.boundingBox,w.xStep,w.yStep,Ae).id),ue("q"),ue("/Pattern cs"),ue("/"+se+" scn"),me.gState&&_.setGState(me.gState),ue(V),ue("Q")}},tc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dl=_.moveTo=function(w,V){return ue(k(L(w))+" "+k(X(V))+" m"),this},Vs=_.lineTo=function(w,V){return ue(k(L(w))+" "+k(X(V))+" l"),this},Ti=_.curveTo=function(w,V,se,me,Ae,qe){return ue([k(L(w)),k(X(V)),k(L(se)),k(X(me)),k(L(Ae)),k(X(qe)),"c"].join(" ")),this};_.__private__.line=_.line=function(w,V,se,me,Ae){if(isNaN(w)||isNaN(V)||isNaN(se)||isNaN(me)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return ae===ne?this.lines([[se-w,me-V]],w,V,[1,1],Ae||"S"):this.lines([[se-w,me-V]],w,V,[1,1]).stroke()},_.__private__.lines=_.lines=function(w,V,se,me,Ae,qe){var Ke,at,pt,kt,qt,ln,er,sr,Dn,gr,qn,zr;if(typeof w=="number"&&(zr=se,se=V,V=w,w=zr),me=me||[1,1],qe=qe||!1,isNaN(V)||isNaN(se)||!Array.isArray(w)||!Array.isArray(me)||!on(Ae)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dl(V,se),Ke=me[0],at=me[1],kt=w.length,gr=V,qn=se,pt=0;pt<kt;pt++)(qt=w[pt]).length===2?(gr=qt[0]*Ke+gr,qn=qt[1]*at+qn,Vs(gr,qn)):(ln=qt[0]*Ke+gr,er=qt[1]*at+qn,sr=qt[2]*Ke+gr,Dn=qt[3]*at+qn,gr=qt[4]*Ke+gr,qn=qt[5]*at+qn,Ti(ln,er,sr,Dn,gr,qn));return qe&&Vi(),ko(Ae),this},_.path=function(w){for(var V=0;V<w.length;V++){var se=w[V],me=se.c;switch(se.op){case"m":dl(me[0],me[1]);break;case"l":Vs(me[0],me[1]);break;case"c":Ti.apply(this,me);break;case"h":Vi()}}return this},_.__private__.rect=_.rect=function(w,V,se,me,Ae){if(isNaN(w)||isNaN(V)||isNaN(se)||isNaN(me)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return ae===ne&&(me=-me),ue([k(L(w)),k(X(V)),k(L(se)),k(L(me)),"re"].join(" ")),ko(Ae),this},_.__private__.triangle=_.triangle=function(w,V,se,me,Ae,qe,Ke){if(isNaN(w)||isNaN(V)||isNaN(se)||isNaN(me)||isNaN(Ae)||isNaN(qe)||!on(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-w,me-V],[Ae-se,qe-me],[w-Ae,V-qe]],w,V,[1,1],Ke,!0),this},_.__private__.roundedRect=_.roundedRect=function(w,V,se,me,Ae,qe,Ke){if(isNaN(w)||isNaN(V)||isNaN(se)||isNaN(me)||isNaN(Ae)||isNaN(qe)||!on(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*se),qe=Math.min(qe,.5*me),this.lines([[se-2*Ae,0],[Ae*at,0,Ae,qe-qe*at,Ae,qe],[0,me-2*qe],[0,qe*at,-Ae*at,qe,-Ae,qe],[2*Ae-se,0],[-Ae*at,0,-Ae,-qe*at,-Ae,-qe],[0,2*qe-me],[0,-qe*at,Ae*at,-qe,Ae,-qe]],w+Ae,V,[1,1],Ke,!0),this},_.__private__.ellipse=_.ellipse=function(w,V,se,me,Ae){if(isNaN(w)||isNaN(V)||isNaN(se)||isNaN(me)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*se,Ke=4/3*(Math.SQRT2-1)*me;return dl(w+se,V),Ti(w+se,V-Ke,w+qe,V-me,w,V-me),Ti(w-qe,V-me,w-se,V-Ke,w-se,V),Ti(w-se,V+Ke,w-qe,V+me,w,V+me),Ti(w+qe,V+me,w+se,V+Ke,w+se,V),ko(Ae),this},_.__private__.circle=_.circle=function(w,V,se,me){if(isNaN(w)||isNaN(V)||isNaN(se)||!on(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,V,se,se,me)},_.setFont=function(w,V,se){return se&&(V=$(V,se)),st=Ja(w,V,{disableWarning:!1}),this};var hs=_.__private__.getFont=_.getFont=function(){return ht[Ja.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var w,V,se={};for(w in It)if(It.hasOwnProperty(w))for(V in se[w]=[],It[w])It[w].hasOwnProperty(V)&&se[w].push(V);return se},_.addFont=function(w,V,se,me,Ae){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(se=$(se,me)),na.call(this,w,V,se,Ae=Ae||"Identity-H")};var Ui,xs=n.lineWidth||.200025,Dt=_.__private__.getLineWidth=_.getLineWidth=function(){return xs},Us=_.__private__.setLineWidth=_.setLineWidth=function(w){return xs=w,ue(k(L(w))+" w"),this};_.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(w,V){if(w=w||[],V=V||0,isNaN(V)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(se){return k(L(se))}).join(" "),V=k(L(V)),ue("["+w+"] "+V+" d"),this};var Zl=_.__private__.getLineHeight=_.getLineHeight=function(){return Je*Ui};_.__private__.getLineHeight=_.getLineHeight=function(){return Je*Ui};var no=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Ui=w),this},Es=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return Ui};no(n.lineHeight);var Br=_.__private__.getHorizontalCoordinate=function(w){return L(w)},Fi=_.__private__.getVerticalCoordinate=function(w){return ae===te?w:Pt[q].mediaBox.topRightY-Pt[q].mediaBox.bottomLeftY-L(w)},Fs=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(w){return k(Br(w))},Sa=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(w){return k(Fi(w))},fs=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return oi(fs)},_.__private__.setStrokeColor=_.setDrawColor=function(w,V,se,me){return fs=Ur({ch1:w,ch2:V,ch3:se,ch4:me,pdfColorType:"draw",precision:2}),ue(fs),this};var ro=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return oi(ro)},_.__private__.setFillColor=_.setFillColor=function(w,V,se,me){return ro=Ur({ch1:w,ch2:V,ch3:se,ch4:me,pdfColorType:"fill",precision:2}),ue(ro),this};var Ni=n.textColor||"0 g",Bi=_.__private__.getTextColor=_.getTextColor=function(){return oi(Ni)};_.__private__.setTextColor=_.setTextColor=function(w,V,se,me){return Ni=Ur({ch1:w,ch2:V,ch3:se,ch4:me,pdfColorType:"text",precision:3}),this};var xa=n.charSpace,qr=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(xa||0)};_.__private__.setCharSpace=_.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xa=w,this};var _n=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(w){var V=_.CapJoinStyles[w];if(V===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _n=V,ue(V+" J"),this};var Ea=0;_.__private__.setLineJoin=_.setLineJoin=function(w){var V=_.CapJoinStyles[w];if(V===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=V,ue(V+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(k(L(w))+" M"),this},_.GState=tg,_.setGState=function(w){(w=typeof w=="string"?Vt[ir[w]]:Ts(null,w)).equals(Gn)||(ue("/"+w.id+" gs"),Gn=w)};var Ts=function(w,V){if(!w||!ir[w]){var se=!1;for(var me in Vt)if(Vt.hasOwnProperty(me)&&Vt[me].equals(V)){se=!0;break}if(se)V=Vt[me];else{var Ae="GS"+(Object.keys(Vt).length+1).toString(10);Vt[Ae]=V,V.id=Ae}return w&&(ir[w]=V.id),rn.publish("addGState",V),V}};_.addGState=function(w,V){return Ts(w,V),this},_.saveGraphicsState=function(){return ue("q"),In.push({key:st,size:Je,color:Ni}),this},_.restoreGraphicsState=function(){ue("Q");var w=In.pop();return st=w.key,Je=w.size,Ni=w.color,Gn=null,this},_.setCurrentTransformationMatrix=function(w){return ue(w.toString()+" cm"),this},_.comment=function(w){return ue("#"+w),this};var Ta=function(w,V){var se=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(qe){isNaN(qe)||(se=parseFloat(qe))}});var me=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(qe){isNaN(qe)||(me=parseFloat(qe))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(qe){Ae=qe.toString()}}),this},Na=function(w,V,se,me){Ta.call(this,w,V),this.type="rect";var Ae=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ke){isNaN(Ke)||(Ae=parseFloat(Ke))}});var qe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ke){isNaN(Ke)||(qe=parseFloat(Ke))}}),this},sa=function(){this.page=gn,this.currentPage=q,this.pages=ze.slice(0),this.pagesContext=Pt.slice(0),this.x=_t,this.y=Nn,this.matrix=an,this.width=Ii(q),this.height=qi(q),this.outputDestination=rt,this.id="",this.objectNumber=-1};sa.prototype.restore=function(){gn=this.page,q=this.currentPage,Pt=this.pagesContext,ze=this.pages,_t=this.x,Nn=this.y,an=this.matrix,Po(q,this.width),Ci(q,this.height),rt=this.outputDestination};var ds=function(w,V,se,me,Ae){mi.push(new sa),gn=q=0,ze=[],_t=w,Nn=V,an=Ae,Cr([se,me])};for(var Ns in _.beginFormObject=function(w,V,se,me,Ae){return ds(w,V,se,me,Ae),this},_.endFormObject=function(w){return(function(V){if(ss[V])mi.pop().restore();else{var se=new sa,me="Xo"+(Object.keys(pr).length+1).toString(10);se.id=me,ss[V]=me,pr[me]=se,rn.publish("addFormObject",se),mi.pop().restore()}})(w),this},_.doFormObject=function(w,V){var se=pr[ss[w]];return ue("q"),ue(V.toString()+" cm"),ue("/"+se.id+" Do"),ue("Q"),this},_.getFormObject=function(w){var V=pr[ss[w]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},_.save=function(w,V){return w=w||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(xc(ra(us()),w),typeof xc.unload=="function"&&Wt.setTimeout&&setTimeout(xc.unload,911),this):new Promise(function(se,me){try{var Ae=xc(ra(us()),w);typeof xc.unload=="function"&&Wt.setTimeout&&setTimeout(xc.unload,911),se(Ae)}catch(qe){me(qe.message)}})},St.API)St.API.hasOwnProperty(Ns)&&(Ns==="events"&&St.API.events.length?(function(w,V){var se,me,Ae;for(Ae=V.length-1;Ae!==-1;Ae--)se=V[Ae][0],me=V[Ae][1],w.subscribe.apply(w,[se].concat(typeof me=="function"?[me]:me))})(rn,St.API.events):_[Ns]=St.API[Ns]);var Ii=_.getPageWidth=function(w){return(Pt[w=w||q].mediaBox.topRightX-Pt[w].mediaBox.bottomLeftX)/Lt},Po=_.setPageWidth=function(w,V){Pt[w].mediaBox.topRightX=V*Lt+Pt[w].mediaBox.bottomLeftX},qi=_.getPageHeight=function(w){return(Pt[w=w||q].mediaBox.topRightY-Pt[w].mediaBox.bottomLeftY)/Lt},Ci=_.setPageHeight=function(w,V){Pt[w].mediaBox.topRightY=V*Lt+Pt[w].mediaBox.bottomLeftY};return _.internal={pdfEscape:Ir,getStyle:Aa,getFont:hs,getFontSize:tt,getCharSpace:qr,getTextColor:Bi,getLineHeight:Zl,getLineHeightFactor:Es,getLineWidth:Dt,write:tn,getHorizontalCoordinate:Br,getVerticalCoordinate:Fi,getCoordinateString:Fs,getVerticalCoordinateString:Sa,collections:{},newObject:Zn,newAdditionalObject:va,newObjectDeferred:Vr,newObjectDeferredBegin:cr,getFilters:Fr,putStream:Jn,events:rn,scaleFactor:Lt,pageSize:{getWidth:function(){return Ii(q)},setWidth:function(w){Po(q,w)},getHeight:function(){return qi(q)},setHeight:function(w){Ci(q,w)}},encryptionOptions:y,encryption:en,getEncryptor:function(w){return y!==null?en.encryptor(w,0):function(V){return V}},output:gi,getNumberOfPages:Za,pages:ze,out:ue,f2:C,f3:D,getPageInfo:yi,getPageInfoByObjId:to,getCurrentPageInfo:wa,getPDFVersion:O,Point:Ta,Rectangle:Na,Matrix:Ct,hasHotfix:eo},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ii(q)},set:function(w){Po(q,w)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return qi(q)},set:function(w){Ci(q,w)},enumerable:!0,configurable:!0}),(function(w){for(var V=0,se=Et.length;V<se;V++){var me=na.call(this,w[V][0],w[V][1],w[V][2],Et[V][3],!0);A===!1&&(x[me]=!0);var Ae=w[V][0].split("-");cl({id:me,fontName:Ae[0],fontStyle:Ae[1]||""})}rn.publish("addFonts",{fonts:ht,dictionary:It})}).call(_,Et),st="F1",ba(s,t),rn.publish("initialized"),_}Ih.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Ih.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ih.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ih.prototype.processOwnerPassword=function(n,e){return v2(y2(e).substr(0,5),n)},Ih.prototype.encryptor=function(n,e){var t=y2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return v2(t,r)}},tg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.2";var $r=St.API,My=1,Gc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ah=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(n){return n.toFixed(2)},Ru=function(n){return n.toFixed(5)};$r.__acroform__={};var Js=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Iw=function(n){return n*My},Yo=function(n){var e=new $S,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},yD=$r.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},vD=$r.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},bD=$r.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ni=$r.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bD(n,e-1)},ri=$r.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yD(n,e-1)},ii=$r.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vD(n,e-1)},_D=$r.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=r(o)||0,[Number(Xt(f.lowerLeft_X)),Number(Xt(f.lowerLeft_Y)),Number(Xt(f.upperRight_X)),Number(Xt(f.upperRight_Y))]},wD=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=b2(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Yo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},b2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(C){return C.split(`
`)}):s.map(function(C){return[C]});var o=t,u=gt.internal.getHeight(n)||0;u=u<0?-u:u;var c=gt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(C,D,L){if(C+1<s.length){var X=D+" "+s[C+1][0];return cm(X,n,L).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,y,A=cm("3",n,o).height,x=n.multiline?u-o:(u-A)/2,_=x+=2,j=0,O=0,F=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+cm(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var B="",ne=0,te=0;te<s.length;te++)if(s.hasOwnProperty(te)){var ae=!1;if(s[te].length!==1&&F!==s[te].length-1){if((A+2)*(ne+2)+2>u)continue e;B+=s[te][F],ae=!0,O=te,te--}else{B=(B+=s[te][F]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var ve=parseInt(te),Te=f(ve,B,o),$=te>=s.length-1;if(Te&&!$){B+=" ",F=0;continue}if(Te||$){if($)O=ve;else if(n.multiline&&(A+2)*(ne+2)+2>u)continue e}else{if(!n.multiline||(A+2)*(ne+2)+2>u)continue e;O=ve}}for(var k="",N=j;N<=O;N++){var z=s[N];if(n.multiline){if(N===O){k+=z[F]+" ",F=(F+1)%z.length;continue}if(N===j){k+=z[z.length-1]+" ";continue}}k+=z[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,y=cm(k,n,o).width,n.textAlign){case"right":d=c-y-2;break;case"center":d=(c-y)/2;break;default:d=2}e+=Xt(d)+" "+Xt(_)+` Td
`,e+="("+Gc(k)+`) Tj
`,e+=-Xt(d)+` 0 Td
`,_=-(o+2),y=0,j=ae?O:O+1,ne++,B=""}break}return r.text=e,r.fontSize=o,r},cm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},AD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},SD=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},xD=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(No.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(AD)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");My=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new WS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&SD(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=_D(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),Xn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=wD(c);f.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var A="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var _=c.appearanceStreamContent[x];if(A+="/"+x+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var u in _)if(_.hasOwnProperty(u)){var j=_[u];typeof j=="function"&&(j=j.call(s,c)),A+="/"+u+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=_)=="function"&&(j=j.call(s,c)),A+="/"+u+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(O,F){for(var B in O)if(O.hasOwnProperty(B)){var ne=B,te=O[B];F.internal.newObjectDeferredBegin(te.objId,!0),Xn(te)==="object"&&typeof te.putStream=="function"&&te.putStream(),delete O[ne]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},GS=$r.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Xn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+Gc(r(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Gc(r(n))+")"},Xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xo.prototype.toString=function(){return this.objId+" 0 R"},Xo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:GS(s,this.objId,this.scope)}):s instanceof Xo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var $S=function(){Xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Js($S,Xo);var WS=function(){Xo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Gc(t(n))+")"}},set:function(t){n=t}})};Js(WS,Xo);var No=function n(){Xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');e=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(e,3)},set:function(B){B?this.F=ri(e,3):this.F=ii(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');t=B}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(B){r=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(B){r[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(B){r[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(B){r[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(B){r[3]=B}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ng)return;o="FieldObject"+n.FieldNum++}var B=function(ne){return ne};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+Gc(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(B){u=B}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(B){c=B}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(B){f=B}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/My:d},set:function(B){d=B}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(B){y=B}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof ng||this instanceof Rc))return N0(A,this.objId,this.scope)},set:function(B){B=B.toString(),A=B}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ji==0?N0(x,this.objId,this.scope):x},set:function(B){B=B.toString(),x=this instanceof ji==0?B.substr(0,1)==="("?Ah(B.substr(1,B.length-2)):Ah(B):B}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?Ah(x.substr(1,x.length-1)):x},set:function(B){B=B.toString(),x=this instanceof ji==1?"/"+B:B}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ji==0?N0(_,this.objId,this.scope):_},set:function(B){B=B.toString(),_=this instanceof ji==0?B.substr(0,1)==="("?Ah(B.substr(1,B.length-2)):Ah(B):B}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?Ah(_.substr(1,_.length-1)):_},set:function(B){B=B.toString(),_=this instanceof ji==1?"/"+B:B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(B){B=!!B,O=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(B){j=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(B){B?this.Ff=ri(this.Ff,1):this.Ff=ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(B){B?this.Ff=ri(this.Ff,2):this.Ff=ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(B){B?this.Ff=ri(this.Ff,3):this.Ff=ii(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');F=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch(F){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:F=2;break;case"center":case 1:F=1;break;default:F=0}}})};Js(No,Xo);var jh=function(){No.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return GS(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(t){t?this.Ff=ri(this.Ff,18):this.Ff=ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ri(this.Ff,19):this.Ff=ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(t){t?(this.Ff=ri(this.Ff,20),e.sort()):this.Ff=ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(t){t?this.Ff=ri(this.Ff,22):this.Ff=ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=ri(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(t){t?this.Ff=ri(this.Ff,27):this.Ff=ii(this.Ff,27)}}),this.hasAppearanceStream=!1};Js(jh,No);var Vh=function(){jh.call(this),this.fontName="helvetica",this.combo=!1};Js(Vh,jh);var Uh=function(){Vh.call(this),this.combo=!0};Js(Uh,Vh);var Tm=function(){Uh.call(this),this.edit=!0};Js(Tm,Uh);var ji=function(){No.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(t){t?this.Ff=ri(this.Ff,15):this.Ff=ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(t){t?this.Ff=ri(this.Ff,16):this.Ff=ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(t){t?this.Ff=ri(this.Ff,17):this.Ff=ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=ri(this.Ff,26):this.Ff=ii(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Gc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Xn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Js(ji,No);var Nm=function(){ji.call(this),this.pushButton=!0};Js(Nm,ji);var Fh=function(){ji.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Js(Fh,ji);var ng=function(){var n,e;No.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Gc(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Xn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Js(ng,No),Fh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Fh.prototype.createOption=function(n){var e=new ng;return e.Parent=this,e.optionName=n,this.Kids.push(e),ED.call(this.scope,e),e};var Im=function(){ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Js(Im,ji);var Rc=function(){No.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(e){e?this.Ff=ri(this.Ff,13):this.Ff=ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(e){e?this.Ff=ri(this.Ff,21):this.Ff=ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(e){e?this.Ff=ri(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(e){e?this.Ff=ri(this.Ff,24):this.Ff=ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(e){e?this.Ff=ri(this.Ff,25):this.Ff=ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(e){e?this.Ff=ri(this.Ff,26):this.Ff=ii(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Js(Rc,No);var Cm=function(){Rc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(n){n?this.Ff=ri(this.Ff,14):this.Ff=ii(this.Ff,14)}}),this.password=!0};Js(Cm,Rc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=b2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),u=gt.internal.getWidth(n),c=b2(n,n.caption);return s.push("1 g"),s.push("0 0 "+Xt(u)+" "+Xt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Xt(u-1)+" "+Xt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Xt(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ru(gt.internal.getWidth(n)/2)+" "+Ru(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),u=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ru(gt.internal.getWidth(n)/2)+" "+Ru(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ru(gt.internal.getWidth(n)/2)+" "+Ru(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ru(gt.internal.getWidth(n)/2)+" "+Ru(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Xn(n)==="object"&&(e=Iw(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Xn(n)==="object"&&(e=Iw(n.Rect[3])),e};var ED=$r.addField=function(n){if(xD(this,n),!(n instanceof No))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};$r.AcroFormChoiceField=jh,$r.AcroFormListBox=Vh,$r.AcroFormComboBox=Uh,$r.AcroFormEditBox=Tm,$r.AcroFormButton=ji,$r.AcroFormPushButton=Nm,$r.AcroFormRadioButton=Fh,$r.AcroFormCheckBox=Im,$r.AcroFormTextField=Rc,$r.AcroFormPasswordField=Cm,$r.AcroFormAppearance=gt,$r.AcroForm={ChoiceField:jh,ListBox:Vh,ComboBox:Uh,EditBox:Tm,Button:ji,PushButton:Nm,RadioButton:Fh,CheckBox:Im,TextField:Rc,PasswordField:Cm,Appearance:gt},St.AcroForm={ChoiceField:jh,ListBox:Vh,ComboBox:Uh,EditBox:Tm,Button:ji,PushButton:Nm,RadioButton:Fh,CheckBox:Im,TextField:Rc,PasswordField:Cm,Appearance:gt};St.AcroForm;function YS(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(C,D){var L,X,pe,ee,de,re=t;if((D=D||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(Te(C))for(de in r)for(pe=r[de],L=0;L<pe.length;L+=1){for(ee=!0,X=0;X<pe[L].length;X+=1)if(pe[L][X]!==void 0&&pe[L][X]!==C[X]){ee=!1;break}if(ee===!0){re=de;break}}else for(de in r)for(pe=r[de],L=0;L<pe.length;L+=1){for(ee=!0,X=0;X<pe[L].length;X+=1)if(pe[L][X]!==void 0&&pe[L][X]!==C.charCodeAt(X)){ee=!1;break}if(ee===!0){re=de;break}}return re===t&&D!==t&&(re=D),re},o=function C(D){for(var L=this.internal.write,X=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:D.width}),ee.push({key:"Height",value:D.height}),D.colorSpace===B.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===B.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var de="",re=0,_e=D.transparency.length;re<_e;re++)de+=D.transparency[re]+" "+D.transparency[re]+" ";ee.push({key:"Mask",value:"["+de+"]"})}D.sMask!==void 0&&ee.push({key:"SMask",value:D.objectId+1+" 0 R"});var Y=D.filter!==void 0?["/"+D.filter]:void 0;if(X({data:D.data,additionalKeyValues:ee,alreadyAppliedFilters:Y,objectId:D.objectId}),L("endobj"),"sMask"in D&&D.sMask!==void 0){var ce=(D.predictor!=null?"/Predictor "+D.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+D.width,R={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:ce,data:D.sMask};"filter"in D&&(R.filter=D.filter),C.call(this,R)}if(D.colorSpace===B.INDEXED){var q=this.internal.newObject();X({data:k(new Uint8Array(D.palette)),objectId:q}),L("endobj")}},u=function(){var C=this.internal.collections[e+"images"];for(var D in C)o.call(this,C[D])},c=function(){var C,D=this.internal.collections[e+"images"],L=this.internal.write;for(var X in D)L("/I"+(C=D[X]).index,C.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var C=this.internal.collections[e+"images"];return f.call(this),C},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(C){return typeof n["process"+C.toUpperCase()]=="function"},x=function(C){return Xn(C)==="object"&&C.nodeType===1},_=function(C,D){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var L=""+C.getAttribute("src");if(L.indexOf("data:image/")===0)return Em(unescape(L).split("base64,").pop());var X=n.loadFile(L,!0);if(X!==void 0)return X}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var pe;switch(D){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Em(C.toDataURL(pe,1).split("base64,").pop())}},j=function(C){var D=this.internal.collections[e+"images"];if(D){for(var L in D)if(C===D[L].alias)return D[L]}},O=function(C,D,L){return C||D||(C=-96,D=-96),C<0&&(C=-1*L.width*72/C/this.internal.scaleFactor),D<0&&(D=-1*L.height*72/D/this.internal.scaleFactor),C===0&&(C=D*L.width/L.height),D===0&&(D=C*L.height/L.width),[C,D]},F=function(C,D,L,X,pe,ee){var de=O.call(this,L,X,pe),re=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Y=d.call(this);if(L=de[0],X=de[1],Y[pe.index]=pe,ee){ee*=Math.PI/180;var ce=Math.cos(ee),R=Math.sin(ee),q=function(le){return le.toFixed(4)},Z=[q(ce),q(R),q(-1*R),q(ce),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,re(C),_e(D+X),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([re(L),"0","0",re(X),"0","0","cm"].join(" "))):this.internal.write([re(L),"0","0",re(X),re(C),_e(D+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},B=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ne=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},te=n.__addimage__.sHashCode=function(C){var D,L,X=0;if(typeof C=="string")for(L=C.length,D=0;D<L;D++)X=(X<<5)-X+C.charCodeAt(D),X|=0;else if(Te(C))for(L=C.byteLength/2,D=0;D<L;D++)X=(X<<5)-X+C[D],X|=0;return X},ae=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var D=!0;return C.length===0&&(D=!1),C.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(D=!1),D},ve=n.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var D=C.indexOf(",");return D<0?null:C.substring(0,D).trim().endsWith("base64")?C.substring(D+1):null};n.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var Te=n.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(C){for(var D=C.length,L=new Uint8Array(D),X=0;X<D;X++)L[X]=C.charCodeAt(X);return L},k=n.__addimage__.arrayBufferToBinaryString=function(C){for(var D="",L=Te(C)?C:new Uint8Array(C),X=0;X<L.length;X+=8192)D+=String.fromCharCode.apply(null,L.subarray(X,X+8192));return D};n.addImage=function(){var C,D,L,X,pe,ee,de,re,_e;if(typeof arguments[1]=="number"?(D=t,L=arguments[1],X=arguments[2],pe=arguments[3],ee=arguments[4],de=arguments[5],re=arguments[6],_e=arguments[7]):(D=arguments[1],L=arguments[2],X=arguments[3],pe=arguments[4],ee=arguments[5],de=arguments[6],re=arguments[7],_e=arguments[8]),Xn(C=arguments[0])==="object"&&!x(C)&&"imageData"in C){var Y=C;C=Y.imageData,D=Y.format||D||t,L=Y.x||L||0,X=Y.y||X||0,pe=Y.w||Y.width||pe,ee=Y.h||Y.height||ee,de=Y.alias||de,re=Y.compression||re,_e=Y.rotation||Y.angle||_e}var ce=this.internal.getFilters();if(re===void 0&&ce.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(L)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var R=N.call(this,C,D,de,re);return F.call(this,L,X,pe,ee,R,_e),this};var N=function(C,D,L,X){var pe,ee,de;if(typeof C=="string"&&s(C)===t){C=unescape(C);var re=z(C,!1);(re!==""||(re=n.loadFile(C,!0))!==void 0)&&(C=re)}if(x(C)&&(C=_(C,D)),D=s(C,D),!A(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((de=L)==null||de.length===0)&&(L=(function(_e){return typeof _e=="string"||Te(_e)?te(_e):Te(_e.data)?te(_e.data):null})(C)),(pe=j.call(this,L))||(C instanceof Uint8Array||D==="RGBA"||(ee=C,C=$(C)),pe=this["process"+D.toUpperCase()](C,y.call(this),L,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:ne.NONE})(X),ee)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},z=n.__addimage__.convertBase64ToBinaryString=function(C,D){D=typeof D!="boolean"||D;var L,X="";if(typeof C=="string"){var pe;L=(pe=ve(C))!==null&&pe!==void 0?pe:C;try{X=Em(L)}catch(ee){if(D)throw ae(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};n.getImageProperties=function(C){var D,L,X="";if(x(C)&&(C=_(C)),typeof C=="string"&&s(C)===t&&((X=z(C,!1))===""&&(X=n.loadFile(C)||""),C=X),L=s(C),!A(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(C instanceof Uint8Array||(C=$(C)),!(D=this["process"+L.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=L,D}})(St.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,y=!1,A=0;A<d.length&&!y;A++)switch((r=d[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){r=d[x];var _=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(O.objId),ne=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+_(B(r.contents))+")",o+=" /Popup "+F.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(B(ne))+") >>",O.content=o;var te=O.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+te,r.open&&(o+=" /Open true"),o+=" >>",F.content=o,this.internal.write(O.objId,"0 R",F.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var ae=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(j(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ae+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ve=this.annotations._nameMap[r.options.name];r.options.pageNumber=ve.page,r.options.top=ve.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Te=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Te+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var y=this.splitTextToSize(t,c).length;u=Math.ceil(d*y)}else c=f,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(St.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(O){return e[O.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(O){return typeof O=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},c=n.__arabicParser__.isArabicEndLetter=function(O){return u(O)&&o(O)&&e[O.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(O){return u(O)&&s.indexOf(O.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return u(O)&&o(O)&&e[O.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(O){return u(O)&&o(O)&&e[O.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(O){return u(O)&&o(O)&&e[O.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(O){return u(O)&&o(O)&&e[O.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(O){var F=0,B=t,ne="",te=0;for(F=0;F<O.length;F+=1)B[O.charCodeAt(F)]!==void 0?(te++,typeof(B=B[O.charCodeAt(F)])=="number"&&(ne+=String.fromCharCode(B),B=t,te=0),F===O.length-1&&(B=t,ne+=O.charAt(F-(te-1)),F-=te-1,te=0)):(B=t,ne+=O.charAt(F-te),F-=te,te=0);return ne};n.__arabicParser__.isArabicDiacritic=function(O){return O!==void 0&&r[O.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(O,F,B){return u(O)?o(O)===!1?-1:!d(O)||!u(F)&&!u(B)||!u(B)&&c(F)||c(O)&&!u(F)||c(O)&&f(F)||c(O)&&c(F)?0:y(O)&&u(F)&&!c(F)&&u(B)&&d(B)?3:c(O)||!u(B)?1:2:-1},_=function(O){var F=0,B=0,ne=0,te="",ae="",ve="",Te=(O=O||"").split("\\s+"),$=[];for(F=0;F<Te.length;F+=1){for($.push(""),B=0;B<Te[F].length;B+=1)te=Te[F][B],ae=Te[F][B-1],ve=Te[F][B+1],u(te)?(ne=x(te,ae,ve),$[F]+=ne!==-1?String.fromCharCode(e[te.charCodeAt(0)][ne]):te):$[F]+=te;$[F]=A($[F])}return $.join(" ")},j=n.__arabicParser__.processArabic=n.processArabic=function(){var O,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray(F)){var ne=0;for(B=[],ne=0;ne<F.length;ne+=1)Array.isArray(F[ne])?B.push([_(F[ne][0]),F[ne][1],F[ne][2]]):B.push([_(F[ne])]);O=B}else O=_(F);return typeof arguments[0]=="string"?O:(arguments[0].text=O,arguments[0])};n.events.push(["preProcessText",j])})(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(St.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(O){f=O}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(O){d=O}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(O){y=O}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(O){A=O}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(O){x=O}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(O){_=O}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(O){j=O}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,_=0,j=0,O=0,F=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var B=d.maxWidth;B>0?typeof f=="string"?f=this.splitTextToSize(f,B):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(te,ae){return te.concat(F.splitTextToSize(ae,B))},[])):f=Array.isArray(f)?f:[f];for(var ne=0;ne<f.length;ne++)_<(O=this.getStringUnitWidth(f[ne],{font:A})*y)&&(_=O);return _!==0&&(j=f.length),{w:_/=x,h:Math.max((j*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,A,x){if(r.call(this),!y)throw new Error("No data for PDF table.");var _,j,O,F,B=[],ne=[],te=[],ae={},ve={},Te=[],$=[],k=(x=x||{}).autoSize||!1,N=x.printHeaders!==!1,z=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,C=x.margins||Object.assign({width:this.getPageWidth()},e),D=typeof x.padding=="number"?x.padding:3,L=x.headerBackgroundColor||"#c8c8c8",X=x.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=X,this.setFontSize(z),A==null)ne=B=Object.keys(y[0]),te=B.map(function(){return"left"});else if(Array.isArray(A)&&Xn(A[0])==="object")for(B=A.map(function(Y){return Y.name}),ne=A.map(function(Y){return Y.prompt||Y.name||""}),te=A.map(function(Y){return Y.align||"left"}),_=0;_<A.length;_+=1)ve[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(ne=B=A,te=B.map(function(){return"left"}));if(k||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<B.length;_+=1){for(ae[F=B[_]]=y.map(function(Y){return Y[F]}),this.setFont(void 0,"bold"),Te.push(this.getTextDimensions(ne[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=ae[F],this.setFont(void 0,"normal"),O=0;O<j.length;O+=1)Te.push(this.getTextDimensions(j[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ve[F]=Math.max.apply(null,Te)+D+D,Te=[]}if(N){var pe={};for(_=0;_<B.length;_+=1)pe[B[_]]={},pe[B[_]].text=ne[_],pe[B[_]].align=te[_];var ee=c.call(this,pe,ve);$=B.map(function(Y){return new o(f,d,ve[Y],ee,pe[Y].text,void 0,pe[Y].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var de=A.reduce(function(Y,ce){return Y[ce.name]=ce.align,Y},{});for(_=0;_<y.length;_+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:_,data:y[_]},this);var re=c.call(this,y[_],ve);for(O=0;O<B.length;O+=1){var _e=y[_][B[O]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:_,col:O,data:_e},this),u.call(this,new o(f,d,ve[B[O]],re,_e,_+2,de[B[O]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var y=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(_){var j=f[_];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,d[_]-y-y)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/x+y+y},this).reduce(function(_,j){return Math.max(_,j)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){y=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,x.push(y)),y.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(j)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(St.API);var KS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_2=YS(QS),XS=[100,200,300,400,500,600,700,800,900],TD=YS(XS);function I0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return KS[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof _2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Cw(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var ND={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function kw(n){return n.trimLeft()}function ID(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function CD(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var hm,Pw,Dw,Sh,fm,Ow,Mw,jw,C0=["times"];function Vw(n,e,t,r){var s=4,o=Fw;switch(r){case St.API.image_compression.FAST:s=1,o=Uw;break;case St.API.image_compression.MEDIUM:s=6,o=Bw;break;case St.API.image_compression.SLOW:s=9,o=qw}n=(function(c,f,d,y){for(var A,x=c.length/f,_=new Uint8Array(c.length+x),j=[RD,Uw,Fw,Bw,qw],O=0;O<x;O+=1){var F=O*f,B=c.subarray(F,F+f);if(y)_.set(y(B,d,A),F+O);else{for(var ne=j.length,te=[],ae=0;ae<ne;ae+=1)te[ae]=j[ae](B,d,A);var ve=kD(te.concat());_.set(te[ve],F+O)}A=B}return _})(n,e,t,o);var u=d2(n,{level:s});return St.API.__addimage__.arrayBufferToBinaryString(u)}function RD(n){var e=Array.apply([],n);return e.unshift(0),e}function Uw(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function Fw(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function Bw(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function qw(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=LD(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function LD(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function kD(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function R0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return ZS(n,s)>>o&u}function zw(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,y,A){if(y+1<d.byteLength)d.setUint16(y,A,!1);else{var x=A>>8&255;d.setUint8(y,x)}})(n,o,ZS(n,o)&~(c<<u)&65535|f)}function ZS(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function PD(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,y=[],A=0,x=null,_=0,j=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,j=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var O=n[e++];A=n[e++]|n[e++]<<8,x=n[e++],1&O||(x=null),_=O>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var F=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,ne=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,ae=n[e++],ve=ae>>6&1,Te=1<<1+(7&ae),$=c,k=f,N=!1;ae>>7&&(N=!0,$=e,k=Te,e+=3*Te);var z=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}y.push({x:F,y:B,width:ne,height:te,has_local_palette:N,palette_offset:$,palette_size:k,data_offset:z,data_length:e-z,transparent_index:x,interlaced:!!ve,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return j},this.frameInfo=function(D){if(D<0||D>=y.length)throw new Error("Frame index out of range.");return y[D]},this.decodeAndBlitFrameBGRA=function(D,L){var X=this.frameInfo(D),pe=X.width*X.height,ee=new Uint8Array(pe);Hw(n,X.data_offset,ee,pe);var de=X.palette_offset,re=X.transparent_index;re===null&&(re=256);var _e=X.width,Y=t-_e,ce=_e,R=4*(X.y*t+X.x),q=4*((X.y+X.height)*t+X.x),Z=R,le=4*Y;X.interlaced===!0&&(le+=4*t*7);for(var he=8,ge=0,Ce=ee.length;ge<Ce;++ge){var ke=ee[ge];if(ce===0&&(ce=_e,(Z+=le)>=q&&(le=4*Y+4*t*(he-1),Z=R+(_e+Y)*(he<<1),he>>=1)),ke===re)Z+=4;else{var Be=n[de+3*ke],ze=n[de+3*ke+1],nt=n[de+3*ke+2];L[Z++]=nt,L[Z++]=ze,L[Z++]=Be,L[Z++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(D,L){var X=this.frameInfo(D),pe=X.width*X.height,ee=new Uint8Array(pe);Hw(n,X.data_offset,ee,pe);var de=X.palette_offset,re=X.transparent_index;re===null&&(re=256);var _e=X.width,Y=t-_e,ce=_e,R=4*(X.y*t+X.x),q=4*((X.y+X.height)*t+X.x),Z=R,le=4*Y;X.interlaced===!0&&(le+=4*t*7);for(var he=8,ge=0,Ce=ee.length;ge<Ce;++ge){var ke=ee[ge];if(ce===0&&(ce=_e,(Z+=le)>=q&&(le=4*Y+4*t*(he-1),Z=R+(_e+Y)*(he<<1),he>>=1)),ke===re)Z+=4;else{var Be=n[de+3*ke],ze=n[de+3*ke+1],nt=n[de+3*ke+2];L[Z++]=Be,L[Z++]=ze,L[Z++]=nt,L[Z++]=255}--ce}}}function Hw(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,y=0,A=0,x=0,_=n[e++],j=new Int32Array(4096),O=null;;){for(;y<16&&_!==0;)A|=n[e++]<<y,y+=8,_===1?_=n[e++]:--_;if(y<f)break;var F=A&d;if(A>>=f,y-=f,F!==o){if(F===u)break;for(var B=F<c?F:O,ne=0,te=B;te>o;)te=j[te]>>8,++ne;var ae=te;if(x+ne+(B!==F?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");t[x++]=ae;var ve=x+=ne;for(B!==F&&(t[x++]=ae),te=B;ne--;)te=j[te],t[--ve]=255&te,te>>=8;O!==null&&c<4096&&(j[c++]=O<<8|ae,c>=d+1&&f<12&&(++f,d=d<<1|1)),O=F}else c=u+1,d=(1<<(f=s+1))-1,O=null}return x!==r&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L0(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),A=new Array(65535),x=new Array(65535),_=new Array(64),j=new Array(64),O=[],F=0,B=7,ne=new Array(64),te=new Array(64),ae=new Array(64),ve=new Array(256),Te=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(R,q){for(var Z=0,le=0,he=new Array,ge=1;ge<=16;ge++){for(var Ce=1;Ce<=R[ge];Ce++)he[q[le]]=[],he[q[le]][0]=Z,he[q[le]][1]=ge,le++,Z++;Z*=2}return he}function de(R){for(var q=R[0],Z=R[1]-1;Z>=0;)q&1<<Z&&(F|=1<<B),Z--,--B<0&&(F==255?(re(255),re(0)):re(F),B=7,F=0)}function re(R){O.push(R)}function _e(R){re(R>>8&255),re(255&R)}function Y(R,q,Z,le,he){for(var ge,Ce=he[0],ke=he[240],Be=(function(Je,yt){var tt,Yt,bt,mn,Bt,ct,wt,Tt,st,Lt,_t=0;for(st=0;st<8;++st){tt=Je[_t],Yt=Je[_t+1],bt=Je[_t+2],mn=Je[_t+3],Bt=Je[_t+4],ct=Je[_t+5],wt=Je[_t+6];var Nn=tt+(Tt=Je[_t+7]),an=tt-Tt,ht=Yt+wt,It=Yt-wt,In=bt+ct,At=bt-ct,nn=mn+Bt,Vt=mn-Bt,ir=Nn+nn,Gn=Nn-nn,gn=ht+In,Pt=ht-In;Je[_t]=ir+gn,Je[_t+4]=ir-gn;var rn=.707106781*(Pt+Gn);Je[_t+2]=Gn+rn,Je[_t+6]=Gn-rn;var ea=.382683433*((ir=Vt+At)-(Pt=It+an)),pr=.5411961*ir+ea,ss=1.306562965*Pt+ea,mi=.707106781*(gn=At+It),Ct=an+mi,Cn=an-mi;Je[_t+5]=Cn+pr,Je[_t+3]=Cn-pr,Je[_t+1]=Ct+ss,Je[_t+7]=Ct-ss,_t+=8}for(_t=0,st=0;st<8;++st){tt=Je[_t],Yt=Je[_t+8],bt=Je[_t+16],mn=Je[_t+24],Bt=Je[_t+32],ct=Je[_t+40],wt=Je[_t+48];var $n=tt+(Tt=Je[_t+56]),Pn=tt-Tt,mr=Yt+wt,Zn=Yt-wt,Vr=bt+ct,cr=bt-ct,va=mn+Bt,as=mn-Bt,ai=$n+va,oi=$n-va,Ur=mr+Vr,Fr=mr-Vr;Je[_t]=ai+Ur,Je[_t+32]=ai-Ur;var Jn=.707106781*(Fr+oi);Je[_t+16]=oi+Jn,Je[_t+48]=oi-Jn;var Wn=.382683433*((ai=as+cr)-(Fr=Zn+Pn)),os=.5411961*ai+Wn,Ms=1.306562965*Fr+Wn,Ei=.707106781*(Ur=cr+Zn),ls=Pn+Ei,Xa=Pn-Ei;Je[_t+40]=Xa+os,Je[_t+24]=Xa-os,Je[_t+8]=ls+Ms,Je[_t+56]=ls-Ms,_t++}for(st=0;st<64;++st)Lt=Je[st]*yt[st],_[st]=Lt>0?Lt+.5|0:Lt-.5|0;return _})(R,q),ze=0;ze<64;++ze)j[$[ze]]=Be[ze];var nt=j[0]-Z;Z=j[0],nt==0?de(le[0]):(de(le[x[ge=32767+nt]]),de(A[ge]));for(var rt=63;rt>0&&j[rt]==0;)rt--;if(rt==0)return de(Ce),Z;for(var Me,ue=1;ue<=rt;){for(var tn=ue;j[ue]==0&&ue<=rt;)++ue;var Nt=ue-tn;if(Nt>=16){Me=Nt>>4;for(var Et=1;Et<=Me;++Et)de(ke);Nt&=15}ge=32767+j[ue],de(he[(Nt<<4)+x[ge]]),de(A[ge]),ue++}return rt!=63&&de(Ce),Z}function ce(R){R=Math.min(Math.max(R,1),100),o!=R&&((function(q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=u((Z[le]*q+50)/100);he=Math.min(Math.max(he,1),255),c[$[le]]=he}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var ke=u((ge[Ce]*q+50)/100);ke=Math.min(Math.max(ke,1),255),f[$[Ce]]=ke}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,nt=0;nt<8;nt++)for(var rt=0;rt<8;rt++)d[ze]=1/(c[$[ze]]*Be[nt]*Be[rt]*8),y[ze]=1/(f[$[ze]]*Be[nt]*Be[rt]*8),ze++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,q){q&&ce(q),O=new Array,F=0,B=7,_e(65496),_e(65504),_e(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),_e(1),_e(1),re(0),re(0),(function(){_e(65499),_e(132),re(0);for(var Yt=0;Yt<64;Yt++)re(c[Yt]);re(1);for(var bt=0;bt<64;bt++)re(f[bt])})(),(function(Yt,bt){_e(65472),_e(17),re(8),_e(bt),_e(Yt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(R.width,R.height),(function(){_e(65476),_e(418),re(0);for(var Yt=0;Yt<16;Yt++)re(k[Yt+1]);for(var bt=0;bt<=11;bt++)re(N[bt]);re(16);for(var mn=0;mn<16;mn++)re(z[mn+1]);for(var Bt=0;Bt<=161;Bt++)re(C[Bt]);re(1);for(var ct=0;ct<16;ct++)re(D[ct+1]);for(var wt=0;wt<=11;wt++)re(L[wt]);re(17);for(var Tt=0;Tt<16;Tt++)re(X[Tt+1]);for(var st=0;st<=161;st++)re(pe[st])})(),_e(65498),_e(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var Z=0,le=0,he=0;F=0,B=7,this.encode.displayName="_encode_";for(var ge,Ce,ke,Be,ze,nt,rt,Me,ue,tn=R.data,Nt=R.width,Et=R.height,Je=4*Nt,yt=0;yt<Et;){for(ge=0;ge<Je;){for(ze=Je*yt+ge,rt=-1,Me=0,ue=0;ue<64;ue++)nt=ze+(Me=ue>>3)*Je+(rt=4*(7&ue)),yt+Me>=Et&&(nt-=Je*(yt+1+Me-Et)),ge+rt>=Je&&(nt-=ge+rt-Je+4),Ce=tn[nt++],ke=tn[nt++],Be=tn[nt++],ne[ue]=(Te[Ce]+Te[ke+256|0]+Te[Be+512|0]>>16)-128,te[ue]=(Te[Ce+768|0]+Te[ke+1024|0]+Te[Be+1280|0]>>16)-128,ae[ue]=(Te[Ce+1280|0]+Te[ke+1536|0]+Te[Be+1792|0]>>16)-128;Z=Y(ne,d,Z,e,r),le=Y(te,y,le,t,s),he=Y(ae,y,he,t,s),ge+=32}yt+=8}if(B>=0){var tt=[];tt[1]=B+1,tt[0]=(1<<B+1)-1,de(tt)}return _e(65497),new Uint8Array(O)},n=n||50,(function(){for(var R=String.fromCharCode,q=0;q<256;q++)ve[q]=R(q)})(),e=ee(k,N),t=ee(D,L),r=ee(z,C),s=ee(X,pe),(function(){for(var R=1,q=2,Z=1;Z<=15;Z++){for(var le=R;le<q;le++)x[32767+le]=Z,A[32767+le]=[],A[32767+le][1]=Z,A[32767+le][0]=le;for(var he=-(q-1);he<=-R;he++)x[32767+he]=Z,A[32767+he]=[],A[32767+he][1]=Z,A[32767+he][0]=q-1+he;R<<=1,q<<=1}})(),(function(){for(var R=0;R<256;R++)Te[R]=19595*R,Te[R+256|0]=38470*R,Te[R+512|0]=7471*R+32768,Te[R+768|0]=-11059*R,Te[R+1024|0]=-21709*R,Te[R+1280|0]=32768*R+8421375,Te[R+1536|0]=-27439*R,Te[R+1792|0]=-5329*R})(),ce(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _o(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gw(n){function e(N){if(!N)throw Error("assert :P")}function t(N,z,C){for(var D=0;4>D;D++)if(N[z+D]!=C.charCodeAt(D))return!0;return!1}function r(N,z,C,D,L){for(var X=0;X<L;X++)N[z+X]=C[D+X]}function s(N,z,C,D){for(var L=0;L<D;L++)N[z+L]=C}function o(N){return new Int32Array(N)}function u(N,z){for(var C=[],D=0;D<N;D++)C.push(new z);return C}function c(N,z){var C=[];return(function D(L,X,pe){for(var ee=pe[X],de=0;de<ee&&(L.push(pe.length>X+1?[]:new z),!(pe.length<X+1));de++)D(L[de],X+1,pe)})(C,0,N),C}var f=function(){var N=this;function z(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function C(p,v,S,I,U){e(!(I%S));do p[v+(I-=S)]=U;while(0<I)}function D(p,v,S,I,U){if(e(2328>=U),512>=U)var H=o(512);else if((H=o(U))==null)return 0;return(function(G,K,J,oe,ye,Re){var ie,we,Ee=K,je=1<<J,Ie=o(16),Fe=o(16);for(e(ye!=0),e(oe!=null),e(G!=null),e(0<J),we=0;we<ye;++we){if(15<oe[we])return 0;++Ie[oe[we]]}if(Ie[0]==ye)return 0;for(Fe[1]=0,ie=1;15>ie;++ie){if(Ie[ie]>1<<ie)return 0;Fe[ie+1]=Fe[ie]+Ie[ie]}for(we=0;we<ye;++we)ie=oe[we],0<oe[we]&&(Re[Fe[ie]++]=we);if(Fe[15]==1)return(oe=new L).g=0,oe.value=Re[0],C(G,Ee,1,je,oe),je;var Ue,Xe=-1,We=je-1,vt=0,ot=1,Gt=1,ut=1<<J;for(we=0,ie=1,ye=2;ie<=J;++ie,ye<<=1){if(ot+=Gt<<=1,0>(Gt-=Ie[ie]))return 0;for(;0<Ie[ie];--Ie[ie])(oe=new L).g=ie,oe.value=Re[we++],C(G,Ee+vt,ye,ut,oe),vt=z(vt,ie)}for(ie=J+1,ye=2;15>=ie;++ie,ye<<=1){if(ot+=Gt<<=1,0>(Gt-=Ie[ie]))return 0;for(;0<Ie[ie];--Ie[ie]){if(oe=new L,(vt&We)!=Xe){for(Ee+=ut,Ue=1<<(Xe=ie)-J;15>Xe&&!(0>=(Ue-=Ie[Xe]));)++Xe,Ue<<=1;je+=ut=1<<(Ue=Xe-J),G[K+(Xe=vt&We)].g=Ue+J,G[K+Xe].value=Ee-K-Xe}oe.g=ie-J,oe.value=Re[we++],C(G,Ee+(vt>>J),ye,ut,oe),vt=z(vt,ie)}}return ot!=2*Fe[15]-1?0:je})(p,v,S,I,U,H)}function L(){this.value=this.g=0}function X(){this.value=this.g=0}function pe(){this.G=u(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(qs,X)}function ee(p,v,S,I){e(p!=null),e(v!=null),e(2147483648>I),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+I,p.Zc=4<=I?S+I-4+1:S,Ce(p)}function de(p,v){for(var S=0;0<v--;)S|=Be(p,128)<<v;return S}function re(p,v){var S=de(p,v);return ke(p)?-S:S}function _e(p,v,S,I){var U,H=0;for(e(p!=null),e(v!=null),e(4294967288>I),p.Sb=I,p.Ra=0,p.u=0,p.h=0,4<I&&(I=4),U=0;U<I;++U)H+=v[S+U]<<8*U;p.Ra=H,p.bb=I,p.oa=v,p.pa=S}function Y(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<so-8>>>0,++p.bb,p.u-=8;le(p)&&(p.h=1,p.u=0)}function ce(p,v){if(e(0<=v),!p.h&&v<=eu){var S=Z(p)&Ca[v];return p.u+=v,Y(p),S}return p.h=1,p.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&so-1)>>>0}function le(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>so}function he(p,v){p.u=v,p.h=le(p)}function ge(p){p.u>=wr&&(e(p.u>=wr),Y(p))}function Ce(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return de(p,1)}function Be(p,v){var S=p.Ca;0>p.b&&Ce(p);var I=p.b,U=S*v>>>8,H=(p.I>>>I>U)+0;for(H?(S-=U,p.I-=U+1<<I>>>0):S=U+1,I=S,U=0;256<=I;)U+=8,I>>=8;return I=7^U+af[I],p.b-=I,p.Ca=(S<<I)-1,H}function ze(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function nt(p,v){return p[v+0]|p[v+1]<<8}function rt(p,v){return nt(p,v)|p[v+2]<<16}function Me(p,v){return nt(p,v)|nt(p,v+2)<<16}function ue(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function tn(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Nt(){this.X=[],this.Xa=this.Mb=0}function Et(p,v,S,I){e(S!=null),e(I!=null);var U=S[0],H=I[0];return U==0&&(U=(p*H+v/2)/v),H==0&&(H=(v*U+p/2)/p),0>=U||0>=H?0:(S[0]=U,I[0]=H,1)}function Je(p,v){return p+(1<<v)-1>>>v}function yt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function tt(p,v){N[v]=function(S,I,U,H,G,K,J){var oe;for(oe=0;oe<G;++oe){var ye=N[p](K[J+oe-1],U,H+oe);K[J+oe]=yt(S[I+oe],ye)}}}function Yt(){this.ud=this.hd=this.jd=0}function bt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function mn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Bt(p,v){return mn(p+(p-v+.5>>1))}function ct(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function wt(p,v,S,I,U,H,G){for(I=H[G-1],S=0;S<U;++S)H[G+S]=I=yt(p[v+S],I)}function Tt(p,v,S,I,U){var H;for(H=0;H<S;++H){var G=p[v+H],K=G>>8&255,J=16711935&(J=(J=16711935&G)+((K<<16)+K));I[U+H]=(4278255360&G)+J>>>0}}function st(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Lt(p,v,S,I,U,H){var G;for(G=0;G<I;++G){var K=v[S+G],J=K>>>8,oe=K,ye=255&(ye=(ye=K>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),U[H+G]=(4278255360&K)+(ye<<16)+oe}}function _t(p,v,S,I,U){N[v]=function(H,G,K,J,oe,ye,Re,ie,we){for(J=Re;J<ie;++J)for(Re=0;Re<we;++Re)oe[ye++]=U(K[I(H[G++])])},N[p]=function(H,G,K,J,oe,ye,Re){var ie=8>>H.b,we=H.Ea,Ee=H.K[0],je=H.w;if(8>ie)for(H=(1<<H.b)-1,je=(1<<ie)-1;G<K;++G){var Ie,Fe=0;for(Ie=0;Ie<we;++Ie)Ie&H||(Fe=I(J[oe++])),ye[Re++]=U(Ee[Fe&je]),Fe>>=ie}else N["VP8LMapColor"+S](J,oe,Ee,je,ye,Re,G,K,we)}}function Nn(p,v,S,I,U){for(S=v+S;v<S;){var H=p[v++];I[U++]=H>>16&255,I[U++]=H>>8&255,I[U++]=255&H}}function an(p,v,S,I,U){for(S=v+S;v<S;){var H=p[v++];I[U++]=H>>16&255,I[U++]=H>>8&255,I[U++]=255&H,I[U++]=H>>24&255}}function ht(p,v,S,I,U){for(S=v+S;v<S;){var H=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;I[U++]=H,I[U++]=G}}function It(p,v,S,I,U){for(S=v+S;v<S;){var H=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;I[U++]=H,I[U++]=G}}function In(p,v,S,I,U){for(S=v+S;v<S;){var H=p[v++];I[U++]=255&H,I[U++]=H>>8&255,I[U++]=H>>16&255}}function At(p,v,S,I,U,H){if(H==0)for(S=v+S;v<S;)ze(I,((H=p[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),U+=32;else r(I,U,p,v,S)}function nn(p,v){N[v][0]=N[p+"0"],N[v][1]=N[p+"1"],N[v][2]=N[p+"2"],N[v][3]=N[p+"3"],N[v][4]=N[p+"4"],N[v][5]=N[p+"5"],N[v][6]=N[p+"6"],N[v][7]=N[p+"7"],N[v][8]=N[p+"8"],N[v][9]=N[p+"9"],N[v][10]=N[p+"10"],N[v][11]=N[p+"11"],N[v][12]=N[p+"12"],N[v][13]=N[p+"13"],N[v][14]=N[p+"0"],N[v][15]=N[p+"0"]}function Vt(p){return p==ac||p==Uo||p==oo||p==su}function ir(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ir,this.f.kb=new Gn,this.sd=null}function Pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ea(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function pr(p,v){var S=p.T,I=v.ba.f.RGBA,U=I.eb,H=I.fb+p.ka*I.A,G=ci[v.ba.S],K=p.y,J=p.O,oe=p.f,ye=p.N,Re=p.ea,ie=p.W,we=v.cc,Ee=v.dc,je=v.Mc,Ie=v.Nc,Fe=p.ka,Ue=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(Fe==0?G(K,J,null,null,oe,ye,Re,ie,oe,ye,Re,ie,U,H,null,null,Xe):(G(v.ec,v.fc,K,J,we,Ee,je,Ie,oe,ye,Re,ie,U,H-I.A,U,H,Xe),++S);Fe+2<Ue;Fe+=2)we=oe,Ee=ye,je=Re,Ie=ie,ye+=p.Rc,ie+=p.Rc,H+=2*I.A,G(K,(J+=2*p.fa)-p.fa,K,J,we,Ee,je,Ie,oe,ye,Re,ie,U,H-I.A,U,H,Xe);return J+=p.fa,p.j+Ue<p.o?(r(v.ec,v.fc,K,J,Xe),r(v.cc,v.dc,oe,ye,We),r(v.Mc,v.Nc,Re,ie,We),S--):1&Ue||G(K,J,null,null,oe,ye,Re,ie,oe,ye,Re,ie,U,H+I.A,null,null,Xe),S}function ss(p,v,S){var I=p.F,U=[p.J];if(I!=null){var H=p.U,G=v.ba.S,K=G==vl||G==oo;v=v.ba.f.RGBA;var J=[0],oe=p.ka;J[0]=p.T,p.Kb&&(oe==0?--J[0]:(--oe,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-oe));var ye=v.eb;oe=v.fb+oe*v.A,p=Rs(I,U[0],p.width,H,J,ye,oe+(K?0:3),v.A),e(S==J),p&&Vt(G)&&ru(ye,oe,K,H,J,v.A)}return 0}function mi(p){var v=p.ma,S=v.ba.S,I=11>S,U=S==iu||S==sc||S==vl||S==ao||S==12||Vt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!bi(v.Oa,p,U?11:12))return 0;if(U&&Vt(S)&&Do(),p.da)alert("todo:use_scaling");else{if(I){if(v.Ib=ea,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=pr,Do()}}else alert("todo:EmitYUV");U&&(v.Jb=ss,I&&Rr())}if(I&&!rp){for(p=0;256>p;++p)Vg[p]=89858*(p-128)+Kr>>Fa,uc[p]=-22014*(p-128)+Kr,pf[p]=-45773*(p-128),Qr[p]=113618*(p-128)+Kr>>Fa;for(p=qo;p<th;++p)v=76283*(p-16)+Kr>>Fa,cc[p-qo]=fn(v,255),mf[p-qo]=fn(v+8>>4,15);rp=1}return 1}function Ct(p){var v=p.ma,S=p.U,I=p.T;return e(!(1&p.ka)),0>=S||0>=I?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Cn(p){p.ma.memory=null}function $n(p,v,S,I){return ce(p,8)!=47?0:(v[0]=ce(p,14)+1,S[0]=ce(p,14)+1,I[0]=ce(p,1),ce(p,3)!=0?0:!p.h)}function Pn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+ce(v,S)+1}function mr(p,v){return 120<v?v-120:1<=(S=((S=uo[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Zn(p,v,S){var I=Z(S),U=p[v+=255&I].g-8;return 0<U&&(he(S,S.u+8),I=Z(S),v+=p[v].value,v+=I&(1<<U)-1),he(S,S.u+p[v].g),p[v].value}function Vr(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function cr(p,v,S){var I=p.xc;return e((v=I==0?0:p.vc[p.md*(S>>I)+(v>>I)])<p.Wb),p.Ya[v]}function va(p,v,S,I){var U=p.ab,H=p.c*v,G=p.C;v=G+v;var K=S,J=I;for(I=p.Ta,S=p.Ua;0<U--;){var oe=p.gc[U],ye=G,Re=v,ie=K,we=J,Ee=(J=I,K=S,oe.Ea);switch(e(ye<Re),e(Re<=oe.nc),oe.hc){case 2:tu(ie,we,(Re-ye)*Ee,J,K);break;case 0:var je=ye,Ie=Re,Fe=J,Ue=K,Xe=(ut=oe).Ea;je==0&&(Ra(ie,we,null,null,1,Fe,Ue),wt(ie,we+1,0,0,Xe-1,Fe,Ue+1),we+=Xe,Ue+=Xe,++je);for(var We=1<<ut.b,vt=We-1,ot=Je(Xe,ut.b),Gt=ut.K,ut=ut.w+(je>>ut.b)*ot;je<Ie;){var dn=Gt,Hr=ut,zt=1;for(La(ie,we,Fe,Ue-Xe,1,Fe,Ue);zt<Xe;){var ft=(zt&~vt)+We;ft>Xe&&(ft=Xe),(0,jo[dn[Hr++]>>8&15])(ie,we+ +zt,Fe,Ue+zt-Xe,ft-zt,Fe,Ue+zt),zt=ft}we+=Xe,Ue+=Xe,++je&vt||(ut+=ot)}Re!=oe.nc&&r(J,K-Ee,J,K+(Re-ye-1)*Ee,Ee);break;case 1:for(Ee=ie,Ie=we,Xe=(ie=oe.Ea)-(Ue=ie&~(Fe=(we=1<<oe.b)-1)),je=Je(ie,oe.b),We=oe.K,oe=oe.w+(ye>>oe.b)*je;ye<Re;){for(vt=We,ot=oe,Gt=new Yt,ut=Ie+Ue,dn=Ie+ie;Ie<ut;)st(vt[ot++],Gt),Pa(Gt,Ee,Ie,we,J,K),Ie+=we,K+=we;Ie<dn&&(st(vt[ot++],Gt),Pa(Gt,Ee,Ie,Xe,J,K),Ie+=Xe,K+=Xe),++ye&Fe||(oe+=je)}break;case 3:if(ie==J&&we==K&&0<oe.b){for(Ie=J,ie=Ee=K+(Re-ye)*Ee-(Ue=(Re-ye)*Je(oe.Ea,oe.b)),we=J,Fe=K,je=[],Ue=(Xe=Ue)-1;0<=Ue;--Ue)je[Ue]=we[Fe+Ue];for(Ue=Xe-1;0<=Ue;--Ue)Ie[ie+Ue]=je[Ue];nc(oe,ye,Re,J,Ee,J,K)}else nc(oe,ye,Re,ie,we,J,K)}K=I,J=S}J!=S&&r(I,S,K,J,H)}function as(p,v){var S=p.V,I=p.Ba+p.c*p.C,U=v-p.C;if(e(v<=p.l.o),e(16>=U),0<U){var H=p.l,G=p.Ta,K=p.Ua,J=H.width;if(va(p,U,S,I),U=K=[K],e((S=p.C)<(I=v)),e(H.v<H.va),I>H.o&&(I=H.o),S<H.j){var oe=H.j-S;S=H.j,U[0]+=oe*J}if(S>=I?S=0:(U[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=I-S,S=1),S){if(K=K[0],11>(S=p.ca).S){var ye=S.f.RGBA,Re=(I=S.S,U=H.U,H=H.T,oe=ye.eb,ye.A),ie=H;for(ye=ye.fb+p.Ma*ye.A;0<ie--;){var we=G,Ee=K,je=U,Ie=oe,Fe=ye;switch(I){case Ri:nu(we,Ee,je,Ie,Fe);break;case iu:Gi(we,Ee,je,Ie,Fe);break;case ac:Gi(we,Ee,je,Ie,Fe),ru(Ie,Fe,0,je,1,0);break;case Ma:zn(we,Ee,je,Ie,Fe);break;case sc:At(we,Ee,je,Ie,Fe,1);break;case Uo:At(we,Ee,je,Ie,Fe,1),ru(Ie,Fe,0,je,1,0);break;case vl:At(we,Ee,je,Ie,Fe,0);break;case oo:At(we,Ee,je,Ie,Fe,0),ru(Ie,Fe,1,je,1,0);break;case ao:Da(we,Ee,je,Ie,Fe);break;case su:Da(we,Ee,je,Ie,Fe),Cs(Ie,Fe,je,1,0);break;case Qc:On(we,Ee,je,Ie,Fe);break;default:e(0)}K+=J,ye+=Re}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function ai(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,I=p.Ya[v].H;if(0<S[1][I[1]+0].g||0<S[2][I[2]+0].g||0<S[3][I[3]+0].g)return 0}return 1}function oi(p,v,S,I,U,H){if(p.Z!=0){var G=p.qd,K=p.rd;for(e(Va[p.Z]!=null);v<S;++v)Va[p.Z](G,K,I,U,I,U,H),G=I,K=U,U+=H;p.qd=G,p.rd=K}}function Ur(p,v){var S=p.l.ma,I=S.Z==0||S.Z==1?p.l.j:p.C;if(I=p.C<I?I:p.C,e(v<=p.l.o),v>I){var U=p.l.width,H=S.ca,G=S.tb+U*I,K=p.V,J=p.Ba+p.c*I,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),ka(oe[0],I,v,K,J,H,G),oi(S,I,v,H,G,U)}p.C=p.Ma=v}function Fr(p,v,S,I,U,H,G){var K=p.$/I,J=p.$%I,oe=p.m,ye=p.s,Re=S+p.$,ie=Re;U=S+I*U;var we=S+I*H,Ee=280+ye.ua,je=p.Pb?K:16777216,Ie=0<ye.ua?ye.Wa:null,Fe=ye.wc,Ue=Re<we?cr(ye,J,K):null;e(p.C<H),e(we<=U);var Xe=!1;e:for(;;){for(;Xe||Re<we;){var We=0;if(K>=je){var vt=Re-S;e((je=p).Pb),je.wd=je.m,je.xd=vt,0<je.s.ua&&tn(je.s.Wa,je.s.vb),je=K+ep}if(J&Fe||(Ue=cr(ye,J,K)),e(Ue!=null),Ue.Qb&&(v[Re]=Ue.qb,Xe=!0),!Xe)if(ge(oe),Ue.jc){We=oe,vt=v;var ot=Re,Gt=Ue.pd[Z(We)&qs-1];e(Ue.jc),256>Gt.g?(he(We,We.u+Gt.g),vt[ot]=Gt.value,We=0):(he(We,We.u+Gt.g-256),e(256<=Gt.value),We=Gt.value),We==0&&(Xe=!0)}else We=Zn(Ue.G[0],Ue.H[0],oe);if(oe.h)break;if(Xe||256>We){if(!Xe)if(Ue.nd)v[Re]=(Ue.qb|We<<8)>>>0;else{if(ge(oe),Xe=Zn(Ue.G[1],Ue.H[1],oe),ge(oe),vt=Zn(Ue.G[2],Ue.H[2],oe),ot=Zn(Ue.G[3],Ue.H[3],oe),oe.h)break;v[Re]=(ot<<24|Xe<<16|We<<8|vt)>>>0}if(Xe=!1,++Re,++J>=I&&(J=0,++K,G!=null&&K<=H&&!(K%16)&&G(p,K),Ie!=null))for(;ie<Re;)We=v[ie++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else if(280>We){if(We=Pn(We-256,oe),vt=Zn(Ue.G[4],Ue.H[4],oe),ge(oe),vt=mr(I,vt=Pn(vt,oe)),oe.h)break;if(Re-S<vt||U-Re<We)break e;for(ot=0;ot<We;++ot)v[Re+ot]=v[Re+ot-vt];for(Re+=We,J+=We;J>=I;)J-=I,++K,G!=null&&K<=H&&!(K%16)&&G(p,K);if(e(Re<=U),J&Fe&&(Ue=cr(ye,J,K)),Ie!=null)for(;ie<Re;)We=v[ie++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else{if(!(We<Ee))break e;for(Xe=We-280,e(Ie!=null);ie<Re;)We=v[ie++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We;We=Re,e(!(Xe>>>(vt=Ie).Xa)),v[We]=vt.X[Xe],Xe=!0}Xe||e(oe.h==le(oe))}if(p.Pb&&oe.h&&Re<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&tn(p.s.vb,p.s.Wa);else{if(oe.h)break e;G?.(p,K>H?H:K),p.a=0,p.$=Re-S}return 1}return p.a=3,0}function Jn(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Wn(){var p=new er;return p==null?null:(p.a=0,p.xb=au,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),tu=Tt,Pa=Lt,nu=Nn,Gi=an,Da=ht,On=It,zn=In,N.VP8LMapColor32b=li,N.VP8LMapColor8b=Mo,p)}function os(p,v,S,I,U){var H=1,G=[p],K=[v],J=I.m,oe=I.s,ye=null,Re=0;e:for(;;){if(S)for(;H&&ce(J,1);){var ie=G,we=K,Ee=I,je=1,Ie=Ee.m,Fe=Ee.gc[Ee.ab],Ue=ce(Ie,2);if(Ee.Oc&1<<Ue)H=0;else{switch(Ee.Oc|=1<<Ue,Fe.hc=Ue,Fe.Ea=ie[0],Fe.nc=we[0],Fe.K=[null],++Ee.ab,e(4>=Ee.ab),Ue){case 0:case 1:Fe.b=ce(Ie,3)+2,je=os(Je(Fe.Ea,Fe.b),Je(Fe.nc,Fe.b),0,Ee,Fe.K),Fe.K=Fe.K[0];break;case 3:var Xe,We=ce(Ie,8)+1,vt=16<We?0:4<We?1:2<We?2:3;if(ie[0]=Je(Fe.Ea,vt),Fe.b=vt,Xe=je=os(We,1,0,Ee,Fe.K)){var ot,Gt=We,ut=Fe,dn=1<<(8>>ut.b),Hr=o(dn);if(Hr==null)Xe=0;else{var zt=ut.K[0],ft=ut.w;for(Hr[0]=ut.K[0][0],ot=1;ot<1*Gt;++ot)Hr[ot]=yt(zt[ft+ot],Hr[ot-1]);for(;ot<4*dn;++ot)Hr[ot]=0;ut.K[0]=null,ut.K[0]=Hr,Xe=1}}je=Xe;break;case 2:break;default:e(0)}H=je}}if(G=G[0],K=K[0],H&&ce(J,1)&&!(H=1<=(Re=ce(J,4))&&11>=Re)){I.a=3;break e}var et;if(et=H)t:{var vr,$t,Jt,dt=I,Kt=G,wn=K,or=Re,kr=S,Pr=dt.m,Sr=dt.s,hn=[null],An=1,xr=0,Ot=_l[or];n:for(;;){if(kr&&ce(Pr,1)){var Xr=ce(Pr,3)+2,Ps=Je(Kt,Xr),Er=Je(wn,Xr),Yi=Ps*Er;if(!os(Ps,Er,0,dt,hn))break n;for(hn=hn[0],Sr.xc=Xr,vr=0;vr<Yi;++vr){var Yn=hn[vr]>>8&65535;hn[vr]=Yn,Yn>=An&&(An=Yn+1)}}if(Pr.h)break n;for($t=0;5>$t;++$t){var Dr=Ls[$t];!$t&&0<or&&(Dr+=1<<or),xr<Dr&&(xr=Dr)}var Ki=u(An*Ot,L),_i=An,tr=u(_i,pe);if(tr==null)var Rn=null;else e(65536>=_i),Rn=tr;var Li=o(xr);if(Rn==null||Li==null||Ki==null){dt.a=1;break n}var wi=Ki;for(vr=Jt=0;vr<An;++vr){var Fn=Rn[vr],Qi=Fn.G,Zr=Fn.H,Ba=0,oa=1,Jr=0;for($t=0;5>$t;++$t){Dr=Ls[$t],Qi[$t]=wi,Zr[$t]=Jt,!$t&&0<or&&(Dr+=1<<or);i:{var hc,nh=Dr,fc=dt,lu=Li,ap=wi,op=Jt,dc=0,po=fc.m,Fg=ce(po,1);if(s(lu,0,0,nh),Fg){var lp=ce(po,1)+1,up=ce(po,1),gf=ce(po,up==0?1:8);lu[gf]=1,lp==2&&(lu[gf=ce(po,8)]=1);var uu=1}else{var yf=o(19),vf=ce(po,4)+4;if(19<vf){fc.a=3;var pc=0;break i}for(hc=0;hc<vf;++hc)yf[lo[hc]]=ce(po,3);var rh=void 0,cu=void 0,cp=fc,hp=yf,mo=nh,mc=lu,ih=0,la=cp.m,hu=8,bf=u(128,L);r:for(;D(bf,0,7,hp,19);){if(ce(la,1)){var fp=2+2*ce(la,3);if((rh=2+ce(la,fp))>mo)break r}else rh=mo;for(cu=0;cu<mo&&rh--;){ge(la);var _f=bf[0+(127&Z(la))];he(la,la.u+_f.g);var Sl=_f.value;if(16>Sl)mc[cu++]=Sl,Sl!=0&&(hu=Sl);else{var dp=Sl==16,wf=Sl-16,Af=$s[wf],Sf=ce(la,Xc[wf])+Af;if(cu+Sf>mo)break r;for(var pp=dp?hu:0;0<Sf--;)mc[cu++]=pp}}ih=1;break r}ih||(cp.a=3),uu=ih}(uu=uu&&!po.h)&&(dc=D(ap,op,8,lu,nh)),uu&&dc!=0?pc=dc:(fc.a=3,pc=0)}if(pc==0)break n;if(oa&&bl[$t]==1&&(oa=wi[Jt].g==0),Ba+=wi[Jt].g,Jt+=pc,3>=$t){var xl,sh=Li[0];for(xl=1;xl<Dr;++xl)Li[xl]>sh&&(sh=Li[xl]);Jr+=sh}}if(Fn.nd=oa,Fn.Qb=0,oa&&(Fn.qb=(Qi[3][Zr[3]+0].value<<24|Qi[1][Zr[1]+0].value<<16|Qi[2][Zr[2]+0].value)>>>0,Ba==0&&256>Qi[0][Zr[0]+0].value&&(Fn.Qb=1,Fn.qb+=Qi[0][Zr[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Jr,Fn.jc){var gc,go=Fn;for(gc=0;gc<qs;++gc){var qa=gc,yo=go.pd[qa],yc=go.G[0][go.H[0]+qa];256<=yc.value?(yo.g=yc.g+256,yo.value=yc.value):(yo.g=0,yo.value=0,qa>>=Vr(yc,8,yo),qa>>=Vr(go.G[1][go.H[1]+qa],16,yo),qa>>=Vr(go.G[2][go.H[2]+qa],0,yo),Vr(go.G[3][go.H[3]+qa],24,yo))}}}Sr.vc=hn,Sr.Wb=An,Sr.Ya=Rn,Sr.yc=Ki,et=1;break t}et=0}if(!(H=et)){I.a=3;break e}if(0<Re){if(oe.ua=1<<Re,!ue(oe.Wa,Re)){I.a=1,H=0;break e}}else oe.ua=0;var vc=I,xf=G,mp=K,Ef=vc.s,Tf=Ef.xc;if(vc.c=xf,vc.i=mp,Ef.md=Je(xf,Tf),Ef.wc=Tf==0?-1:(1<<Tf)-1,S){I.xb=np;break e}if((ye=o(G*K))==null){I.a=1,H=0;break e}H=(H=Fr(I,ye,0,G,K,K,null))&&!J.h;break e}return H?(U!=null?U[0]=ye:(e(ye==null),e(S)),I.$=0,S||Jn(oe)):Jn(oe),H}function Ms(p,v){var S=p.c*p.i,I=S+v+16*v;return e(p.c<=v),p.V=o(I),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Ei(p,v){var S=p.C,I=v-S,U=p.V,H=p.Ba+p.c*S;for(e(v<=p.l.o);0<I;){var G=16<I?16:I,K=p.l.ma,J=p.l.width,oe=J*G,ye=K.ca,Re=K.tb+J*S,ie=p.Ta,we=p.Ua;va(p,G,U,H),ml(ie,we,ye,Re,oe),oi(K,S,S+G,ye,Re,J),I-=G,U+=G*p.c,S+=G}e(S==v),p.C=p.Ma=v}function ls(){this.ub=this.yd=this.td=this.Rb=0}function Xa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ql(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ta(){this.Yb=(function(){var p=[];return(function v(S,I,U){for(var H=U[I],G=0;G<H&&(S.push(U.length>I+1?[]:0),!(U.length<I+1));G++)v(S[G],I+1,U)})(p,0,[3,11]),p})()}function cl(){this.jb=o(3),this.Wc=c([4,8],ta),this.Xc=c([4,17],ta)}function na(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function Cr(){this.Na=this.la=0}function ba(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Co(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function js(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new Co),this.aa=0,this.l=new _a}function Za(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ja(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new ls,this.Kc=new Xa,this.ed=new na,this.Qa=new Ql,this.Ic=this.$c=this.Aa=0,this.D=new js,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,R),this.ia=0,this.pb=u(4,ba),this.Pa=new cl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new Cr),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Co),this.L=this.aa=0,this.gd=c([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _a(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ro(){var p=new Ja;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Yr||(Yr=us)),p}function bn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Lo(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Xl(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return bn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,I=v.w,U=v.ha;if(4>U)return bn(p,7,"Truncated header.");var H=S[I+0]|S[I+1]<<8|S[I+2]<<16,G=p.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return bn(p,3,"Incorrect keyframe parameters.");if(!G.yd)return bn(p,4,"Frame not displayable.");I+=3,U-=3;var K=p.Kc;if(G.Rb){if(7>U)return bn(p,7,"cannot parse picture header");if(!Lo(S,I,U))return bn(p,3,"Bad code word");K.c=16383&(S[I+4]<<8|S[I+3]),K.Td=S[I+4]>>6,K.i=16383&(S[I+6]<<8|S[I+5]),K.Ud=S[I+6]>>6,I+=7,U-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(G.ub>U)return bn(p,7,"bad partition length");ee(H=p.m,S,I,G.ub),I+=G.ub,U-=G.ub,G.Rb&&(K.Ld=ke(H),K.Kd=ke(H)),K=p.Qa;var J,oe=p.Pa;if(e(H!=null),e(K!=null),K.Cb=ke(H),K.Cb){if(K.Bb=ke(H),ke(H)){for(K.Fb=ke(H),J=0;4>J;++J)K.Zb[J]=ke(H)?re(H,7):0;for(J=0;4>J;++J)K.Lb[J]=ke(H)?re(H,6):0}if(K.Bb)for(J=0;3>J;++J)oe.jb[J]=ke(H)?de(H,8):255}else K.Bb=0;if(H.Ka)return bn(p,3,"cannot parse segment header");if((K=p.ed).zd=ke(H),K.Tb=de(H,6),K.wb=de(H,3),K.Pc=ke(H),K.Pc&&ke(H)){for(oe=0;4>oe;++oe)ke(H)&&(K.vd[oe]=re(H,6));for(oe=0;4>oe;++oe)ke(H)&&(K.od[oe]=re(H,6))}if(p.L=K.Tb==0?0:K.zd?1:2,H.Ka)return bn(p,3,"cannot parse filter header");var ye=U;if(U=J=I,I=J+ye,K=ye,p.Xb=(1<<de(p.m,2))-1,ye<3*(oe=p.Xb))S=7;else{for(J+=3*oe,K-=3*oe,ye=0;ye<oe;++ye){var Re=S[U+0]|S[U+1]<<8|S[U+2]<<16;Re>K&&(Re=K),ee(p.Jc[+ye],S,J,Re),J+=Re,K-=Re,U+=3}ee(p.Jc[+oe],S,J,K),S=J<I?0:5}if(S!=0)return bn(p,S,"cannot parse partitions");for(S=de(J=p.m,7),U=ke(J)?re(J,4):0,I=ke(J)?re(J,4):0,K=ke(J)?re(J,4):0,oe=ke(J)?re(J,4):0,J=ke(J)?re(J,4):0,ye=p.Qa,Re=0;4>Re;++Re){if(ye.Cb){var ie=ye.Zb[Re];ye.Fb||(ie+=S)}else{if(0<Re){p.pb[Re]=p.pb[0];continue}ie=S}var we=p.pb[Re];we.Sc[0]=oc[fn(ie+U,127)],we.Sc[1]=lc[fn(ie+0,127)],we.Eb[0]=2*oc[fn(ie+I,127)],we.Eb[1]=101581*lc[fn(ie+K,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=oc[fn(ie+oe,117)],we.Qc[1]=lc[fn(ie+J,127)],we.lc=ie+J}if(!G.Rb)return bn(p,4,"Not a key frame.");for(ke(H),G=p.Pa,S=0;4>S;++S){for(U=0;8>U;++U)for(I=0;3>I;++I)for(K=0;11>K;++K)oe=Be(H,wl[S][U][I][K])?de(H,8):ja[S][U][I][K],G.Wc[S][U].Yb[I][K]=oe;for(U=0;17>U;++U)G.Xc[S][U]=G.Wc[S][tp[U]]}return p.kc=ke(H),p.kc&&(p.Bd=de(H,8)),p.cb=1}function us(p,v,S,I,U,H,G){var K=v[U].Yb[S];for(S=0;16>U;++U){if(!Be(p,K[S+0]))return U;for(;!Be(p,K[S+1]);)if(K=v[++U].Yb[0],S=0,U==16)return 16;var J=v[U+1].Yb;if(Be(p,K[S+2])){var oe=p,ye=0;if(Be(oe,(ie=K)[(Re=S)+3]))if(Be(oe,ie[Re+6])){for(K=0,Re=2*(ye=Be(oe,ie[Re+8]))+(ie=Be(oe,ie[Re+9+ye])),ye=0,ie=Ar[Re];ie[K];++K)ye+=ye+Be(oe,ie[K]);ye+=3+(8<<Re)}else Be(oe,ie[Re+7])?(ye=7+2*Be(oe,165),ye+=Be(oe,145)):ye=5+Be(oe,159);else ye=Be(oe,ie[Re+4])?3+Be(oe,ie[Re+5]):2;K=J[2]}else ye=1,K=J[1];J=G+Mn[U],0>(oe=p).b&&Ce(oe);var Re,ie=oe.b,we=(Re=oe.Ca>>1)-(oe.I>>ie)>>31;--oe.b,oe.Ca+=we,oe.Ca|=1,oe.I-=(Re+1&we)<<ie,H[J]=((ye^we)-we)*I[(0<U)+0]}return 16}function ra(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function gi(p,v,S,I,U){U=p[v+S+32*I]+(U>>3),p[v+S+32*I]=-256&U?0>U?0:255:U}function eo(p,v,S,I,U,H){gi(p,v,0,S,I+U),gi(p,v,1,S,I+H),gi(p,v,2,S,I-H),gi(p,v,3,S,I-U)}function en(p){return(20091*p>>16)+p}function yi(p,v,S,I){var U,H=0,G=o(16);for(U=0;4>U;++U){var K=p[v+0]+p[v+8],J=p[v+0]-p[v+8],oe=(35468*p[v+4]>>16)-en(p[v+12]),ye=en(p[v+4])+(35468*p[v+12]>>16);G[H+0]=K+ye,G[H+1]=J+oe,G[H+2]=J-oe,G[H+3]=K-ye,H+=4,v++}for(U=H=0;4>U;++U)K=(p=G[H+0]+4)+G[H+8],J=p-G[H+8],oe=(35468*G[H+4]>>16)-en(G[H+12]),gi(S,I,0,0,K+(ye=en(G[H+4])+(35468*G[H+12]>>16))),gi(S,I,1,0,J+oe),gi(S,I,2,0,J-oe),gi(S,I,3,0,K-ye),H++,I+=32}function to(p,v,S,I){var U=p[v+0]+4,H=35468*p[v+4]>>16,G=en(p[v+4]),K=35468*p[v+1]>>16;eo(S,I,0,U+G,p=en(p[v+1]),K),eo(S,I,1,U+H,p,K),eo(S,I,2,U-H,p,K),eo(S,I,3,U-G,p,K)}function wa(p,v,S,I,U){yi(p,v,S,I),U&&yi(p,v+16,S,I+4)}function ia(p,v,S,I){yr(p,v+0,S,I,1),yr(p,v+32,S,I+128,1)}function on(p,v,S,I){var U;for(p=p[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)gi(S,I,v,U,p)}function Aa(p,v,S,I){p[v+0]&&$i(p,v+0,S,I),p[v+16]&&$i(p,v+16,S,I+4),p[v+32]&&$i(p,v+32,S,I+128),p[v+48]&&$i(p,v+48,S,I+128+4)}function Vi(p,v,S,I){var U,H=o(16);for(U=0;4>U;++U){var G=p[v+0+U]+p[v+12+U],K=p[v+4+U]+p[v+8+U],J=p[v+4+U]-p[v+8+U],oe=p[v+0+U]-p[v+12+U];H[0+U]=G+K,H[8+U]=G-K,H[4+U]=oe+J,H[12+U]=oe-J}for(U=0;4>U;++U)G=(p=H[0+4*U]+3)+H[3+4*U],K=H[1+4*U]+H[2+4*U],J=H[1+4*U]-H[2+4*U],oe=p-H[3+4*U],S[I+0]=G+K>>3,S[I+16]=oe+J>>3,S[I+32]=G-K>>3,S[I+48]=oe-J>>3,I+=64}function cs(p,v,S){var I,U=v-32,H=ui,G=255-p[U-1];for(I=0;I<S;++I){var K,J=H,oe=G+p[v-1];for(K=0;K<S;++K)p[v+K]=J[oe+p[U+K]];v+=32}}function ko(p,v){cs(p,v,4)}function hl(p,v){cs(p,v,8)}function fl(p,v){cs(p,v,16)}function tc(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function dl(p,v){var S;for(S=16;0<S;--S)s(p,v,p[v-1],16),v+=32}function Vs(p,v,S){var I;for(I=0;16>I;++I)s(v,S+32*I,p,16)}function Ti(p,v){var S,I=16;for(S=0;16>S;++S)I+=p[v-1+32*S]+p[v+S-32];Vs(I>>5,p,v)}function hs(p,v){var S,I=8;for(S=0;16>S;++S)I+=p[v-1+32*S];Vs(I>>4,p,v)}function Ui(p,v){var S,I=8;for(S=0;16>S;++S)I+=p[v+S-32];Vs(I>>4,p,v)}function xs(p,v){Vs(128,p,v)}function Dt(p,v,S){return p+2*v+S+2>>2}function Us(p,v){var S,I=v-32;for(I=new Uint8Array([Dt(p[I-1],p[I+0],p[I+1]),Dt(p[I+0],p[I+1],p[I+2]),Dt(p[I+1],p[I+2],p[I+3]),Dt(p[I+2],p[I+3],p[I+4])]),S=0;4>S;++S)r(p,v+32*S,I,0,I.length)}function Zl(p,v){var S=p[v-1],I=p[v-1+32],U=p[v-1+64],H=p[v-1+96];ze(p,v+0,16843009*Dt(p[v-1-32],S,I)),ze(p,v+32,16843009*Dt(S,I,U)),ze(p,v+64,16843009*Dt(I,U,H)),ze(p,v+96,16843009*Dt(U,H,H))}function no(p,v){var S,I=4;for(S=0;4>S;++S)I+=p[v+S-32]+p[v-1+32*S];for(I>>=3,S=0;4>S;++S)s(p,v+32*S,I,4)}function Es(p,v){var S=p[v-1+0],I=p[v-1+32],U=p[v-1+64],H=p[v-1-32],G=p[v+0-32],K=p[v+1-32],J=p[v+2-32],oe=p[v+3-32];p[v+0+96]=Dt(I,U,p[v-1+96]),p[v+1+96]=p[v+0+64]=Dt(S,I,U),p[v+2+96]=p[v+1+64]=p[v+0+32]=Dt(H,S,I),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Dt(G,H,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Dt(K,G,H),p[v+3+32]=p[v+2+0]=Dt(J,K,G),p[v+3+0]=Dt(oe,J,K)}function Br(p,v){var S=p[v+1-32],I=p[v+2-32],U=p[v+3-32],H=p[v+4-32],G=p[v+5-32],K=p[v+6-32],J=p[v+7-32];p[v+0+0]=Dt(p[v+0-32],S,I),p[v+1+0]=p[v+0+32]=Dt(S,I,U),p[v+2+0]=p[v+1+32]=p[v+0+64]=Dt(I,U,H),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Dt(U,H,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Dt(H,G,K),p[v+3+64]=p[v+2+96]=Dt(G,K,J),p[v+3+96]=Dt(K,J,J)}function Fi(p,v){var S=p[v-1+0],I=p[v-1+32],U=p[v-1+64],H=p[v-1-32],G=p[v+0-32],K=p[v+1-32],J=p[v+2-32],oe=p[v+3-32];p[v+0+0]=p[v+1+64]=H+G+1>>1,p[v+1+0]=p[v+2+64]=G+K+1>>1,p[v+2+0]=p[v+3+64]=K+J+1>>1,p[v+3+0]=J+oe+1>>1,p[v+0+96]=Dt(U,I,S),p[v+0+64]=Dt(I,S,H),p[v+0+32]=p[v+1+96]=Dt(S,H,G),p[v+1+32]=p[v+2+96]=Dt(H,G,K),p[v+2+32]=p[v+3+96]=Dt(G,K,J),p[v+3+32]=Dt(K,J,oe)}function Fs(p,v){var S=p[v+0-32],I=p[v+1-32],U=p[v+2-32],H=p[v+3-32],G=p[v+4-32],K=p[v+5-32],J=p[v+6-32],oe=p[v+7-32];p[v+0+0]=S+I+1>>1,p[v+1+0]=p[v+0+64]=I+U+1>>1,p[v+2+0]=p[v+1+64]=U+H+1>>1,p[v+3+0]=p[v+2+64]=H+G+1>>1,p[v+0+32]=Dt(S,I,U),p[v+1+32]=p[v+0+96]=Dt(I,U,H),p[v+2+32]=p[v+1+96]=Dt(U,H,G),p[v+3+32]=p[v+2+96]=Dt(H,G,K),p[v+3+64]=Dt(G,K,J),p[v+3+96]=Dt(K,J,oe)}function Sa(p,v){var S=p[v-1+0],I=p[v-1+32],U=p[v-1+64],H=p[v-1+96];p[v+0+0]=S+I+1>>1,p[v+2+0]=p[v+0+32]=I+U+1>>1,p[v+2+32]=p[v+0+64]=U+H+1>>1,p[v+1+0]=Dt(S,I,U),p[v+3+0]=p[v+1+32]=Dt(I,U,H),p[v+3+32]=p[v+1+64]=Dt(U,H,H),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=H}function fs(p,v){var S=p[v-1+0],I=p[v-1+32],U=p[v-1+64],H=p[v-1+96],G=p[v-1-32],K=p[v+0-32],J=p[v+1-32],oe=p[v+2-32];p[v+0+0]=p[v+2+32]=S+G+1>>1,p[v+0+32]=p[v+2+64]=I+S+1>>1,p[v+0+64]=p[v+2+96]=U+I+1>>1,p[v+0+96]=H+U+1>>1,p[v+3+0]=Dt(K,J,oe),p[v+2+0]=Dt(G,K,J),p[v+1+0]=p[v+3+32]=Dt(S,G,K),p[v+1+32]=p[v+3+64]=Dt(I,S,G),p[v+1+64]=p[v+3+96]=Dt(U,I,S),p[v+1+96]=Dt(H,U,I)}function ro(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function Ni(p,v){var S;for(S=0;8>S;++S)s(p,v,p[v-1],8),v+=32}function Bi(p,v,S){var I;for(I=0;8>I;++I)s(v,S+32*I,p,8)}function xa(p,v){var S,I=8;for(S=0;8>S;++S)I+=p[v+S-32]+p[v-1+32*S];Bi(I>>4,p,v)}function qr(p,v){var S,I=4;for(S=0;8>S;++S)I+=p[v+S-32];Bi(I>>3,p,v)}function _n(p,v){var S,I=4;for(S=0;8>S;++S)I+=p[v-1+32*S];Bi(I>>3,p,v)}function Ea(p,v){Bi(128,p,v)}function Ts(p,v,S){var I=p[v-S],U=p[v+0],H=3*(U-I)+Kc[1020+p[v-2*S]-p[v+S]],G=yl[112+(H+4>>3)];p[v-S]=ui[255+I+yl[112+(H+3>>3)]],p[v+0]=ui[255+U-G]}function Ta(p,v,S,I){var U=p[v+0],H=p[v+S];return Gs[255+p[v-2*S]-p[v-S]]>I||Gs[255+H-U]>I}function Na(p,v,S,I){return 4*Gs[255+p[v-S]-p[v+0]]+Gs[255+p[v-2*S]-p[v+S]]<=I}function sa(p,v,S,I,U){var H=p[v-3*S],G=p[v-2*S],K=p[v-S],J=p[v+0],oe=p[v+S],ye=p[v+2*S],Re=p[v+3*S];return 4*Gs[255+K-J]+Gs[255+G-oe]>I?0:Gs[255+p[v-4*S]-H]<=U&&Gs[255+H-G]<=U&&Gs[255+G-K]<=U&&Gs[255+Re-ye]<=U&&Gs[255+ye-oe]<=U&&Gs[255+oe-J]<=U}function ds(p,v,S,I){var U=2*I+1;for(I=0;16>I;++I)Na(p,v+I,S,U)&&Ts(p,v+I,S)}function Ns(p,v,S,I){var U=2*I+1;for(I=0;16>I;++I)Na(p,v+I*S,1,U)&&Ts(p,v+I*S,1)}function Ii(p,v,S,I){var U;for(U=3;0<U;--U)ds(p,v+=4*S,S,I)}function Po(p,v,S,I){var U;for(U=3;0<U;--U)Ns(p,v+=4,S,I)}function qi(p,v,S,I,U,H,G,K){for(H=2*H+1;0<U--;){if(sa(p,v,S,H,G))if(Ta(p,v,S,K))Ts(p,v,S);else{var J=p,oe=v,ye=S,Re=J[oe-2*ye],ie=J[oe-ye],we=J[oe+0],Ee=J[oe+ye],je=J[oe+2*ye],Ie=27*(Ue=Kc[1020+3*(we-ie)+Kc[1020+Re-Ee]])+63>>7,Fe=18*Ue+63>>7,Ue=9*Ue+63>>7;J[oe-3*ye]=ui[255+J[oe-3*ye]+Ue],J[oe-2*ye]=ui[255+Re+Fe],J[oe-ye]=ui[255+ie+Ie],J[oe+0]=ui[255+we-Ie],J[oe+ye]=ui[255+Ee-Fe],J[oe+2*ye]=ui[255+je-Ue]}v+=I}}function Ci(p,v,S,I,U,H,G,K){for(H=2*H+1;0<U--;){if(sa(p,v,S,H,G))if(Ta(p,v,S,K))Ts(p,v,S);else{var J=p,oe=v,ye=S,Re=J[oe-ye],ie=J[oe+0],we=J[oe+ye],Ee=yl[112+(4+(je=3*(ie-Re))>>3)],je=yl[112+(je+3>>3)],Ie=Ee+1>>1;J[oe-2*ye]=ui[255+J[oe-2*ye]+Ie],J[oe-ye]=ui[255+Re+je],J[oe+0]=ui[255+ie-Ee],J[oe+ye]=ui[255+we-Ie]}v+=I}}function w(p,v,S,I,U,H){qi(p,v,S,1,16,I,U,H)}function V(p,v,S,I,U,H){qi(p,v,1,S,16,I,U,H)}function se(p,v,S,I,U,H){var G;for(G=3;0<G;--G)Ci(p,v+=4*S,S,1,16,I,U,H)}function me(p,v,S,I,U,H){var G;for(G=3;0<G;--G)Ci(p,v+=4,1,S,16,I,U,H)}function Ae(p,v,S,I,U,H,G,K){qi(p,v,U,1,8,H,G,K),qi(S,I,U,1,8,H,G,K)}function qe(p,v,S,I,U,H,G,K){qi(p,v,1,U,8,H,G,K),qi(S,I,1,U,8,H,G,K)}function Ke(p,v,S,I,U,H,G,K){Ci(p,v+4*U,U,1,8,H,G,K),Ci(S,I+4*U,U,1,8,H,G,K)}function at(p,v,S,I,U,H,G,K){Ci(p,v+4,1,U,8,H,G,K),Ci(S,I+4,1,U,8,H,G,K)}function pt(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ln(){this.ua=0,this.Wa=new Nt,this.vb=new Nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new L}function er(){this.xb=this.a=0,this.l=new _a,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ln,this.ab=0,this.gc=u(4,qt),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _a,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dn(p,v,S,I,U,H,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)U[H+v]=p+S[I+v]&255,p=U[H+v]}function gr(p,v,S,I,U,H,G){var K;if(p==null)Dn(null,null,S,I,U,H,G);else for(K=0;K<G;++K)U[H+K]=p[v+K]+S[I+K]&255}function qn(p,v,S,I,U,H,G){if(p==null)Dn(null,null,S,I,U,H,G);else{var K,J=p[v+0],oe=J,ye=J;for(K=0;K<G;++K)oe=ye+(J=p[v+K])-oe,ye=S[I+K]+(-256&oe?0>oe?0:255:oe)&255,oe=J,U[H+K]=ye}}function zr(p,v,S,I){var U=v.width,H=v.o;if(e(p!=null&&v!=null),0>S||0>=I||S+I>H)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new sr,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var K=p.Fa,J=p.P,oe=p.qc,ye=p.mb,Re=p.nb,ie=J+1,we=oe-1,Ee=G.l;if(e(K!=null&&ye!=null&&v!=null),Va[0]=null,Va[1]=Dn,Va[2]=gr,Va[3]=qn,G.ca=ye,G.tb=Re,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=oe)v=0;else if(G.$a=3&K[J+0],G.Z=K[J+0]>>2&3,G.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)v=0;else if(Ee.put=Ct,Ee.ac=mi,Ee.bc=Cn,Ee.ma=G,Ee.width=v.width,Ee.height=v.height,Ee.Da=v.Da,Ee.v=v.v,Ee.va=v.va,Ee.j=v.j,Ee.o=v.o,G.$a)e:{e(G.$a==1),v=Wn();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,_e(v.m,K,ie,we),!os(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&ai(v.s)?(G.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Ms(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=we>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:I=H-S}e(p.ga!=null),e(S+I<=H);e:{if(v=(K=p.ga).c,H=K.l.o,K.$a==0){if(ie=p.rc,we=p.Vc,Ee=p.Fa,J=p.P+1+S*v,oe=p.mb,ye=p.nb+S*v,e(J<=p.P+p.qc),K.Z!=0)for(e(Va[K.Z]!=null),G=0;G<I;++G)Va[K.Z](ie,we,Ee,J,oe,ye,v),ie=oe,we=ye,ye+=v,J+=v;else for(G=0;G<I;++G)r(oe,ye,Ee,J,v),ie=oe,we=ye,ye+=v,J+=v;p.rc=ie,p.Vc=we}else{if(e(K.mc!=null),v=S+I,e((G=K.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(K.ic||Rr(),K.ic){K=G.V,ie=G.Ba,we=G.c;var je=G.i,Ie=(Ee=1,J=G.$/we,oe=G.$%we,ye=G.m,Re=G.s,G.$),Fe=we*je,Ue=we*v,Xe=Re.wc,We=Ie<Ue?cr(Re,oe,J):null;e(Ie<=Fe),e(v<=je),e(ai(Re));t:for(;;){for(;!ye.h&&Ie<Ue;){if(oe&Xe||(We=cr(Re,oe,J)),e(We!=null),ge(ye),256>(je=Zn(We.G[0],We.H[0],ye)))K[ie+Ie]=je,++Ie,++oe>=we&&(oe=0,++J<=v&&!(J%16)&&Ur(G,J));else{if(!(280>je)){Ee=0;break t}je=Pn(je-256,ye);var vt,ot=Zn(We.G[4],We.H[4],ye);if(ge(ye),!(Ie>=(ot=mr(we,ot=Pn(ot,ye)))&&Fe-Ie>=je)){Ee=0;break t}for(vt=0;vt<je;++vt)K[ie+Ie+vt]=K[ie+Ie+vt-ot];for(Ie+=je,oe+=je;oe>=we;)oe-=we,++J<=v&&!(J%16)&&Ur(G,J);Ie<Ue&&oe&Xe&&(We=cr(Re,oe,J))}e(ye.h==le(ye))}Ur(G,J>v?v:J);break t}!Ee||ye.h&&Ie<Fe?(Ee=0,G.a=ye.h?5:3):G.$=Ie,v=Ee}else v=Fr(G,G.V,G.Ba,G.c,G.i,v,Ei);if(!v){I=0;break e}}S+I>=H&&(p.Cc=1),I=1}if(!I)return null;if(p.Cc&&((I=p.ga)!=null&&(I.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*U}function Bs(p,v,S,I,U,H){for(;0<U--;){var G,K=p,J=v+(S?1:0),oe=p,ye=v+(S?0:3);for(G=0;G<I;++G){var Re=oe[ye+4*G];Re!=255&&(Re*=32897,K[J+4*G+0]=K[J+4*G+0]*Re>>23,K[J+4*G+1]=K[J+4*G+1]*Re>>23,K[J+4*G+2]=K[J+4*G+2]*Re>>23)}v+=H}}function aa(p,v,S,I,U){for(;0<I--;){var H;for(H=0;H<S;++H){var G=p[v+2*H+0],K=15&(oe=p[v+2*H+1]),J=4369*K,oe=(240&oe|oe>>4)*J>>16;p[v+2*H+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,p[v+2*H+1]=240&oe|K}v+=U}}function Jl(p,v,S,I,U,H,G,K){var J,oe,ye=255;for(oe=0;oe<U;++oe){for(J=0;J<I;++J){var Re=p[v+J];H[G+4*J]=Re,ye&=Re}v+=S,G+=K}return ye!=255}function io(p,v,S,I,U){var H;for(H=0;H<U;++H)S[I+H]=p[v+H]>>8}function Rr(){ru=Bs,Cs=aa,Rs=Jl,ml=io}function ps(p,v,S){N[p]=function(I,U,H,G,K,J,oe,ye,Re,ie,we,Ee,je,Ie,Fe,Ue,Xe){var We,vt=Xe-1>>1,ot=K[J+0]|oe[ye+0]<<16,Gt=Re[ie+0]|we[Ee+0]<<16;e(I!=null);var ut=3*ot+Gt+131074>>2;for(v(I[U+0],255&ut,ut>>16,je,Ie),H!=null&&(ut=3*Gt+ot+131074>>2,v(H[G+0],255&ut,ut>>16,Fe,Ue)),We=1;We<=vt;++We){var dn=K[J+We]|oe[ye+We]<<16,Hr=Re[ie+We]|we[Ee+We]<<16,zt=ot+dn+Gt+Hr+524296,ft=zt+2*(dn+Gt)>>3;ut=ft+ot>>1,ot=(zt=zt+2*(ot+Hr)>>3)+dn>>1,v(I[U+2*We-1],255&ut,ut>>16,je,Ie+(2*We-1)*S),v(I[U+2*We-0],255&ot,ot>>16,je,Ie+(2*We-0)*S),H!=null&&(ut=zt+Gt>>1,ot=ft+Hr>>1,v(H[G+2*We-1],255&ut,ut>>16,Fe,Ue+(2*We-1)*S),v(H[G+2*We+0],255&ot,ot>>16,Fe,Ue+(2*We+0)*S)),ot=dn,Gt=Hr}1&Xe||(ut=3*ot+Gt+131074>>2,v(I[U+Xe-1],255&ut,ut>>16,je,Ie+(Xe-1)*S),H!=null&&(ut=3*Gt+ot+131074>>2,v(H[G+Xe-1],255&ut,ut>>16,Fe,Ue+(Xe-1)*S)))}}function Do(){ci[Ri]=ho,ci[iu]=Ua,ci[Ma]=Bo,ci[sc]=Zc,ci[vl]=Jc,ci[ao]=ou,ci[Qc]=eh,ci[ac]=Ua,ci[Uo]=Zc,ci[oo]=Jc,ci[su]=ou}function zi(p){return p&-16384?0>p?0:255:p>>jg}function m(p,v){return zi((19077*p>>8)+(26149*v>>8)-14234)}function E(p,v,S){return zi((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function P(p,v){return zi((19077*p>>8)+(33050*v>>8)-17685)}function Q(p,v,S,I,U){I[U+0]=m(p,S),I[U+1]=E(p,v,S),I[U+2]=P(p,v)}function xe(p,v,S,I,U){I[U+0]=P(p,v),I[U+1]=E(p,v,S),I[U+2]=m(p,S)}function Oe(p,v,S,I,U){var H=E(p,v,S);v=H<<3&224|P(p,v)>>3,I[U+0]=248&m(p,S)|H>>5,I[U+1]=v}function Ze(p,v,S,I,U){var H=240&P(p,v)|15;I[U+0]=240&m(p,S)|E(p,v,S)>>4,I[U+1]=H}function un(p,v,S,I,U){I[U+0]=255,Q(p,v,S,I,U+1)}function hr(p,v,S,I,U){xe(p,v,S,I,U),I[U+3]=255}function cn(p,v,S,I,U){Q(p,v,S,I,U),I[U+3]=255}function fn(p,v){return 0>p?0:p>v?v:p}function Vn(p,v,S){N[p]=function(I,U,H,G,K,J,oe,ye,Re){for(var ie=ye+(-2&Re)*S;ye!=ie;)v(I[U+0],H[G+0],K[J+0],oe,ye),v(I[U+1],H[G+0],K[J+0],oe,ye+S),U+=2,++G,++J,ye+=2*S;1&Re&&v(I[U+0],H[G+0],K[J+0],oe,ye)}}function Is(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Lr(p,v,S,I,U){switch(p>>>30){case 3:yr(v,S,I,U,0);break;case 2:Oa(v,S,I,U);break;case 1:$i(v,S,I,U)}}function vi(p,v){var S,I,U=v.M,H=v.Nb,G=p.oc,K=p.pc+40,J=p.oc,oe=p.pc+584,ye=p.oc,Re=p.pc+600;for(S=0;16>S;++S)G[K+32*S-1]=129;for(S=0;8>S;++S)J[oe+32*S-1]=129,ye[Re+32*S-1]=129;for(0<U?G[K-1-32]=J[oe-1-32]=ye[Re-1-32]=129:(s(G,K-32-1,127,21),s(J,oe-32-1,127,9),s(ye,Re-32-1,127,9)),I=0;I<p.za;++I){var ie=v.ya[v.aa+I];if(0<I){for(S=-1;16>S;++S)r(G,K+32*S-4,G,K+32*S+12,4);for(S=-1;8>S;++S)r(J,oe+32*S-4,J,oe+32*S+4,4),r(ye,Re+32*S-4,ye,Re+32*S+4,4)}var we=p.Gd,Ee=p.Hd+I,je=ie.ad,Ie=ie.Hc;if(0<U&&(r(G,K-32,we[Ee].y,0,16),r(J,oe-32,we[Ee].f,0,8),r(ye,Re-32,we[Ee].ea,0,8)),ie.Za){var Fe=G,Ue=K-32+16;for(0<U&&(I>=p.za-1?s(Fe,Ue,we[Ee].y[15],4):r(Fe,Ue,we[Ee+1].y,0,4)),S=0;4>S;S++)Fe[Ue+128+S]=Fe[Ue+256+S]=Fe[Ue+384+S]=Fe[Ue+0+S];for(S=0;16>S;++S,Ie<<=2)Fe=G,Ue=K+Al[S],Wi[ie.Ob[S]](Fe,Ue),Lr(Ie,je,16*+S,Fe,Ue)}else if(Fe=Is(I,U,ie.Ob[0]),co[Fe](G,K),Ie!=0)for(S=0;16>S;++S,Ie<<=2)Lr(Ie,je,16*+S,G,K+Al[S]);for(S=ie.Gc,Fe=Is(I,U,ie.Dd),ks[Fe](J,oe),ks[Fe](ye,Re),Ie=je,Fe=J,Ue=oe,255&(ie=0|S)&&(170&ie?zs(Ie,256,Fe,Ue):pl(Ie,256,Fe,Ue)),ie=ye,Ie=Re,255&(S>>=8)&&(170&S?zs(je,320,ie,Ie):pl(je,320,ie,Ie)),U<p.Ub-1&&(r(we[Ee].y,0,G,K+480,16),r(we[Ee].f,0,J,oe+224,8),r(we[Ee].ea,0,ye,Re+224,8)),S=8*H*p.B,we=p.sa,Ee=p.ta+16*I+16*H*p.R,je=p.qa,ie=p.ra+8*I+S,Ie=p.Ha,Fe=p.Ia+8*I+S,S=0;16>S;++S)r(we,Ee+S*p.R,G,K+32*S,16);for(S=0;8>S;++S)r(je,ie+S*p.B,J,oe+32*S,8),r(Ie,Fe+S*p.B,ye,Re+32*S,8)}}function Ia(p,v,S,I,U,H,G,K,J){var oe=[0],ye=[0],Re=0,ie=J!=null?J.kd:0,we=J??new kt;if(p==null||12>S)return 7;we.data=p,we.w=v,we.ha=S,v=[v],S=[S],we.gb=[we.gb];e:{var Ee=v,je=S,Ie=we.gb;if(e(p!=null),e(je!=null),e(Ie!=null),Ie[0]=0,12<=je[0]&&!t(p,Ee[0],"RIFF")){if(t(p,Ee[0]+8,"WEBP")){Ie=3;break e}var Fe=Me(p,Ee[0]+4);if(12>Fe||4294967286<Fe){Ie=3;break e}if(ie&&Fe>je[0]-8){Ie=7;break e}Ie[0]=Fe,Ee[0]+=12,je[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Fe=0<we.gb[0],S=S[0];;){e:{var Ue=p;je=v,Ie=S;var Xe=oe,We=ye,vt=Ee=[0];if((ut=Re=[Re])[0]=0,8>Ie[0])Ie=7;else{if(!t(Ue,je[0],"VP8X")){if(Me(Ue,je[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var ot=Me(Ue,je[0]+8),Gt=1+rt(Ue,je[0]+12);if(2147483648<=Gt*(Ue=1+rt(Ue,je[0]+15))){Ie=3;break e}vt!=null&&(vt[0]=ot),Xe!=null&&(Xe[0]=Gt),We!=null&&(We[0]=Ue),je[0]+=18,Ie[0]-=18,ut[0]=1}Ie=0}}if(Re=Re[0],Ee=Ee[0],Ie!=0)return Ie;if(je=!!(2&Ee),!Fe&&Re)return 3;if(H!=null&&(H[0]=!!(16&Ee)),G!=null&&(G[0]=je),K!=null&&(K[0]=0),G=oe[0],Ee=ye[0],Re&&je&&J==null){Ie=0;break}if(4>S){Ie=7;break}if(Fe&&Re||!Fe&&!Re&&!t(p,v[0],"ALPH")){S=[S],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{ot=p,Ie=v,Fe=S;var ut=we.gb;Xe=we.na,We=we.P,vt=we.Sa,Gt=22,e(ot!=null),e(Fe!=null),Ue=Ie[0];var dn=Fe[0];for(e(Xe!=null),e(vt!=null),Xe[0]=null,We[0]=null,vt[0]=0;;){if(Ie[0]=Ue,Fe[0]=dn,8>dn){Ie=7;break e}var Hr=Me(ot,Ue+4);if(4294967286<Hr){Ie=3;break e}var zt=8+Hr+1&-2;if(Gt+=zt,0<ut&&Gt>ut){Ie=3;break e}if(!t(ot,Ue,"VP8 ")||!t(ot,Ue,"VP8L")){Ie=0;break e}if(dn[0]<zt){Ie=7;break e}t(ot,Ue,"ALPH")||(Xe[0]=ot,We[0]=Ue+8,vt[0]=Hr),Ue+=zt,dn-=zt}}if(S=S[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ie!=0)break}S=[S],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ut=p,Ie=v,Fe=S,Xe=we.gb[0],We=we.Ja,vt=we.xa,ot=Ie[0],Ue=!t(ut,ot,"VP8 "),Gt=!t(ut,ot,"VP8L"),e(ut!=null),e(Fe!=null),e(We!=null),e(vt!=null),8>Fe[0])Ie=7;else{if(Ue||Gt){if(ut=Me(ut,ot+4),12<=Xe&&ut>Xe-12){Ie=3;break e}if(ie&&ut>Fe[0]-8){Ie=7;break e}We[0]=ut,Ie[0]+=8,Fe[0]-=8,vt[0]=Gt}else vt[0]=5<=Fe[0]&&ut[ot+0]==47&&!(ut[ot+4]>>5),We[0]=Fe[0];Ie=0}if(S=S[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],Ie!=0)break;if(4294967286<we.Ja)return 3;if(K==null||je||(K[0]=we.xa?2:1),G=[G],Ee=[Ee],we.xa){if(5>S){Ie=7;break}K=G,ie=Ee,je=H,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Fe=[0],ut=[0],Xe=[0],_e(We=new q,p,v,S),$n(We,Fe,ut,Xe)?(K!=null&&(K[0]=Fe[0]),ie!=null&&(ie[0]=ut[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>S){Ie=7;break}K=Ee,p==null||10>S||!Lo(p,v+3,S-3)?p=0:(ie=p[v+0]|p[v+1]<<8|p[v+2]<<16,je=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=we.Ja||!je||!p?p=0:(G&&(G[0]=je),K&&(K[0]=p),p=1))}if(!p||(G=G[0],Ee=Ee[0],Re&&(oe[0]!=G||ye[0]!=Ee)))return 3;J!=null&&(J[0]=we,J.offset=v-J.w,e(4294967286>v-J.w),e(J.offset==J.ha-S));break}return Ie==0||Ie==7&&Re&&J==null?(H!=null&&(H[0]|=we.na!=null&&0<we.na.length),I!=null&&(I[0]=G),U!=null&&(U[0]=Ee),0):Ie}function bi(p,v,S){var I=v.width,U=v.height,H=0,G=0,K=I,J=U;if(v.Da=p!=null&&0<p.Da,v.Da&&(K=p.cd,J=p.bd,H=p.v,G=p.j,11>S||(H&=-2,G&=-2),0>H||0>G||0>=K||0>=J||H+K>I||G+J>U))return 0;if(v.v=H,v.j=G,v.va=H+K,v.o=G+J,v.U=K,v.T=J,v.da=p!=null&&0<p.da,v.da){if(!Et(K,J,S=[p.ib],H=[p.hb]))return 0;v.ib=S[0],v.hb=H[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*I/4&&v.hb<3*U/4,v.Kb=0),1}function Hi(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Oo(p,v,S,I){if(I==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var U=S.cd,H=S.bd,G=-2&S.v,K=-2&S.j;if(0>G||0>K||0>=U||0>=H||G+U>p||K+H>v)return 2;p=U,v=H}if(S.da){if(!Et(p,v,U=[S.ib],H=[S.hb]))return 2;p=U[0],v=H[0]}}I.width=p,I.height=v;e:{var J=I.width,oe=I.height;if(p=I.S,0>=J||0>=oe||!(p>=Ri&&13>p))p=2;else{if(0>=I.Rd&&I.sd==null){G=H=U=v=0;var ye=(K=J*sp[p])*oe;if(11>p||(H=(oe+1)/2*(v=(J+1)/2),p==12&&(G=(U=J)*oe)),(oe=o(ye+2*H+G))==null){p=1;break e}I.sd=oe,11>p?((J=I.f.RGBA).eb=oe,J.fb=0,J.A=K,J.size=ye):((J=I.f.kb).y=oe,J.O=0,J.fa=K,J.Fd=ye,J.f=oe,J.N=0+ye,J.Ab=v,J.Cd=H,J.ea=oe,J.W=0+ye+H,J.Db=v,J.Ed=H,p==12&&(J.F=oe,J.J=0+ye+2*H),J.Tc=G,J.lb=U)}if(v=1,U=I.S,H=I.width,G=I.height,U>=Ri&&13>U)if(11>U)p=I.f.RGBA,v&=(K=Math.abs(p.A))*(G-1)+H<=p.size,v&=K>=H*sp[U],v&=p.eb!=null;else{p=I.f.kb,K=(H+1)/2,ye=(G+1)/2,J=Math.abs(p.fa),oe=Math.abs(p.Ab);var Re=Math.abs(p.Db),ie=Math.abs(p.lb),we=ie*(G-1)+H;v&=J*(G-1)+H<=p.Fd,v&=oe*(ye-1)+K<=p.Cd,v=(v&=Re*(ye-1)+K<=p.Ed)&J>=H&oe>=K&Re>=K,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,U==12&&(v&=ie>=H,v&=we<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Hi(I)),p}var qs=64,Ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eu=24,so=32,wr=8,af=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(p){return p},N.Predictor2=function(p,v,S){return v[S+0]},N.Predictor3=function(p,v,S){return v[S+1]},N.Predictor4=function(p,v,S){return v[S-1]},N.Predictor5=function(p,v,S){return bt(bt(p,v[S+1]),v[S+0])},N.Predictor6=function(p,v,S){return bt(p,v[S-1])},N.Predictor7=function(p,v,S){return bt(p,v[S+0])},N.Predictor8=function(p,v,S){return bt(v[S-1],v[S+0])},N.Predictor9=function(p,v,S){return bt(v[S+0],v[S+1])},N.Predictor10=function(p,v,S){return bt(bt(p,v[S-1]),bt(v[S+0],v[S+1]))},N.Predictor11=function(p,v,S){var I=v[S+0];return 0>=ct(I>>24&255,p>>24&255,(v=v[S-1])>>24&255)+ct(I>>16&255,p>>16&255,v>>16&255)+ct(I>>8&255,p>>8&255,v>>8&255)+ct(255&I,255&p,255&v)?I:p},N.Predictor12=function(p,v,S){var I=v[S+0];return(mn((p>>24&255)+(I>>24&255)-((v=v[S-1])>>24&255))<<24|mn((p>>16&255)+(I>>16&255)-(v>>16&255))<<16|mn((p>>8&255)+(I>>8&255)-(v>>8&255))<<8|mn((255&p)+(255&I)-(255&v)))>>>0},N.Predictor13=function(p,v,S){var I=v[S-1];return(Bt((p=bt(p,v[S+0]))>>24&255,I>>24&255)<<24|Bt(p>>16&255,I>>16&255)<<16|Bt(p>>8&255,I>>8&255)<<8|Bt(255&p,255&I))>>>0};var Ra=N.PredictorAdd0;N.PredictorAdd1=wt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var La=N.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var tu,nc=N.ColorIndexInverseTransform,li=N.MapARGB,ka=N.VP8LColorIndexInverseTransformAlpha,Mo=N.MapAlpha,jo=N.VP8LPredictorsAdd=[];jo.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Pa,nu,Gi,Da,On,zn,ar,yr,Oa,zs,$i,pl,of,Vo,lf,uf,cf,Xd,Zd,Jd,hf,ff,$c,Hs,ru,Cs,Rs,ml,Wc=o(511),rc=o(2041),ic=o(225),Yc=o(767),gl=0,Kc=rc,yl=ic,ui=Yc,Gs=Wc,Ri=0,iu=1,Ma=2,sc=3,vl=4,ao=5,Qc=6,ac=7,Uo=8,oo=9,su=10,Xc=[2,3,7],$s=[3,3,11],Ls=[280,256,256,256,40],bl=[0,1,1,1,0],lo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_l=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ep=8,oc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yr=null,Ar=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ja=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],df=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],co=[],Wi=[],ks=[],np=1,au=2,Va=[],ci=[];ps("UpsampleRgbLinePair",Q,3),ps("UpsampleBgrLinePair",xe,3),ps("UpsampleRgbaLinePair",cn,4),ps("UpsampleBgraLinePair",hr,4),ps("UpsampleArgbLinePair",un,4),ps("UpsampleRgba4444LinePair",Ze,2),ps("UpsampleRgb565LinePair",Oe,2);var ho=N.UpsampleRgbLinePair,Bo=N.UpsampleBgrLinePair,Ua=N.UpsampleRgbaLinePair,Zc=N.UpsampleBgraLinePair,Jc=N.UpsampleArgbLinePair,ou=N.UpsampleRgba4444LinePair,eh=N.UpsampleRgb565LinePair,Fa=16,Kr=1<<Fa-1,qo=-227,th=482,jg=6,rp=0,Vg=o(256),Qr=o(256),pf=o(256),uc=o(256),cc=o(th-qo),mf=o(th-qo);Vn("YuvToRgbRow",Q,3),Vn("YuvToBgrRow",xe,3),Vn("YuvToRgbaRow",cn,4),Vn("YuvToBgraRow",hr,4),Vn("YuvToArgbRow",un,4),Vn("YuvToRgba4444Row",Ze,2),Vn("YuvToRgb565Row",Oe,2);var Al=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fo=[0,2,8],Ug=[8,7,6,4,4,2,2,2,1,1,1,1],ip=1;this.WebPDecodeRGBA=function(p,v,S,I,U){var H=iu,G=new pt,K=new gn;G.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var J=K.width,oe=K.height,ye=new Pt;if(ye==null||p==null)var Re=2;else e(ye!=null),Re=Ia(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Re!=0?J=0:(J!=null&&(J[0]=ye.width[0]),oe!=null&&(oe[0]=ye.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],I!=null&&(I[0]=K.width),U!=null&&(U[0]=K.height);e:{if(I=new _a,(U=new kt).data=p,U.w=v,U.ha=S,U.kd=1,v=[0],e(U!=null),((p=Ia(U.data,U.w,U.ha,null,null,null,v,null,U))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),I.data=U.data,I.w=U.w+U.offset,I.ha=U.ha-U.offset,I.put=Ct,I.ac=mi,I.bc=Cn,I.ma=G,U.xa){if((p=Wn())==null){G=1;break e}if((function(ie,we){var Ee=[0],je=[0],Ie=[0];t:for(;;){if(ie==null)return 0;if(we==null)return ie.a=2,0;if(ie.l=we,ie.a=0,_e(ie.m,we.data,we.w,we.ha),!$n(ie.m,Ee,je,Ie)){ie.a=3;break t}if(ie.xb=au,we.width=Ee[0],we.height=je[0],!os(Ee[0],je[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(p,I)){if(I=(v=Oo(I.width,I.height,G.Oa,G.ba))==0){t:{I=p;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((S=I.l)!=null),e((U=S.ma)!=null),I.xb!=0){if(I.ca=U.ba,I.tb=U.tb,e(I.ca!=null),!bi(U.Oa,S,sc)){I.a=2;break n}if(!Ms(I,S.width)||S.da)break n;if((S.da||Vt(I.ca.S))&&Rr(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Rr()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!ue(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Fr(I,I.V,I.Ba,I.c,I.i,S.o,as))break n;U.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(v=p.a)}else v=p.a}else{if((p=new Ro)==null){G=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,Xl(p,I)){if((v=Oo(I.width,I.height,G.Oa,G.ba))==0){if(p.Aa=0,S=G.Oa,e((U=p)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(oe=ye=0;4>oe;++oe)12>(Re=U.pb[oe]).lc&&(Re.ia=J*Ug[0>Re.lc?0:Re.lc]>>3),ye|=Re.ia;ye&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=S.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ie,we){if(ie==null)return 0;if(we==null)return bn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Xl(ie,we))return 0;if(e(ie.cb),we.ac==null||we.ac(we)){we.ob&&(ie.L=0);var Ee=fo[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=we.v-Ee>>4,ie.zb=we.j-Ee>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=we.o+15+Ee>>4,ie.Hb=we.va+15+Ee>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var je=ie.ed;for(Ee=0;4>Ee;++Ee){var Ie;if(ie.Qa.Cb){var Fe=ie.Qa.Lb[Ee];ie.Qa.Fb||(Fe+=je.Tb)}else Fe=je.Tb;for(Ie=0;1>=Ie;++Ie){var Ue=ie.gd[Ee][Ie],Xe=Fe;if(je.Pc&&(Xe+=je.vd[0],Ie&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<je.wb&&(We=4<je.wb?We>>2:We>>1)>9-je.wb&&(We=9-je.wb),1>We&&(We=1),Ue.dd=We,Ue.tc=2*Xe+We,Ue.ld=40<=Xe?2:15<=Xe?1:0}else Ue.tc=0;Ue.La=Ie}}}Ee=0}else bn(ie,6,"Frame setup failed"),Ee=ie.a;if(Ee=Ee==0){if(Ee){ie.$c=0,0<ie.Aa||(ie.Ic=ip);t:{Ee=ie.Ic,je=4*(We=ie.za);var vt=32*We,ot=We+1,Gt=0<ie.L?We*(0<ie.Aa?2:1):0,ut=(ie.Aa==2?2:1)*We;if((Ue=je+832+(Ie=3*(16*Ee+fo[ie.L])/2*vt)+(Fe=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ue)Ee=0;else{if(Ue>ie.Vb){if(ie.Vb=0,ie.Ec=o(Ue),ie.Fc=0,ie.Ec==null){Ee=bn(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ue}Ue=ie.Ec,Xe=ie.Fc,ie.Ac=Ue,ie.Bc=Xe,Xe+=je,ie.Gd=u(vt,Za),ie.Hd=0,ie.rb=u(ot+1,Cr),ie.sb=1,ie.wa=Gt?u(Gt,Ir):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=We),e(!0),ie.oc=Ue,ie.pc=Xe,Xe+=832,ie.ya=u(ut,Co),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=We),ie.R=16*We,ie.B=8*We,We=(vt=fo[ie.L])*ie.R,vt=vt/2*ie.B,ie.sa=Ue,ie.ta=Xe+We,ie.qa=ie.sa,ie.ra=ie.ta+16*Ee*ie.R+vt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Ee*ie.B+vt,ie.$c=0,Xe+=Ie,ie.mb=Fe?Ue:null,ie.nb=Fe?Xe:null,e(Xe+Fe<=ie.Fc+ie.Vb),ra(ie),s(ie.Ac,ie.Bc,0,je),Ee=1}}if(Ee){if(we.ka=0,we.y=ie.sa,we.O=ie.ta,we.f=ie.qa,we.N=ie.ra,we.ea=ie.Ha,we.Vd=ie.Ia,we.fa=ie.R,we.Rc=ie.B,we.F=null,we.J=0,!gl){for(Ee=-255;255>=Ee;++Ee)Wc[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)rc[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)ic[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Yc[255+Ee]=0>Ee?0:255<Ee?255:Ee;gl=1}ar=Vi,yr=wa,zs=ia,$i=on,pl=Aa,Oa=to,of=w,Vo=V,lf=Ae,uf=qe,cf=se,Xd=me,Zd=Ke,Jd=at,hf=ds,ff=Ns,$c=Ii,Hs=Po,Wi[0]=no,Wi[1]=ko,Wi[2]=Us,Wi[3]=Zl,Wi[4]=Es,Wi[5]=Fi,Wi[6]=Br,Wi[7]=Fs,Wi[8]=fs,Wi[9]=Sa,co[0]=Ti,co[1]=fl,co[2]=tc,co[3]=dl,co[4]=hs,co[5]=Ui,co[6]=xs,ks[0]=xa,ks[1]=hl,ks[2]=ro,ks[3]=Ni,ks[4]=_n,ks[5]=qr,ks[6]=Ea,Ee=1}else Ee=0}Ee&&(Ee=(function(dn,Hr){for(dn.M=0;dn.M<dn.Va;++dn.M){var zt,ft=dn.Jc[dn.M&dn.Xb],et=dn.m,vr=dn;for(zt=0;zt<vr.za;++zt){var $t=et,Jt=vr,dt=Jt.Ac,Kt=Jt.Bc+4*zt,wn=Jt.zc,or=Jt.ya[Jt.aa+zt];if(Jt.Qa.Bb?or.$b=Be($t,Jt.Pa.jb[0])?2+Be($t,Jt.Pa.jb[2]):Be($t,Jt.Pa.jb[1]):or.$b=0,Jt.kc&&(or.Ad=Be($t,Jt.Bd)),or.Za=!Be($t,145)+0,or.Za){var kr=or.Ob,Pr=0;for(Jt=0;4>Jt;++Jt){var Sr,hn=wn[0+Jt];for(Sr=0;4>Sr;++Sr){hn=df[dt[Kt+Sr]][hn];for(var An=Fo[Be($t,hn[0])];0<An;)An=Fo[2*An+Be($t,hn[An])];hn=-An,dt[Kt+Sr]=hn}r(kr,Pr,dt,Kt,4),Pr+=4,wn[0+Jt]=hn}}else hn=Be($t,156)?Be($t,128)?1:3:Be($t,163)?2:0,or.Ob[0]=hn,s(dt,Kt,hn,4),s(wn,0,hn,4);or.Dd=Be($t,142)?Be($t,114)?Be($t,183)?1:3:2:0}if(vr.m.Ka)return bn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(vr=ft,$t=(et=dn).rb[et.sb-1],dt=et.rb[et.sb+et.ja],zt=et.ya[et.aa+et.ja],Kt=et.kc?zt.Ad:0)$t.la=dt.la=0,zt.Za||($t.Na=dt.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var xr,Ot;if($t=dt,dt=vr,Kt=et.Pa.Xc,wn=et.ya[et.aa+et.ja],or=et.pb[wn.$b],Jt=wn.ad,kr=0,Pr=et.rb[et.sb-1],hn=Sr=0,s(Jt,kr,0,384),wn.Za)var Xr=0,Ps=Kt[3];else{An=o(16);var Er=$t.Na+Pr.Na;if(Er=Yr(dt,Kt[1],Er,or.Eb,0,An,0),$t.Na=Pr.Na=(0<Er)+0,1<Er)ar(An,0,Jt,kr);else{var Yi=An[0]+3>>3;for(An=0;256>An;An+=16)Jt[kr+An]=Yi}Xr=1,Ps=Kt[0]}var Yn=15&$t.la,Dr=15&Pr.la;for(An=0;4>An;++An){var Ki=1&Dr;for(Yi=Ot=0;4>Yi;++Yi)Yn=Yn>>1|(Ki=(Er=Yr(dt,Ps,Er=Ki+(1&Yn),or.Sc,Xr,Jt,kr))>Xr)<<7,Ot=Ot<<2|(3<Er?3:1<Er?2:Jt[kr+0]!=0),kr+=16;Yn>>=4,Dr=Dr>>1|Ki<<7,Sr=(Sr<<8|Ot)>>>0}for(Ps=Yn,Xr=Dr>>4,xr=0;4>xr;xr+=2){for(Ot=0,Yn=$t.la>>4+xr,Dr=Pr.la>>4+xr,An=0;2>An;++An){for(Ki=1&Dr,Yi=0;2>Yi;++Yi)Er=Ki+(1&Yn),Yn=Yn>>1|(Ki=0<(Er=Yr(dt,Kt[2],Er,or.Qc,0,Jt,kr)))<<3,Ot=Ot<<2|(3<Er?3:1<Er?2:Jt[kr+0]!=0),kr+=16;Yn>>=2,Dr=Dr>>1|Ki<<5}hn|=Ot<<4*xr,Ps|=Yn<<4<<xr,Xr|=(240&Dr)<<xr}$t.la=Ps,Pr.la=Xr,wn.Hc=Sr,wn.Gc=hn,wn.ia=43690&hn?0:or.ia,Kt=!(Sr|hn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[zt.$b][zt.Za],et.wa[et.Y+et.ja].La|=!Kt),vr.Ka)return bn(dn,7,"Premature end-of-file encountered.")}if(ra(dn),et=Hr,vr=1,zt=(ft=dn).D,$t=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(zt.M=ft.M,zt.uc=$t,vi(ft,zt),vr=1,zt=(Ot=ft.D).Nb,$t=(hn=fo[ft.L])*ft.R,dt=hn/2*ft.B,An=16*zt*ft.R,Yi=8*zt*ft.B,Kt=ft.sa,wn=ft.ta-$t+An,or=ft.qa,Jt=ft.ra-dt+Yi,kr=ft.Ha,Pr=ft.Ia-dt+Yi,Dr=(Yn=Ot.M)==0,Sr=Yn>=ft.Va-1,ft.Aa==2&&vi(ft,Ot),Ot.uc)for(Ki=(Er=ft).D.M,e(Er.D.uc),Ot=Er.yb;Ot<Er.Hb;++Ot){Xr=Ot,Ps=Ki;var _i=(tr=(Jr=Er).D).Nb;xr=Jr.R;var tr=tr.wa[tr.Y+Xr],Rn=Jr.sa,Li=Jr.ta+16*_i*xr+16*Xr,wi=tr.dd,Fn=tr.tc;if(Fn!=0)if(e(3<=Fn),Jr.L==1)0<Xr&&ff(Rn,Li,xr,Fn+4),tr.La&&Hs(Rn,Li,xr,Fn),0<Ps&&hf(Rn,Li,xr,Fn+4),tr.La&&$c(Rn,Li,xr,Fn);else{var Qi=Jr.B,Zr=Jr.qa,Ba=Jr.ra+8*_i*Qi+8*Xr,oa=Jr.Ha,Jr=Jr.Ia+8*_i*Qi+8*Xr;_i=tr.ld,0<Xr&&(Vo(Rn,Li,xr,Fn+4,wi,_i),uf(Zr,Ba,oa,Jr,Qi,Fn+4,wi,_i)),tr.La&&(Xd(Rn,Li,xr,Fn,wi,_i),Jd(Zr,Ba,oa,Jr,Qi,Fn,wi,_i)),0<Ps&&(of(Rn,Li,xr,Fn+4,wi,_i),lf(Zr,Ba,oa,Jr,Qi,Fn+4,wi,_i)),tr.La&&(cf(Rn,Li,xr,Fn,wi,_i),Zd(Zr,Ba,oa,Jr,Qi,Fn,wi,_i))}}if(ft.ia&&alert("todo:DitherRow"),et.put!=null){if(Ot=16*Yn,Yn=16*(Yn+1),Dr?(et.y=ft.sa,et.O=ft.ta+An,et.f=ft.qa,et.N=ft.ra+Yi,et.ea=ft.Ha,et.W=ft.Ia+Yi):(Ot-=hn,et.y=Kt,et.O=wn,et.f=or,et.N=Jt,et.ea=kr,et.W=Pr),Sr||(Yn-=hn),Yn>et.o&&(Yn=et.o),et.F=null,et.J=null,ft.Fa!=null&&0<ft.Fa.length&&Ot<Yn&&(et.J=zr(ft,et,Ot,Yn-Ot),et.F=ft.mb,et.F==null&&et.F.length==0)){vr=bn(ft,3,"Could not decode alpha data.");break t}Ot<et.j&&(hn=et.j-Ot,Ot=et.j,e(!(1&hn)),et.O+=ft.R*hn,et.N+=ft.B*(hn>>1),et.W+=ft.B*(hn>>1),et.F!=null&&(et.J+=et.width*hn)),Ot<Yn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=Ot-et.j,et.U=et.va-et.v,et.T=Yn-Ot,vr=et.put(et))}zt+1!=ft.Ic||Sr||(r(ft.sa,ft.ta-$t,Kt,wn+16*ft.R,$t),r(ft.qa,ft.ra-dt,or,Jt+8*ft.B,dt),r(ft.Ha,ft.Ia-dt,kr,Pr+8*ft.B,dt))}if(!vr)return bn(dn,6,"Output aborted.")}return 1})(ie,we)),we.bc!=null&&we.bc(we),Ee&=1}return Ee?(ie.cb=0,Ee):0})(p,I)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Hi(G.ba))}G=v}H=G!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var sp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(N,z){for(var C="",D=0;D<4;D++)C+=String.fromCharCode(N[z++]);return C}function y(N,z){return N[z+0]|N[z+1]<<8}function A(N,z){return(N[z+0]|N[z+1]<<8|N[z+2]<<16)>>>0}function x(N,z){return(N[z+0]|N[z+1]<<8|N[z+2]<<16|N[z+3]<<24)>>>0}new f;var _=[0],j=[0],O=[],F=new f,B=n,ne=(function(N,z){var C={},D=0,L=!1,X=0,pe=0;if(C.frames=[],!(function(R,q){for(var Z=0;Z<4;Z++)if(R[q+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(N,z)){for(x(N,z+=4),z+=8;z<N.length;){var ee=d(N,z),de=x(N,z+=4);z+=4;var re=de+(1&de);switch(ee){case"VP8 ":case"VP8L":C.frames[D]===void 0&&(C.frames[D]={}),(ce=C.frames[D]).src_off=L?pe:z-8,ce.src_size=X+de+8,D++,L&&(L=!1,X=0,pe=0);break;case"VP8X":(ce=C.header={}).feature_flags=N[z];var _e=z+4;ce.canvas_width=1+A(N,_e),_e+=3,ce.canvas_height=1+A(N,_e),_e+=3;break;case"ALPH":L=!0,X=re+8,pe=z-8;break;case"ANIM":(ce=C.header).bgcolor=x(N,z),_e=z+4,ce.loop_count=y(N,_e),_e+=2;break;case"ANMF":var Y,ce;(ce=C.frames[D]={}).offset_x=2*A(N,z),z+=3,ce.offset_y=2*A(N,z),z+=3,ce.width=1+A(N,z),z+=3,ce.height=1+A(N,z),z+=3,ce.duration=A(N,z),z+=3,Y=N[z++],ce.dispose=1&Y,ce.blend=Y>>1&1}ee!="ANMF"&&(z+=re)}return C}})(B,0);ne.response=B,ne.rgbaoutput=!0,ne.dataurl=!1;var te=ne.header?ne.header:null,ae=ne.frames?ne.frames:null;if(te){te.loop_counter=te.loop_count,_=[te.canvas_height],j=[te.canvas_width];for(var ve=0;ve<ae.length&&ae[ve].blend!=0;ve++);}var Te=ae[0],$=F.WebPDecodeRGBA(B,Te.src_off,Te.src_size,j,_);Te.rgba=$,Te.imgwidth=j[0],Te.imgheight=_[0];for(var k=0;k<j[0]*_[0]*4;k++)O[k]=$[k];return this.width=j,this.height=_,this.data=O,this}(function(n){var e,t,r,s,o,u,c,f,d,y=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new f,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new u,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new u,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var A=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=R;Object.defineProperty(this,"pdf",{get:function(){return q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Me){Z=!!Me}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Me){le=!!Me}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Me){isNaN(Me)||(he=Me)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Me){isNaN(Me)||(ge=Me)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Me){var ue;typeof Me=="number"?ue=[Me,Me,Me,Me]:((ue=new Array(4))[0]=Me[0],ue[1]=Me.length>=2?Me[1]:ue[0],ue[2]=Me.length>=3?Me[2]:ue[0],ue[3]=Me.length>=4?Me[3]:ue[1]),d.margin=ue}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Me){Ce=Me}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Me){ke=Me}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(Me){Be=Me}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Me){Me instanceof y&&(d=Me)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Me){d.path=Me}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Me){ze=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var ue;ue=x(Me),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var ue=x(Me);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var nt=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(Me){nt=null,rt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var ue;if(this.ctx.font=Me,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var tn=ue[1];ue[2];var Nt=ue[3],Et=ue[4];ue[5];var Je=ue[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor(yt==="px"?parseFloat(Et)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var tt=(function(Lt){var _t,Nn,an=[],ht=Lt.trim();if(ht==="")return C0;if(ht in Rw)return[Rw[ht]];for(;ht!=="";){switch(Nn=null,_t=(ht=kw(ht)).charAt(0)){case'"':case"'":Nn=ID(ht.substring(1),_t);break;default:Nn=CD(ht)}if(Nn===null||(an.push(Nn[0]),(ht=kw(Nn[1]))!==""&&ht.charAt(0)!==","))return C0;ht=ht.replace(/^,/,"")}return an})(Je);if(this.fontFaces){var Yt=(function(Lt,_t){if(nt===null){var Nn=(function(an){var ht=[];return Object.keys(an).forEach(function(It){an[It].forEach(function(In){var At=null;switch(In){case"bold":At={family:It,weight:"bold"};break;case"italic":At={family:It,style:"italic"};break;case"bolditalic":At={family:It,weight:"bold",style:"italic"};break;case"":case"normal":At={family:It}}At!==null&&(At.ref={name:It,style:In},ht.push(At))})}),ht})(Lt.getFontList());nt=(function(an){for(var ht={},It=0;It<an.length;++It){var In=I0(an[It]),At=In.family,nn=In.stretch,Vt=In.style,ir=In.weight;ht[At]=ht[At]||{},ht[At][nn]=ht[At][nn]||{},ht[At][nn][Vt]=ht[At][nn][Vt]||{},ht[At][nn][Vt][ir]=In}return ht})(Nn.concat(_t))}return nt})(this.pdf,this.fontFaces),bt=tt.map(function(Lt){return{family:Lt,stretch:"normal",weight:Nt,style:tn}}),mn=(function(Lt,_t,Nn){for(var an=(Nn=Nn||{}).defaultFontFamily||"times",ht=Object.assign({},ND,Nn.genericFontFamilies||{}),It=null,In=null,At=0;At<_t.length;++At)if(ht[(It=I0(_t[At])).family]&&(It.family=ht[It.family]),Lt.hasOwnProperty(It.family)){In=Lt[It.family];break}if(!(In=In||Lt[an]))throw new Error("Could not find a font-family for the rule '"+Lw(It)+"' and default family '"+an+"'.");if(In=(function(nn,Vt){if(Vt[nn])return Vt[nn];var ir=_2[nn],Gn=ir<=_2.normal?-1:1,gn=Cw(Vt,QS,ir,Gn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+nn);return gn})(It.stretch,In),In=(function(nn,Vt){if(Vt[nn])return Vt[nn];for(var ir=KS[nn],Gn=0;Gn<ir.length;++Gn)if(Vt[ir[Gn]])return Vt[ir[Gn]];throw new Error("Could not find a matching font-style for "+nn)})(It.style,In),!(In=(function(nn,Vt){if(Vt[nn])return Vt[nn];if(nn===400&&Vt[500])return Vt[500];if(nn===500&&Vt[400])return Vt[400];var ir=TD[nn],Gn=Cw(Vt,XS,ir,nn<400?-1:1);if(!Gn)throw new Error("Could not find a matching font-weight for value "+nn);return Gn})(It.weight,In)))throw new Error("Failed to resolve a font for the rule '"+Lw(It)+"'.");return In})(Yt,bt);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var Bt="";(Nt==="bold"||parseInt(Nt,10)>=700||tn==="bold")&&(Bt="bold"),tn==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var ct="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<tt.length;Tt++){if(this.pdf.internal.getFont(tt[Tt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){ct=tt[Tt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(tt[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=tt[Tt],Bt="bold";else if(this.pdf.internal.getFont(tt[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=tt[Tt],Bt="normal";break}}if(ct===""){for(var st=0;st<tt.length;st++)if(wt[tt[st]]){ct=wt[tt[st]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};A.prototype.setLineDash=function(R){this.lineDash=R},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){ae.call(this,"fill",!1)},A.prototype.stroke=function(){ae.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(R,q){if(isNaN(R)||isNaN(q))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new u(R,q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(R,q)},A.prototype.closePath=function(){var R=new u(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Xn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){R=new u(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(R.x,R.y)},A.prototype.lineTo=function(R,q){if(isNaN(R)||isNaN(q))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new u(R,q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(Z.x,Z.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ae.call(this,null,!0)},A.prototype.quadraticCurveTo=function(R,q,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(R)||isNaN(q))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new u(Z,le)),ge=this.ctx.transform.applyToPoint(new u(R,q));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},A.prototype.bezierCurveTo=function(R,q,Z,le,he,ge){if(isNaN(he)||isNaN(ge)||isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new u(he,ge)),ke=this.ctx.transform.applyToPoint(new u(R,q)),Be=this.ctx.transform.applyToPoint(new u(Z,le));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Be.x,y2:Be.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new u(Ce.x,Ce.y)},A.prototype.arc=function(R,q,Z,le,he,ge){if(isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le)||isNaN(he))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new u(R,q));R=Ce.x,q=Ce.y;var ke=this.ctx.transform.applyToPoint(new u(0,Z)),Be=this.ctx.transform.applyToPoint(new u(0,0));Z=Math.sqrt(Math.pow(ke.x-Be.x,2)+Math.pow(ke.y-Be.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:R,y:q,radius:Z,startAngle:le,endAngle:he,counterclockwise:ge})},A.prototype.arcTo=function(R,q,Z,le,he){throw new Error("arcTo not implemented.")},A.prototype.rect=function(R,q,Z,le){if(isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,q),this.lineTo(R+Z,q),this.lineTo(R+Z,q+le),this.lineTo(R,q+le),this.lineTo(R,q),this.lineTo(R+Z,q),this.lineTo(R,q)},A.prototype.fillRect=function(R,q,Z,le){if(isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,q,Z,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},A.prototype.strokeRect=function(R,q,Z,le){if(isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(R,q,Z,le),this.stroke())},A.prototype.clearRect=function(R,q,Z,le){if(isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,q,Z,le))},A.prototype.save=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},A.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(q),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var q,Z,le,he;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))q=0,Z=0,le=0,he=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ge!==null)q=parseInt(ge[1]),Z=parseInt(ge[2]),le=parseInt(ge[3]),he=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)q=parseInt(ge[1]),Z=parseInt(ge[2]),le=parseInt(ge[3]),he=parseFloat(ge[4]);else{if(he=1,typeof R=="string"&&R.charAt(0)!=="#"){var Ce=new qS(R);R=Ce.ok?Ce.toHex():"#000000"}R.length===4?(q=R.substring(1,2),q+=q,Z=R.substring(2,3),Z+=Z,le=R.substring(3,4),le+=le):(q=R.substring(1,3),Z=R.substring(3,5),le=R.substring(5,7)),q=parseInt(q,16),Z=parseInt(Z,16),le=parseInt(le,16)}}return{r:q,g:Z,b:le,a:he,style:R}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(R,q,Z,le){if(isNaN(q)||isNaN(Z)||typeof R!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!_.call(this)){var he=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;D.call(this,{text:R,x:q,y:Z,scale:ge,angle:he,align:this.textAlign,maxWidth:le})}},A.prototype.strokeText=function(R,q,Z,le){if(isNaN(q)||isNaN(Z)||typeof R!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){le=isNaN(le)?void 0:le;var he=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;D.call(this,{text:R,x:q,y:Z,scale:ge,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},A.prototype.measureText=function(R){if(typeof R!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Z=this.pdf.internal.scaleFactor,le=q.internal.getFontSize(),he=q.getStringUnitWidth(R)*le/q.internal.scaleFactor;return new function(ge){var Ce=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:he*=Math.round(96*Z/72*1e4)/1e4})},A.prototype.scale=function(R,q){if(isNaN(R)||isNaN(q))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(R,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.rotate=function(R){if(isNaN(R))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new f(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},A.prototype.translate=function(R,q){if(isNaN(R)||isNaN(q))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,R,q);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.transform=function(R,q,Z,le,he,ge){if(isNaN(R)||isNaN(q)||isNaN(Z)||isNaN(le)||isNaN(he)||isNaN(ge))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new f(R,q,Z,le,he,ge);this.ctx.transform=this.ctx.transform.multiply(Ce)},A.prototype.setTransform=function(R,q,Z,le,he,ge){R=isNaN(R)?1:R,q=isNaN(q)?0:q,Z=isNaN(Z)?0:Z,le=isNaN(le)?1:le,he=isNaN(he)?0:he,ge=isNaN(ge)?0:ge,this.ctx.transform=new f(R,q,Z,le,he,ge)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(R,q,Z,le,he,ge,Ce,ke,Be){var ze=this.pdf.getImageProperties(R),nt=1,rt=1,Me=1,ue=1;le!==void 0&&ke!==void 0&&(Me=ke/le,ue=Be/he,nt=ze.width/le*ke/le,rt=ze.height/he*Be/he),ge===void 0&&(ge=q,Ce=Z,q=0,Z=0),le!==void 0&&ke===void 0&&(ke=le,Be=he),le===void 0&&ke===void 0&&(ke=ze.width,Be=ze.height);for(var tn,Nt=this.ctx.transform.decompose(),Et=re(Nt.rotate.shx),Je=new f,yt=(Je=(Je=(Je=Je.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new c(ge-q*Me,Ce-Z*ue,le*nt,he*rt)),tt=F.call(this,yt),Yt=[],bt=0;bt<tt.length;bt+=1)Yt.indexOf(tt[bt])===-1&&Yt.push(tt[bt]);if(te(Yt),this.autoPaging)for(var mn=Yt[0],Bt=Yt[Yt.length-1],ct=mn;ct<Bt+1;ct++){this.pdf.setPage(ct);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=ct===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=ct===1?0:st+(ct-2)*Lt;if(this.ctx.clip_path.length!==0){var Nn=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(tn,this.posX+this.margin[3],-_t+Tt+this.ctx.prevPageLastElemOffset),ve.call(this,"fill",!0),this.path=Nn}var an=JSON.parse(JSON.stringify(yt));an=ne([an],this.posX+this.margin[3],-_t+Tt+this.ctx.prevPageLastElemOffset)[0];var ht=(ct>mn||ct<Bt)&&O.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Lt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",an.x,an.y,an.w,an.h,null,null,Et),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Et)};var F=function(R,q,Z){var le=[];q=q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":le.push(Math.floor((R.y+he)/Z)+1);break;case"arc":le.push(Math.floor((R.y+he-R.radius)/Z)+1),le.push(Math.floor((R.y+he+R.radius)/Z)+1);break;case"qct":var ge=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);le.push(Math.floor((ge.y+he)/Z)+1),le.push(Math.floor((ge.y+ge.h+he)/Z)+1);break;case"bct":var Ce=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);le.push(Math.floor((Ce.y+he)/Z)+1),le.push(Math.floor((Ce.y+Ce.h+he)/Z)+1);break;case"rect":le.push(Math.floor((R.y+he)/Z)+1),le.push(Math.floor((R.y+R.h+he)/Z)+1)}for(var ke=0;ke<le.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<le[ke];)B.call(this);return le},B=function(){var R=this.fillStyle,q=this.strokeStyle,Z=this.font,le=this.lineCap,he=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=q,this.font=Z,this.lineCap=le,this.lineWidth=he,this.lineJoin=ge},ne=function(R,q,Z){for(var le=0;le<R.length;le++)switch(R[le].type){case"bct":R[le].x2+=q,R[le].y2+=Z;case"qct":R[le].x1+=q,R[le].y1+=Z;default:R[le].x+=q,R[le].y+=Z}return R},te=function(R){return R.sort(function(q,Z){return q-Z})},ae=function(R,q){for(var Z,le,he=this.fillStyle,ge=this.strokeStyle,Ce=this.lineCap,ke=this.lineWidth,Be=Math.abs(ke*this.ctx.transform.scaleX),ze=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),Me=[],ue=0;ue<rt.length;ue++)if(rt[ue].x!==void 0)for(var tn=F.call(this,rt[ue]),Nt=0;Nt<tn.length;Nt+=1)Me.indexOf(tn[Nt])===-1&&Me.push(tn[Nt]);for(var Et=0;Et<Me.length;Et++)for(;this.pdf.internal.getNumberOfPages()<Me[Et];)B.call(this);if(te(Me),this.autoPaging)for(var Je=Me[0],yt=Me[Me.length-1],tt=Je;tt<yt+1;tt++){this.pdf.setPage(tt),this.fillStyle=he,this.strokeStyle=ge,this.lineCap=Ce,this.lineWidth=Be,this.lineJoin=ze;var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=tt===1?this.posY+this.margin[0]:this.margin[0],mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=tt===1?0:mn+(tt-2)*Bt;if(this.ctx.clip_path.length!==0){var wt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Z,this.posX+this.margin[3],-ct+bt+this.ctx.prevPageLastElemOffset),ve.call(this,R,!0),this.path=wt}if(le=JSON.parse(JSON.stringify(nt)),this.path=ne(le,this.posX+this.margin[3],-ct+bt+this.ctx.prevPageLastElemOffset),q===!1||tt===0){var Tt=(tt>Je||tt<yt)&&O.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Bt,null).clip().discardPath()),ve.call(this,R,q),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=Be,ve.call(this,R,q),this.lineWidth=ke;this.path=nt},ve=function(R,q){if((R!=="stroke"||q||!j.call(this))&&(R==="stroke"||q||!_.call(this))){for(var Z,le,he=[],ge=this.path,Ce=0;Ce<ge.length;Ce++){var ke=ge[Ce];switch(ke.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:ke,deltas:[],abs:[]});break;case"lt":var Be=he.length;if(ge[Ce-1]&&!isNaN(ge[Ce-1].x)&&(Z=[ke.x-ge[Ce-1].x,ke.y-ge[Ce-1].y],Be>0)){for(;Be>=0;Be--)if(he[Be-1].close!==!0&&he[Be-1].begin!==!0){he[Be-1].deltas.push(Z),he[Be-1].abs.push(ke);break}}break;case"bct":Z=[ke.x1-ge[Ce-1].x,ke.y1-ge[Ce-1].y,ke.x2-ge[Ce-1].x,ke.y2-ge[Ce-1].y,ke.x-ge[Ce-1].x,ke.y-ge[Ce-1].y],he[he.length-1].deltas.push(Z);break;case"qct":var ze=ge[Ce-1].x+2/3*(ke.x1-ge[Ce-1].x),nt=ge[Ce-1].y+2/3*(ke.y1-ge[Ce-1].y),rt=ke.x+2/3*(ke.x1-ke.x),Me=ke.y+2/3*(ke.y1-ke.y),ue=ke.x,tn=ke.y;Z=[ze-ge[Ce-1].x,nt-ge[Ce-1].y,rt-ge[Ce-1].x,Me-ge[Ce-1].y,ue-ge[Ce-1].x,tn-ge[Ce-1].y],he[he.length-1].deltas.push(Z);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(ke)}}le=q?null:R==="stroke"?"stroke":"fill";for(var Nt=!1,Et=0;Et<he.length;Et++)if(he[Et].arc)for(var Je=he[Et].abs,yt=0;yt<Je.length;yt++){var tt=Je[yt];tt.type==="arc"?k.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,q,!Nt):L.call(this,tt.x,tt.y),Nt=!0}else if(he[Et].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(he[Et].begin!==!0){var Yt=he[Et].start.x,bt=he[Et].start.y;X.call(this,he[Et].deltas,Yt,bt),Nt=!0}le&&N.call(this,le),q&&z.call(this)}},Te=function(R){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Z;case"top":return R+q-Z;case"hanging":return R+q-2*Z;case"middle":return R+q/2-Z;default:return R}},$=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(q,Z){this.colorStops.push([q,Z])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(R,q,Z,le,he,ge,Ce,ke,Be){for(var ze=ee.call(this,Z,le,he,ge),nt=0;nt<ze.length;nt++){var rt=ze[nt];nt===0&&(Be?C.call(this,rt.x1+R,rt.y1+q):L.call(this,rt.x1+R,rt.y1+q)),pe.call(this,R,q,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}ke?z.call(this):N.call(this,Ce)},N=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(R,q){this.pdf.internal.out(t(R)+" "+r(q)+" m")},D=function(R){var q;switch(R.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var Z=this.pdf.getTextDimensions(R.text),le=Te.call(this,R.y),he=$.call(this,le)-Z.h,ge=this.ctx.transform.applyToPoint(new u(R.x,le)),Ce=this.ctx.transform.decompose(),ke=new f;ke=(ke=(ke=ke.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Be,ze,nt,rt=this.ctx.transform.applyToRectangle(new c(R.x,le,Z.w,Z.h)),Me=ke.applyToRectangle(new c(R.x,he,Z.w,Z.h)),ue=F.call(this,Me),tn=[],Nt=0;Nt<ue.length;Nt+=1)tn.indexOf(ue[Nt])===-1&&tn.push(ue[Nt]);if(te(tn),this.autoPaging)for(var Et=tn[0],Je=tn[tn.length-1],yt=Et;yt<Je+1;yt++){this.pdf.setPage(yt);var tt=yt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],mn=bt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],ct=Bt-this.margin[3],wt=yt===1?0:Yt+(yt-2)*mn;if(this.ctx.clip_path.length!==0){var Tt=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Be,this.posX+this.margin[3],-1*wt+tt),ve.call(this,"fill",!0),this.path=Tt}var st=ne([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*R.scale),nt=this.lineWidth,this.lineWidth=nt*R.scale);var Lt=this.autoPaging!=="text";if(Lt||st.y+st.h<=bt){if(Lt||st.y>=tt&&st.x<=Bt){var _t=Lt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Bt-st.x)[0],Nn=ne([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0],an=Lt&&(yt>Et||yt<Je)&&O.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,mn,null).clip().discardPath()),this.pdf.text(_t,Nn.x,Nn.y,{angle:R.angle,align:q,renderingMode:R.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else st.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-st.y);R.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=nt)}else R.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*R.scale),nt=this.lineWidth,this.lineWidth=nt*R.scale),this.pdf.text(R.text,ge.x+this.posX,ge.y+this.posY,{angle:R.angle,align:q,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=nt)},L=function(R,q,Z,le){Z=Z||0,le=le||0,this.pdf.internal.out(t(R+Z)+" "+r(q+le)+" l")},X=function(R,q,Z){return this.pdf.lines(R,q,Z,null,null)},pe=function(R,q,Z,le,he,ge,Ce,ke){this.pdf.internal.out([e(s(Z+R)),e(o(le+q)),e(s(he+R)),e(o(ge+q)),e(s(Ce+R)),e(o(ke+q)),"c"].join(" "))},ee=function(R,q,Z,le){for(var he=2*Math.PI,ge=Math.PI/2;q>Z;)q-=he;var Ce=Math.abs(Z-q);Ce<he&&le&&(Ce=he-Ce);for(var ke=[],Be=le?-1:1,ze=q;Ce>1e-5;){var nt=ze+Be*Math.min(Ce,ge);ke.push(de.call(this,R,ze,nt)),Ce-=Math.abs(nt-ze),ze=nt}return ke},de=function(R,q,Z){var le=(Z-q)/2,he=R*Math.cos(le),ge=R*Math.sin(le),Ce=he,ke=-ge,Be=Ce*Ce+ke*ke,ze=Be+Ce*he+ke*ge,nt=4/3*(Math.sqrt(2*Be*ze)-ze)/(Ce*ge-ke*he),rt=Ce-nt*ke,Me=ke+nt*Ce,ue=rt,tn=-Me,Nt=le+q,Et=Math.cos(Nt),Je=Math.sin(Nt);return{x1:R*Math.cos(q),y1:R*Math.sin(q),x2:rt*Et-Me*Je,y2:rt*Je+Me*Et,x3:ue*Et-tn*Je,y3:ue*Je+tn*Et,x4:R*Math.cos(Z),y4:R*Math.sin(Z)}},re=function(R){return 180*R/Math.PI},_e=function(R,q,Z,le,he,ge){var Ce=R+.5*(Z-R),ke=q+.5*(le-q),Be=he+.5*(Z-he),ze=ge+.5*(le-ge),nt=Math.min(R,he,Ce,Be),rt=Math.max(R,he,Ce,Be),Me=Math.min(q,ge,ke,ze),ue=Math.max(q,ge,ke,ze);return new c(nt,Me,rt-nt,ue-Me)},Y=function(R,q,Z,le,he,ge,Ce,ke){var Be,ze,nt,rt,Me,ue,tn,Nt,Et,Je,yt,tt,Yt,bt,mn=Z-R,Bt=le-q,ct=he-Z,wt=ge-le,Tt=Ce-he,st=ke-ge;for(ze=0;ze<41;ze++)Et=(tn=(nt=R+(Be=ze/40)*mn)+Be*((Me=Z+Be*ct)-nt))+Be*(Me+Be*(he+Be*Tt-Me)-tn),Je=(Nt=(rt=q+Be*Bt)+Be*((ue=le+Be*wt)-rt))+Be*(ue+Be*(ge+Be*st-ue)-Nt),ze==0?(yt=Et,tt=Je,Yt=Et,bt=Je):(yt=Math.min(yt,Et),tt=Math.min(tt,Je),Yt=Math.max(Yt,Et),bt=Math.max(bt,Je));return new c(Math.round(yt),Math.round(tt),Math.round(Yt-yt),Math.round(bt-tt))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,q,Z=(R=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(St.API),(function(n){var e=function(u){var c,f,d,y,A,x,_,j,O,F;for(f=[],d=0,y=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;y>d;d+=4)(A=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(x=(A=((A=((A=((A=(A-(F=A%85))/85)-(O=A%85))/85)-(j=A%85))/85)-(_=A%85))/85)%85,f.push(x+33,_+33,j+33,O+33,F+33)):f.push(122);return(function(B,ne){for(var te=ne;te>0;te--)B.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,y,A,x=String,_="length",j=255,O="charCodeAt",F="slice",B="replace";for(u[F](-2),u=u[F](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),d=[],y=0,A=(u+=c="uuuuu"[F](u[_]%5||5))[_];A>y;y+=5)f=52200625*(u[O](y)-33)+614125*(u[O](y+1)-33)+7225*(u[O](y+2)-33)+85*(u[O](y+3)-33)+(u[O](y+4)-33),d.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(ne,te){for(var ae=te;ae>0;ae--)ne.pop()})(d,c[_]),x.fromCharCode.apply(x,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=d2(c)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(St.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,y){var A=new XMLHttpRequest,x=0,_=function(j){var O=j.length,F=[],B=String.fromCharCode;for(x=0;x<O;x+=1)F.push(B(255&j.charCodeAt(x)));return F.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?y(_(this.responseText)):y(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(St.API),(function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):c0(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):c0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Xn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var y in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[y]=f.style[y];return d},o=function c(f,d){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||y.appendChild(c(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),d);return(y=y.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,y=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var _=0;_<y.length;++_){var j=y[_],O=j.src.find(function(F){return F.format==="truetype"});O&&d.addFont(O.url,j.ref.name,j.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(c=c||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,y){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,y){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(y,A){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,y),x}).then(y,A).then(function(x){return d.updateProgress(1),x})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var y=this;c&&(c=c.bind(y)),f&&(f=f.bind(y));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),x=d.call(A,c,f);return u.convert(x,y.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,St.getPageSize=function(c,f,d){if(Xn(c)==="object"){var y=c;c=y.orientation,f=y.unit||f,d=y.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var A,x=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var j,O=0,F=0;if(_.hasOwnProperty(x))O=_[x][1]/A,F=_[x][0]/A;else try{O=d[1],F=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",F>O&&(j=F,F=O,O=j);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",O>F&&(j=F,F=O,O=j)}return{width:F,height:O,unit:f,k:A,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(I0):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(St.API),St.API.addJS=function(n){return Dw=n,this.internal.events.subscribe("postPutResources",function(){hm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Pw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Dw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hm!==void 0&&Pw!==void 0&&this.internal.out("/Names <</JavaScript "+hm+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var A=t.internal.newObject();y.push(A);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(St.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var f,d=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(A){for(var x,_=256*A.charCodeAt(4)+A.charCodeAt(5),j=A.length,O={width:0,height:0,numcomponents:1},F=4;F<j;F+=2){if(F+=_,e.indexOf(A.charCodeAt(F+1))!==-1){x=256*A.charCodeAt(F+5)+A.charCodeAt(F+6),O={width:256*A.charCodeAt(F+7)+A.charCodeAt(F+8),height:x,numcomponents:A.charCodeAt(F+9)};break}_=256*A.charCodeAt(F+2)+A.charCodeAt(F+3)}return O})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return y}})(St.API),St.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=fD(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,y=o.depth;s=d&&f===1?(function($){for(var k=$.width,N=$.height,z=$.data,C=$.palette,D=$.depth,L=!1,X=[],pe=[],ee=void 0,de=!1,re=0,_e=0;_e<C.length;_e++){var Y=V_(C[_e],4),ce=Y[0],R=Y[1],q=Y[2],Z=Y[3];X.push(ce,R,q),Z!=null&&(Z===0?(re++,pe.length<1&&pe.push(_e)):Z<255&&(de=!0))}if(de||re>1){L=!0,pe=void 0;var le=k*N;ee=new Uint8Array(le);for(var he=new DataView(z.buffer),ge=0;ge<le;ge++){var Ce=R0(he,ge,D),ke=V_(C[Ce],4)[3];ee[ge]=ke}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:z,alphaBytes:ee,needSMask:L,palette:X,mask:pe}})(o):f===2||f===4?(function($){for(var k=$.data,N=$.width,z=$.height,C=$.channels,D=$.depth,L=C===2?"DeviceGray":"DeviceRGB",X=C-1,pe=N*z,ee=X,de=pe*ee,re=1*pe,_e=Math.ceil(de*D/8),Y=Math.ceil(re*D/8),ce=new Uint8Array(_e),R=new Uint8Array(Y),q=new DataView(k.buffer),Z=new DataView(ce.buffer),le=new DataView(R.buffer),he=!1,ge=0;ge<pe;ge++){for(var Ce=ge*C,ke=0;ke<ee;ke++)zw(Z,R0(q,Ce+ke,D),ge*ee+ke,D);var Be=R0(q,Ce+ee,D);Be<(1<<D)-1&&(he=!0),zw(le,Be,1*ge,D)}return{colorSpace:L,colorsPerPixel:X,colorBytes:ce,alphaBytes:R,needSMask:he}})(o):(function($){var k=$.data,N=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:N,colorsPerPixel:N==="DeviceGray"?1:3,colorBytes:k instanceof Uint8Array?k:new Uint8Array(k.buffer),needSMask:!1}})(o);var A,x,_,j=s,O=j.colorSpace,F=j.colorsPerPixel,B=j.colorBytes,ne=j.alphaBytes,te=j.needSMask,ae=j.palette,ve=j.mask,Te=null;return r!==St.API.image_compression.NONE&&typeof d2=="function"?(Te=(function($){var k;switch($){case St.API.image_compression.FAST:k=11;break;case St.API.image_compression.MEDIUM:k=13;break;case St.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),A=this.decode.FLATE_DECODE,x="/Predictor ".concat(Te," "),n=Vw(B,u*F,F,r),te&&(_=Vw(ne,u,1,r))):(A=void 0,x="",n=B,te&&(_=ne)),x+="/Colors ".concat(F," /BitsPerComponent ").concat(y," /Columns ").concat(u),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:A,decodeParameters:x,transparency:ve,palette:ae,sMask:_,predictor:Te,width:u,height:c,bitsPerComponent:y,colorSpace:O}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new PD(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},y=new L0(100).encode(d,100);return n.processJPEG.call(this,y,t,r,s)},n.processGIF87A=n.processGIF89A})(St.API),_o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_o.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ur.log("bit decode error:"+t)}},_o.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},_o.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},_o.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},_o.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,y=r*this.width*4+4*s;this.data[y]=f,this.data[y+1]=c,this.data[y+2]=u,this.data[y+3]=d}this.pos+=n}},_o.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,y=s*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=255}this.pos+=n}},_o.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},_o.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},_o.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new _o(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new L0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(St.API),Gw.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new Gw(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new L0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(St.API),St.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var y=r[d],A=r[d+1],x=r[d+2],_=r[d+3];o[c++]=y,o[c++]=A,o[c++]=x,u[f++]=_}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sh=St.API,fm=Sh.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,y=d.fof?d.fof:1,A=e.doKerning!==!1,x=0,_=n.length,j=0,O=c[0]||f,F=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?F.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(x=A&&Xn(d[r])==="object"&&!isNaN(parseInt(d[r][j],10))?d[r][j]/y:0,F.push((c[r]||O)/f+x)),j=r;return F},Ow=Sh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Sh.processArabic&&(n=Sh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:fm.apply(this,arguments).reduce(function(o,u){return o+u},0)},Mw=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},jw=function(n,e,t){t||(t={});var r,s,o,u,c,f,d,y=[],A=[y],x=t.textIndent||0,_=0,j=0,O=n.split(" "),F=fm.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?O[0].length+2:t.lineIndent||0){var B=Array(f).join(" "),ne=[];O.map(function(ae){(ae=ae.split(/\s*\n/)).length>1?ne=ne.concat(ae.map(function(ve,Te){return(Te&&ve.length?`
`:"")+ve})):ne.push(ae[0])}),O=ne,f=Ow.apply(this,[B,t])}for(o=0,u=O.length;o<u;o++){var te=0;if(r=O[o],f&&r[0]==`
`&&(r=r.substr(1),te=1),x+_+(j=(s=fm.apply(this,[r,t])).reduce(function(ae,ve){return ae+ve},0))>e||te){if(j>e){for(c=Mw.apply(this,[r,s,e-(x+_),e]),y.push(c.shift()),y=[c.pop()];c.length;)A.push([c.shift()]);j=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(ae,ve){return ae+ve},0)}else y=[r];A.push(y),x=j+f,_=F}else y.push(r),x+=_+j,_=F}return d=f?function(ae,ve){return(ve?B:"")+ae.join(" ")}:function(ae){return ae.join(" ")},A.map(d)},Sh.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var A=this.internal.getFont(y.fontName,y.fontStyle),x="Unicode";return A.metadata[x]?{widths:A.metadata[x].widths||{0:1},kerning:A.metadata[x].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(jw.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(x){return"0x"+parseInt(x,10).toString(16)},c=n.__fontmetrics__.compress=function(x){var _,j,O,F,B=["{"];for(var ne in x){if(_=x[ne],isNaN(parseInt(ne,10))?j="'"+ne+"'":(ne=parseInt(ne,10),j=(j=u(ne).slice(2)).slice(0,-1)+s[j.slice(-1)]),typeof _=="number")_<0?(O=u(_).slice(3),F="-"):(O=u(_).slice(2),F=""),O=F+O.slice(0,-1)+s[O.slice(-1)];else{if(Xn(_)!=="object")throw new Error("Don't know what to do with value type "+Xn(_)+".");O=c(_)}B.push(j+O)}return B.push("}"),B.join("")},f=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,j,O,F,B={},ne=1,te=B,ae=[],ve="",Te="",$=x.length-1,k=1;k<$;k+=1)(F=x[k])=="'"?_?(O=_.join(""),_=void 0):_=[]:_?_.push(F):F=="{"?(ae.push([te,O]),te={},O=void 0):F=="}"?((j=ae.pop())[0][j[1]]=te,O=void 0,te=j[0]):F=="-"?ne=-1:O===void 0?r.hasOwnProperty(F)?(ve+=r[F],O=parseInt(ve,16)*ne,ne=1,ve=""):ve+=F:r.hasOwnProperty(F)?(Te+=r[F],te[O]=parseInt(Te,16)*ne,ne=1,O=void 0,Te=""):Te+=F;return B},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var _=x.font,j=A.Unicode[_.postScriptName];j&&(_.metadata.Unicode={},_.metadata.Unicode.widths=j.widths,_.metadata.Unicode.kerning=j.kerning);var O=y.Unicode[_.postScriptName];O&&(_.metadata.Unicode.encoding=O,_.encoding=O.codePages[0])}])})(St.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Em(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(St),St.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Wt.canvg?Promise.resolve(Wt.canvg):c0(()=>import("./index.es-C7XMlkOl.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,y=0,A=0;function x(j,O){var F,B=!1;for(F=0;F<j.length;F+=1)j[F]===O&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=c.length;for(A=0;A<_;A+=1)t[c[A]].value=t[c[A]].defaultValue,t[c[A]].explicitSet=!1}if(Xn(n)==="object"){for(s in n)if(o=n[s],x(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&x(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,O=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?O.push("/"+j+" /"+t[j].value):O.push("/"+j+" "+t[j].value));O.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+O.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(St.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],A=0,x=o.length;A<x;++A){if(c=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(A),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(d[4-c.length],c)}return y.join("")},r=function(o){var u,c,f,d,y,A,x;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,x=(c=Object.keys(o).sort(function(_,j){return _-j})).length;A<x;A++)u=c[A],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var A=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),_="",j=0;j<x.length;j++)_+=String.fromCharCode(x[j]);var O=d();y({data:_,addLength1:!0,objectId:O}),f("endobj");var F=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:F}),f("endobj");var B=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Ch(c.fontName)),f("/FontFile2 "+O+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var ne=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Ch(c.fontName)),f("/FontDescriptor "+B+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+F+" 0 R"),f("/BaseFont /"+Ch(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+ne+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var A=c.metadata.rawData,x="",_=0;_<A.length;_++)x+=String.fromCharCode(A[_]);var j=d();y({data:x,addLength1:!0,objectId:j}),f("endobj");var O=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var F=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Ch(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var B=0;B<c.metadata.hmtx.widths.length;B++)c.metadata.hmtx.widths[B]=parseInt(c.metadata.hmtx.widths[B]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+Ch(c.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,y=o.options||{},A=o.mutex||{},x=A.pdfEscape,_=A.activeFontKey,j=A.fonts,O=_,F="",B=0,ne="",te=j[O].encoding;if(j[O].encoding!=="Identity-H")return{text:c,x:f,y:d,options:y,mutex:A};for(ne=c,O=_,Array.isArray(c)&&(ne=c[0]),B=0;B<ne.length;B+=1)j[O].metadata.hasOwnProperty("cmap")&&(u=j[O].metadata.cmap.unicode.codeMap[ne[B].charCodeAt(0)]),u||ne[B].charCodeAt(0)<256&&j[O].metadata.hasOwnProperty("Unicode")?F+=ne[B]:F+="";var ae="";return parseInt(O.slice(1))<14||te==="WinAnsiEncoding"?ae=x(F,O).split("").map(function(ve){return ve.charCodeAt(0).toString(16)}).join(""):te==="Identity-H"&&(ae=t(F,j[O])),A.isHex=!0,{text:ae,x:f,y:d,options:y,mutex:A}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(St),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(St.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,f,d,y,A=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ne=!1,te=0;this.__bidiEngine__={};var ae=function(C){var D=C.charCodeAt(),L=D>>8,X=O[L];return X!==void 0?A[256*X+(255&D)]:L===252||L===253?"AL":B.test(L)?"L":L===8?"R":"N"},ve=function(C){for(var D,L=0;L<C.length;L++){if((D=ae(C.charAt(L)))==="L")return!1;if(D==="R")return!0}return!1},Te=function(C,D,L,X){var pe,ee,de,re,_e=D[X];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ne=!1;break;case"N":case"AN":break;case"EN":ne&&(_e="AN");break;case"AL":ne=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":X<1||X+1>=D.length||(pe=L[X-1])!=="EN"&&pe!=="AN"||(ee=D[X+1])!=="EN"&&ee!=="AN"?_e="N":ne&&(ee="AN"),_e=ee===pe?ee:"N";break;case"ES":_e=(pe=X>0?L[X-1]:"B")==="EN"&&X+1<D.length&&D[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&L[X-1]==="EN"){_e="EN";break}if(ne){_e="N";break}for(de=X+1,re=D.length;de<re&&D[de]==="ET";)de++;_e=de<re&&D[de]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(re=D.length,de=X+1;de<re&&D[de]==="NSM";)de++;if(de<re){var Y=C[X],ce=Y>=1425&&Y<=2303||Y===64286;if(pe=D[de],ce&&(pe==="R"||pe==="AL")){_e="R";break}}}_e=X<1||(pe=D[X-1])==="B"?"N":L[X-1];break;case"B":ne=!1,s=!0,_e=te;break;case"S":o=!0,_e="N"}return _e},$=function(C,D,L){var X=C.split("");return L&&k(X,L,{hiLevel:te}),X.reverse(),D&&D.reverse(),X.join("")},k=function(C,D,L){var X,pe,ee,de,re,_e=-1,Y=C.length,ce=0,R=[],q=te?_:x,Z=[];for(ne=!1,s=!1,o=!1,pe=0;pe<Y;pe++)Z[pe]=ae(C[pe]);for(ee=0;ee<Y;ee++){if(re=ce,R[ee]=Te(C,Z,R,ee),X=240&(ce=q[re][j[R[ee]]]),ce&=15,D[ee]=de=q[ce][5],X>0)if(X===16){for(pe=_e;pe<ee;pe++)D[pe]=1;_e=-1}else _e=-1;if(q[ce][6])_e===-1&&(_e=ee);else if(_e>-1){for(pe=_e;pe<ee;pe++)D[pe]=de;_e=-1}Z[ee]==="B"&&(D[ee]=0),L.hiLevel|=de}o&&(function(le,he,ge){for(var Ce=0;Ce<ge;Ce++)if(le[Ce]==="S"){he[Ce]=te;for(var ke=Ce-1;ke>=0&&le[ke]==="WS";ke--)he[ke]=te}})(Z,D,Y)},N=function(C,D,L,X,pe){if(!(pe.hiLevel<C)){if(C===1&&te===1&&!s)return D.reverse(),void(L&&L.reverse());for(var ee,de,re,_e,Y=D.length,ce=0;ce<Y;){if(X[ce]>=C){for(re=ce+1;re<Y&&X[re]>=C;)re++;for(_e=ce,de=re-1;_e<de;_e++,de--)ee=D[_e],D[_e]=D[de],D[de]=ee,L&&(ee=L[_e],L[_e]=L[de],L[de]=ee);ce=re}ce++}}},z=function(C,D,L){var X=C.split(""),pe={hiLevel:te};return L||(L=[]),k(X,L,pe),(function(ee,de,re){if(re.hiLevel!==0&&y)for(var _e,Y=0;Y<ee.length;Y++)de[Y]===1&&(_e=F.indexOf(ee[Y]))>=0&&(ee[Y]=F[_e+1])})(X,L,pe),N(2,X,D,L,pe),N(1,X,D,L,pe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(C,D,L){if((function(pe,ee){if(ee)for(var de=0;de<pe.length;de++)ee[de]=de;c===void 0&&(c=ve(pe)),d===void 0&&(d=ve(pe))})(C,D),u||!f||d)if(u&&f&&c^d)te=c?1:0,C=$(C,D,L);else if(!u&&f&&d)te=c?1:0,C=z(C,D,L),C=$(C,D);else if(!u||c||f||d){if(u&&!f&&c^d)C=$(C,D),c?(te=0,C=z(C,D,L)):(te=1,C=z(C,D,L),C=$(C,D));else if(u&&c&&!f&&d)te=1,C=z(C,D,L),C=$(C,D);else if(!u&&!f&&c^d){var X=y;c?(te=1,C=z(C,D,L),te=0,y=!1,C=z(C,D,L),y=X):(te=0,C=z(C,D,L),C=$(C,D),te=1,y=!1,C=z(C,D,L),y=X,C=$(C,D))}}else te=0,C=z(C,D,L);else te=c?1:0,C=z(C,D,L);return C},this.__bidiEngine__.setOptions=function(C){C&&(u=C.isInputVisual,f=C.isOutputVisual,c=C.isInputRtl,d=C.isOutputRtl,y=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(St),St.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Qu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new YD(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new DD(this.contents),this.head=new MD(this),this.name=new BD(this),this.cmap=new JS(this),this.toUnicode={},this.hhea=new jD(this),this.maxp=new qD(this),this.hmtx=new zD(this),this.post=new UD(this),this.os2=new VD(this),this.loca=new WD(this),this.glyf=new HD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Io,Qu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),DD=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,f,d,y,A,x,_,j,O;for(O in _=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),u=Math.floor(A/f),y=16*_-A,(s=new Qu).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(u),s.writeShort(y),o=16*_,d=s.pos+o,c=null,j=[],t)for(x=t[O],s.writeString(O),s.writeInt(n(x)),s.writeInt(d),s.writeInt(x.length),j=j.concat(x),O==="head"&&(c=d),d+=x.length;d%4;)j.push(0),d++;return s.write(j),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=ex.call(t);t.length%4;)t.push(0);for(o=new Qu(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),OD={}.hasOwnProperty,ul=function(n,e){for(var t in e)OD.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Io=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var MD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Qu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),$w=(function(){function n(e,t){var r,s,o,u,c,f,d,y,A,x,_,j,O,F,B,ne,te;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),x=_/2,e.pos+=6,o=(function(){var ae,ve;for(ve=[],f=ae=0;0<=x?ae<x:ae>x;f=0<=x?++ae:--ae)ve.push(e.readUInt16());return ve})(),e.pos+=2,O=(function(){var ae,ve;for(ve=[],f=ae=0;0<=x?ae<x:ae>x;f=0<=x?++ae:--ae)ve.push(e.readUInt16());return ve})(),d=(function(){var ae,ve;for(ve=[],f=ae=0;0<=x?ae<x:ae>x;f=0<=x?++ae:--ae)ve.push(e.readUInt16());return ve})(),y=(function(){var ae,ve;for(ve=[],f=ae=0;0<=x?ae<x:ae>x;f=0<=x?++ae:--ae)ve.push(e.readUInt16());return ve})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var ae,ve;for(ve=[],f=ae=0;0<=s?ae<s:ae>s;f=0<=s?++ae:--ae)ve.push(e.readUInt16());return ve})(),f=B=0,te=o.length;B<te;f=++B)for(F=o[f],r=ne=j=O[f];j<=F?ne<=F:ne>=F;r=j<=F?++ne:--ne)y[f]===0?u=r+d[f]:(u=c[y[f]/2+(r-j)-(x-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=A}return n.encode=function(e,t){var r,s,o,u,c,f,d,y,A,x,_,j,O,F,B,ne,te,ae,ve,Te,$,k,N,z,C,D,L,X,pe,ee,de,re,_e,Y,ce,R,q,Z,le,he,ge,Ce,ke,Be,ze,nt;switch(X=new Qu,u=Object.keys(e).sort(function(rt,Me){return rt-Me}),t){case"macroman":for(O=0,F=(function(){var rt=[];for(j=0;j<256;++j)rt.push(0);return rt})(),ne={0:0},o={},pe=0,_e=u.length;pe<_e;pe++)ne[ke=e[s=u[pe]]]==null&&(ne[ke]=++O),o[s]={old:e[s],new:ne[e[s]]},F[s]=ne[e[s]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(F),{charMap:o,subtable:X.data,maxGlyphID:O+1};case"unicode":for(D=[],A=[],te=0,ne={},r={},B=d=null,ee=0,Y=u.length;ee<Y;ee++)ne[ve=e[s=u[ee]]]==null&&(ne[ve]=++te),r[s]={old:ve,new:ne[ve]},c=ne[ve]-s,B!=null&&c===d||(B&&A.push(B),D.push(s),d=c),B=s;for(B&&A.push(B),A.push(65535),D.push(65535),z=2*(N=D.length),k=2*Math.pow(Math.log(N)/Math.LN2,2),x=Math.log(k/2)/Math.LN2,$=2*N-k,f=[],Te=[],_=[],j=de=0,ce=D.length;de<ce;j=++de){if(C=D[j],y=A[j],C===65535){f.push(0),Te.push(0);break}if(C-(L=r[C].new)>=32768)for(f.push(0),Te.push(2*(_.length+N-j)),s=re=C;C<=y?re<=y:re>=y;s=C<=y?++re:--re)_.push(r[s].new);else f.push(L-C),Te.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*N+2*_.length),X.writeUInt16(0),X.writeUInt16(z),X.writeUInt16(k),X.writeUInt16(x),X.writeUInt16($),ge=0,R=A.length;ge<R;ge++)s=A[ge],X.writeUInt16(s);for(X.writeUInt16(0),Ce=0,q=D.length;Ce<q;Ce++)s=D[Ce],X.writeUInt16(s);for(Be=0,Z=f.length;Be<Z;Be++)c=f[Be],X.writeUInt16(c);for(ze=0,le=Te.length;ze<le;ze++)ae=Te[ze],X.writeUInt16(ae);for(nt=0,he=_.length;nt<he;nt++)O=_[nt],X.writeUInt16(O);return{charMap:r,subtable:X.data,maxGlyphID:te+1}}},n})(),JS=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new $w(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=$w.encode(e,t),(s=new Qu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),jD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),VD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),UD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),FD=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},BD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,f,d,y,A,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=y=0,A=r.length;y<A;o=++y)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new FD(d,s),f[x=s.nameID]==null&&(f[x]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),qD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),zD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)y.push(e.readInt16());return y})(),this.widths=(function(){var d,y,A,x;for(x=[],d=0,y=(A=this.metrics).length;d<y;d++)o=A[d],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),ex=[].slice,HD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,f,d,y,A;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Qu(t.read(s))).readShort(),d=c.readShort(),A=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[e]=u===-1?new $D(c,d,A,f,y):new GD(c,u,d,A,f,y),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),GD=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),$D=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Qu(ex.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),WD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Io),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*r.length),y=0;y<r.length;++y)d[4*y+3]=255&r[y],d[4*y+2]=(65280&r[y])>>8,d[4*y+1]=(16711680&r[y])>>16,d[4*y]=(4278190080&r[y])>>24;return d},n})(),YD=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,f,d,y,A,x,_,j,O,F,B;for(s in r=JS.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),_={0:0},B=r.charMap)_[(f=B[s]).old]=f.new;for(j in x=r.maxGlyphID,u)j in _||(_[j]=x++);return y=(function(ne){var te,ae;for(te in ae={},ne)ae[ne[te]]=te;return ae})(_),A=Object.keys(y).sort(function(ne,te){return ne-te}),O=(function(){var ne,te,ae;for(ae=[],ne=0,te=A.length;ne<te;ne++)c=A[ne],ae.push(y[c]);return ae})(),o=this.font.glyf.encode(u,O,_),d=this.font.loca.encode(o.offsets,O),F={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},n})();St.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function tx(n,e,t,r,s){r=r||{};var o=1.15,u=s.internal.scaleFactor,c=s.internal.getFontSize()/u,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=c*f,y=/\r\n|\r|\n/g,A="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(A=typeof n=="string"?n.split(y):n,x=A.length||1),t+=c*(2-o),r.valign==="middle"?t-=x/2*d:r.valign==="bottom"&&(t-=x*d),r.halign==="center"||r.halign==="right"){var _=c;if(r.halign==="center"&&(_*=.5),A&&x>=1){for(var j=0;j<A.length;j++)s.text(A[j],e-s.getStringUnitWidth(A[j])*_,t),t+=d;return s}e-=s.getStringUnitWidth(n)*_}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Ww={},Bh=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Ww=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var y=n.unifyColor(e.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(e.textColor),y&&(s=this.jsPDFDocument).setTextColor.apply(s,y),y=n.unifyColor(e.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Ww||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),w2=function(n,e){return w2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},w2(n,e)};function nx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");w2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var rx=(function(n){nx(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function KD(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function QD(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function rg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function ix(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var u=sx(s,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function sx(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Mg(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function ax(n,e){var t=Mg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function XD(n,e,t,r,s){var o={},u=1.3333333333333333,c=k0(e,function(te){return s.getComputedStyle(te).backgroundColor});c!=null&&(o.fillColor=c);var f=k0(e,function(te){return s.getComputedStyle(te).color});f!=null&&(o.textColor=f);var d=JD(r,t);d&&(o.cellPadding=d);var y="borderTopColor",A=u*t,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var _=(parseFloat(x)||0)/A;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/A,right:(parseFloat(r.borderRightWidth)||0)/A,bottom:(parseFloat(r.borderBottomWidth)||0)/A,left:(parseFloat(r.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var j=k0(e,function(te){return s.getComputedStyle(te)[y]});j!=null&&(o.lineColor=j);var O=["left","right","center","justify"];O.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),O=["middle","bottom","top"],O.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var F=parseInt(r.fontSize||"");isNaN(F)||(o.fontSize=F/u);var B=ZD(r);B&&(o.fontStyle=B);var ne=(r.fontFamily||"").toLowerCase();return n.indexOf(ne)!==-1&&(o.font=ne),o}function ZD(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function k0(n,e){var t=ox(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function ox(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:ox(n.parentElement,e):t}function JD(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),u=Mg(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function lx(n,e,t,r,s){var o,u;r===void 0&&(r=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],A=[],x=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:y,body:A,foot:x};for(var _=0;_<c.rows.length;_++){var j=c.rows[_],O=(u=(o=j?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),F=eO(f,d,t,j,r,s);F&&(O==="thead"?y.push(F):O==="tfoot"?x.push(F):A.push(F))}return{head:y,body:A,foot:x}}function eO(n,e,t,r,s,o){for(var u=new rx(r),c=0;c<r.cells.length;c++){var f=r.cells[c],d=t.getComputedStyle(f);if(s||d.display!=="none"){var y=void 0;o&&(y=XD(n,f,e,d,t)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:tO(f)})}}var A=t.getComputedStyle(r);if(u.length>0&&(s||A.display!=="none"))return u}function tO(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function nO(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Vl(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function rO(n,e){var t=new Bh(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();nO(s,r,e);var o=Vl({},s,r,e),u;typeof window<"u"&&(u=window);var c=iO(s,r,e),f=sO(s,r,e),d=aO(t,o),y=lO(t,o,u);return{id:e.tableId,content:y,hooks:f,styles:c,settings:d}}function iO(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],y=e[f],A=t[f];r.columnStyles=Vl({},d,y,A)}else{var x=[n,e,t],_=x.map(function(j){return j[f]||{}});r[f]=Vl({},_[0],_[1],_[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];s(c)}return r}function sO(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function aO(n,e){var t,r,s,o,u,c,f,d,y,A,x,_,j=Mg(e.margin,40/n.scaleFactor()),O=(t=oO(n,e.startY))!==null&&t!==void 0?t:j.top,F;e.showFoot===!0?F="everyPage":e.showFoot===!1?F="never":F=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var B;e.showHead===!0?B="everyPage":e.showHead===!1?B="never":B=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var ne=(o=e.useCss)!==null&&o!==void 0?o:!1,te=e.theme||(ne?"plain":"striped"),ae=!!e.horizontalPageBreak,ve=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:ne,theme:te,startY:O,margin:j,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=e.tableWidth)!==null&&y!==void 0?y:"auto",showHead:B,showFoot:F,tableLineWidth:(A=e.tableLineWidth)!==null&&A!==void 0?A:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:ae,horizontalPageBreakRepeat:ve,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function oO(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;o=u===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function lO(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var c=lx(n,e.html,t,u,e.useCss)||{};r=c.head||r,s=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||uO(r,s,o);return{columns:f,head:r,body:s,foot:o}}function uO(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};s.push(y)}}),s}var A2=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),cO=(function(n){nx(e,n);function e(t,r,s,o,u,c){var f=n.call(this,t,r,c)||this;return f.cell=s,f.row=o,f.column=u,f.section=o.section,f}return e})(A2),hO=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,u){for(var c=0,f=t;c<f.length;c++){var d=f[c],y=new cO(e,this,r,s,o,u),A=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],A)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new A2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new A2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),ux=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof rx&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var u=r.cells[o.index];if(!u)return 0;var c=t.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+c;return d>s?d:s},0)},n})(),cx=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Mg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),fO=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n})();function dO(n,e){pO(n,e);var t=[],r=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=S2(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=S2(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),gO(e),yO(e,n),mO(e)}function pO(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=ax(n,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){var y=e.hooks.didParseCell;e.callCellHooks(n,y,d,o,f,null);var A=d.padding("horizontal");d.contentWidth=rg(d.text,d.styles,n)+A;var x=rg(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},A=y.cellWidth||y.minCellWidth;A&&typeof A=="number"&&(f.minWidth=A,f.wrappedWidth=A)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function S2(n,e,t){for(var r=e,s=n.reduce(function(_,j){return _+j.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/s,f=r*c,d=u.width+f,y=t(u),A=d<y?y:d;e-=A-u.width,u.width=A}if(e=Math.round(e*1e10)/1e10,e){var x=n.filter(function(_){return e<0?_.width>t(_):!0});x.length&&(e=S2(x,e,t))}return e}function mO(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var A=r.length-s,x=y.rowSpan>A?A:y.rowSpan;e[f.index]={cell:y,left:x,row:o}}}}}function gO(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,u=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function yO(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,y+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Yw(d.text,y,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Yw(d.text,y,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var A=d.styles.overflow(d.text,y);typeof A=="string"?d.text=[A]:d.text=A}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<x*d.rowSpan?t={height:x,count:d.rowSpan}:t&&t.count>0&&t.height>x&&(x=t.height),x>o.height&&(o.height=x)}}t.count--}}function Yw(n,e,t,r,s){return n.map(function(o){return vO(o,e,t,r,s)})}function vO(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=rg(n,t,r))return n;for(;e<rg(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function bO(n,e){var t=new Bh(n),r=_O(e,t.scaleFactor()),s=new hO(e,r);return dO(t,s),t.applyStyles(t.userStyles),s}function _O(n,e){var t=n.content,r=AO(t.columns);if(t.head.length===0){var s=Kw(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=Kw(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,u=n.styles;return{columns:r,head:P0("head",t.head,r,u,o,e),body:P0("body",t.body,r,u,o,e),foot:P0("foot",t.foot,r,u,o,e)}}function P0(n,e,t,r,s,o){var u={},c=e.map(function(f,d){for(var y=0,A={},x=0,_=0,j=0,O=t;j<O.length;j++){var F=O[j];if(u[F.index]==null||u[F.index].left===0)if(_===0){var B=void 0;Array.isArray(f)?B=f[F.index-x-y]:B=f[F.dataKey];var ne={};typeof B=="object"&&!Array.isArray(B)&&(ne=B?.styles||{});var te=SO(n,F,d,s,r,o,ne),ae=new cx(B,te,n);A[F.dataKey]=ae,A[F.index]=ae,_=ae.colSpan-1,u[F.index]={left:ae.rowSpan-1,times:_}}else _--,x++;else u[F.index].left--,_=u[F.index].times,y++}return new ux(f,d,n,A)});return c}function Kw(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=wO(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function wO(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function AO(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new fO(s,e,t)})}function SO(n,e,t,r,s,o,u){var c=QD(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Vl({},c.table,c[n],s.styles,f),y=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},A=n==="body"?y:{},x=n==="body"&&t%2===0?Vl({},c.alternateRow,s.alternateRowStyles):{},_=KD(o),j=Vl({},_,d,x,A);return Vl(j,u)}function xO(n,e,t){var r;t===void 0&&(t={});var s=ax(n,e),o=new Map,u=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(x){var _=e.columns.find(function(j){return j.dataKey===x||j.index===x});_&&!o.has(_.index)&&(o.set(_.index,!0),u.push(_.index),c.push(e.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,y=(r=t?.start)!==null&&r!==void 0?r:0;y<e.columns.length;){if(o.has(y)){y++;continue}var A=e.columns[y].wrappedWidth;if(d||s>=A)d=!1,u.push(y),c.push(e.columns[y]),s-=A;else break;y++}return{colIndexes:u,columns:c,lastIndex:y-1}}function EO(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=xO(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function TO(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+s.bottom+u;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(x,_){return x+_.height},0);c+=d}var y=new Bh(n);(t.pageBreak==="always"||t.startY!=null&&c>y.pageSize().height)&&(fx(y),o.y=s.top),e.callWillDrawPageHooks(y,o);var A=Vl({},o);e.startPageNumber=y.pageNumber(),t.horizontalPageBreak?NO(y,e,A,o):(y.applyStyles(y.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(x){return $l(y,e,x,o,e.columns)}),y.applyStyles(y.userStyles),e.body.forEach(function(x,_){var j=_===e.body.length-1;ig(y,e,x,j,A,o,e.columns)}),y.applyStyles(y.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(x){return $l(y,e,x,o,e.columns)})),ix(y,e,A,o),e.callEndPageHooks(y,o),e.finalY=o.y,n.lastAutoTable=e,y.applyStyles(y.userStyles)}function NO(n,e,t,r){var s=EO(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?md(n,e,t,r,d.columns,!0):Qw(n,e,r,d.columns),IO(n,e,t,r,d.columns),D0(n,e,r,d.columns)});else for(var u=-1,c=s[0],f=function(){var d=u;if(c){n.applyStyles(n.userStyles);var y=c.columns;u>=0?md(n,e,t,r,y,!0):Qw(n,e,r,y),d=Xw(n,e,u+1,r,y),D0(n,e,r,y)}var A=d-u;s.slice(1).forEach(function(x){n.applyStyles(n.userStyles),md(n,e,t,r,x.columns,!0),Xw(n,e,u+1,r,x.columns,A),D0(n,e,r,x.columns)}),u=d};u<e.body.length-1;)f()}function Qw(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return $l(n,e,o,t,r)})}function IO(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;ig(n,e,o,c,t,r,s)})}function Xw(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var u=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,u).forEach(function(f,d){var y=t+d===e.body.length-1,A=hx(n,e,y,r);f.canEntireRowFit(A,s)&&($l(n,e,f,r,s),c=t+d)}),c}function D0(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return $l(n,e,o,t,r)})}function CO(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function RO(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=t.columns;u<c.length;u++){var f=c[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new cx(d.raw,d.styles,d.section);y=Vl(y,d),y.text=[];var A=CO(d,e,r);d.text.length>A&&(y.text=d.text.splice(A,d.text.length));var x=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,_),d.contentHeight>=e&&(d.contentHeight=e,y.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(x,_),y.contentHeight>o&&(o=y.contentHeight),s[f.index]=y}}var j=new ux(n.raw,-1,n.section,s,!0);j.height=o;for(var O=0,F=t.columns;O<F.length;O++){var f=F[O],y=j.cells[f.index];y&&(y.height=j.height);var d=n.cells[f.index];d&&(d.height=n.height)}return j}function LO(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=s-u;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=e.hasRowSpan(r.columns),A=e.getMaxCellHeight(r.columns)>c;return A?(y&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function ig(n,e,t,r,s,o,u){var c=hx(n,e,r,o);if(t.canEntireRowFit(c,u))$l(n,e,t,o,u);else if(LO(n,t,c,e)){var f=RO(t,c,e,n);$l(n,e,t,o,u),md(n,e,s,o,u),ig(n,e,f,r,s,o,u)}else md(n,e,s,o,u),ig(n,e,t,r,s,o,u)}function $l(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var c=u[o],f=t.cells[c.index];if(!f){r.x+=c.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,c,r);if(d===!1){r.x+=c.width;continue}kO(n,f,r);var y=f.getTextPos();tx(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,c,r),r.x+=c.width}r.y+=t.height}function kO(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=sx(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),PO(n,e,t,r.lineWidth))}function PO(n,e,t,r){var s,o,u,c;r.top&&(s=t.x,o=t.y,u=t.x+e.width,c=t.y,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,u,c)),r.bottom&&(s=t.x,o=t.y+e.height,u=t.x+e.width,c=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,u,c)),r.left&&(s=t.x,o=t.y,u=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.left,s,o,u,c)),r.right&&(s=t.x+e.width,o=t.y,u=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.right,s,o,u,c));function f(d,y,A,x,_){n.getDocument().setLineWidth(d),n.getDocument().line(y,A,x,_,"S")}}function hx(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function md(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return $l(n,e,c,r,s)}),e.callEndPageHooks(n,r);var u=e.settings.margin;ix(n,e,t,r),fx(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return $l(n,e,c,r,s)}),n.applyStyles(n.userStyles))}function fx(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function DO(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=rO(this,r),o=bO(this,s);return TO(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){tx(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return Bh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Bh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Bh(this),o=lx(s,e,window,t,!1),u=o.head,c=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var O0;try{if(typeof window<"u"&&window){var Zw=window,Jw=Zw.jsPDF||((O0=Zw.jspdf)===null||O0===void 0?void 0:O0.jsPDF);Jw&&DO(Jw)}}catch(n){console.error("Could not apply autoTable plugin",n)}const dx=(n,e="Factura",t="Cliente")=>{const r=new St;r.setFontSize(16),r.text(e,14,20),r.setFontSize(10),r.text(`Nmero: ${n.invoiceNumber||"SINID"}`,14,28),t==="Cliente"?r.text(`Cliente: ${n.clientName||n.clientId||"N/A"}`,14,34):r.text(`Proveedor: ${n.supplierName||n.supplierId||"N/A"}`,14,34);const s=(n.items||[]).map(u=>[u.name||"",u.quantity||0,`$${u.price||0}`,`${u.discount??0}%`,`${u.tax??0}%`,`${u.retention??0}%`,`$${((u.price||0)*(u.quantity||0)).toFixed(2)}`]);s.length>0&&r.autoTable({head:[["Producto","Cant.","Precio","Desc.","IVA","Ret.","Total"]],body:s,startY:40});const o=r.lastAutoTable&&r.lastAutoTable.finalY||40;r.text(`Subtotal: $${n.subtotal||0}`,14,o+10),r.text(`IVA: $${n.iva||0}`,14,o+16),r.text(`Retenciones: -$${n.retenciones||0}`,14,o+22),r.setFontSize(12),r.text(`Total Neto: $${n.total||0}`,14,o+32),r.save(`${e}_${n.invoiceNumber||"SINID"}.pdf`)},sf=()=>T.jsx("div",{className:"flex justify-center items-center h-full",children:T.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-500"})}),Qd=({isOpen:n,onClose:e,title:t,children:r})=>n?T.jsx("div",{className:"fixed inset-0 backdrop-blur-sm z-50 flex justify-center items-center p-4",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-7xl h-[90vh] overflow-y-auto",children:[T.jsxs("div",{className:"flex justify-between items-center p-4 border-b sticky top-0 bg-white z-10",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t}),T.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:jn.close})]}),T.jsx("div",{className:"p-6",children:r})]})}):null,ts=({id:n,label:e,children:t,...r})=>T.jsxs("div",{children:[T.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),T.jsx("select",{id:n,...r,className:"w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:t})]}),OO=({isOpen:n,onClose:e,onSubmit:t,clients:r,products:s,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=ll(),[f,d]=Ve.useState("Fsica"),[y,A]=Ve.useState(""),[x,_]=Ve.useState(()=>{const re=new Date;return new Date(re.getTime()-re.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[j,O]=Ve.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[F,B]=Ve.useState("Efectivo"),[ne,te]=Ve.useState(""),[ae,ve]=Ve.useState(0),[Te,$]=Ve.useState(0),[k,N]=Ve.useState(0),[z,C]=Ve.useState(0),D=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1},{label:"Retencin por combustible 0.10%",value:.1}],L=re=>{if(!re)return"FV-001";const _e=re.match(/^FV-(\d+)$/);if(!_e)return null;const Y=parseInt(_e[1],10)+1;return`FV-${String(Y).padStart(3,"0")}`};Ve.useEffect(()=>{o&&(d(o.tipoFactura||"Electrnica"),A(o.clientId||""),_(o.date?new Date(o.date.seconds?o.date.seconds*1e3:o.date).toISOString().split("T")[0]:x),O(o.items||[]),B(o.paymentMethod||"Efectivo"),te(o.observaciones||""))},[o,x]);const X=(re,_e,Y)=>{const ce=[...j];if(ce[re][_e]=Y,_e==="productId")if(Y==="")ce[re]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const R=s.find(q=>q.id===Y);R&&(ce[re].price=R.unitValue||0,ce[re].tax=R.iva??"",ce[re].code=R.code||"",ce[re].name=R.name||R.description||"")}O(ce)},pe=()=>O([...j,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),ee=re=>O(j.filter((_e,Y)=>Y!==re));Ve.useEffect(()=>{let re=0,_e=0,Y=0;j.forEach(ce=>{const R=Number(ce.quantity)||0,q=Number(ce.price)||0,Z=(Number(ce.discount)||0)/100,le=R*q*(1-Z),he=ce.tax===""?0:Number(ce.tax)/100,ge=ce.retention===""?0:Number(ce.retention)/100;re+=le,_e+=le*he,Y+=le*ge}),ve(re),$(_e),N(Y),C(re+_e-Y)},[j]);const de=re=>{re.preventDefault();const _e=o?o.invoiceNumber:L(u);let Y;if(x){const[R,q,Z]=x.split("-");Y=new Date(Number(R),Number(q)-1,Number(Z))}else{const R=new Date;Y=new Date(R.getFullYear(),R.getMonth(),R.getDate())}const ce={id:o?.id||null,tipoFactura:f,clientId:y,vendedor:c?.name||"Usuario",date:Y,items:j.map(R=>({...R,quantity:Number(R.quantity),price:Number(R.price),discount:Number(R.discount),tax:R.tax===""?null:Number(R.tax),retention:R.retention===""?null:Number(R.retention)})),paymentMethod:F,observaciones:ne,subtotal:ae,iva:Te,retenciones:k,total:z,invoiceNumber:_e};t(ce),e()};return T.jsx(Qd,{isOpen:n,onClose:e,title:o?"Editar Factura de Venta":"Crear Nueva Factura de Venta",children:T.jsxs("form",{onSubmit:de,className:"space-y-4",children:[!o&&u&&T.jsxs("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:[T.jsxs("p",{children:["ltima factura registrada: ",T.jsx("b",{children:u})]}),L(u)&&T.jsxs("p",{children:["Siguiente sugerida:"," ",T.jsx("b",{children:L(u)})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs(ts,{label:"Tipo de Factura",value:f,onChange:re=>d(re.target.value),children:[T.jsx("option",{value:"Fsica",children:"FV-1 Documento Ingreso"}),T.jsx("option",{value:"Electrnica",children:"FV-2 Factura Electrnica"})]}),T.jsxs(ts,{label:"Cliente",value:y,onChange:re=>A(re.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Seleccione un cliente"}),r.map(re=>T.jsxs("option",{value:re.id,children:[re.name," - ",re.idNumber]},re.id))]}),T.jsx(Bn,{label:"Vendedor",value:c?.name||"",readOnly:!0}),T.jsx(Bn,{label:"Fecha",type:"date",value:x,onChange:re=>_(re.target.value)})]}),T.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"tems de la Factura"}),T.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[T.jsx("div",{className:"col-span-3",children:"Producto"}),T.jsx("div",{className:"col-span-2",children:"Cantidad"}),T.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),T.jsx("div",{className:"col-span-2",children:"% Desc."}),T.jsx("div",{className:"col-span-2",children:"Impuesto"}),T.jsx("div",{className:"col-span-1",children:"% Ret."}),T.jsx("div",{className:"col-span-1",children:"Valor Total"}),T.jsx("div",{className:"w-8 flex justify-center"})]}),j.map((re,_e)=>{const Y=Number(re.quantity)||0,ce=Number(re.price)||0,R=(Number(re.discount)||0)/100,q=Y*ce*(1-R),Z=re.tax===""?0:Number(re.tax)/100,le=re.retention===""?0:Number(re.retention)/100,he=q+q*Z-q*le;return T.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[T.jsx("div",{className:"col-span-3",children:T.jsxs(ts,{value:re.productId,onChange:ge=>X(_e,"productId",ge.target.value),children:[T.jsx("option",{value:"",children:"Seleccione producto"}),s.map(ge=>T.jsxs("option",{value:ge.id,children:[ge.code," - ",ge.name]},ge.id))]})}),T.jsx("div",{className:"col-span-2",children:T.jsx(Bn,{type:"number",value:re.quantity,min:"1",onChange:ge=>X(_e,"quantity",ge.target.value)})}),T.jsx("div",{className:"col-span-2",children:T.jsx(Bn,{type:"number",value:re.price,onChange:ge=>X(_e,"price",ge.target.value)})}),T.jsx("div",{className:"col-span-2",children:T.jsx(Bn,{type:"number",value:re.discount,onChange:ge=>X(_e,"discount",ge.target.value)})}),T.jsx("div",{className:"col-span-2",children:T.jsxs(ts,{value:re.tax,onChange:ge=>X(_e,"tax",ge.target.value),children:[T.jsx("option",{value:"",children:" "}),T.jsx("option",{value:0,children:"0% (Exento)"}),T.jsx("option",{value:5,children:"5%"}),T.jsx("option",{value:19,children:"19%"})]})}),T.jsx("div",{className:"col-span-1",children:T.jsx(ts,{value:re.retention,onChange:ge=>X(_e,"retention",ge.target.value),children:D.map((ge,Ce)=>T.jsx("option",{value:ge.value,children:ge.label},`${ge.value}-${Ce}`))})}),T.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(he)}),T.jsx("div",{className:"w-8 flex justify-center items-center",children:T.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ee(_e),children:jn.trash})})]},_e)}),T.jsx(si,{type:"button",variant:"secondary",onClick:pe,children:"Aadir tem"}),T.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[T.jsxs("p",{children:["Subtotal: ",T.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(ae)]})]}),T.jsxs("p",{children:["IVA: ",T.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(Te)]})]}),T.jsxs("p",{children:["Retenciones:"," ",T.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(k)]})]}),T.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(z)]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[T.jsxs(ts,{label:"Forma de Pago",value:F,onChange:re=>B(re.target.value),children:[T.jsx("option",{value:"Efectivo",children:"Efectivo"}),T.jsx("option",{value:"Crdito",children:"Crdito"})]}),T.jsx(Bn,{label:"Observaciones",value:ne,onChange:re=>te(re.target.value)})]}),T.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[T.jsx(si,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),T.jsx(si,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})},px=({isOpen:n,onClose:e,invoice:t,entityName:r="Cliente",onDownloadPDF:s})=>{if(!n||!t)return null;const o=()=>{typeof s=="function"?s(t):console.warn("InvoiceDetailModal: onDownloadPDF no est definido.")};return T.jsxs(Qd,{isOpen:n,onClose:e,title:"Detalle de Factura",children:[T.jsxs("div",{className:"space-y-3 text-sm",children:[T.jsxs("p",{children:[T.jsx("b",{children:"Nmero:"})," ",t.invoiceNumber]}),T.jsxs("p",{children:[T.jsx("b",{children:"Fecha:"})," ",t.date?.seconds?new Date(t.date.seconds*1e3).toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):"N/A"]}),T.jsxs("p",{children:[T.jsxs("b",{children:[r,":"]})," ",r==="Cliente"?t.clientName||t.clientId:t.supplierName||t.supplierId]}),t.vendedor&&T.jsxs("p",{children:[T.jsx("b",{children:"Vendedor:"})," ",t.vendedor]}),T.jsxs("table",{className:"w-full border text-xs",children:[T.jsx("thead",{className:"bg-gray-100",children:T.jsxs("tr",{children:[T.jsx("th",{children:"Producto"}),T.jsx("th",{children:"Cant."}),T.jsx("th",{children:"Precio"}),T.jsx("th",{children:"Desc."}),T.jsx("th",{children:"IVA"}),T.jsx("th",{children:"Ret."}),T.jsx("th",{children:"Total"})]})}),T.jsx("tbody",{children:t.items.map((u,c)=>{const f=u.quantity,d=u.price*f*(1-(u.discount||0)/100),y=d*((u.tax||0)/100),A=d*((u.retention||0)/100),x=d+y-A;return T.jsxs("tr",{children:[T.jsx("td",{children:u.name}),T.jsx("td",{children:f}),T.jsxs("td",{children:["$",u.price]}),T.jsxs("td",{children:[u.discount??0,"%"]}),T.jsxs("td",{children:[u.tax??0,"%"]}),T.jsxs("td",{children:[u.retention??0,"%"]}),T.jsxs("td",{children:["$",x.toFixed(2)]})]},c)})})]}),T.jsxs("div",{className:"text-right space-y-1",children:[T.jsxs("p",{children:["Subtotal: $",t.subtotal?.toFixed(2)]}),T.jsxs("p",{children:["IVA: $",t.iva?.toFixed(2)]}),T.jsxs("p",{children:["Retenciones: -$",t.retenciones?.toFixed(2)]}),T.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",t.total?.toFixed(2)]})]})]}),T.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[T.jsx(si,{variant:"secondary",onClick:e,children:"Cerrar"}),T.jsx(si,{variant:"primary",onClick:o,children:"Descargar PDF"})]})]})},MO=({setActiveView:n})=>{const{companyData:e}=ll(),[t,r]=Ve.useState(!1),[s,o]=Ve.useState(null),[u,c]=Ve.useState(null),[f,d]=Ve.useState(!1),[y,A]=Ve.useState([]),[x,_]=Ve.useState([]),[j,O]=Ve.useState([]),[F,B]=Ve.useState([]),[ne,te]=Ve.useState(!0),[ae,ve]=Ve.useState(null),[Te,$]=Ve.useState(""),k=L=>L?L.seconds?new Date(L.seconds*1e3).toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):typeof L.toDate=="function"?L.toDate().toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):L instanceof Date?L.toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):typeof L=="string"?L:String(L):"N/A";Ve.useEffect(()=>{if(!e)return;te(!0);const L=Xs(fi(xn,`companies/${e.id}/invoices_sales`)),X=Ya(L,pe=>{const ee=pe.docs.map(de=>({id:de.id,...de.data()}));A(ee),te(!1)},pe=>{console.error("Error fetching invoices: ",pe),te(!1)});return()=>X()},[e]),Ve.useEffect(()=>{if(!e)return;const L=Xs(fi(xn,`companies/${e.id}/thirdparties`)),X=Xs(fi(xn,`companies/${e.id}/products`)),pe=Xs(fi(xn,`companies/${e.id}/retenciones`)),ee=Ya(L,_e=>{_(_e.docs.map(Y=>({id:Y.id,...Y.data()})))}),de=Ya(X,_e=>{O(_e.docs.map(Y=>({id:Y.id,...Y.data()})))}),re=Ya(pe,_e=>{B(_e.docs.map(Y=>({id:Y.id,...Y.data()})))});return()=>{ee(),de(),re()}},[e]),Ve.useEffect(()=>{if(!e)return;const L=Xs(fi(xn,`companies/${e.id}/invoices_sales`),DA("createdAt","desc"),wy(1)),X=Ya(L,pe=>{if(pe.empty)ve(null);else{const ee=pe.docs[0].data();ve(ee.invoiceNumber)}});return()=>X()},[e]);const N=async L=>{if(!e)return;const X=Oi.loading("Creando factura...");try{const pe=rs(xn,`companies/${e.id}/counters/invoices_sales`);await Rg(pe,{lastNumber:xy(1)},{merge:!0});const ee=await Id(pe),de=ee.exists()?ee.data().lastNumber:1,re=`FV-${String(de).padStart(3,"0")}`;let _e=null;if(L?.date)if(typeof L.date=="string"){const[R,q,Z]=L.date.split("-");_e=new Date(Number(R),Number(q)-1,Number(Z))}else L instanceof Date?_e=new Date(L.getFullYear(),L.getMonth(),L.getDate()):L.date.seconds&&(_e=new Date(L.date.seconds*1e3));const Y=fi(xn,`companies/${e.id}/invoices_sales`),ce=await Wd(Y,{...L,date:_e||new Date,companyId:e.id,invoiceNumber:re,createdAt:ol(),status:"Pendiente"});await Dc(ce,{id:ce.id}),r(!1),Oi.success(" Factura creada con xito",{id:X})}catch(pe){console.error("Error creating invoice: ",pe),Oi.error(" Error al crear la factura",{id:X})}},z=async L=>{if(!e||!s)return;const X=Oi.loading("Actualizando factura...");try{const pe=rs(xn,`companies/${e.id}/invoices_sales/${s.id}`);let ee;if(L?.date)if(typeof L.date=="string"){const[re,_e,Y]=L.date.split("-");ee=new Date(Number(re),Number(_e)-1,Number(Y))}else L instanceof Date?ee=new Date(L.getFullYear(),L.getMonth(),L.getDate()):L.date.seconds&&(ee=new Date(L.date.seconds*1e3));const de={...L,updatedAt:ol()};ee&&(de.date=ee),await Dc(pe,de),o(null),r(!1),Oi.success(" Factura actualizada correctamente",{id:X})}catch(pe){console.error("Error updating invoice: ",pe),Oi.error(" Error al actualizar la factura",{id:X})}},C=async L=>{if(!e||!window.confirm("Seguro que deseas eliminar esta factura?"))return;const X=Oi.loading("Eliminando factura...");try{const pe=`companies/${e.id}/invoices_sales/${L}`;await Lg(rs(xn,pe)),Oi.success(" Factura eliminada correctamente",{id:X})}catch(pe){console.error(" Error deleting invoice: ",pe),Oi.error(" Error eliminando factura",{id:X})}},D=y.filter(L=>{const X=x.find(re=>re.id===L.clientId),pe=X?.idNumber?.toLowerCase()||"",ee=X?.name?.toLowerCase()||"",de=Te.toLowerCase();return pe.includes(de)||ee.includes(de)});return T.jsxs("div",{children:[T.jsx("div",{className:"border-b mb-4",children:T.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[T.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de venta"}),T.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Facturas recurrentes"}),T.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Clientes"}),T.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Seguimiento comercial"})]})}),T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("div",{className:"flex space-x-2",children:T.jsx("input",{type:"text",placeholder:"Buscar por Identificacin o Cliente",className:"border px-3 py-2 rounded-lg text-sm w-80",value:Te,onChange:L=>$(L.target.value)})}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs(si,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[jn.userPlus," Crear Cliente"]}),T.jsxs(si,{onClick:()=>{o(null),r(!0)},children:[jn.plus," Crear Factura"]})]})]}),T.jsx(jc,{title:"Facturas de Venta",children:ne?T.jsx(sf,{}):T.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[T.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3",children:"Fecha"}),T.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),T.jsx("th",{className:"px-6 py-3",children:"Identificacin"}),T.jsx("th",{className:"px-6 py-3",children:"Cliente"}),T.jsx("th",{className:"px-6 py-3",children:"Total"}),T.jsx("th",{className:"px-6 py-3",children:"Moneda"}),T.jsx("th",{className:"px-6 py-3",children:"Estado"}),T.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),T.jsx("tbody",{children:D.map(L=>T.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[T.jsx("td",{className:"px-6 py-4",children:k(L.date)}),T.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:L.invoiceNumber||"FV-SINID"}),T.jsx("td",{className:"px-6 py-4",children:x.find(X=>X.id===L.clientId)?.idNumber||"N/A"}),T.jsx("td",{className:"px-6 py-4",children:x.find(X=>X.id===L.clientId)?.name||"Consumidor Final"}),T.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(L.total||0)]}),T.jsx("td",{className:"px-6 py-4",children:"COP"}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L.status==="Pagada"?"bg-green-100 text-green-800":L.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.status||"Pendiente"})}),T.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[T.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(L),d(!0)},children:jn.eye}),T.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(L),r(!0)},children:jn.edit}),T.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>C(L.id),children:jn.trash})]})]},L.id))})]})}),T.jsx(OO,{isOpen:t,onClose:()=>{r(!1),o(null)},onSubmit:s?z:N,clients:x,products:j,retenciones:F,initialData:s,lastInvoiceNumber:ae}),f&&u&&T.jsx(px,{isOpen:f,onClose:()=>{d(!1),c(null)},invoice:u,entityName:"Cliente",onDownloadPDF:L=>dx(L,"Factura de Venta","Cliente")})]})},jO=({isOpen:n,onClose:e,onSubmit:t,suppliers:r,products:s,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=ll(),[f,d]=Ve.useState("FC-1-Compra"),[y,A]=Ve.useState(""),[x,_]=Ve.useState(()=>{const R=new Date;return new Date(R.getTime()-R.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[j,O]=Ve.useState("FC"),[F,B]=Ve.useState(""),[ne,te]=Ve.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[ae,ve]=Ve.useState("Efectivo"),[Te,$]=Ve.useState(""),[k,N]=Ve.useState(0),[z,C]=Ve.useState(0),[D,L]=Ve.useState(0),[X,pe]=Ve.useState(0),ee=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1}],de=R=>{if(!R)return"FC-001";const q=R.match(/^FC-(\d+)$/);if(!q)return null;const Z=parseInt(q[1],10)+1;return`FC-${String(Z).padStart(3,"0")}`};Ve.useEffect(()=>{if(o){if(d(o.tipoFactura||"FC-1-Compra"),A(o.supplierId||""),_(o.date?new Date(o.date.seconds*1e3).toISOString().split("T")[0]:x),o.supplierInvoice){const R=o.supplierInvoice.split("-");O(R[0]||"FC"),B(R[1]||"")}te(o.items||[]),ve(o.paymentMethod||"Efectivo"),$(o.observaciones||"")}},[o,x]);const re=(R,q,Z)=>{const le=[...ne];if(le[R][q]=Z,q==="productId")if(Z==="")le[R]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const he=s.find(ge=>ge.id===Z);he&&(le[R].price=he.unitValue||0,le[R].tax=he.iva??"",le[R].code=he.code||"",le[R].name=he.name||he.description||"")}te(le)},_e=()=>te([...ne,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),Y=R=>te(ne.filter((q,Z)=>Z!==R));Ve.useEffect(()=>{let R=0,q=0,Z=0;ne.forEach(le=>{const he=Number(le.quantity)||0,ge=Number(le.price)||0,Ce=(Number(le.discount)||0)/100,ke=he*ge*(1-Ce),Be=le.tax===""?0:Number(le.tax)/100,ze=le.retention===""?0:Number(le.retention)/100;R+=ke,q+=ke*Be,Z+=ke*ze}),N(R),C(q),L(Z),pe(R+q-Z)},[ne]);const ce=R=>{R.preventDefault();const q=o?o.invoiceNumber:de(u),Z={id:o?.id||null,tipoFactura:f,supplierId:y,supplierInvoice:`${j}-${F}`,comprador:c?.name||"Usuario",date:x,items:ne.map(le=>({...le,quantity:Number(le.quantity),price:Number(le.price),discount:Number(le.discount),tax:le.tax===""?null:Number(le.tax),retention:le.retention===""?null:Number(le.retention)})),paymentMethod:ae,observaciones:Te,subtotal:k,iva:z,retenciones:D,total:X,invoiceNumber:q};t(Z),e()};return T.jsx(Qd,{isOpen:n,onClose:e,title:o?"Editar Factura de Compra":"Nueva Factura de Compra",children:T.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[!o&&T.jsx("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:u?T.jsxs(T.Fragment,{children:[T.jsxs("p",{children:["ltima factura registrada: ",T.jsx("b",{children:u})]}),de(u)&&T.jsxs("p",{children:["Siguiente sugerida:"," ",T.jsx("b",{children:de(u)})]})]}):T.jsxs("p",{children:["No hay facturas registradas an. Sugerida: ",T.jsx("b",{children:"FC-001"})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx(ts,{label:"Tipo de Factura",value:f,onChange:R=>d(R.target.value),required:!0,children:T.jsx("option",{value:"FC-1-Compra",children:"FC-1-Compra"})}),T.jsxs(ts,{label:"Proveedor",value:y,onChange:R=>A(R.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Seleccione un proveedor"}),r.map(R=>T.jsxs("option",{value:R.id,children:[R.name," - ",R.idNumber]},R.id))]}),T.jsx(Bn,{label:"Fecha de Elaboracin",type:"date",value:x,onChange:R=>_(R.target.value)}),T.jsxs("div",{className:"flex items-end space-x-2",children:[T.jsx(Bn,{label:"N Factura Proveedor (Prefijo)",value:j,onChange:R=>O(R.target.value)}),T.jsx(Bn,{label:"Consecutivo",value:F,onChange:R=>B(R.target.value)})]}),T.jsx(Bn,{label:"Comprador",value:c?.name||"",readOnly:!0})]}),T.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"tems de la Compra"}),T.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[T.jsx("div",{className:"col-span-3",children:"Producto"}),T.jsx("div",{className:"col-span-2",children:"Cantidad"}),T.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),T.jsx("div",{className:"col-span-2",children:"% Desc."}),T.jsx("div",{className:"col-span-2",children:"Impuesto"}),T.jsx("div",{className:"col-span-1",children:"% Ret."}),T.jsx("div",{className:"col-span-1",children:"Valor Total"}),T.jsx("div",{className:"w-8 flex justify-center"})]}),ne.map((R,q)=>{const Z=Number(R.quantity)||0,le=Number(R.price)||0,he=(Number(R.discount)||0)/100,ge=Z*le*(1-he),Ce=R.tax===""?0:Number(R.tax)/100,ke=R.retention===""?0:Number(R.retention)/100,Be=ge+ge*Ce-ge*ke;return T.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[T.jsx("div",{className:"col-span-3",children:T.jsxs(ts,{value:R.productId,onChange:ze=>re(q,"productId",ze.target.value),children:[T.jsx("option",{value:"",children:"Seleccione producto"}),s.map(ze=>T.jsxs("option",{value:ze.id,children:[ze.code," - ",ze.name]},ze.id))]})}),T.jsx("div",{className:"col-span-2",children:T.jsx(Bn,{type:"number",value:R.quantity,min:"1",onChange:ze=>re(q,"quantity",ze.target.value)})}),T.jsx("div",{className:"col-span-2",children:T.jsx(Bn,{type:"number",value:R.price,onChange:ze=>re(q,"price",ze.target.value)})}),T.jsx("div",{className:"col-span-2",children:T.jsx(Bn,{type:"number",value:R.discount,onChange:ze=>re(q,"discount",ze.target.value)})}),T.jsx("div",{className:"col-span-2",children:T.jsxs(ts,{value:R.tax,onChange:ze=>re(q,"tax",ze.target.value),children:[T.jsx("option",{value:"",children:" "}),T.jsx("option",{value:0,children:"0% (Exento)"}),T.jsx("option",{value:5,children:"5%"}),T.jsx("option",{value:19,children:"19%"})]})}),T.jsx("div",{className:"col-span-1",children:T.jsx(ts,{value:R.retention,onChange:ze=>re(q,"retention",ze.target.value),children:ee.map(ze=>T.jsx("option",{value:ze.value,children:ze.label},ze.value))})}),T.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(Be)}),T.jsx("div",{className:"w-8 flex justify-center items-center",children:T.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Y(q),children:jn.trash})})]},q)}),T.jsx(si,{type:"button",variant:"secondary",onClick:_e,children:"Aadir tem"}),T.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[T.jsxs("p",{children:["Subtotal: ",T.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(k)]})]}),T.jsxs("p",{children:["IVA: ",T.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(z)]})]}),T.jsxs("p",{children:["Retenciones:"," ",T.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(D)]})]}),T.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(X)]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[T.jsxs(ts,{label:"Forma de Pago",value:ae,onChange:R=>ve(R.target.value),children:[T.jsx("option",{value:"Efectivo",children:"Efectivo"}),T.jsx("option",{value:"Crdito",children:"Crdito"})]}),T.jsx(Bn,{label:"Observaciones",value:Te,onChange:R=>$(R.target.value)})]}),T.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[T.jsx(si,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),T.jsx(si,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})},VO=({setActiveView:n})=>{const{companyData:e}=ll(),[t,r]=Ve.useState(!1),[s,o]=Ve.useState(null),[u,c]=Ve.useState(null),[f,d]=Ve.useState(!1),[y,A]=Ve.useState([]),[x,_]=Ve.useState([]),[j,O]=Ve.useState([]),[F,B]=Ve.useState([]),[ne,te]=Ve.useState(!0),[ae,ve]=Ve.useState(null),[Te,$]=Ve.useState(""),k=X=>X?new Date(X.seconds*1e3).toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):"N/A",N=X=>{if(!X)return null;if(typeof X=="string"){const[pe,ee,de]=X.split("-");return new Date(Number(pe),Number(ee)-1,Number(de))}return X instanceof Date?new Date(X.getFullYear(),X.getMonth(),X.getDate()):X?.seconds?new Date(X.seconds*1e3):null};Ve.useEffect(()=>{if(!e)return;te(!0);const X=Xs(fi(xn,`companies/${e.id}/invoices_purchases`)),pe=Ya(X,ee=>{const de=ee.docs.map(re=>({id:re.id,...re.data()}));A(de),te(!1)},ee=>{console.error("Error fetching purchase invoices: ",ee),te(!1)});return()=>pe()},[e]),Ve.useEffect(()=>{if(!e)return;const X=Xs(fi(xn,`companies/${e.id}/thirdparties`)),pe=Xs(fi(xn,`companies/${e.id}/products`)),ee=Xs(fi(xn,`companies/${e.id}/retenciones`)),de=Ya(X,Y=>{const R=Y.docs.map(q=>({id:q.id,...q.data()})).filter(q=>Array.isArray(q.type)&&q.type.includes("proveedor")||q.type==="proveedor"||q.type==="Proveedor");_(R)}),re=Ya(pe,Y=>{O(Y.docs.map(ce=>({id:ce.id,...ce.data()})))}),_e=Ya(ee,Y=>{B(Y.docs.map(ce=>({id:ce.id,...ce.data()})))});return()=>{de(),re(),_e()}},[e]),Ve.useEffect(()=>{if(!e)return;const X=Xs(fi(xn,`companies/${e.id}/invoices_purchases`),DA("createdAt","desc"),wy(1)),pe=Ya(X,ee=>{if(ee.empty)ve(null);else{const de=ee.docs[0].data();ve(de.invoiceNumber)}});return()=>pe()},[e]);const z=async X=>{if(!e)return;const pe=Oi.loading("Creando factura de compra...");try{const ee=rs(xn,`companies/${e.id}/counters/invoices_purchases`);await Rg(ee,{lastNumber:xy(1)},{merge:!0});const de=await Id(ee),re=de.exists()?de.data().lastNumber:1,_e=`FC-${String(re).padStart(3,"0")}`,Y=fi(xn,`companies/${e.id}/invoices_purchases`),ce=await Wd(Y,{...X,date:N(X.date),companyId:e.id,invoiceNumber:_e,createdAt:ol(),status:"Pendiente"});await Dc(ce,{id:ce.id}),r(!1),Oi.success(" Factura de compra creada con xito",{id:pe})}catch(ee){console.error("Error creating purchase invoice: ",ee),Oi.error(" Error al crear la factura de compra",{id:pe})}},C=async X=>{if(!e||!s)return;const pe=Oi.loading("Actualizando factura de compra...");try{const ee=rs(xn,`companies/${e.id}/invoices_purchases/${s.id}`);await Dc(ee,{...X,date:N(X.date),updatedAt:ol()}),o(null),r(!1),Oi.success(" Factura de compra actualizada correctamente",{id:pe})}catch(ee){console.error("Error updating purchase invoice: ",ee),Oi.error(" Error al actualizar la factura de compra",{id:pe})}},D=async X=>{if(!e||!window.confirm("Seguro que deseas eliminar esta factura de compra?"))return;const pe=Oi.loading("Eliminando factura de compra...");try{const ee=`companies/${e.id}/invoices_purchases/${X}`;await Lg(rs(xn,ee)),Oi.success(" Factura eliminada correctamente",{id:pe})}catch(ee){console.error(" Error deleting purchase invoice: ",ee),Oi.error(" Error eliminando factura",{id:pe})}},L=y.filter(X=>{const pe=x.find(_e=>_e.id===X.supplierId),ee=pe?.idNumber?.toLowerCase()||"",de=pe?.name?.toLowerCase()||"",re=Te.toLowerCase();return ee.includes(re)||de.includes(re)});return T.jsxs("div",{children:[T.jsx("div",{className:"border-b mb-4",children:T.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[T.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de compra"}),T.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Proveedores"}),T.jsx("button",{className:"pb-2 hover:text-blue-600",children:"rdenes de compra"})]})}),T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("div",{className:"flex space-x-2",children:T.jsx("input",{type:"text",placeholder:"Buscar por Identificacin o Proveedor",className:"border px-3 py-2 rounded-lg text-sm w-80",value:Te,onChange:X=>$(X.target.value)})}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs(si,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[jn.userPlus," Crear Proveedor"]}),T.jsxs(si,{onClick:()=>{o(null),r(!0)},children:[jn.plus," Nueva Factura de Compra"]})]})]}),T.jsx(jc,{title:"Facturas de Compra",children:ne?T.jsx(sf,{}):T.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[T.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3",children:"Fecha"}),T.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),T.jsx("th",{className:"px-6 py-3",children:"Identificacin"}),T.jsx("th",{className:"px-6 py-3",children:"Proveedor"}),T.jsx("th",{className:"px-6 py-3",children:"Total"}),T.jsx("th",{className:"px-6 py-3",children:"Moneda"}),T.jsx("th",{className:"px-6 py-3",children:"Estado"}),T.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),T.jsx("tbody",{children:L.map(X=>T.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[T.jsx("td",{className:"px-6 py-4",children:X.date?.seconds?k(X.date):"N/A"}),T.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:X.invoiceNumber||"FC-SINID"}),T.jsx("td",{className:"px-6 py-4",children:x.find(pe=>pe.id===X.supplierId)?.idNumber||"N/A"}),T.jsx("td",{className:"px-6 py-4",children:x.find(pe=>pe.id===X.supplierId)?.name||"Proveedor"}),T.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(X.total||0)]}),T.jsx("td",{className:"px-6 py-4",children:"COP"}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${X.status==="Pagada"?"bg-green-100 text-green-800":X.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:X.status||"Pendiente"})}),T.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[T.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(X),d(!0)},children:jn.eye}),T.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(X),r(!0)},children:jn.edit}),T.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>D(X.id),children:jn.trash})]})]},X.id))})]})}),T.jsx(jO,{isOpen:t,onClose:()=>{r(!1),o(null)},onSubmit:s?C:z,suppliers:x,products:j,retenciones:F,initialData:s,lastInvoiceNumber:ae}),f&&u&&T.jsx(px,{isOpen:f,onClose:()=>{d(!1),c(null)},invoice:u,entityName:"Proveedor",onDownloadPDF:X=>dx(X,"Factura de Compra","Proveedor")})]})},UO=()=>{const{companyData:n}=ll(),[e,t]=Ve.useState([]),[r,s]=Ve.useState(!0),[o,u]=Ve.useState(!1),[c,f]=Ve.useState(null),[d,y]=Ve.useState(""),[A,x]=Ve.useState(null),[_,j]=Ve.useState(null),[O,F]=Ve.useState({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),B=N=>N.personType==="empresa"?N.tradeName||`${N.name}`||"":`${N.name||""} ${N.lastName||""}`.trim(),ne=N=>N==="NIT"?"NIT":"CC";Ve.useEffect(()=>{if(!n)return;const N=Xs(fi(xn,`companies/${n.id}/thirdparties`)),z=Ya(N,C=>{t(C.docs.map(D=>({id:D.id,...D.data()}))),s(!1)},C=>{console.error("Error loading third parties:",C),s(!1)});return()=>z()},[n]);const te=e.filter(N=>{const z=d.toLowerCase();return(N.idNumber||"").toLowerCase().includes(z)||(N.name||"").toLowerCase().includes(z)||(N.lastName||"").toLowerCase().includes(z)||(N.tradeName||"").toLowerCase().includes(z)||(N.email||"").toLowerCase().includes(z)}),ae=()=>{f(null),F({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),u(!0)},ve=N=>{f(N.id),F({type:Array.isArray(N.type)?N.type:[N.type].filter(Boolean),personType:N.personType||"persona",idType:N.idType||(N.personType==="empresa"?"NIT":"CC"),idNumber:N.idNumber||"",name:N.name||"",lastName:N.lastName||"",tradeName:N.tradeName||"",city:N.city||"",address:N.address||"",phone:N.phone||"",email:N.email||"",otherDescription:N.otherDescription||"",createdAt:N.createdAt||null}),u(!0)},Te=N=>{const{name:z,value:C,type:D,checked:L}=N.target;if(z==="personType"){F(X=>({...X,personType:C,idType:C==="empresa"?"NIT":"CC"}));return}if(z==="type"){F(X=>{let pe=[...X.type];return L?pe.includes(C)||pe.push(C):pe=pe.filter(ee=>ee!==C),{...X,type:pe}});return}F(X=>({...X,[z]:D==="checkbox"?L:C}))},$=async N=>{if(N.preventDefault(),!n)return;const z={type:O.type,personType:O.personType,idType:O.idType,idNumber:String(O.idNumber).trim(),name:String(O.name).trim(),lastName:String(O.lastName).trim(),tradeName:String(O.tradeName).trim(),city:String(O.city).trim(),address:String(O.address).trim(),phone:String(O.phone).trim(),email:String(O.email).trim(),otherDescription:O.type.includes("otro")?String(O.otherDescription).trim():"",createdAt:c?O.createdAt:ol(),updatedAt:ol()};try{c?await Dc(rs(xn,`companies/${n.id}/thirdparties/${c}`),z):await Wd(fi(xn,`companies/${n.id}/thirdparties`),z),u(!1),f(null),x(`Tercero ${c?"actualizado":"creado"} exitosamente.`),j(null),setTimeout(()=>x(null),5e3)}catch(C){console.error("Error saving third party",C),j(" Error guardando tercero: "+C.message),x(null),setTimeout(()=>j(null),5e3)}},k=async N=>{if(n&&confirm(`Eliminar "${B(N)}"? Esta accin no se puede deshacer.`))try{await Lg(rs(xn,`companies/${n.id}/thirdparties/${N.id}`)),x(`Tercero "${B(N)}" eliminado exitosamente.`),j(null),setTimeout(()=>x(null),5e3)}catch(z){console.error("Error deleting third party",z),j(" Error eliminando: "+z.message),x(null),setTimeout(()=>j(null),5e3)}};return T.jsxs("div",{children:[T.jsx(Ly,{message:A}),T.jsx(Yh,{message:_}),T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("input",{type:"text",placeholder:"Buscar por identificacin, nombre o correo",value:d,onChange:N=>y(N.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),T.jsxs(si,{onClick:ae,children:[jn.plus," Nuevo Tercero"]})]}),T.jsx(jc,{title:"Terceros (Clientes, Proveedores y Otros)",children:r?T.jsx(sf,{}):T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[T.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo Persona"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Identificacin"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Nombre / Razn social"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Ciudad"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Telfono"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Correo"}),T.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Acciones"})]})}),T.jsxs("tbody",{children:[te.map(N=>T.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[T.jsx("td",{className:"px-6 py-3 capitalize",children:Array.isArray(N.type)?N.type.join(", "):N.type||""}),T.jsx("td",{className:"px-6 py-3 capitalize",children:N.personType}),T.jsxs("td",{className:"px-6 py-3",children:[ne(N.idType)," ",N.idNumber]}),T.jsx("td",{className:"px-6 py-3",children:B(N)}),T.jsx("td",{className:"px-6 py-3",children:N.city}),T.jsx("td",{className:"px-6 py-3",children:N.phone}),T.jsx("td",{className:"px-6 py-3",children:N.email}),T.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[T.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>ve(N),children:jn.edit}),T.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>k(N),children:jn.trash})]})]},N.id)),te.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})})}),T.jsx(Qd,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Tercero`,children:T.jsxs("form",{onSubmit:$,className:"space-y-6",children:[T.jsxs("div",{className:"border rounded-lg p-4",children:[T.jsx("h3",{className:"font-semibold mb-2",children:"Tipo de tercero"}),T.jsx("div",{className:"flex items-center space-x-6",children:["cliente","proveedor","otro"].map(N=>T.jsxs("label",{className:"flex items-center space-x-2 capitalize",children:[T.jsx("input",{type:"checkbox",name:"type",value:N,checked:O.type.includes(N),onChange:Te}),T.jsx("span",{children:N})]},N))}),O.type.includes("otro")&&T.jsx("div",{className:"mt-3",children:T.jsx(Bn,{id:"otherDescription",name:"otherDescription",label:"Descripcin (Otro)",value:O.otherDescription,onChange:Te,required:!0})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs(ts,{id:"personType",name:"personType",label:"Tipo de Persona",value:O.personType,onChange:Te,children:[T.jsx("option",{value:"persona",children:"Persona"}),T.jsx("option",{value:"empresa",children:"Empresa"})]}),T.jsx(ts,{id:"idType",name:"idType",label:"Tipo de Identificacin",value:O.idType,onChange:Te,children:O.personType==="empresa"?T.jsx("option",{value:"NIT",children:"NIT"}):T.jsx("option",{value:"CC",children:"Cdula de Ciudadana (CC)"})}),T.jsx(Bn,{id:"idNumber",name:"idNumber",label:O.personType==="empresa"?"Nmero de NIT":"Nmero de Cdula",value:O.idNumber,onChange:Te,required:!0}),T.jsx(Bn,{id:"name",name:"name",label:O.personType==="empresa"?"Razn Social / Nombre Legal":"Nombres",value:O.name,onChange:Te,required:!0}),O.personType==="persona"?T.jsx(Bn,{id:"lastName",name:"lastName",label:"Apellidos",value:O.lastName,onChange:Te}):T.jsx(Bn,{id:"tradeName",name:"tradeName",label:"Nombre Comercial",value:O.tradeName,onChange:Te}),T.jsx(Bn,{id:"city",name:"city",label:"Ciudad",value:O.city,onChange:Te}),T.jsx(Bn,{id:"address",name:"address",label:"Direccin",value:O.address,onChange:Te}),T.jsx(Bn,{id:"phone",name:"phone",label:"Telfono",value:O.phone,onChange:Te}),T.jsx(Bn,{id:"email",name:"email",type:"email",label:"Correo Electrnico",value:O.email,onChange:Te}),c&&T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creacin"}),T.jsx("input",{type:"text",value:O.createdAt?new Date(O.createdAt.seconds*1e3).toLocaleString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]}),T.jsxs("div",{className:"flex justify-end space-x-2",children:[T.jsx(si,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),T.jsx(si,{type:"submit",variant:"primary",children:c?"Actualizar":"Guardar"})]})]})})]})},FO=()=>{const{companyData:n}=ll(),[e,t]=Ve.useState([]),[r,s]=Ve.useState(!0),[o,u]=Ve.useState(!1),[c,f]=Ve.useState(null),[d,y]=Ve.useState(""),[A,x]=Ve.useState(null),[_,j]=Ve.useState(null),[O,F]=Ve.useState({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),B=["unidades","centmetros","metros","kilogramos","litros"];Ve.useEffect(()=>{if(!n)return;const k=Xs(fi(xn,`companies/${n.id}/products`)),N=Ya(k,z=>{t(z.docs.map(C=>({id:C.id,...C.data()}))),s(!1)});return()=>N()},[n]);const ne=e.filter(k=>{const N=d.toLowerCase();return k.code?.toLowerCase().includes(N)||k.description?.toLowerCase().includes(N)||k.name?.toLowerCase().includes(N)}),te=()=>{f(null),F({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),u(!0)},ae=k=>{f(k.id),F({type:k.type||"producto",code:k.code||"",description:k.description||"",unit:k.unit||"unidades",unitValue:k.unitValue??0,taxed:k.taxed??!0,iva:k.iva??"",createdAt:k.createdAt||null}),u(!0)},ve=k=>{const{name:N,value:z,type:C,checked:D}=k.target;F(L=>({...L,[N]:C==="checkbox"?D:z}))},Te=async k=>{if(k.preventDefault(),!!n)try{let N=O.code;if(!c){const C=O.type==="producto"?"products":"services",D=rs(xn,`companies/${n.id}/counters/${C}`);await Rg(D,{lastCode:xy(1)},{merge:!0});const L=await Id(D),X=L.exists()?L.data().lastCode:1;N=`${O.type==="producto"?"P":"S"}-${String(X).padStart(3,"0")}`}const z={type:O.type,code:N,description:String(O.description).trim(),name:String(O.description).trim(),unit:O.unit,unitValue:Number(O.unitValue)||0,taxed:!!O.taxed,iva:O.taxed?O.iva===""?null:Number(O.iva):0,createdAt:c?O.createdAt:ol(),updatedAt:ol()};c?await Dc(rs(xn,`companies/${n.id}/products/${c}`),z):await Wd(fi(xn,`companies/${n.id}/products`),z),u(!1),f(null),x(`Producto/Servicio ${c?"actualizado":"creado"} exitosamente.`),j(null),setTimeout(()=>x(null),5e3)}catch(N){console.error("Error guardando producto/servicio",N),j(" Error guardando producto/servicio: "+N.message),x(null),setTimeout(()=>j(null),5e3)}},$=async k=>{if(n&&confirm(`Eliminar "${k.description}"? Esta accin no se puede deshacer.`))try{await Lg(rs(xn,`companies/${n.id}/products/${k.id}`)),x(`Producto/Servicio "${k.description}" eliminado exitosamente.`),j(null),setTimeout(()=>x(null),5e3)}catch(N){console.error("Error eliminando producto/servicio",N),j(" Error eliminando: "+N.message),x(null),setTimeout(()=>j(null),5e3)}};return T.jsxs("div",{children:[T.jsx(Ly,{message:A}),T.jsx(Yh,{message:_}),T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("input",{type:"text",placeholder:"Buscar por cdigo o descripcin",value:d,onChange:k=>y(k.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),T.jsxs(si,{onClick:te,children:[jn.plus," Nuevo Producto/Servicio"]})]}),T.jsx(jc,{title:"Productos y Servicios",children:r?T.jsx(sf,{}):T.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[T.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3",children:"Tipo"}),T.jsx("th",{className:"px-6 py-3",children:"Cdigo"}),T.jsx("th",{className:"px-6 py-3",children:"Descripcin"}),T.jsx("th",{className:"px-6 py-3",children:"Unidad"}),T.jsx("th",{className:"px-6 py-3",children:"Valor Unitario"}),T.jsx("th",{className:"px-6 py-3",children:"Gravado IVA"}),T.jsx("th",{className:"px-6 py-3",children:"IVA"}),T.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),T.jsxs("tbody",{children:[ne.map(k=>T.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[T.jsx("td",{className:"px-6 py-3 capitalize",children:k.type}),T.jsx("td",{className:"px-6 py-3",children:k.code}),T.jsx("td",{className:"px-6 py-3",children:k.description}),T.jsx("td",{className:"px-6 py-3",children:k.unit}),T.jsxs("td",{className:"px-6 py-3 text-right",children:["$",new Intl.NumberFormat("es-CO").format(k.unitValue||0)]}),T.jsx("td",{className:"px-6 py-3",children:k.taxed?"S":"No"}),T.jsx("td",{className:"px-6 py-3",children:k.iva===null||k.iva===""?"No especificado":`${k.iva}%`}),T.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[T.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>ae(k),children:jn.edit}),T.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>$(k),children:jn.trash})]})]},k.id)),ne.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})}),T.jsx(Qd,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Producto/Servicio`,children:T.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[T.jsxs("div",{className:"border rounded-lg p-4",children:[T.jsx("h3",{className:"font-semibold mb-2",children:"Tipo"}),T.jsxs("div",{className:"flex items-center space-x-6",children:[T.jsxs("label",{className:"flex items-center space-x-2",children:[T.jsx("input",{type:"radio",name:"type",value:"producto",checked:O.type==="producto",onChange:ve}),T.jsx("span",{children:"Producto"})]}),T.jsxs("label",{className:"flex items-center space-x-2",children:[T.jsx("input",{type:"radio",name:"type",value:"servicio",checked:O.type==="servicio",onChange:ve}),T.jsx("span",{children:"Servicio"})]})]})]}),T.jsxs("div",{className:"border rounded-lg p-4",children:[T.jsxs("h3",{className:"font-semibold mb-2",children:["Informacin del ",O.type]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx(Bn,{id:"description",name:"description",label:"Descripcin",value:O.description,onChange:ve,required:!0}),T.jsx(ts,{id:"unit",name:"unit",label:"Unidad de medida",value:O.unit,onChange:ve,children:B.map(k=>T.jsx("option",{value:k,children:k},k))}),T.jsx(Bn,{id:"unitValue",name:"unitValue",type:"number",label:"Valor unitario",value:O.unitValue,onChange:ve,min:"0",step:"0.01"}),c&&T.jsxs("div",{className:"col-span-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creacin"}),T.jsx("input",{type:"text",value:O.createdAt?new Date(O.createdAt.seconds*1e3).toLocaleDateString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]})]}),T.jsxs("div",{className:"border rounded-lg p-4",children:[T.jsx("h3",{className:"font-semibold mb-2",children:"Impuestos"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("input",{type:"checkbox",name:"taxed",checked:O.taxed,onChange:ve}),T.jsx("span",{children:"Gravado con IVA"})]}),T.jsxs(ts,{id:"iva",name:"iva",label:"IVA",value:O.iva,onChange:ve,disabled:!O.taxed,children:[T.jsx("option",{value:"",children:"No especificado"}),T.jsx("option",{value:0,children:"0%"}),T.jsx("option",{value:5,children:"5%"}),T.jsx("option",{value:19,children:"19%"})]})]})]}),T.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[T.jsx(si,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),T.jsx(si,{type:"submit",variant:"primary",children:"Guardar"})]})]})})]})},BO=()=>{const{userData:n}=ll(),[e,t]=Ve.useState([]),[r,s]=Ve.useState(!0),[o,u]=Ve.useState(null),[c,f]=Ve.useState(null),[d,y]=Ve.useState("");Ve.useEffect(()=>{(async()=>{if(!n||n.role!=="Administrador"||!n.companyId){u("Acceso denegado o informacin de empresa faltante."),s(!1);return}try{const j=fi(xn,"users"),O=Xs(j,xL("companyId","==",n.companyId)),B=(await MA(O)).docs.map(ne=>({id:ne.id,...ne.data()}));t(B)}catch(j){console.error("Error fetching users:",j),u("Error al cargar los usuarios.")}finally{s(!1)}})()},[n]);const A=(_,j)=>{f(_),y(j)},x=async _=>{if(d){s(!0),u(null);try{const j=rs(xn,"users",_);await Dc(j,{role:d}),t(O=>O.map(F=>F.id===_?{...F,role:d}:F)),f(null),y("")}catch(j){console.error("Error updating user role:",j),u("Error al actualizar el rol del usuario.")}finally{s(!1)}}};return r?T.jsx(sf,{}):o?T.jsx(Yh,{message:o}):!n||n.role!=="Administrador"?T.jsx(Yh,{message:"No tienes permisos para acceder a esta seccin."}):T.jsxs("div",{className:"p-4",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestin de Usuarios"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(_=>T.jsxs(jc,{className:"p-4 flex flex-col",children:[T.jsx("h2",{className:"text-lg font-semibold",children:_.name||_.email}),T.jsx("p",{className:"text-gray-600 mb-2",children:_.email}),T.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[T.jsxs(ts,{value:c===_.id?d:_.role,onChange:j=>A(_.id,j.target.value),className:"flex-grow",children:[T.jsx("option",{value:"user",children:"Usuario"}),T.jsx("option",{value:"contador",children:"Contador"}),T.jsx("option",{value:"empleado",children:"Empleado"}),T.jsx("option",{value:"Administrador",children:"Administrador"})]}),c===_.id&&d!==_.role&&T.jsx(si,{onClick:()=>x(_.id),children:"Guardar"})]})]},_.id))})]})},qO=()=>{const{userData:n,companyData:e}=ll(),[t,r]=Ve.useState("dashboard"),[s,o]=Ve.useState(!0),u=async()=>{await Y4(Mh)},c=({view:A,icon:x,children:_})=>T.jsxs("a",{href:"#",onClick:j=>{j.preventDefault(),r(A)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors ${t===A?"bg-indigo-600 text-white":"text-gray-300 hover:bg-indigo-800 hover:text-white"}`,children:[T.jsx("span",{className:"mr-3",children:x}),_]}),f=()=>{switch(t){case"dashboard":return T.jsx(L_,{});case"sales":return T.jsx(MO,{setActiveView:r});case"purchases":return T.jsx(VO,{setActiveView:r});case"thirdparties":return T.jsx(UO,{});case"products":return T.jsx(FO,{});case"user-management":return T.jsx(BO,{});default:return T.jsx(L_,{})}},d={dashboard:"Panel de Control",sales:"Ventas",purchases:"Compras",inventory:"Inventario",reports:"Reportes",thirdparties:"Clientes/Proveedores",products:"Productos/Servicios","user-management":"Gestin de Usuarios"},y={Admin:"Administrador",Contador:"Contador",Empleado:"Empleado"};return T.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans relative",children:[T.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-indigo-900 text-white flex flex-col transform transition-transform duration-300 z-20
        ${s?"translate-x-0 w-64":"-translate-x-full w-64"}`,children:[T.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-indigo-800",children:[T.jsx("h2",{className:"text-xl font-bold truncate",children:e?.name||"ERP Nube"}),T.jsx("button",{onClick:()=>o(!1),"aria-label":"Cerrar men",className:"text-gray-300 hover:text-white",children:T.jsx(nk,{className:"h-6 w-6"})})]}),T.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[T.jsx(c,{view:"dashboard",icon:jn.dashboard,children:"Panel de Control"}),T.jsx(c,{view:"sales",icon:jn.sales,children:"Ventas"}),T.jsx(c,{view:"purchases",icon:jn.purchases,children:"Compras"}),T.jsx(c,{view:"inventory",icon:jn.inventory,children:"Inventario"}),T.jsx(c,{view:"reports",icon:jn.reports,children:"Reportes"}),T.jsx(c,{view:"thirdparties",icon:jn.user,children:"Clientes/Proveedores"}),T.jsx(c,{view:"products",icon:jn.products,children:"Productos/Servicios"}),n?.role==="Administrador"&&T.jsx(c,{view:"user-management",icon:jn.user,children:"Gestin de Usuarios"})]}),T.jsxs("div",{className:"px-4 py-4 border-t border-indigo-800",children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx("div",{className:"p-2 bg-indigo-700 rounded-full",children:jn.user}),T.jsxs("div",{className:"ml-3",children:[T.jsx("p",{className:"text-sm font-medium text-white",children:n?.name}),T.jsx("p",{className:"text-xs text-indigo-300",children:y[n?.role]||n?.role})]})]}),T.jsxs("a",{href:"#",onClick:u,className:"flex items-center w-full px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-red-600 hover:text-white transition-colors",children:[T.jsx("span",{className:"mr-3",children:jn.logout}),"Cerrar Sesin"]})]})]}),!s&&T.jsxs("div",{className:"fixed top-1/2 -translate-y-1/2 left-0 z-30 group",children:[T.jsx("button",{onClick:()=>o(!0),"aria-label":"Abrir men",className:"bg-indigo-600 text-white p-2 rounded-r-md shadow-md transition-all duration-300 hover:bg-indigo-700 hover:-translate-x-1",children:T.jsx(ik,{className:"h-6 w-6"})}),T.jsxs("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300 bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none",children:["Abrir men",T.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1 w-2 h-2 bg-gray-900 rotate-45"})]})]}),T.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${s?"ml-64":"ml-0"}`,children:[T.jsx("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-6",children:T.jsx("h1",{className:"text-2xl font-semibold text-gray-800 capitalize",children:d[t]||t})}),T.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:f()})]})]})},zO=()=>{const{user:n,loading:e,error:t}=ll();return e?T.jsx("div",{className:"flex h-screen items-center justify-center",children:T.jsx(sf,{})}):t?T.jsx("div",{className:"flex h-screen items-center justify-center p-4",children:T.jsx(Yh,{message:t})}):n?T.jsx(qO,{}):T.jsx(K7,{})},HO=()=>T.jsxs(Y7,{children:[T.jsx(g6,{position:"top-center",reverseOrder:!1,toastOptions:{duration:3e3}}),T.jsx(zO,{})]});IE.createRoot(document.getElementById("root")).render(T.jsx(Ve.StrictMode,{children:T.jsx(HO,{})}));export{Xn as _,GO as c,yE as g};
