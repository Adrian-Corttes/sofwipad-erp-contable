(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var vP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T1={exports:{}},Ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5;function px(){if(c5)return Ff;c5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Ff.Fragment=e,Ff.jsx=t,Ff.jsxs=t,Ff}var h5;function mx(){return h5||(h5=1,T1.exports=px()),T1.exports}var N=mx(),N1={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function gx(){if(f5)return sn;f5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,U={};function B(X,he,R){this.props=X,this.context=he,this.refs=U,this.updater=R||b}B.prototype.isReactComponent={},B.prototype.setState=function(X,he){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,he,"setState")},B.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function F(){}F.prototype=B.prototype;function ee(X,he,R){this.props=X,this.context=he,this.refs=U,this.updater=R||b}var te=ee.prototype=new F;te.constructor=ee,M(te,B.prototype),te.isPureReactComponent=!0;var Q=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function $(X,he,R,z,J,ue){return R=ue.ref,{$$typeof:n,type:X,key:he,ref:R!==void 0?R:null,props:ue}}function O(X,he){return $(X.type,he,void 0,void 0,void 0,X.props)}function P(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function H(X){var he={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(R){return he[R]})}var C=/\/+/g;function I(X,he){return typeof X=="object"&&X!==null&&X.key!=null?H(""+X.key):he.toString(36)}function k(){}function ne(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(k,k):(X.status="pending",X.then(function(he){X.status==="pending"&&(X.status="fulfilled",X.value=he)},function(he){X.status==="pending"&&(X.status="rejected",X.reason=he)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function we(X,he,R,z,J){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var fe=!1;if(X===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(X.$$typeof){case n:case e:fe=!0;break;case y:return fe=X._init,we(fe(X._payload),he,R,z,J)}}if(fe)return J=J(X),fe=z===""?"."+I(X,0):z,Q(J)?(R="",fe!=null&&(R=fe.replace(C,"$&/")+"/"),we(J,he,R,"",function(ke){return ke})):J!=null&&(P(J)&&(J=O(J,R+(J.key==null||X&&X.key===J.key?"":(""+J.key).replace(C,"$&/")+"/")+fe)),he.push(J)),1;fe=0;var ge=z===""?".":z+":";if(Q(X))for(var Le=0;Le<X.length;Le++)z=X[Le],ue=ge+I(z,Le),fe+=we(z,he,R,ue,J);else if(Le=x(X),typeof Le=="function")for(X=Le.call(X),Le=0;!(z=X.next()).done;)z=z.value,ue=ge+I(z,Le++),fe+=we(z,he,R,ue,J);else if(ue==="object"){if(typeof X.then=="function")return we(ne(X),he,R,z,J);throw he=String(X),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return fe}function le(X,he,R){if(X==null)return X;var z=[],J=0;return we(X,z,"","",function(ue){return he.call(R,ue,J++)}),z}function me(X){if(X._status===-1){var he=X._result;he=he(),he.then(function(R){(X._status===0||X._status===-1)&&(X._status=1,X._result=R)},function(R){(X._status===0||X._status===-1)&&(X._status=2,X._result=R)}),X._status===-1&&(X._status=0,X._result=he)}if(X._status===1)return X._result.default;throw X._result}var re=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function ve(){}return sn.Children={map:le,forEach:function(X,he,R){le(X,function(){he.apply(this,arguments)},R)},count:function(X){var he=0;return le(X,function(){he++}),he},toArray:function(X){return le(X,function(he){return he})||[]},only:function(X){if(!P(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},sn.Component=B,sn.Fragment=t,sn.Profiler=a,sn.PureComponent=ee,sn.StrictMode=r,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,sn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return oe.H.useMemoCache(X)}},sn.cache=function(X){return function(){return X.apply(null,arguments)}},sn.cloneElement=function(X,he,R){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var z=M({},X.props),J=X.key,ue=void 0;if(he!=null)for(fe in he.ref!==void 0&&(ue=void 0),he.key!==void 0&&(J=""+he.key),he)!Se.call(he,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&he.ref===void 0||(z[fe]=he[fe]);var fe=arguments.length-2;if(fe===1)z.children=R;else if(1<fe){for(var ge=Array(fe),Le=0;Le<fe;Le++)ge[Le]=arguments[Le+2];z.children=ge}return $(X.type,J,void 0,void 0,ue,z)},sn.createContext=function(X){return X={$$typeof:u,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},sn.createElement=function(X,he,R){var z,J={},ue=null;if(he!=null)for(z in he.key!==void 0&&(ue=""+he.key),he)Se.call(he,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(J[z]=he[z]);var fe=arguments.length-2;if(fe===1)J.children=R;else if(1<fe){for(var ge=Array(fe),Le=0;Le<fe;Le++)ge[Le]=arguments[Le+2];J.children=ge}if(X&&X.defaultProps)for(z in fe=X.defaultProps,fe)J[z]===void 0&&(J[z]=fe[z]);return $(X,ue,void 0,void 0,null,J)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(X){return{$$typeof:c,render:X}},sn.isValidElement=P,sn.lazy=function(X){return{$$typeof:y,_payload:{_status:-1,_result:X},_init:me}},sn.memo=function(X,he){return{$$typeof:d,type:X,compare:he===void 0?null:he}},sn.startTransition=function(X){var he=oe.T,R={};oe.T=R;try{var z=X(),J=oe.S;J!==null&&J(R,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ve,re)}catch(ue){re(ue)}finally{oe.T=he}},sn.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},sn.use=function(X){return oe.H.use(X)},sn.useActionState=function(X,he,R){return oe.H.useActionState(X,he,R)},sn.useCallback=function(X,he){return oe.H.useCallback(X,he)},sn.useContext=function(X){return oe.H.useContext(X)},sn.useDebugValue=function(){},sn.useDeferredValue=function(X,he){return oe.H.useDeferredValue(X,he)},sn.useEffect=function(X,he,R){var z=oe.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(X,he)},sn.useId=function(){return oe.H.useId()},sn.useImperativeHandle=function(X,he,R){return oe.H.useImperativeHandle(X,he,R)},sn.useInsertionEffect=function(X,he){return oe.H.useInsertionEffect(X,he)},sn.useLayoutEffect=function(X,he){return oe.H.useLayoutEffect(X,he)},sn.useMemo=function(X,he){return oe.H.useMemo(X,he)},sn.useOptimistic=function(X,he){return oe.H.useOptimistic(X,he)},sn.useReducer=function(X,he,R){return oe.H.useReducer(X,he,R)},sn.useRef=function(X){return oe.H.useRef(X)},sn.useState=function(X){return oe.H.useState(X)},sn.useSyncExternalStore=function(X,he,R){return oe.H.useSyncExternalStore(X,he,R)},sn.useTransition=function(){return oe.H.useTransition()},sn.version="19.1.1",sn}var d5;function s2(){return d5||(d5=1,N1.exports=gx()),N1.exports}var ze=s2();const yx=dx(ze);var C1={exports:{}},Bf={},I1={exports:{}},R1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function vx(){return p5||(p5=1,(function(n){function e(le,me){var re=le.length;le.push(me);e:for(;0<re;){var ve=re-1>>>1,X=le[ve];if(0<a(X,me))le[ve]=me,le[re]=X,re=ve;else break e}}function t(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var me=le[0],re=le.pop();if(re!==me){le[0]=re;e:for(var ve=0,X=le.length,he=X>>>1;ve<he;){var R=2*(ve+1)-1,z=le[R],J=R+1,ue=le[J];if(0>a(z,re))J<X&&0>a(ue,z)?(le[ve]=ue,le[J]=re,ve=J):(le[ve]=z,le[R]=re,ve=R);else if(J<X&&0>a(ue,re))le[ve]=ue,le[J]=re,ve=J;else break e}}return me}function a(le,me){var re=le.sortIndex-me.sortIndex;return re!==0?re:le.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],y=1,w=null,x=3,b=!1,M=!1,U=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var me=t(d);me!==null;){if(me.callback===null)r(d);else if(me.startTime<=le)r(d),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(d)}}function oe(le){if(U=!1,Q(le),!M)if(t(f)!==null)M=!0,Se||(Se=!0,I());else{var me=t(d);me!==null&&we(oe,me.startTime-le)}}var Se=!1,$=-1,O=5,P=-1;function H(){return B?!0:!(n.unstable_now()-P<O)}function C(){if(B=!1,Se){var le=n.unstable_now();P=le;var me=!0;try{e:{M=!1,U&&(U=!1,ee($),$=-1),b=!0;var re=x;try{t:{for(Q(le),w=t(f);w!==null&&!(w.expirationTime>le&&H());){var ve=w.callback;if(typeof ve=="function"){w.callback=null,x=w.priorityLevel;var X=ve(w.expirationTime<=le);if(le=n.unstable_now(),typeof X=="function"){w.callback=X,Q(le),me=!0;break t}w===t(f)&&r(f),Q(le)}else r(f);w=t(f)}if(w!==null)me=!0;else{var he=t(d);he!==null&&we(oe,he.startTime-le),me=!1}}break e}finally{w=null,x=re,b=!1}me=void 0}}finally{me?I():Se=!1}}}var I;if(typeof te=="function")I=function(){te(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ne=k.port2;k.port1.onmessage=C,I=function(){ne.postMessage(null)}}else I=function(){F(C,0)};function we(le,me){$=F(function(){le(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(le){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var re=x;x=me;try{return le()}finally{x=re}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(le,me){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var re=x;x=le;try{return me()}finally{x=re}},n.unstable_scheduleCallback=function(le,me,re){var ve=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,le){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,le={id:y++,callback:me,priorityLevel:le,startTime:re,expirationTime:X,sortIndex:-1},re>ve?(le.sortIndex=re,e(d,le),t(f)===null&&le===t(d)&&(U?(ee($),$=-1):U=!0,we(oe,re-ve))):(le.sortIndex=X,e(f,le),M||b||(M=!0,Se||(Se=!0,I()))),le},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(le){var me=x;return function(){var re=x;x=me;try{return le.apply(this,arguments)}finally{x=re}}}})(R1)),R1}var m5;function _x(){return m5||(m5=1,I1.exports=vx()),I1.exports}var L1={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5;function bx(){if(g5)return ds;g5=1;var n=s2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ds.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,y)},ds.flushSync=function(f){var d=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=y,r.d.f()}},ds.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ds.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ds.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,w=c(y,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:b}):y==="script"&&r.d.X(f,{crossOrigin:w,integrity:x,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ds.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ds.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,w=c(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ds.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ds.requestFormReset=function(f){r.d.r(f)},ds.unstable_batchedUpdates=function(f,d){return f(d)},ds.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},ds.useFormStatus=function(){return u.H.useHostTransitionStatus()},ds.version="19.1.1",ds}var y5;function wx(){if(y5)return L1.exports;y5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),L1.exports=bx(),L1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5;function Ax(){if(v5)return Bf;v5=1;var n=_x(),e=s2(),t=wx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return c(g),i;if(_===h)return c(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var D=!1,W=g.child;W;){if(W===l){D=!0,l=g,h=_;break}if(W===h){D=!0,h=g,l=_;break}W=W.sibling}if(!D){for(W=_.child;W;){if(W===l){D=!0,l=_,h=g;break}if(W===h){D=!0,h=_,l=g;break}W=W.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case Se:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case te:return(i.displayName||"Context")+".Provider";case ee:return(i._context.displayName||"Context")+".Consumer";case Q:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:ne(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return ne(i(s))}catch{}}return null}var we=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],X=-1;function he(i){return{current:i}}function R(i){0>X||(i.current=ve[X],ve[X]=null,X--)}function z(i,s){X++,ve[X]=i.current,i.current=s}var J=he(null),ue=he(null),fe=he(null),ge=he(null);function Le(i,s){switch(z(fe,s),z(ue,i),z(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Vv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Vv(s),i=Uv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R(J),z(J,i)}function ke(){R(J),R(ue),R(fe)}function Fe(i){i.memoizedState!==null&&z(ge,i);var s=J.current,l=Uv(s,i.type);s!==l&&(z(ue,i),z(J,l))}function qe(i){ue.current===i&&(R(J),R(ue)),ge.current===i&&(R(ge),Of._currentValue=re)}var nt=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,ce=n.unstable_shouldYield,tn=n.unstable_requestPaint,Nt=n.unstable_now,Et=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,Yt=n.unstable_LowPriority,_t=n.unstable_IdlePriority,mn=n.log,Bt=n.unstable_setDisableYieldValue,ct=null,wt=null;function Tt(i){if(typeof mn=="function"&&Bt(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ct,i)}catch{}}var st=Math.clz32?Math.clz32:Tn,Lt=Math.log,bt=Math.LN2;function Tn(i){return i>>>=0,i===0?32:31-(Lt(i)/bt|0)|0}var an=256,ht=4194304;function Ct(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nn(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,_=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var W=h&134217727;return W!==0?(h=W&~_,h!==0?g=Ct(h):(D&=W,D!==0?g=Ct(D):l||(l=W&~i,l!==0&&(g=Ct(l))))):(W=h&~_,W!==0?g=Ct(W):D!==0?g=Ct(D):l||(l=h&~i,l!==0&&(g=Ct(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function At(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function nn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var i=an;return an<<=1,(an&4194048)===0&&(an=256),i}function ir(){var i=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),i}function Gn(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function gn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pt(i,s,l,h,g,_){var D=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var W=i.entanglements,de=i.expirationTimes,Re=i.hiddenUpdates;for(l=D&~l;0<l;){var He=31-st(l),Ye=1<<He;W[He]=0,de[He]=-1;var Pe=Re[He];if(Pe!==null)for(Re[He]=null,He=0;He<Pe.length;He++){var De=Pe[He];De!==null&&(De.lane&=-536870913)}l&=~Ye}h!==0&&rn(i,h,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(D&~s))}function rn(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-st(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Zs(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-st(l),g=1<<h;g&s|i[h]&s&&(i[h]|=s),l&=~g}}function pr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function di(){var i=me.p;return i!==0?i:(i=window.event,i===void 0?32:i5(i.type))}function It(i,s){var l=me.p;try{return me.p=i,s()}finally{me.p=l}}var Cn=Math.random().toString(36).slice(2),$n="__reactFiber$"+Cn,Pn="__reactProps$"+Cn,mr="__reactContainer$"+Cn,Zn="__reactEvents$"+Cn,jr="__reactListeners$"+Cn,cr="__reactHandles$"+Cn,ga="__reactResources$"+Cn,is="__reactMarker$"+Cn;function si(i){delete i[$n],delete i[Pn],delete i[Zn],delete i[jr],delete i[cr]}function ai(i){var s=i[$n];if(s)return s;for(var l=i.parentNode;l;){if(s=l[mr]||l[$n]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=zv(i);i!==null;){if(l=i[$n])return l;i=zv(i)}return s}i=l,l=i.parentNode}return null}function Vr(i){if(i=i[$n]||i[mr]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ur(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Jn(i){var s=i[ga];return s||(s=i[ga]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Wn(i){i[is]=!0}var ss=new Set,Ms={};function Ei(i,s){as(i,s),as(i+"Capture",s)}function as(i,s){for(Ms[i]=s,i=0;i<s.length;i++)ss.add(s[i])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Js={};function rl(i){return nt.call(Js,i)?!0:nt.call(zl,i)?!1:Ya.test(i)?Js[i]=!0:(zl[i]=!0,!1)}function ea(i,s,l){if(rl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Cr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Ir(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}var ya,xo;function js(i){if(ya===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ya=s&&s[1]||"",xo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+i+xo}var Ka=!1;function Qa(i,s){if(!i||Ka)return"";Ka=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var Pe=De}Reflect.construct(i,[],Ye)}else{try{Ye.call()}catch(De){Pe=De}i.call(Ye.prototype)}}else{try{throw Error()}catch(De){Pe=De}(Ye=i())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&Pe&&typeof De.stack=="string")return[De.stack,Pe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),D=_[0],W=_[1];if(D&&W){var de=D.split(`
`),Re=W.split(`
`);for(g=h=0;h<de.length&&!de[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Re.length&&!Re[g].includes("DetermineComponentFrameRoot");)g++;if(h===de.length||g===Re.length)for(h=de.length-1,g=Re.length-1;1<=h&&0<=g&&de[h]!==Re[g];)g--;for(;1<=h&&0<=g;h--,g--)if(de[h]!==Re[g]){if(h!==1||g!==1)do if(h--,g--,0>g||de[h]!==Re[g]){var He=`
`+de[h].replace(" at new "," at ");return i.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",i.displayName)),He}while(1<=h&&0<=g);break}}}finally{Ka=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?js(l):""}function va(i){switch(i.tag){case 26:case 27:case 5:return js(i.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Qa(i.type,!1);case 11:return Qa(i.type.render,!1);case 1:return Qa(i.type,!0);case 31:return js("Activity");default:return""}}function Eo(i){try{var s="";do s+=va(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function To(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hl(i){var s=To(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(D){h=""+D,_.call(this,D)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function os(i){i._valueTracker||(i._valueTracker=Hl(i))}function ta(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=To(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xa=/[\n"\\]/g;function en(i){return i.replace(Xa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mi(i,s,l,h,g,_,D,W){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),s!=null?D==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+_n(s)):i.value!==""+_n(s)&&(i.value=""+_n(s)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),s!=null?_a(i,D,_n(s)):l!=null?_a(i,D,_n(l)):h!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.name=""+_n(W):i.removeAttribute("name")}function Za(i,s,l,h,g,_,D,W){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+_n(l):"",s=s!=null?""+_n(s):l,W||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=W?i.checked:!!h,i.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function _a(i,s,l){s==="number"&&pi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function na(i,s,l,h){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+_n(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function on(i,s,l){if(s!=null&&(s=""+_n(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+_n(l):""}function ba(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(we(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=_n(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Vi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||ls.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function il(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&No(i,g,h)}else for(var _ in s)s.hasOwnProperty(_)&&No(i,_,s[_])}function sl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(i){return al.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ti=null;function us(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,xs=null;function Dt(i){var s=Vr(i);if(s&&(i=s.stateNode)){var l=i[Pn]||null;e:switch(i=s.stateNode,s.type){case"input":if(mi(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var g=h[Pn]||null;if(!g)throw Error(r(90));mi(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&ta(h)}break e;case"textarea":on(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&na(i,!!l.multiple,s,!1)}}}var Us=!1;function Gl(i,s,l){if(Us)return i(s,l);Us=!0;try{var h=i(s);return h}finally{if(Us=!1,(Ui!==null||xs!==null)&&(Ap(),Ui&&(s=Ui,i=xs,xs=Ui=null,Dt(s),i)))for(s=0;s<i.length;s++)Dt(i[s])}}function Ja(i,s){var l=i.stateNode;if(l===null)return null;var h=l[Pn]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(Es)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Fr=!1}var Fs=null,wa=null,cs=null;function eo(){if(cs)return cs;var i,s=wa,l=s.length,h,g="value"in Fs?Fs.value:Fs.textContent,_=g.length;for(i=0;i<l&&s[i]===g[i];i++);var D=l-i;for(h=1;h<=D&&s[l-h]===g[_-h];h++);return cs=g.slice(i,1<h?1-h:void 0)}function Ni(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Bi(){return!0}function Aa(){return!1}function Br(i){function s(l,h,g,_,D){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(l=i[W],this[W]=l?l(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Bi:Aa,this.isPropagationStopped=Aa,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Br(bn),Ts=y({},bn,{view:0,detail:0}),xa=Br(Ts),Ea,ra,hs,Ns=y({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ln,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hs&&(hs&&i.type==="mousemove"?(Ea=i.screenX-hs.screenX,ra=i.screenY-hs.screenY):ra=Ea=0,hs=i),Ea)},movementY:function(i){return"movementY"in i?i.movementY:ra}}),Ci=Br(Ns),Co=y({},Ns,{dataTransfer:0}),qi=Br(Co),Ii=y({},Ts,{relatedTarget:0}),A=Br(Ii),j=y({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),se=Br(j),pe=y({},bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ae=Br(pe),Be=y({},bn,{data:0}),Ke=Br(Be),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=kt[i])?!!s[i]:!1}function ln(){return qt}var er=y({},Ts,{key:function(i){if(i.key){var s=at[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ni(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ln,charCode:function(i){return i.type==="keypress"?Ni(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ni(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sr=Br(er),Dn=y({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=Br(Dn),Bn=y({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ln}),qr=Br(Bn),Bs=y({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ia=Br(Bs),$l=y({},Ns,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Br($l),Rr=y({},bn,{newState:0,oldState:0}),fs=Br(Rr),Io=[9,13,27,32],zi=Es&&"CompositionEvent"in window,m=null;Es&&"documentMode"in document&&(m=document.documentMode);var E=Es&&"TextEvent"in window&&!m,L=Es&&(!zi||m&&8<m&&11>=m),K=" ",Ee=!1;function Oe(i,s){switch(i){case"keyup":return Io.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ze(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var un=!1;function hr(i,s){switch(i){case"compositionend":return Ze(s);case"keypress":return s.which!==32?null:(Ee=!0,K);case"textInput":return i=s.data,i===K&&Ee?null:i;default:return null}}function cn(i,s){if(un)return i==="compositionend"||!zi&&Oe(i,s)?(i=eo(),cs=wa=Fs=null,un=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return L&&s.locale!=="ko"?null:s.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!fn[i.type]:s==="textarea"}function Cs(i,s,l,h){Ui?xs?xs.push(h):xs=[h]:Ui=h,s=Cp(s,"onChange"),0<s.length&&(l=new Sa("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Lr=null,gi=null;function Ta(i){Pv(i,0)}function yi(i){var s=Ur(i);if(ta(s))return i}function Hi(i,s){if(i==="change")return s}var Ro=!1;if(Es){var qs;if(Es){var Na="oninput"in document;if(!Na){var Wl=document.createElement("div");Wl.setAttribute("oninput","return;"),Na=typeof Wl.oninput=="function"}qs=Na}else qs=!1;Ro=qs&&(!document.documentMode||9<document.documentMode)}function no(){Lr&&(Lr.detachEvent("onpropertychange",wr),gi=Lr=null)}function wr(i){if(i.propertyName==="value"&&yi(gi)){var s=[];Cs(s,gi,i,us(i)),Gl(Ta,s)}}function Kh(i,s,l){i==="focusin"?(no(),Lr=s,gi=l,Lr.attachEvent("onpropertychange",wr)):i==="focusout"&&no()}function Ca(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yi(gi)}function Ia(i,s){if(i==="click")return yi(s)}function Yl(i,s){if(i==="input"||i==="change")return yi(s)}function Qu(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var oi=typeof Object.is=="function"?Object.is:Qu;function Ra(i,s){if(oi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!nt.call(s,g)||!oi(i[g],s[g]))return!1}return!0}function Lo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ko(i,s){var l=Lo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lo(l)}}function La(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?La(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Kl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=pi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=pi(i.document)}return s}function Gi(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ka=Es&&"documentMode"in document&&11>=document.documentMode,On=null,qn=null,ar=null,yr=!1;function Pa(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yr||On==null||On!==pi(h)||(h=On,"selectionStart"in h&&Gi(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ar&&Ra(ar,h)||(ar=h,h=Cp(qn,"onSelect"),0<h.length&&(s=new Sa("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=On)))}function zs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var $i={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},ol={},Qh={};Es&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Po(i){if(ol[i])return ol[i];if(!$i[i])return i;var s=$i[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Qh)return ol[i]=s[l];return i}var Xh=Po("animationend"),Zh=Po("animationiteration"),Jh=Po("animationstart"),zd=Po("transitionrun"),Hd=Po("transitionstart"),Gd=Po("transitioncancel"),ef=Po("transitionend"),tf=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Hs(i,s){tf.set(i,s),Ei(s,[i])}var Ql=new WeakMap;function Is(i,s){if(typeof i=="object"&&i!==null){var l=Ql.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Eo(s)},Ql.set(i,s),s)}return{value:i,source:s,stack:Eo(s)}}var Rs=[],ll=0,jc=0;function Xu(){for(var i=ll,s=jc=ll=0;s<i;){var l=Rs[s];Rs[s++]=null;var h=Rs[s];Rs[s++]=null;var g=Rs[s];Rs[s++]=null;var _=Rs[s];if(Rs[s++]=null,h!==null&&g!==null){var D=h.pending;D===null?g.next=g:(g.next=D.next,D.next=g),h.pending=g}_!==0&&Uc(l,g,_)}}function Zu(i,s,l,h){Rs[ll++]=i,Rs[ll++]=s,Rs[ll++]=l,Rs[ll++]=h,jc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Vc(i,s,l,h){return Zu(i,s,l,h),cl(i)}function ul(i,s){return Zu(i,null,null,s),cl(i)}function Uc(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&s!==null&&(g=31-st(l),i=_.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=l|536870912),_):null}function cl(i){if(50<Nf)throw Nf=0,Qg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var li={};function Gs(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(i,s,l,h){return new Gs(i,s,l,h)}function Xl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Da(i,s){var l=i.alternate;return l===null?(l=Ri(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Ju(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function hl(i,s,l,h,g,_){var D=0;if(h=i,typeof i=="function")Xl(i)&&(D=1);else if(typeof i=="string")D=ex(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Ri(31,l,s,g),i.elementType=P,i.lanes=_,i;case M:return ro(l.children,g,_,s);case U:D=8,g|=24;break;case B:return i=Ri(12,l,s,g|2),i.elementType=B,i.lanes=_,i;case oe:return i=Ri(13,l,s,g),i.elementType=oe,i.lanes=_,i;case Se:return i=Ri(19,l,s,g),i.elementType=Se,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case te:D=10;break e;case ee:D=9;break e;case Q:D=11;break e;case $:D=14;break e;case O:D=16,h=null;break e}D=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Ri(D,l,s,g),s.elementType=i,s.type=h,s.lanes=_,s}function ro(i,s,l,h){return i=Ri(7,i,h,s),i.lanes=l,i}function Fc(i,s,l){return i=Ri(6,i,null,s),i.lanes=l,i}function ec(i,s,l){return s=Ri(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Do=[],io=0,Zl=null,Bc=0,$s=[],Ls=0,fl=null,so=1,ao="";function dl(i,s){Do[io++]=Bc,Do[io++]=Zl,Zl=i,Bc=s}function $d(i,s,l){$s[Ls++]=so,$s[Ls++]=ao,$s[Ls++]=fl,fl=i;var h=so;i=ao;var g=32-st(h)-1;h&=~(1<<g),l+=1;var _=32-st(s)+g;if(30<_){var D=g-g%5;_=(h&(1<<D)-1).toString(32),h>>=D,g-=D,so=1<<32-st(s)+g|l<<g|h,ao=_+i}else so=1<<_|l<<g|h,ao=i}function tc(i){i.return!==null&&(dl(i,1),$d(i,1,0))}function nc(i){for(;i===Zl;)Zl=Do[--io],Do[io]=null,Bc=Do[--io],Do[io]=null;for(;i===fl;)fl=$s[--Ls],$s[Ls]=null,ao=$s[--Ls],$s[Ls]=null,so=$s[--Ls],$s[Ls]=null}var Wr=null,Ar=null,Mn=!1,Oo=null,Oa=!1,nf=Error(r(519));function pl(i){var s=Error(r(418,""));throw Jl(Is(s,i)),nf}function Wd(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[$n]=i,s[Pn]=h,l){case"dialog":vn("cancel",s),vn("close",s);break;case"iframe":case"object":case"embed":vn("load",s);break;case"video":case"audio":for(l=0;l<If.length;l++)vn(If[l],s);break;case"source":vn("error",s);break;case"img":case"image":case"link":vn("error",s),vn("load",s);break;case"details":vn("toggle",s);break;case"input":vn("invalid",s),Za(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),os(s);break;case"select":vn("invalid",s);break;case"textarea":vn("invalid",s),ba(s,h.value,h.defaultValue,h.children),os(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||jv(s.textContent,l)?(h.popover!=null&&(vn("beforetoggle",s),vn("toggle",s)),h.onScroll!=null&&vn("scroll",s),h.onScrollEnd!=null&&vn("scrollend",s),h.onClick!=null&&(s.onclick=Ip),s=!0):s=!1,s||pl(i)}function oo(i){for(Wr=i.return;Wr;)switch(Wr.tag){case 5:case 13:Oa=!1;return;case 27:case 3:Oa=!0;return;default:Wr=Wr.return}}function Wi(i){if(i!==Wr)return!1;if(!Mn)return oo(i),Mn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||f1(i.type,i.memoizedProps)),l=!l),l&&Ar&&pl(i),oo(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Ar=go(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Ar=null}}else s===27?(s=Ar,mu(i.type)?(i=g1,g1=null,Ar=i):Ar=s):Ar=Wr?go(i.stateNode.nextSibling):null;return!0}function ks(){Ar=Wr=null,Mn=!1}function Yd(){var i=Oo;return i!==null&&(Ys===null?Ys=i:Ys.push.apply(Ys,i),Oo=null),i}function Jl(i){Oo===null?Oo=[i]:Oo.push(i)}var Ma=he(null),ui=null,lo=null;function Mo(i,s,l){z(Ma,s._currentValue),s._currentValue=l}function ja(i){i._currentValue=Ma.current,R(Ma)}function qc(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function zc(i,s,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var D=g.child;_=_.firstContext;e:for(;_!==null;){var W=_;_=g;for(var de=0;de<s.length;de++)if(W.context===s[de]){_.lanes|=l,W=_.alternate,W!==null&&(W.lanes|=l),qc(_.return,l,i),h||(D=null);break e}_=W.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(r(341));D.lanes|=l,_=D.alternate,_!==null&&(_.lanes|=l),qc(D,l,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function eu(i,s,l,h){i=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var W=g.type;oi(g.pendingProps.value,D.value)||(i!==null?i.push(W):i=[W])}}else if(g===ge.current){if(D=g.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Of):i=[Of])}g=g.return}i!==null&&zc(s,i,l,h),s.flags|=262144}function Hc(i){for(i=i.firstContext;i!==null;){if(!oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Va(i){ui=i,lo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yr(i){return Gc(ui,i)}function jo(i,s){return ui===null&&Va(i),Gc(i,s)}function Gc(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},lo===null){if(i===null)throw Error(r(308));lo=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else lo=lo.next=s;return l}var wg=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Kd=n.unstable_scheduleCallback,Ag=n.unstable_NormalPriority,Kr={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new wg,data:new Map,refCount:0}}function rc(i){i.refCount--,i.refCount===0&&Kd(Ag,function(){i.controller.abort()})}var ic=null,sf=0,ml=0,uo=null;function Sg(i,s){if(ic===null){var l=ic=[];sf=0,ml=r1(),uo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return sf++,s.then(Qd,Qd),s}function Qd(){if(--sf===0&&ic!==null){uo!==null&&(uo.status="fulfilled");var i=ic;ic=null,ml=0,uo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Xd(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var p=le.S;le.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sg(i,s),p!==null&&p(i,s)};var v=he(null);function S(){var i=v.current;return i!==null?i:fr.pooledCache}function T(i,s){s===null?z(v,v.current):z(v,s.pool)}function V(){var i=S();return i===null?null:{parent:Kr._currentValue,pool:i}}var q=Error(r(460)),G=Error(r(474)),Y=Error(r(542)),Z={then:function(){}};function ae(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ye(){}function Ie(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(ye,ye),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Te(i),i;default:if(typeof s.status=="string")s.then(ye,ye);else{if(i=fr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Te(i),i}throw ie=s,q}}var ie=null;function be(){if(ie===null)throw Error(r(459));var i=ie;return ie=null,i}function Te(i){if(i===q||i===Y)throw Error(r(483))}var je=!1;function Ce(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ve(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xe(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Kn&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=cl(i),Uc(i,null,l),s}return Zu(i,h,s,l),cl(i)}function We(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Zs(i,l)}}function vt(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=D:_=_.next=D,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ot=!1;function Gt(){if(ot){var i=uo;if(i!==null)throw i}}function ut(i,s,l,h){ot=!1;var g=i.updateQueue;je=!1;var _=g.firstBaseUpdate,D=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var de=W,Re=de.next;de.next=null,D===null?_=Re:D.next=Re,D=de;var He=i.alternate;He!==null&&(He=He.updateQueue,W=He.lastBaseUpdate,W!==D&&(W===null?He.firstBaseUpdate=Re:W.next=Re,He.lastBaseUpdate=de))}if(_!==null){var Ye=g.baseState;D=0,He=Re=de=null,W=_;do{var Pe=W.lane&-536870913,De=Pe!==W.lane;if(De?(Rn&Pe)===Pe:(h&Pe)===Pe){Pe!==0&&Pe===ml&&(ot=!0),He!==null&&(He=He.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ht=i,Mt=W;Pe=s;var rr=l;switch(Mt.tag){case 1:if(Ht=Mt.payload,typeof Ht=="function"){Ye=Ht.call(rr,Ye,Pe);break e}Ye=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Mt.payload,Pe=typeof Ht=="function"?Ht.call(rr,Ye,Pe):Ht,Pe==null)break e;Ye=y({},Ye,Pe);break e;case 2:je=!0}}Pe=W.callback,Pe!==null&&(i.flags|=64,De&&(i.flags|=8192),De=g.callbacks,De===null?g.callbacks=[Pe]:De.push(Pe))}else De={lane:Pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},He===null?(Re=He=De,de=Ye):He=He.next=De,D|=Pe;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;De=W,W=De.next,De.next=null,g.lastBaseUpdate=De,g.shared.pending=null}}while(!0);He===null&&(de=Ye),g.baseState=de,g.firstBaseUpdate=Re,g.lastBaseUpdate=He,_===null&&(g.shared.lanes=0),hu|=D,i.lanes=D,i.memoizedState=Ye}}function dn(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function zr(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)dn(l[i],s)}var zt=he(null),ft=he(0);function et(i,s){i=Sl,z(ft,i),z(zt,s),Sl=i|s.baseLanes}function vr(){z(ft,Sl),z(zt,zt.current)}function $t(){Sl=ft.current,R(zt),R(ft)}var Jt=0,dt=null,Kt=null,wn=null,or=!1,kr=!1,Pr=!1,Sr=0,hn=0,An=null,xr=0;function Ot(){throw Error(r(321))}function Qr(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!oi(i[l],s[l]))return!1;return!0}function Ps(i,s,l,h,g,_){return Jt=_,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,le.H=i===null||i.memoizedState===null?yy:vy,Pr=!1,_=l(h,g),Pr=!1,kr&&(_=Yi(s,l,h,g)),Er(i),_}function Er(i){le.H=up;var s=Kt!==null&&Kt.next!==null;if(Jt=0,wn=Kt=dt=null,or=!1,hn=0,An=null,s)throw Error(r(300));i===null||ki||(i=i.dependencies,i!==null&&Hc(i)&&(ki=!0))}function Yi(i,s,l,h){dt=i;var g=0;do{if(kr&&(An=null),hn=0,kr=!1,25<=g)throw Error(r(301));if(g+=1,wn=Kt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}le.H=hS,_=s(l,h)}while(kr);return _}function Yn(){var i=le.H,s=i.useState()[0];return s=typeof s.then=="function"?_i(s):s,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(dt.flags|=1024),s}function Dr(){var i=Sr!==0;return Sr=0,i}function Ki(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function vi(i){if(or){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}or=!1}Jt=0,wn=Kt=dt=null,kr=!1,hn=Sr=0,An=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?dt.memoizedState=wn=i:wn=wn.next=i,wn}function In(){if(Kt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var s=wn===null?dt.memoizedState:wn.next;if(s!==null)wn=s,Kt=i;else{if(i===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},wn===null?dt.memoizedState=wn=i:wn=wn.next=i}return wn}function Li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _i(i){var s=hn;return hn+=1,An===null&&(An=[]),i=Ie(An,i,s),s=dt,(wn===null?s.memoizedState:wn.next)===null&&(s=s.alternate,le.H=s===null||s.memoizedState===null?yy:vy),i}function Fn(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _i(i);if(i.$$typeof===te)return Yr(i)}throw Error(r(438,String(i)))}function Qi(i){var s=null,l=dt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Li(),dt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=H;return s.index++,l}function Xr(i,s){return typeof s=="function"?s(i):s}function Ua(i){var s=In();return sa(s,Kt,i)}function sa(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,_=h.pending;if(_!==null){if(g!==null){var D=g.next;g.next=_.next,_.next=D}s.baseQueue=g=_,h.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{s=g.next;var W=D=null,de=null,Re=s,He=!1;do{var Ye=Re.lane&-536870913;if(Ye!==Re.lane?(Rn&Ye)===Ye:(Jt&Ye)===Ye){var Pe=Re.revertLane;if(Pe===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ye===ml&&(He=!0);else if((Jt&Pe)===Pe){Re=Re.next,Pe===ml&&(He=!0);continue}else Ye={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},de===null?(W=de=Ye,D=_):de=de.next=Ye,dt.lanes|=Pe,hu|=Pe;Ye=Re.action,Pr&&l(_,Ye),_=Re.hasEagerState?Re.eagerState:l(_,Ye)}else Pe={lane:Ye,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},de===null?(W=de=Pe,D=_):de=de.next=Pe,dt.lanes|=Ye,hu|=Ye;Re=Re.next}while(Re!==null&&Re!==s);if(de===null?D=_:de.next=W,!oi(_,i.memoizedState)&&(ki=!0,He&&(l=uo,l!==null)))throw l;i.memoizedState=_,i.baseState=D,i.baseQueue=de,h.lastRenderedState=_}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Zr(i){var s=In(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var D=g=g.next;do _=i(_,D.action),D=D.next;while(D!==g);oi(_,s.memoizedState)||(ki=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function sc(i,s,l){var h=dt,g=In(),_=Mn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var D=!oi((Kt||g).memoizedState,l);D&&(g.memoizedState=l,ki=!0),g=g.queue;var W=tu.bind(null,h,g,i);if(iu(2048,8,W,[i]),g.getSnapshot!==s||D||wn!==null&&wn.memoizedState.tag&1){if(h.flags|=2048,ho(9,uc(),ac.bind(null,h,g,l,s),null),fr===null)throw Error(r(349));_||(Jt&124)!==0||$c(h,s,l)}return l}function $c(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=dt.updateQueue,s===null?(s=Li(),dt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function ac(i,s,l,h){s.value=l,s.getSnapshot=h,Zd(s)&&Jd(i)}function tu(i,s,l){return l(function(){Zd(s)&&Jd(i)})}function Zd(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!oi(i,l)}catch{return!0}}function Jd(i){var s=ul(i,2);s!==null&&ha(s,i,2)}function oc(i){var s=tr();if(typeof i=="function"){var l=i;if(i=l(),Pr){Tt(!0);try{l()}finally{Tt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:i},s}function co(i,s,l,h){return i.baseState=l,sa(i,Kt,typeof h=="function"?h:Xr)}function xg(i,s,l,h,g){if(lp(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){_.listeners.push(D)}};le.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,ep(s,_)):(_.next=l.next,s.pending=l.next=_)}}function ep(i,s){var l=s.action,h=s.payload,g=i.state;if(s.isTransition){var _=le.T,D={};le.T=D;try{var W=l(g,h),de=le.S;de!==null&&de(D,W),tp(i,s,W)}catch(Re){nu(i,s,Re)}finally{le.T=_}}else try{_=l(g,h),tp(i,s,_)}catch(Re){nu(i,s,Re)}}function tp(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){af(i,s,h)},function(h){return nu(i,s,h)}):af(i,s,l)}function af(i,s,l){s.status="fulfilled",s.value=l,of(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,ep(i,l)))}function nu(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,of(s),s=s.next;while(s!==h)}i.action=null}function of(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function lf(i,s){return s}function lc(i,s){if(Mn){var l=fr.formState;if(l!==null){e:{var h=dt;if(Mn){if(Ar){t:{for(var g=Ar,_=Oa;g.nodeType!==8;){if(!_){g=null;break t}if(g=go(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Ar=go(g.nextSibling),h=g.data==="F!";break e}}pl(h)}h=!1}h&&(s=l[0])}}return l=tr(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lf,lastRenderedState:s},l.queue=h,l=py.bind(null,dt,h),h.dispatch=l,h=oc(!1),_=Eg.bind(null,dt,!1,h.queue),h=tr(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,l=xg.bind(null,dt,g,_,l),g.dispatch=l,h.memoizedState=i,[s,l,!1]}function Wc(i){var s=In();return ru(s,Kt,i)}function ru(i,s,l){if(s=sa(i,s,lf)[0],i=Ua(Xr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=_i(s)}catch(D){throw D===q?Y:D}else h=s;s=In();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(dt.flags|=2048,ho(9,uc(),np.bind(null,g,l),null)),[h,_,i]}function np(i,s){i.action=s}function rp(i){var s=In(),l=Kt;if(l!==null)return ru(s,l,i);In(),s=s.memoizedState,l=In();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function ho(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=dt.updateQueue,s===null&&(s=Li(),dt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function uc(){return{destroy:void 0,resource:void 0}}function Yc(){return In().memoizedState}function aa(i,s,l,h){var g=tr();h=h===void 0?null:h,dt.flags|=i,g.memoizedState=ho(1|s,uc(),l,h)}function iu(i,s,l,h){var g=In();h=h===void 0?null:h;var _=g.memoizedState.inst;Kt!==null&&h!==null&&Qr(h,Kt.memoizedState.deps)?g.memoizedState=ho(s,_,l,h):(dt.flags|=i,g.memoizedState=ho(1|s,_,l,h))}function uf(i,s){aa(8390656,8,i,s)}function ip(i,s){iu(2048,8,i,s)}function cf(i,s){return iu(4,2,i,s)}function gl(i,s){return iu(4,4,i,s)}function sp(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function hf(i,s,l){l=l!=null?l.concat([i]):null,iu(4,4,sp.bind(null,s,i),l)}function ff(){}function df(i,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Qr(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function ap(i,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Qr(s,h[1]))return h[0];if(h=i(),Pr){Tt(!0);try{i()}finally{Tt(!1)}}return l.memoizedState=[h,s],h}function yl(i,s,l){return l===void 0||(Jt&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=cv(),dt.lanes|=i,hu|=i,l)}function Kc(i,s,l,h){return oi(l,s)?l:zt.current!==null?(i=yl(i,l,h),oi(i,s)||(ki=!0),i):(Jt&42)===0?(ki=!0,i.memoizedState=l):(i=cv(),dt.lanes|=i,hu|=i,s)}function cc(i,s,l,h,g){var _=me.p;me.p=_!==0&&8>_?_:8;var D=le.T,W={};le.T=W,Eg(i,!1,s,l);try{var de=g(),Re=le.S;if(Re!==null&&Re(W,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var He=Xd(de,h);yf(i,s,He,ca(i))}else yf(i,s,h,ca(i))}catch(Ye){yf(i,s,{then:function(){},status:"rejected",reason:Ye},ca())}finally{me.p=_,le.T=D}}function fo(){}function Fa(i,s,l,h){if(i.tag!==5)throw Error(r(476));var g=po(i).queue;cc(i,g,s,re,l===null?fo:function(){return hc(i),l(h)})}function po(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:re},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function hc(i){var s=po(i).next.queue;yf(i,s,{},ca())}function fc(){return Yr(Of)}function pf(){return In().memoizedState}function op(){return In().memoizedState}function mf(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ca();i=Ve(l);var h=Xe(s,i,l);h!==null&&(ha(h,s,l),We(h,s,l)),s={cache:rf()},i.payload=s;return}s=s.return}}function gf(i,s,l){var h=ca();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},lp(i)?my(s,l):(l=Vc(i,s,l,h),l!==null&&(ha(l,i,h),gy(l,s,h)))}function py(i,s,l){var h=ca();yf(i,s,l,h)}function yf(i,s,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(lp(i))my(s,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var D=s.lastRenderedState,W=_(D,l);if(g.hasEagerState=!0,g.eagerState=W,oi(W,D))return Zu(i,s,g,0),fr===null&&Xu(),!1}catch{}finally{}if(l=Vc(i,s,g,h),l!==null)return ha(l,i,h),gy(l,s,h),!0}return!1}function Eg(i,s,l,h){if(h={lane:2,revertLane:r1(),action:h,hasEagerState:!1,eagerState:null,next:null},lp(i)){if(s)throw Error(r(479))}else s=Vc(i,l,h,2),s!==null&&ha(s,i,2)}function lp(i){var s=i.alternate;return i===dt||s!==null&&s===dt}function my(i,s){kr=or=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function gy(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Zs(i,l)}}var up={readContext:Yr,use:Fn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},yy={readContext:Yr,use:Fn,useCallback:function(i,s){return tr().memoizedState=[i,s===void 0?null:s],i},useContext:Yr,useEffect:uf,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,aa(4194308,4,sp.bind(null,s,i),l)},useLayoutEffect:function(i,s){return aa(4194308,4,i,s)},useInsertionEffect:function(i,s){aa(4,2,i,s)},useMemo:function(i,s){var l=tr();s=s===void 0?null:s;var h=i();if(Pr){Tt(!0);try{i()}finally{Tt(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=tr();if(l!==void 0){var g=l(s);if(Pr){Tt(!0);try{l(s)}finally{Tt(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=gf.bind(null,dt,i),[h.memoizedState,i]},useRef:function(i){var s=tr();return i={current:i},s.memoizedState=i},useState:function(i){i=oc(i);var s=i.queue,l=py.bind(null,dt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:ff,useDeferredValue:function(i,s){var l=tr();return yl(l,i,s)},useTransition:function(){var i=oc(!1);return i=cc.bind(null,dt,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=dt,g=tr();if(Mn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),fr===null)throw Error(r(349));(Rn&124)!==0||$c(h,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,uf(tu.bind(null,h,_,i),[i]),h.flags|=2048,ho(9,uc(),ac.bind(null,h,_,l,s),null),l},useId:function(){var i=tr(),s=fr.identifierPrefix;if(Mn){var l=ao,h=so;l=(h&~(1<<32-st(h)-1)).toString(32)+l,s=""+s+"R"+l,l=Sr++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=xr++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:fc,useFormState:lc,useActionState:lc,useOptimistic:function(i){var s=tr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Eg.bind(null,dt,!0,l),l.dispatch=s,[i,s]},useMemoCache:Qi,useCacheRefresh:function(){return tr().memoizedState=mf.bind(null,dt)}},vy={readContext:Yr,use:Fn,useCallback:df,useContext:Yr,useEffect:ip,useImperativeHandle:hf,useInsertionEffect:cf,useLayoutEffect:gl,useMemo:ap,useReducer:Ua,useRef:Yc,useState:function(){return Ua(Xr)},useDebugValue:ff,useDeferredValue:function(i,s){var l=In();return Kc(l,Kt.memoizedState,i,s)},useTransition:function(){var i=Ua(Xr)[0],s=In().memoizedState;return[typeof i=="boolean"?i:_i(i),s]},useSyncExternalStore:sc,useId:pf,useHostTransitionStatus:fc,useFormState:Wc,useActionState:Wc,useOptimistic:function(i,s){var l=In();return co(l,Kt,i,s)},useMemoCache:Qi,useCacheRefresh:op},hS={readContext:Yr,use:Fn,useCallback:df,useContext:Yr,useEffect:ip,useImperativeHandle:hf,useInsertionEffect:cf,useLayoutEffect:gl,useMemo:ap,useReducer:Zr,useRef:Yc,useState:function(){return Zr(Xr)},useDebugValue:ff,useDeferredValue:function(i,s){var l=In();return Kt===null?yl(l,i,s):Kc(l,Kt.memoizedState,i,s)},useTransition:function(){var i=Zr(Xr)[0],s=In().memoizedState;return[typeof i=="boolean"?i:_i(i),s]},useSyncExternalStore:sc,useId:pf,useHostTransitionStatus:fc,useFormState:rp,useActionState:rp,useOptimistic:function(i,s){var l=In();return Kt!==null?co(l,Kt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qi,useCacheRefresh:op},Qc=null,vf=0;function cp(i){var s=vf;return vf+=1,Qc===null&&(Qc=[]),Ie(Qc,i,s)}function _f(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function hp(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function _y(i){var s=i._init;return s(i._payload)}function by(i){function s(xe,_e){if(i){var Ne=xe.deletions;Ne===null?(xe.deletions=[_e],xe.flags|=16):Ne.push(_e)}}function l(xe,_e){if(!i)return null;for(;_e!==null;)s(xe,_e),_e=_e.sibling;return null}function h(xe){for(var _e=new Map;xe!==null;)xe.key!==null?_e.set(xe.key,xe):_e.set(xe.index,xe),xe=xe.sibling;return _e}function g(xe,_e){return xe=Da(xe,_e),xe.index=0,xe.sibling=null,xe}function _(xe,_e,Ne){return xe.index=Ne,i?(Ne=xe.alternate,Ne!==null?(Ne=Ne.index,Ne<_e?(xe.flags|=67108866,_e):Ne):(xe.flags|=67108866,_e)):(xe.flags|=1048576,_e)}function D(xe){return i&&xe.alternate===null&&(xe.flags|=67108866),xe}function W(xe,_e,Ne,$e){return _e===null||_e.tag!==6?(_e=Fc(Ne,xe.mode,$e),_e.return=xe,_e):(_e=g(_e,Ne),_e.return=xe,_e)}function de(xe,_e,Ne,$e){var mt=Ne.type;return mt===M?He(xe,_e,Ne.props.children,$e,Ne.key):_e!==null&&(_e.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===O&&_y(mt)===_e.type)?(_e=g(_e,Ne.props),_f(_e,Ne),_e.return=xe,_e):(_e=hl(Ne.type,Ne.key,Ne.props,null,xe.mode,$e),_f(_e,Ne),_e.return=xe,_e)}function Re(xe,_e,Ne,$e){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ne.containerInfo||_e.stateNode.implementation!==Ne.implementation?(_e=ec(Ne,xe.mode,$e),_e.return=xe,_e):(_e=g(_e,Ne.children||[]),_e.return=xe,_e)}function He(xe,_e,Ne,$e,mt){return _e===null||_e.tag!==7?(_e=ro(Ne,xe.mode,$e,mt),_e.return=xe,_e):(_e=g(_e,Ne),_e.return=xe,_e)}function Ye(xe,_e,Ne){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Fc(""+_e,xe.mode,Ne),_e.return=xe,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return Ne=hl(_e.type,_e.key,_e.props,null,xe.mode,Ne),_f(Ne,_e),Ne.return=xe,Ne;case b:return _e=ec(_e,xe.mode,Ne),_e.return=xe,_e;case O:var $e=_e._init;return _e=$e(_e._payload),Ye(xe,_e,Ne)}if(we(_e)||I(_e))return _e=ro(_e,xe.mode,Ne,null),_e.return=xe,_e;if(typeof _e.then=="function")return Ye(xe,cp(_e),Ne);if(_e.$$typeof===te)return Ye(xe,jo(xe,_e),Ne);hp(xe,_e)}return null}function Pe(xe,_e,Ne,$e){var mt=_e!==null?_e.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return mt!==null?null:W(xe,_e,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:return Ne.key===mt?de(xe,_e,Ne,$e):null;case b:return Ne.key===mt?Re(xe,_e,Ne,$e):null;case O:return mt=Ne._init,Ne=mt(Ne._payload),Pe(xe,_e,Ne,$e)}if(we(Ne)||I(Ne))return mt!==null?null:He(xe,_e,Ne,$e,null);if(typeof Ne.then=="function")return Pe(xe,_e,cp(Ne),$e);if(Ne.$$typeof===te)return Pe(xe,_e,jo(xe,Ne),$e);hp(xe,Ne)}return null}function De(xe,_e,Ne,$e,mt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return xe=xe.get(Ne)||null,W(_e,xe,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case x:return xe=xe.get($e.key===null?Ne:$e.key)||null,de(_e,xe,$e,mt);case b:return xe=xe.get($e.key===null?Ne:$e.key)||null,Re(_e,xe,$e,mt);case O:var pn=$e._init;return $e=pn($e._payload),De(xe,_e,Ne,$e,mt)}if(we($e)||I($e))return xe=xe.get(Ne)||null,He(_e,xe,$e,mt,null);if(typeof $e.then=="function")return De(xe,_e,Ne,cp($e),mt);if($e.$$typeof===te)return De(xe,_e,Ne,jo(_e,$e),mt);hp(_e,$e)}return null}function Ht(xe,_e,Ne,$e){for(var mt=null,pn=null,xt=_e,jt=_e=0,Di=null;xt!==null&&jt<Ne.length;jt++){xt.index>jt?(Di=xt,xt=null):Di=xt.sibling;var Vn=Pe(xe,xt,Ne[jt],$e);if(Vn===null){xt===null&&(xt=Di);break}i&&xt&&Vn.alternate===null&&s(xe,xt),_e=_(Vn,_e,jt),pn===null?mt=Vn:pn.sibling=Vn,pn=Vn,xt=Di}if(jt===Ne.length)return l(xe,xt),Mn&&dl(xe,jt),mt;if(xt===null){for(;jt<Ne.length;jt++)xt=Ye(xe,Ne[jt],$e),xt!==null&&(_e=_(xt,_e,jt),pn===null?mt=xt:pn.sibling=xt,pn=xt);return Mn&&dl(xe,jt),mt}for(xt=h(xt);jt<Ne.length;jt++)Di=De(xt,xe,jt,Ne[jt],$e),Di!==null&&(i&&Di.alternate!==null&&xt.delete(Di.key===null?jt:Di.key),_e=_(Di,_e,jt),pn===null?mt=Di:pn.sibling=Di,pn=Di);return i&&xt.forEach(function(bu){return s(xe,bu)}),Mn&&dl(xe,jt),mt}function Mt(xe,_e,Ne,$e){if(Ne==null)throw Error(r(151));for(var mt=null,pn=null,xt=_e,jt=_e=0,Di=null,Vn=Ne.next();xt!==null&&!Vn.done;jt++,Vn=Ne.next()){xt.index>jt?(Di=xt,xt=null):Di=xt.sibling;var bu=Pe(xe,xt,Vn.value,$e);if(bu===null){xt===null&&(xt=Di);break}i&&xt&&bu.alternate===null&&s(xe,xt),_e=_(bu,_e,jt),pn===null?mt=bu:pn.sibling=bu,pn=bu,xt=Di}if(Vn.done)return l(xe,xt),Mn&&dl(xe,jt),mt;if(xt===null){for(;!Vn.done;jt++,Vn=Ne.next())Vn=Ye(xe,Vn.value,$e),Vn!==null&&(_e=_(Vn,_e,jt),pn===null?mt=Vn:pn.sibling=Vn,pn=Vn);return Mn&&dl(xe,jt),mt}for(xt=h(xt);!Vn.done;jt++,Vn=Ne.next())Vn=De(xt,xe,jt,Vn.value,$e),Vn!==null&&(i&&Vn.alternate!==null&&xt.delete(Vn.key===null?jt:Vn.key),_e=_(Vn,_e,jt),pn===null?mt=Vn:pn.sibling=Vn,pn=Vn);return i&&xt.forEach(function(fx){return s(xe,fx)}),Mn&&dl(xe,jt),mt}function rr(xe,_e,Ne,$e){if(typeof Ne=="object"&&Ne!==null&&Ne.type===M&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:e:{for(var mt=Ne.key;_e!==null;){if(_e.key===mt){if(mt=Ne.type,mt===M){if(_e.tag===7){l(xe,_e.sibling),$e=g(_e,Ne.props.children),$e.return=xe,xe=$e;break e}}else if(_e.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===O&&_y(mt)===_e.type){l(xe,_e.sibling),$e=g(_e,Ne.props),_f($e,Ne),$e.return=xe,xe=$e;break e}l(xe,_e);break}else s(xe,_e);_e=_e.sibling}Ne.type===M?($e=ro(Ne.props.children,xe.mode,$e,Ne.key),$e.return=xe,xe=$e):($e=hl(Ne.type,Ne.key,Ne.props,null,xe.mode,$e),_f($e,Ne),$e.return=xe,xe=$e)}return D(xe);case b:e:{for(mt=Ne.key;_e!==null;){if(_e.key===mt)if(_e.tag===4&&_e.stateNode.containerInfo===Ne.containerInfo&&_e.stateNode.implementation===Ne.implementation){l(xe,_e.sibling),$e=g(_e,Ne.children||[]),$e.return=xe,xe=$e;break e}else{l(xe,_e);break}else s(xe,_e);_e=_e.sibling}$e=ec(Ne,xe.mode,$e),$e.return=xe,xe=$e}return D(xe);case O:return mt=Ne._init,Ne=mt(Ne._payload),rr(xe,_e,Ne,$e)}if(we(Ne))return Ht(xe,_e,Ne,$e);if(I(Ne)){if(mt=I(Ne),typeof mt!="function")throw Error(r(150));return Ne=mt.call(Ne),Mt(xe,_e,Ne,$e)}if(typeof Ne.then=="function")return rr(xe,_e,cp(Ne),$e);if(Ne.$$typeof===te)return rr(xe,_e,jo(xe,Ne),$e);hp(xe,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,_e!==null&&_e.tag===6?(l(xe,_e.sibling),$e=g(_e,Ne),$e.return=xe,xe=$e):(l(xe,_e),$e=Fc(Ne,xe.mode,$e),$e.return=xe,xe=$e),D(xe)):l(xe,_e)}return function(xe,_e,Ne,$e){try{vf=0;var mt=rr(xe,_e,Ne,$e);return Qc=null,mt}catch(xt){if(xt===q||xt===Y)throw xt;var pn=Ri(29,xt,null,xe.mode);return pn.lanes=$e,pn.return=xe,pn}finally{}}}var Xc=by(!0),wy=by(!1),Ba=he(null),Vo=null;function su(i){var s=i.alternate;z(bi,bi.current&1),z(Ba,i),Vo===null&&(s===null||zt.current!==null||s.memoizedState!==null)&&(Vo=i)}function Ay(i){if(i.tag===22){if(z(bi,bi.current),z(Ba,i),Vo===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Vo=i)}}else au()}function au(){z(bi,bi.current),z(Ba,Ba.current)}function vl(i){R(Ba),Vo===i&&(Vo=null),R(bi)}var bi=he(0);function fp(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||m1(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Tg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ng={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=ca(),g=Ve(h);g.payload=s,l!=null&&(g.callback=l),s=Xe(i,g,h),s!==null&&(ha(s,i,h),We(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=ca(),g=Ve(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Xe(i,g,h),s!==null&&(ha(s,i,h),We(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ca(),h=Ve(l);h.tag=2,s!=null&&(h.callback=s),s=Xe(i,h,l),s!==null&&(ha(s,i,l),We(s,i,l))}};function Sy(i,s,l,h,g,_,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,D):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,h)||!Ra(g,_):!0}function xy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Ng.enqueueReplaceState(s,s.state,null)}function dc(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var dp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ey(i){dp(i)}function Ty(i){console.error(i)}function Ny(i){dp(i)}function pp(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Cy(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Cg(i,s,l){return l=Ve(l),l.tag=3,l.payload={element:null},l.callback=function(){pp(i,s)},l}function Iy(i){return i=Ve(i),i.tag=3,i}function Ry(i,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;i.payload=function(){return g(_)},i.callback=function(){Cy(s,l,h)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){Cy(s,l,h),typeof g!="function"&&(fu===null?fu=new Set([this]):fu.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})})}function fS(i,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&eu(s,l,g,!0),l=Ba.current,l!==null){switch(l.tag){case 13:return Vo===null?Zg():l.alternate===null&&Hr===0&&(Hr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Z?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),e1(i,h,g)),!1;case 22:return l.flags|=65536,h===Z?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),e1(i,h,g)),!1}throw Error(r(435,l.tag))}return e1(i,h,g),Zg(),!1}if(Mn)return s=Ba.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==nf&&(i=Error(r(422),{cause:h}),Jl(Is(i,l)))):(h!==nf&&(s=Error(r(423),{cause:h}),Jl(Is(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Is(h,l),g=Cg(i.stateNode,h,g),vt(i,g),Hr!==4&&(Hr=2)),!1;var _=Error(r(520),{cause:h});if(_=Is(_,l),Tf===null?Tf=[_]:Tf.push(_),Hr!==4&&(Hr=2),s===null)return!0;h=Is(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Cg(l.stateNode,h,i),vt(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fu===null||!fu.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Iy(g),Ry(g,i,l,h),vt(l,g),!1}l=l.return}while(l!==null);return!1}var Ly=Error(r(461)),ki=!1;function Xi(i,s,l,h){s.child=i===null?wy(s,null,l,h):Xc(s,i.child,l,h)}function ky(i,s,l,h,g){l=l.render;var _=s.ref;if("ref"in h){var D={};for(var W in h)W!=="ref"&&(D[W]=h[W])}else D=h;return Va(s),h=Ps(i,s,l,D,_,g),W=Dr(),i!==null&&!ki?(Ki(i,s,g),_l(i,s,g)):(Mn&&W&&tc(s),s.flags|=1,Xi(i,s,h,g),s.child)}function Py(i,s,l,h,g){if(i===null){var _=l.type;return typeof _=="function"&&!Xl(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Dy(i,s,_,h,g)):(i=hl(l.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!Mg(i,g)){var D=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(D,h)&&i.ref===s.ref)return _l(i,s,g)}return s.flags|=1,i=Da(_,h),i.ref=s.ref,i.return=s,s.child=i}function Dy(i,s,l,h,g){if(i!==null){var _=i.memoizedProps;if(Ra(_,h)&&i.ref===s.ref)if(ki=!1,s.pendingProps=h=_,Mg(i,g))(i.flags&131072)!==0&&(ki=!0);else return s.lanes=i.lanes,_l(i,s,g)}return Ig(i,s,l,h,g)}function Oy(i,s,l){var h=s.pendingProps,g=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,i!==null){for(g=s.child=i.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;s.childLanes=_&~h}else s.childLanes=0,s.child=null;return My(i,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&T(s,_!==null?_.cachePool:null),_!==null?et(s,_):vr(),Ay(s);else return s.lanes=s.childLanes=536870912,My(i,s,_!==null?_.baseLanes|l:l,l)}else _!==null?(T(s,_.cachePool),et(s,_),au(),s.memoizedState=null):(i!==null&&T(s,null),vr(),au());return Xi(i,s,g,l),s.child}function My(i,s,l,h){var g=S();return g=g===null?null:{parent:Kr._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&T(s,null),vr(),Ay(s),i!==null&&eu(i,s,h,!0),null}function mp(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Ig(i,s,l,h,g){return Va(s),l=Ps(i,s,l,h,void 0,g),h=Dr(),i!==null&&!ki?(Ki(i,s,g),_l(i,s,g)):(Mn&&h&&tc(s),s.flags|=1,Xi(i,s,l,g),s.child)}function jy(i,s,l,h,g,_){return Va(s),s.updateQueue=null,l=Yi(s,h,l,g),Er(i),h=Dr(),i!==null&&!ki?(Ki(i,s,_),_l(i,s,_)):(Mn&&h&&tc(s),s.flags|=1,Xi(i,s,l,_),s.child)}function Vy(i,s,l,h,g){if(Va(s),s.stateNode===null){var _=li,D=l.contextType;typeof D=="object"&&D!==null&&(_=Yr(D)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ng,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Ce(s),D=l.contextType,_.context=typeof D=="object"&&D!==null?Yr(D):li,_.state=s.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Tg(s,l,D,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(D=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),D!==_.state&&Ng.enqueueReplaceState(_,_.state,null),ut(s,h,_,g),Gt(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var W=s.memoizedProps,de=dc(l,W);_.props=de;var Re=_.context,He=l.contextType;D=li,typeof He=="object"&&He!==null&&(D=Yr(He));var Ye=l.getDerivedStateFromProps;He=typeof Ye=="function"||typeof _.getSnapshotBeforeUpdate=="function",W=s.pendingProps!==W,He||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W||Re!==D)&&xy(s,_,h,D),je=!1;var Pe=s.memoizedState;_.state=Pe,ut(s,h,_,g),Gt(),Re=s.memoizedState,W||Pe!==Re||je?(typeof Ye=="function"&&(Tg(s,l,Ye,h),Re=s.memoizedState),(de=je||Sy(s,l,de,h,Pe,Re,D))?(He||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Re),_.props=h,_.state=Re,_.context=D,h=de):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Ue(i,s),D=s.memoizedProps,He=dc(l,D),_.props=He,Ye=s.pendingProps,Pe=_.context,Re=l.contextType,de=li,typeof Re=="object"&&Re!==null&&(de=Yr(Re)),W=l.getDerivedStateFromProps,(Re=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==Ye||Pe!==de)&&xy(s,_,h,de),je=!1,Pe=s.memoizedState,_.state=Pe,ut(s,h,_,g),Gt();var De=s.memoizedState;D!==Ye||Pe!==De||je||i!==null&&i.dependencies!==null&&Hc(i.dependencies)?(typeof W=="function"&&(Tg(s,l,W,h),De=s.memoizedState),(He=je||Sy(s,l,He,h,Pe,De,de)||i!==null&&i.dependencies!==null&&Hc(i.dependencies))?(Re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,De,de),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,De,de)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=De),_.props=h,_.state=De,_.context=de,h=He):(typeof _.componentDidUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,mp(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=Xc(s,i.child,null,g),s.child=Xc(s,null,l,g)):Xi(i,s,l,g),s.memoizedState=_.state,i=s.child):i=_l(i,s,g),i}function Uy(i,s,l,h){return ks(),s.flags|=256,Xi(i,s,l,h),s.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lg(i){return{baseLanes:i,cachePool:V()}}function kg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=qa),i}function Fy(i,s,l){var h=s.pendingProps,g=!1,_=(s.flags&128)!==0,D;if((D=_)||(D=i!==null&&i.memoizedState===null?!1:(bi.current&2)!==0),D&&(g=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,i===null){if(Mn){if(g?su(s):au(),Mn){var W=Ar,de;if(de=W){e:{for(de=W,W=Oa;de.nodeType!==8;){if(!W){W=null;break e}if(de=go(de.nextSibling),de===null){W=null;break e}}W=de}W!==null?(s.memoizedState={dehydrated:W,treeContext:fl!==null?{id:so,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},de=Ri(18,null,null,0),de.stateNode=W,de.return=s,s.child=de,Wr=s,Ar=null,de=!0):de=!1}de||pl(s)}if(W=s.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return m1(W)?s.lanes=32:s.lanes=536870912,null;vl(s)}return W=h.children,h=h.fallback,g?(au(),g=s.mode,W=gp({mode:"hidden",children:W},g),h=ro(h,g,l,null),W.return=s,h.return=s,W.sibling=h,s.child=W,g=s.child,g.memoizedState=Lg(l),g.childLanes=kg(i,D,l),s.memoizedState=Rg,h):(su(s),Pg(s,W))}if(de=i.memoizedState,de!==null&&(W=de.dehydrated,W!==null)){if(_)s.flags&256?(su(s),s.flags&=-257,s=Dg(i,s,l)):s.memoizedState!==null?(au(),s.child=i.child,s.flags|=128,s=null):(au(),g=h.fallback,W=s.mode,h=gp({mode:"visible",children:h.children},W),g=ro(g,W,l,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,Xc(s,i.child,null,l),h=s.child,h.memoizedState=Lg(l),h.childLanes=kg(i,D,l),s.memoizedState=Rg,s=g);else if(su(s),m1(W)){if(D=W.nextSibling&&W.nextSibling.dataset,D)var Re=D.dgst;D=Re,h=Error(r(419)),h.stack="",h.digest=D,Jl({value:h,source:null,stack:null}),s=Dg(i,s,l)}else if(ki||eu(i,s,l,!1),D=(l&i.childLanes)!==0,ki||D){if(D=fr,D!==null&&(h=l&-l,h=(h&42)!==0?1:pr(h),h=(h&(D.suspendedLanes|l))!==0?0:h,h!==0&&h!==de.retryLane))throw de.retryLane=h,ul(i,h),ha(D,i,h),Ly;W.data==="$?"||Zg(),s=Dg(i,s,l)}else W.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=de.treeContext,Ar=go(W.nextSibling),Wr=s,Mn=!0,Oo=null,Oa=!1,i!==null&&($s[Ls++]=so,$s[Ls++]=ao,$s[Ls++]=fl,so=i.id,ao=i.overflow,fl=s),s=Pg(s,h.children),s.flags|=4096);return s}return g?(au(),g=h.fallback,W=s.mode,de=i.child,Re=de.sibling,h=Da(de,{mode:"hidden",children:h.children}),h.subtreeFlags=de.subtreeFlags&65011712,Re!==null?g=Da(Re,g):(g=ro(g,W,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,W=i.child.memoizedState,W===null?W=Lg(l):(de=W.cachePool,de!==null?(Re=Kr._currentValue,de=de.parent!==Re?{parent:Re,pool:Re}:de):de=V(),W={baseLanes:W.baseLanes|l,cachePool:de}),g.memoizedState=W,g.childLanes=kg(i,D,l),s.memoizedState=Rg,h):(su(s),l=i.child,i=l.sibling,l=Da(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(D=s.deletions,D===null?(s.deletions=[i],s.flags|=16):D.push(i)),s.child=l,s.memoizedState=null,l)}function Pg(i,s){return s=gp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function gp(i,s){return i=Ri(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dg(i,s,l){return Xc(s,i.child,null,l),i=Pg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function By(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),qc(i.return,s,l)}function Og(i,s,l,h,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function qy(i,s,l){var h=s.pendingProps,g=h.revealOrder,_=h.tail;if(Xi(i,s,h.children,l),h=bi.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&By(i,l,s);else if(i.tag===19)By(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(z(bi,h),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&fp(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Og(s,!1,g,l,_);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&fp(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Og(s,!0,l,null,_);break;case"together":Og(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _l(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),hu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(eu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Da(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Da(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Mg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Hc(i)))}function dS(i,s,l){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Mo(s,Kr,i.memoizedState.cache),ks();break;case 27:case 5:Fe(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Mo(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(su(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Fy(i,s,l):(su(s),i=_l(i,s,l),i!==null?i.sibling:null);su(s);break;case 19:var g=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(eu(i,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return qy(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(bi,bi.current),h)break;return null;case 22:case 23:return s.lanes=0,Oy(i,s,l);case 24:Mo(s,Kr,i.memoizedState.cache)}return _l(i,s,l)}function zy(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)ki=!0;else{if(!Mg(i,l)&&(s.flags&128)===0)return ki=!1,dS(i,s,l);ki=(i.flags&131072)!==0}else ki=!1,Mn&&(s.flags&1048576)!==0&&$d(s,Bc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")Xl(h)?(i=dc(h,i),s.tag=1,s=Vy(null,s,h,i,l)):(s.tag=0,s=Ig(null,s,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===Q){s.tag=11,s=ky(null,s,h,i,l);break e}else if(g===$){s.tag=14,s=Py(null,s,h,i,l);break e}}throw s=ne(h)||h,Error(r(306,s,""))}}return s;case 0:return Ig(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=dc(h,s.pendingProps),Vy(i,s,h,g,l);case 3:e:{if(Le(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;g=_.element,Ue(i,s),ut(s,h,null,l);var D=s.memoizedState;if(h=D.cache,Mo(s,Kr,h),h!==_.cache&&zc(s,[Kr],l,!0),Gt(),h=D.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Uy(i,s,h,l);break e}else if(h!==g){g=Is(Error(r(424)),s),Jl(g),s=Uy(i,s,h,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ar=go(i.firstChild),Wr=s,Mn=!0,Oo=null,Oa=!0,l=wy(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ks(),h===g){s=_l(i,s,l);break e}Xi(i,s,h,l)}s=s.child}return s;case 26:return mp(i,s),i===null?(l=Wv(s.type,null,s.pendingProps,null))?s.memoizedState=l:Mn||(l=s.type,i=s.pendingProps,h=Rp(fe.current).createElement(l),h[$n]=s,h[Pn]=i,Ji(h,l,i),Wn(h),s.stateNode=h):s.memoizedState=Wv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Fe(s),i===null&&Mn&&(h=s.stateNode=Hv(s.type,s.pendingProps,fe.current),Wr=s,Oa=!0,g=Ar,mu(s.type)?(g1=g,Ar=go(h.firstChild)):Ar=g),Xi(i,s,s.pendingProps.children,l),mp(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Mn&&((g=h=Ar)&&(h=BS(h,s.type,s.pendingProps,Oa),h!==null?(s.stateNode=h,Wr=s,Ar=go(h.firstChild),Oa=!1,g=!0):g=!1),g||pl(s)),Fe(s),g=s.type,_=s.pendingProps,D=i!==null?i.memoizedProps:null,h=_.children,f1(g,_)?h=null:D!==null&&f1(g,D)&&(s.flags|=32),s.memoizedState!==null&&(g=Ps(i,s,Yn,null,null,l),Of._currentValue=g),mp(i,s),Xi(i,s,h,l),s.child;case 6:return i===null&&Mn&&((i=l=Ar)&&(l=qS(l,s.pendingProps,Oa),l!==null?(s.stateNode=l,Wr=s,Ar=null,i=!0):i=!1),i||pl(s)),null;case 13:return Fy(i,s,l);case 4:return Le(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Xc(s,null,h,l):Xi(i,s,h,l),s.child;case 11:return ky(i,s,s.type,s.pendingProps,l);case 7:return Xi(i,s,s.pendingProps,l),s.child;case 8:return Xi(i,s,s.pendingProps.children,l),s.child;case 12:return Xi(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Mo(s,s.type,h.value),Xi(i,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Va(s),g=Yr(g),h=h(g),s.flags|=1,Xi(i,s,h,l),s.child;case 14:return Py(i,s,s.type,s.pendingProps,l);case 15:return Dy(i,s,s.type,s.pendingProps,l);case 19:return qy(i,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},i===null?(l=gp(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Da(i.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Oy(i,s,l);case 24:return Va(s),h=Yr(Kr),i===null?(g=S(),g===null&&(g=fr,_=rf(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:h,cache:g},Ce(s),Mo(s,Kr,g)):((i.lanes&l)!==0&&(Ue(i,s),ut(s,null,null,l),Gt()),g=i.memoizedState,_=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Mo(s,Kr,h)):(h=_.cache,Mo(s,Kr,h),h!==g.cache&&zc(s,[Kr],l,!0))),Xi(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function bl(i){i.flags|=4}function Hy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zv(s)){if(s=Ba.current,s!==null&&((Rn&4194048)===Rn?Vo!==null:(Rn&62914560)!==Rn&&(Rn&536870912)===0||s!==Vo))throw ie=Z,G;i.flags|=8192}}function yp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ir():536870912,i.lanes|=s,th|=s)}function bf(i,s){if(!Mn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Or(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function pS(i,s,l){var h=s.pendingProps;switch(nc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(s),null;case 1:return Or(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ja(Kr),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Wi(s)?bl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yd())),Or(s),null;case 26:return l=s.memoizedState,i===null?(bl(s),l!==null?(Or(s),Hy(s,l)):(Or(s),s.flags&=-16777217)):l?l!==i.memoizedState?(bl(s),Or(s),Hy(s,l)):(Or(s),s.flags&=-16777217):(i.memoizedProps!==h&&bl(s),Or(s),s.flags&=-16777217),null;case 27:qe(s),l=fe.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&bl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Or(s),null}i=J.current,Wi(s)?Wd(s):(i=Hv(g,h,l),s.stateNode=i,bl(s))}return Or(s),null;case 5:if(qe(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&bl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Or(s),null}if(i=J.current,Wi(s))Wd(s);else{switch(g=Rp(fe.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[$n]=s,i[Pn]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(Ji(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&bl(s)}}return Or(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&bl(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=fe.current,Wi(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,g=Wr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[$n]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||jv(i.nodeValue,l)),i||pl(s)}else i=Rp(i).createTextNode(h),i[$n]=s,s.stateNode=i}return Or(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Wi(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[$n]=s}else ks(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Or(s),g=!1}else g=Yd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(vl(s),s):(vl(s),null)}if(vl(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),yp(s,s.updateQueue),Or(s),null;case 4:return ke(),i===null&&o1(s.stateNode.containerInfo),Or(s),null;case 10:return ja(s.type),Or(s),null;case 19:if(R(bi),g=s.memoizedState,g===null)return Or(s),null;if(h=(s.flags&128)!==0,_=g.rendering,_===null)if(h)bf(g,!1);else{if(Hr!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=fp(i),_!==null){for(s.flags|=128,bf(g,!1),i=_.updateQueue,s.updateQueue=i,yp(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Ju(l,i),l=l.sibling;return z(bi,bi.current&1|2),s.child}i=i.sibling}g.tail!==null&&Nt()>bp&&(s.flags|=128,h=!0,bf(g,!1),s.lanes=4194304)}else{if(!h)if(i=fp(_),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,yp(s,i),bf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Mn)return Or(s),null}else 2*Nt()-g.renderingStartTime>bp&&l!==536870912&&(s.flags|=128,h=!0,bf(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(i=g.last,i!==null?i.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Nt(),s.sibling=null,i=bi.current,z(bi,h?i&1|2:i&1),s):(Or(s),null);case 22:case 23:return vl(s),$t(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Or(s),s.subtreeFlags&6&&(s.flags|=8192)):Or(s),l=s.updateQueue,l!==null&&yp(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&R(v),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ja(Kr),Or(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mS(i,s){switch(nc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ja(Kr),ke(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return qe(s),null;case 13:if(vl(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ks()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return R(bi),null;case 4:return ke(),null;case 10:return ja(s.type),null;case 22:case 23:return vl(s),$t(),i!==null&&R(v),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ja(Kr),null;case 25:return null;default:return null}}function Gy(i,s){switch(nc(s),s.tag){case 3:ja(Kr),ke();break;case 26:case 27:case 5:qe(s);break;case 4:ke();break;case 13:vl(s);break;case 19:R(bi);break;case 10:ja(s.type);break;case 22:case 23:vl(s),$t(),i!==null&&R(v);break;case 24:ja(Kr)}}function wf(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var _=l.create,D=l.inst;h=_(),D.destroy=h}l=l.next}while(l!==g)}}catch(W){lr(s,s.return,W)}}function ou(i,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&i)===i){var D=h.inst,W=D.destroy;if(W!==void 0){D.destroy=void 0,g=s;var de=l,Re=W;try{Re()}catch(He){lr(g,de,He)}}}h=h.next}while(h!==_)}}catch(He){lr(s,s.return,He)}}function $y(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{zr(s,l)}catch(h){lr(i,i.return,h)}}}function Wy(i,s,l){l.props=dc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){lr(i,s,h)}}function Af(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){lr(i,s,g)}}function Uo(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){lr(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){lr(i,s,g)}else l.current=null}function Yy(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){lr(i,i.return,g)}}function jg(i,s,l){try{var h=i.stateNode;MS(h,i.type,l,s),h[Pn]=s}catch(g){lr(i,i.return,g)}}function Ky(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&mu(i.type)||i.tag===4}function Vg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ky(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&mu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ug(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ip));else if(h!==4&&(h===27&&mu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Ug(i,s,l),i=i.sibling;i!==null;)Ug(i,s,l),i=i.sibling}function vp(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&mu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(vp(i,s,l),i=i.sibling;i!==null;)vp(i,s,l),i=i.sibling}function Qy(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Ji(s,h,l),s[$n]=i,s[Pn]=l}catch(_){lr(i,i.return,_)}}var wl=!1,Jr=!1,Fg=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function gS(i,s){if(i=i.containerInfo,c1=Mp,i=Kl(i),Gi(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var D=0,W=-1,de=-1,Re=0,He=0,Ye=i,Pe=null;t:for(;;){for(var De;Ye!==l||g!==0&&Ye.nodeType!==3||(W=D+g),Ye!==_||h!==0&&Ye.nodeType!==3||(de=D+h),Ye.nodeType===3&&(D+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)Pe=Ye,Ye=De;for(;;){if(Ye===i)break t;if(Pe===l&&++Re===g&&(W=D),Pe===_&&++He===h&&(de=D),(De=Ye.nextSibling)!==null)break;Ye=Pe,Pe=Ye.parentNode}Ye=De}l=W===-1||de===-1?null:{start:W,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(h1={focusedElem:i,selectionRange:l},Mp=!1,Pi=s;Pi!==null;)if(s=Pi,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Pi=i;else for(;Pi!==null;){switch(s=Pi,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Ht=dc(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ht,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Mt){lr(l,l.return,Mt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)p1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":p1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pi=i;break}Pi=s.return}}function Zy(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:lu(i,l),h&4&&wf(5,l);break;case 1:if(lu(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(D){lr(l,l.return,D)}else{var g=dc(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(D){lr(l,l.return,D)}}h&64&&$y(l),h&512&&Af(l,l.return);break;case 3:if(lu(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{zr(i,s)}catch(D){lr(l,l.return,D)}}break;case 27:s===null&&h&4&&Qy(l);case 26:case 5:lu(i,l),s===null&&h&4&&Yy(l),h&512&&Af(l,l.return);break;case 12:lu(i,l);break;case 13:lu(i,l),h&4&&tv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=ES.bind(null,l),zS(i,l))));break;case 22:if(h=l.memoizedState!==null||wl,!h){s=s!==null&&s.memoizedState!==null||Jr,g=wl;var _=Jr;wl=h,(Jr=s)&&!_?uu(i,l,(l.subtreeFlags&8772)!==0):lu(i,l),wl=g,Jr=_}break;case 30:break;default:lu(i,l)}}function Jy(i){var s=i.alternate;s!==null&&(i.alternate=null,Jy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&si(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tr=null,Ws=!1;function Al(i,s,l){for(l=l.child;l!==null;)ev(i,s,l),l=l.sibling}function ev(i,s,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ct,l)}catch{}switch(l.tag){case 26:Jr||Uo(l,s),Al(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jr||Uo(l,s);var h=Tr,g=Ws;mu(l.type)&&(Tr=l.stateNode,Ws=!1),Al(i,s,l),Lf(l.stateNode),Tr=h,Ws=g;break;case 5:Jr||Uo(l,s);case 6:if(h=Tr,g=Ws,Tr=null,Al(i,s,l),Tr=h,Ws=g,Tr!==null)if(Ws)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(l.stateNode)}catch(_){lr(l,s,_)}else try{Tr.removeChild(l.stateNode)}catch(_){lr(l,s,_)}break;case 18:Tr!==null&&(Ws?(i=Tr,qv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Uf(i)):qv(Tr,l.stateNode));break;case 4:h=Tr,g=Ws,Tr=l.stateNode.containerInfo,Ws=!0,Al(i,s,l),Tr=h,Ws=g;break;case 0:case 11:case 14:case 15:Jr||ou(2,l,s),Jr||ou(4,l,s),Al(i,s,l);break;case 1:Jr||(Uo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Wy(l,s,h)),Al(i,s,l);break;case 21:Al(i,s,l);break;case 22:Jr=(h=Jr)||l.memoizedState!==null,Al(i,s,l),Jr=h;break;default:Al(i,s,l)}}function tv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Uf(i)}catch(l){lr(s,s.return,l)}}function yS(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Xy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Xy),s;default:throw Error(r(435,i.tag))}}function Bg(i,s){var l=yS(i);s.forEach(function(h){var g=TS.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function oa(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],_=i,D=s,W=D;e:for(;W!==null;){switch(W.tag){case 27:if(mu(W.type)){Tr=W.stateNode,Ws=!1;break e}break;case 5:Tr=W.stateNode,Ws=!1;break e;case 3:case 4:Tr=W.stateNode.containerInfo,Ws=!0;break e}W=W.return}if(Tr===null)throw Error(r(160));ev(_,D,g),Tr=null,Ws=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)nv(s,i),s=s.sibling}var mo=null;function nv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:oa(s,i),la(i),h&4&&(ou(3,i,i.return),wf(3,i),ou(5,i,i.return));break;case 1:oa(s,i),la(i),h&512&&(Jr||l===null||Uo(l,l.return)),h&64&&wl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=mo;if(oa(s,i),la(i),h&512&&(Jr||l===null||Uo(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[is]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Ji(_,h,l),_[$n]=i,Wn(_),h=_;break e;case"link":var D=Qv("link","href",g).get(h+(l.href||""));if(D){for(var W=0;W<D.length;W++)if(_=D[W],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(W,1);break t}}_=g.createElement(h),Ji(_,h,l),g.head.appendChild(_);break;case"meta":if(D=Qv("meta","content",g).get(h+(l.content||""))){for(W=0;W<D.length;W++)if(_=D[W],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(W,1);break t}}_=g.createElement(h),Ji(_,h,l),g.head.appendChild(_);break;default:throw Error(r(468,h))}_[$n]=i,Wn(_),h=_}i.stateNode=h}else Xv(g,i.type,i.stateNode);else i.stateNode=Kv(g,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?Xv(g,i.type,i.stateNode):Kv(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&jg(i,i.memoizedProps,l.memoizedProps)}break;case 27:oa(s,i),la(i),h&512&&(Jr||l===null||Uo(l,l.return)),l!==null&&h&4&&jg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(oa(s,i),la(i),h&512&&(Jr||l===null||Uo(l,l.return)),i.flags&32){g=i.stateNode;try{Vi(g,"")}catch(De){lr(i,i.return,De)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,jg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Fg=!0);break;case 6:if(oa(s,i),la(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){lr(i,i.return,De)}}break;case 3:if(Pp=null,g=mo,mo=Lp(s.containerInfo),oa(s,i),mo=g,la(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Uf(s.containerInfo)}catch(De){lr(i,i.return,De)}Fg&&(Fg=!1,rv(i));break;case 4:h=mo,mo=Lp(i.stateNode.containerInfo),oa(s,i),la(i),mo=h;break;case 12:oa(s,i),la(i);break;case 13:oa(s,i),la(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wg=Nt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Bg(i,h)));break;case 22:g=i.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,Re=wl,He=Jr;if(wl=Re||g,Jr=He||de,oa(s,i),Jr=He,wl=Re,la(i),h&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||de||wl||Jr||pc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){de=l=s;try{if(_=de.stateNode,g)D=_.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{W=de.stateNode;var Ye=de.memoizedProps.style,Pe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;W.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(De){lr(de,de.return,De)}}}else if(s.tag===6){if(l===null){de=s;try{de.stateNode.nodeValue=g?"":de.memoizedProps}catch(De){lr(de,de.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Bg(i,l))));break;case 19:oa(s,i),la(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Bg(i,h)));break;case 30:break;case 21:break;default:oa(s,i),la(i)}}function la(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(Ky(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=Vg(i);vp(i,_,g);break;case 5:var D=l.stateNode;l.flags&32&&(Vi(D,""),l.flags&=-33);var W=Vg(i);vp(i,W,D);break;case 3:case 4:var de=l.stateNode.containerInfo,Re=Vg(i);Ug(i,Re,de);break;default:throw Error(r(161))}}catch(He){lr(i,i.return,He)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function rv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;rv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function lu(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zy(i,s.alternate,s),s=s.sibling}function pc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ou(4,s,s.return),pc(s);break;case 1:Uo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Wy(s,s.return,l),pc(s);break;case 27:Lf(s.stateNode);case 26:case 5:Uo(s,s.return),pc(s);break;case 22:s.memoizedState===null&&pc(s);break;case 30:pc(s);break;default:pc(s)}i=i.sibling}}function uu(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,_=s,D=_.flags;switch(_.tag){case 0:case 11:case 15:uu(g,_,l),wf(4,_);break;case 1:if(uu(g,_,l),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Re){lr(h,h.return,Re)}if(h=_,g=h.updateQueue,g!==null){var W=h.stateNode;try{var de=g.shared.hiddenCallbacks;if(de!==null)for(g.shared.hiddenCallbacks=null,g=0;g<de.length;g++)dn(de[g],W)}catch(Re){lr(h,h.return,Re)}}l&&D&64&&$y(_),Af(_,_.return);break;case 27:Qy(_);case 26:case 5:uu(g,_,l),l&&h===null&&D&4&&Yy(_),Af(_,_.return);break;case 12:uu(g,_,l);break;case 13:uu(g,_,l),l&&D&4&&tv(g,_);break;case 22:_.memoizedState===null&&uu(g,_,l),Af(_,_.return);break;case 30:break;default:uu(g,_,l)}s=s.sibling}}function qg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&rc(l))}function zg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&rc(i))}function Fo(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iv(i,s,l,h),s=s.sibling}function iv(i,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Fo(i,s,l,h),g&2048&&wf(9,s);break;case 1:Fo(i,s,l,h);break;case 3:Fo(i,s,l,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&rc(i)));break;case 12:if(g&2048){Fo(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,D=_.id,W=_.onPostCommit;typeof W=="function"&&W(D,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){lr(s,s.return,de)}}else Fo(i,s,l,h);break;case 13:Fo(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,D=s.alternate,s.memoizedState!==null?_._visibility&2?Fo(i,s,l,h):Sf(i,s):_._visibility&2?Fo(i,s,l,h):(_._visibility|=2,Zc(i,s,l,h,(s.subtreeFlags&10256)!==0)),g&2048&&qg(D,s);break;case 24:Fo(i,s,l,h),g&2048&&zg(s.alternate,s);break;default:Fo(i,s,l,h)}}function Zc(i,s,l,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,D=s,W=l,de=h,Re=D.flags;switch(D.tag){case 0:case 11:case 15:Zc(_,D,W,de,g),wf(8,D);break;case 23:break;case 22:var He=D.stateNode;D.memoizedState!==null?He._visibility&2?Zc(_,D,W,de,g):Sf(_,D):(He._visibility|=2,Zc(_,D,W,de,g)),g&&Re&2048&&qg(D.alternate,D);break;case 24:Zc(_,D,W,de,g),g&&Re&2048&&zg(D.alternate,D);break;default:Zc(_,D,W,de,g)}s=s.sibling}}function Sf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,g=h.flags;switch(h.tag){case 22:Sf(l,h),g&2048&&qg(h.alternate,h);break;case 24:Sf(l,h),g&2048&&zg(h.alternate,h);break;default:Sf(l,h)}s=s.sibling}}var xf=8192;function Jc(i){if(i.subtreeFlags&xf)for(i=i.child;i!==null;)sv(i),i=i.sibling}function sv(i){switch(i.tag){case 26:Jc(i),i.flags&xf&&i.memoizedState!==null&&nx(mo,i.memoizedState,i.memoizedProps);break;case 5:Jc(i);break;case 3:case 4:var s=mo;mo=Lp(i.stateNode.containerInfo),Jc(i),mo=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=xf,xf=16777216,Jc(i),xf=s):Jc(i));break;default:Jc(i)}}function av(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ef(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Pi=h,lv(h,i)}av(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ov(i),i=i.sibling}function ov(i){switch(i.tag){case 0:case 11:case 15:Ef(i),i.flags&2048&&ou(9,i,i.return);break;case 3:Ef(i);break;case 12:Ef(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,_p(i)):Ef(i);break;default:Ef(i)}}function _p(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Pi=h,lv(h,i)}av(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ou(8,s,s.return),_p(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,_p(s));break;default:_p(s)}i=i.sibling}}function lv(i,s){for(;Pi!==null;){var l=Pi;switch(l.tag){case 0:case 11:case 15:ou(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:rc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Pi=h;else e:for(l=i;Pi!==null;){h=Pi;var g=h.sibling,_=h.return;if(Jy(h),h===l){Pi=null;break e}if(g!==null){g.return=_,Pi=g;break e}Pi=_}}}var vS={getCacheForType:function(i){var s=Yr(Kr),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},_S=typeof WeakMap=="function"?WeakMap:Map,Kn=0,fr=null,yn=null,Rn=0,Qn=0,ua=null,cu=!1,eh=!1,Hg=!1,Sl=0,Hr=0,hu=0,mc=0,Gg=0,qa=0,th=0,Tf=null,Ys=null,$g=!1,Wg=0,bp=1/0,wp=null,fu=null,Zi=0,du=null,nh=null,rh=0,Yg=0,Kg=null,uv=null,Nf=0,Qg=null;function ca(){if((Kn&2)!==0&&Rn!==0)return Rn&-Rn;if(le.T!==null){var i=ml;return i!==0?i:r1()}return di()}function cv(){qa===0&&(qa=(Rn&536870912)===0||Mn?Vt():536870912);var i=Ba.current;return i!==null&&(i.flags|=32),qa}function ha(i,s,l){(i===fr&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(ih(i,0),pu(i,Rn,qa,!1)),gn(i,l),((Kn&2)===0||i!==fr)&&(i===fr&&((Kn&2)===0&&(mc|=l),Hr===4&&pu(i,Rn,qa,!1)),Bo(i))}function hv(i,s,l){if((Kn&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&i.expiredLanes)===0||At(i,s),g=h?AS(i,s):Jg(i,s,!0),_=h;do{if(g===0){eh&&!h&&pu(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!bS(l)){g=Jg(i,s,!1),_=!1;continue}if(g===2){if(_=s,i.errorRecoveryDisabledLanes&_)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var W=i;g=Tf;var de=W.current.memoizedState.isDehydrated;if(de&&(ih(W,D).flags|=256),D=Jg(W,D,!1),D!==2){if(Hg&&!de){W.errorRecoveryDisabledLanes|=_,mc|=_,g=4;break e}_=Ys,Ys=g,_!==null&&(Ys===null?Ys=_:Ys.push.apply(Ys,_))}g=D}if(_=!1,g!==2)continue}}if(g===1){ih(i,0),pu(i,s,0,!0);break}e:{switch(h=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:pu(h,s,qa,!cu);break e;case 2:Ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Wg+300-Nt(),10<g)){if(pu(h,s,qa,!cu),Nn(h,0,!0)!==0)break e;h.timeoutHandle=Fv(fv.bind(null,h,l,Ys,wp,$g,s,qa,mc,th,cu,_,2,-0,0),g);break e}fv(h,l,Ys,wp,$g,s,qa,mc,th,cu,_,0,-0,0)}}break}while(!0);Bo(i)}function fv(i,s,l,h,g,_,D,W,de,Re,He,Ye,Pe,De){if(i.timeoutHandle=-1,Ye=s.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Df={stylesheets:null,count:0,unsuspend:tx},sv(s),Ye=rx(),Ye!==null)){i.cancelPendingCommit=Ye(_v.bind(null,i,s,_,l,h,g,D,W,de,He,1,Pe,De)),pu(i,_,D,!Re);return}_v(i,s,_,l,h,g,D,W,de)}function bS(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!oi(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pu(i,s,l,h){s&=~Gg,s&=~mc,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var _=31-st(g),D=1<<_;h[_]=-1,g&=~D}l!==0&&rn(i,l,s)}function Ap(){return(Kn&6)===0?(Cf(0),!1):!0}function Xg(){if(yn!==null){if(Qn===0)var i=yn.return;else i=yn,lo=ui=null,vi(i),Qc=null,vf=0,i=yn;for(;i!==null;)Gy(i.alternate,i),i=i.return;yn=null}}function ih(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,VS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Xg(),fr=i,yn=l=Da(i.current,null),Rn=s,Qn=0,ua=null,cu=!1,eh=At(i,s),Hg=!1,th=qa=Gg=mc=hu=Hr=0,Ys=Tf=null,$g=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-st(h),_=1<<g;s|=i[g],h&=~_}return Sl=s,Xu(),l}function dv(i,s){dt=null,le.H=up,s===q||s===Y?(s=be(),Qn=3):s===G?(s=be(),Qn=4):Qn=s===Ly?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ua=s,yn===null&&(Hr=1,pp(i,Is(s,i.current)))}function pv(){var i=le.H;return le.H=up,i===null?up:i}function mv(){var i=le.A;return le.A=vS,i}function Zg(){Hr=4,cu||(Rn&4194048)!==Rn&&Ba.current!==null||(eh=!0),(hu&134217727)===0&&(mc&134217727)===0||fr===null||pu(fr,Rn,qa,!1)}function Jg(i,s,l){var h=Kn;Kn|=2;var g=pv(),_=mv();(fr!==i||Rn!==s)&&(wp=null,ih(i,s)),s=!1;var D=Hr;e:do try{if(Qn!==0&&yn!==null){var W=yn,de=ua;switch(Qn){case 8:Xg(),D=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(s=!0);var Re=Qn;if(Qn=0,ua=null,sh(i,W,de,Re),l&&eh){D=0;break e}break;default:Re=Qn,Qn=0,ua=null,sh(i,W,de,Re)}}wS(),D=Hr;break}catch(He){dv(i,He)}while(!0);return s&&i.shellSuspendCounter++,lo=ui=null,Kn=h,le.H=g,le.A=_,yn===null&&(fr=null,Rn=0,Xu()),D}function wS(){for(;yn!==null;)gv(yn)}function AS(i,s){var l=Kn;Kn|=2;var h=pv(),g=mv();fr!==i||Rn!==s?(wp=null,bp=Nt()+500,ih(i,s)):eh=At(i,s);e:do try{if(Qn!==0&&yn!==null){s=yn;var _=ua;t:switch(Qn){case 1:Qn=0,ua=null,sh(i,s,_,1);break;case 2:case 9:if(ae(_)){Qn=0,ua=null,yv(s);break}s=function(){Qn!==2&&Qn!==9||fr!==i||(Qn=7),Bo(i)},_.then(s,s);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:ae(_)?(Qn=0,ua=null,yv(s)):(Qn=0,ua=null,sh(i,s,_,7));break;case 5:var D=null;switch(yn.tag){case 26:D=yn.memoizedState;case 5:case 27:var W=yn;if(!D||Zv(D)){Qn=0,ua=null;var de=W.sibling;if(de!==null)yn=de;else{var Re=W.return;Re!==null?(yn=Re,Sp(Re)):yn=null}break t}}Qn=0,ua=null,sh(i,s,_,5);break;case 6:Qn=0,ua=null,sh(i,s,_,6);break;case 8:Xg(),Hr=6;break e;default:throw Error(r(462))}}SS();break}catch(He){dv(i,He)}while(!0);return lo=ui=null,le.H=h,le.A=g,Kn=l,yn!==null?0:(fr=null,Rn=0,Xu(),Hr)}function SS(){for(;yn!==null&&!ce();)gv(yn)}function gv(i){var s=zy(i.alternate,i,Sl);i.memoizedProps=i.pendingProps,s===null?Sp(i):yn=s}function yv(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=jy(l,s,s.pendingProps,s.type,void 0,Rn);break;case 11:s=jy(l,s,s.pendingProps,s.type.render,s.ref,Rn);break;case 5:vi(s);default:Gy(l,s),s=yn=Ju(s,Sl),s=zy(l,s,Sl)}i.memoizedProps=i.pendingProps,s===null?Sp(i):yn=s}function sh(i,s,l,h){lo=ui=null,vi(s),Qc=null,vf=0;var g=s.return;try{if(fS(i,g,s,l,Rn)){Hr=1,pp(i,Is(l,i.current)),yn=null;return}}catch(_){if(g!==null)throw yn=g,_;Hr=1,pp(i,Is(l,i.current)),yn=null;return}s.flags&32768?(Mn||h===1?i=!0:eh||(Rn&536870912)!==0?i=!1:(cu=i=!0,(h===2||h===9||h===3||h===6)&&(h=Ba.current,h!==null&&h.tag===13&&(h.flags|=16384))),vv(s,i)):Sp(s)}function Sp(i){var s=i;do{if((s.flags&32768)!==0){vv(s,cu);return}i=s.return;var l=pS(s.alternate,s,Sl);if(l!==null){yn=l;return}if(s=s.sibling,s!==null){yn=s;return}yn=s=i}while(s!==null);Hr===0&&(Hr=5)}function vv(i,s){do{var l=mS(i.alternate,i);if(l!==null){l.flags&=32767,yn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){yn=i;return}yn=i=l}while(i!==null);Hr=6,yn=null}function _v(i,s,l,h,g,_,D,W,de){i.cancelPendingCommit=null;do xp();while(Zi!==0);if((Kn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=jc,Pt(i,l,_,D,W,de),i===fr&&(yn=fr=null,Rn=0),nh=s,du=i,rh=l,Yg=_,Kg=g,uv=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,NS(tt,function(){return xv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=le.T,le.T=null,g=me.p,me.p=2,D=Kn,Kn|=4;try{gS(i,s,l)}finally{Kn=D,me.p=g,le.T=h}}Zi=1,bv(),wv(),Av()}}function bv(){if(Zi===1){Zi=0;var i=du,s=nh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=le.T,le.T=null;var h=me.p;me.p=2;var g=Kn;Kn|=4;try{nv(s,i);var _=h1,D=Kl(i.containerInfo),W=_.focusedElem,de=_.selectionRange;if(D!==W&&W&&W.ownerDocument&&La(W.ownerDocument.documentElement,W)){if(de!==null&&Gi(W)){var Re=de.start,He=de.end;if(He===void 0&&(He=Re),"selectionStart"in W)W.selectionStart=Re,W.selectionEnd=Math.min(He,W.value.length);else{var Ye=W.ownerDocument||document,Pe=Ye&&Ye.defaultView||window;if(Pe.getSelection){var De=Pe.getSelection(),Ht=W.textContent.length,Mt=Math.min(de.start,Ht),rr=de.end===void 0?Mt:Math.min(de.end,Ht);!De.extend&&Mt>rr&&(D=rr,rr=Mt,Mt=D);var xe=ko(W,Mt),_e=ko(W,rr);if(xe&&_e&&(De.rangeCount!==1||De.anchorNode!==xe.node||De.anchorOffset!==xe.offset||De.focusNode!==_e.node||De.focusOffset!==_e.offset)){var Ne=Ye.createRange();Ne.setStart(xe.node,xe.offset),De.removeAllRanges(),Mt>rr?(De.addRange(Ne),De.extend(_e.node,_e.offset)):(Ne.setEnd(_e.node,_e.offset),De.addRange(Ne))}}}}for(Ye=[],De=W;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ye.length;W++){var $e=Ye[W];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Mp=!!c1,h1=c1=null}finally{Kn=g,me.p=h,le.T=l}}i.current=s,Zi=2}}function wv(){if(Zi===2){Zi=0;var i=du,s=nh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=le.T,le.T=null;var h=me.p;me.p=2;var g=Kn;Kn|=4;try{Zy(i,s.alternate,s)}finally{Kn=g,me.p=h,le.T=l}}Zi=3}}function Av(){if(Zi===4||Zi===3){Zi=0,tn();var i=du,s=nh,l=rh,h=uv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zi=5:(Zi=0,nh=du=null,Sv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(fu=null),rs(l),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=le.T,g=me.p,me.p=2,le.T=null;try{for(var _=i.onRecoverableError,D=0;D<h.length;D++){var W=h[D];_(W.value,{componentStack:W.stack})}}finally{le.T=s,me.p=g}}(rh&3)!==0&&xp(),Bo(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Qg?Nf++:(Nf=0,Qg=i):Nf=0,Cf(0)}}function Sv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,rc(s)))}function xp(i){return bv(),wv(),Av(),xv()}function xv(){if(Zi!==5)return!1;var i=du,s=Yg;Yg=0;var l=rs(rh),h=le.T,g=me.p;try{me.p=32>l?32:l,le.T=null,l=Kg,Kg=null;var _=du,D=rh;if(Zi=0,nh=du=null,rh=0,(Kn&6)!==0)throw Error(r(331));var W=Kn;if(Kn|=4,ov(_.current),iv(_,_.current,D,l),Kn=W,Cf(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ct,_)}catch{}return!0}finally{me.p=g,le.T=h,Sv(i,s)}}function Ev(i,s,l){s=Is(l,s),s=Cg(i.stateNode,s,2),i=Xe(i,s,2),i!==null&&(gn(i,2),Bo(i))}function lr(i,s,l){if(i.tag===3)Ev(i,i,l);else for(;s!==null;){if(s.tag===3){Ev(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(fu===null||!fu.has(h))){i=Is(l,i),l=Iy(2),h=Xe(s,l,2),h!==null&&(Ry(l,h,s,i),gn(h,2),Bo(h));break}}s=s.return}}function e1(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new _S;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(Hg=!0,g.add(l),i=xS.bind(null,i,s,l),s.then(i,i))}function xS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,fr===i&&(Rn&l)===l&&(Hr===4||Hr===3&&(Rn&62914560)===Rn&&300>Nt()-Wg?(Kn&2)===0&&ih(i,0):Gg|=l,th===Rn&&(th=0)),Bo(i)}function Tv(i,s){s===0&&(s=ir()),i=ul(i,s),i!==null&&(gn(i,s),Bo(i))}function ES(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Tv(i,l)}function TS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Tv(i,l)}function NS(i,s){return rt(i,s)}var Ep=null,ah=null,t1=!1,Tp=!1,n1=!1,gc=0;function Bo(i){i!==ah&&i.next===null&&(ah===null?Ep=ah=i:ah=ah.next=i),Tp=!0,t1||(t1=!0,IS())}function Cf(i,s){if(!n1&&Tp){n1=!0;do for(var l=!1,h=Ep;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var D=h.suspendedLanes,W=h.pingedLanes;_=(1<<31-st(42|i)+1)-1,_&=g&~(D&~W),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Rv(h,_))}else _=Rn,_=Nn(h,h===fr?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||At(h,_)||(l=!0,Rv(h,_));h=h.next}while(l);n1=!1}}function CS(){Nv()}function Nv(){Tp=t1=!1;var i=0;gc!==0&&(jS()&&(i=gc),gc=0);for(var s=Nt(),l=null,h=Ep;h!==null;){var g=h.next,_=Cv(h,s);_===0?(h.next=null,l===null?Ep=g:l.next=g,g===null&&(ah=l)):(l=h,(i!==0||(_&3)!==0)&&(Tp=!0)),h=g}Cf(i)}function Cv(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var D=31-st(_),W=1<<D,de=g[D];de===-1?((W&l)===0||(W&h)!==0)&&(g[D]=nn(W,s)):de<=s&&(i.expiredLanes|=W),_&=~W}if(s=fr,l=Rn,l=Nn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Me(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||At(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&Me(h),rs(l)){case 2:case 8:l=yt;break;case 32:l=tt;break;case 268435456:l=_t;break;default:l=tt}return h=Iv.bind(null,i),l=rt(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&Me(h),i.callbackPriority=2,i.callbackNode=null,2}function Iv(i,s){if(Zi!==0&&Zi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(xp()&&i.callbackNode!==l)return null;var h=Rn;return h=Nn(i,i===fr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(hv(i,h,s),Cv(i,Nt()),i.callbackNode!=null&&i.callbackNode===l?Iv.bind(null,i):null)}function Rv(i,s){if(xp())return null;hv(i,s,!0)}function IS(){US(function(){(Kn&6)!==0?rt(Je,CS):Nv()})}function r1(){return gc===0&&(gc=Vt()),gc}function Lv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vs(""+i)}function kv(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function RS(i,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var _=Lv((g[Pn]||null).action),D=h.submitter;D&&(s=(s=D[Pn]||null)?Lv(s.formAction):D.getAttribute("formAction"),s!==null&&(_=s,D=null));var W=new Sa("action","action",null,h,g);i.push({event:W,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(gc!==0){var de=D?kv(g,D):new FormData(g);Fa(l,{pending:!0,data:de,method:g.method,action:_},null,de)}}else typeof _=="function"&&(W.preventDefault(),de=D?kv(g,D):new FormData(g),Fa(l,{pending:!0,data:de,method:g.method,action:_},_,de))},currentTarget:g}]})}}for(var i1=0;i1<Mc.length;i1++){var s1=Mc[i1],LS=s1.toLowerCase(),kS=s1[0].toUpperCase()+s1.slice(1);Hs(LS,"on"+kS)}Hs(Xh,"onAnimationEnd"),Hs(Zh,"onAnimationIteration"),Hs(Jh,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(zd,"onTransitionRun"),Hs(Hd,"onTransitionStart"),Hs(Gd,"onTransitionCancel"),Hs(ef,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(If));function Pv(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var D=h.length-1;0<=D;D--){var W=h[D],de=W.instance,Re=W.currentTarget;if(W=W.listener,de!==_&&g.isPropagationStopped())break e;_=W,g.currentTarget=Re;try{_(g)}catch(He){dp(He)}g.currentTarget=null,_=de}else for(D=0;D<h.length;D++){if(W=h[D],de=W.instance,Re=W.currentTarget,W=W.listener,de!==_&&g.isPropagationStopped())break e;_=W,g.currentTarget=Re;try{_(g)}catch(He){dp(He)}g.currentTarget=null,_=de}}}}function vn(i,s){var l=s[Zn];l===void 0&&(l=s[Zn]=new Set);var h=i+"__bubble";l.has(h)||(Dv(s,i,2,!1),l.add(h))}function a1(i,s,l){var h=0;s&&(h|=4),Dv(l,i,h,s)}var Np="_reactListening"+Math.random().toString(36).slice(2);function o1(i){if(!i[Np]){i[Np]=!0,ss.forEach(function(l){l!=="selectionchange"&&(PS.has(l)||a1(l,!1,i),a1(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Np]||(s[Np]=!0,a1("selectionchange",!1,s))}}function Dv(i,s,l,h){switch(i5(s)){case 2:var g=ax;break;case 8:g=ox;break;default:g=w1}l=g.bind(null,s,l,i),g=void 0,!Fr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function l1(i,s,l,h,g){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var W=h.stateNode.containerInfo;if(W===g)break;if(D===4)for(D=h.return;D!==null;){var de=D.tag;if((de===3||de===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;W!==null;){if(D=ai(W),D===null)return;if(de=D.tag,de===5||de===6||de===26||de===27){h=_=D;continue e}W=W.parentNode}}h=h.return}Gl(function(){var Re=_,He=us(l),Ye=[];e:{var Pe=tf.get(i);if(Pe!==void 0){var De=Sa,Ht=i;switch(i){case"keypress":if(Ni(l)===0)break e;case"keydown":case"keyup":De=sr;break;case"focusin":Ht="focus",De=A;break;case"focusout":Ht="blur",De=A;break;case"beforeblur":case"afterblur":De=A;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=qi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=qr;break;case Xh:case Zh:case Jh:De=se;break;case ef:De=ia;break;case"scroll":case"scrollend":De=xa;break;case"wheel":De=to;break;case"copy":case"cut":case"paste":De=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=gr;break;case"toggle":case"beforetoggle":De=fs}var Mt=(s&4)!==0,rr=!Mt&&(i==="scroll"||i==="scrollend"),xe=Mt?Pe!==null?Pe+"Capture":null:Pe;Mt=[];for(var _e=Re,Ne;_e!==null;){var $e=_e;if(Ne=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ne===null||xe===null||($e=Ja(_e,xe),$e!=null&&Mt.push(Rf(_e,$e,Ne))),rr)break;_e=_e.return}0<Mt.length&&(Pe=new De(Pe,Ht,null,l,He),Ye.push({event:Pe,listeners:Mt}))}}if((s&7)===0){e:{if(Pe=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",Pe&&l!==Ti&&(Ht=l.relatedTarget||l.fromElement)&&(ai(Ht)||Ht[mr]))break e;if((De||Pe)&&(Pe=He.window===He?He:(Pe=He.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,De?(Ht=l.relatedTarget||l.toElement,De=Re,Ht=Ht?ai(Ht):null,Ht!==null&&(rr=o(Ht),Mt=Ht.tag,Ht!==rr||Mt!==5&&Mt!==27&&Mt!==6)&&(Ht=null)):(De=null,Ht=Re),De!==Ht)){if(Mt=Ci,$e="onMouseLeave",xe="onMouseEnter",_e="mouse",(i==="pointerout"||i==="pointerover")&&(Mt=gr,$e="onPointerLeave",xe="onPointerEnter",_e="pointer"),rr=De==null?Pe:Ur(De),Ne=Ht==null?Pe:Ur(Ht),Pe=new Mt($e,_e+"leave",De,l,He),Pe.target=rr,Pe.relatedTarget=Ne,$e=null,ai(He)===Re&&(Mt=new Mt(xe,_e+"enter",Ht,l,He),Mt.target=Ne,Mt.relatedTarget=rr,$e=Mt),rr=$e,De&&Ht)t:{for(Mt=De,xe=Ht,_e=0,Ne=Mt;Ne;Ne=oh(Ne))_e++;for(Ne=0,$e=xe;$e;$e=oh($e))Ne++;for(;0<_e-Ne;)Mt=oh(Mt),_e--;for(;0<Ne-_e;)xe=oh(xe),Ne--;for(;_e--;){if(Mt===xe||xe!==null&&Mt===xe.alternate)break t;Mt=oh(Mt),xe=oh(xe)}Mt=null}else Mt=null;De!==null&&Ov(Ye,Pe,De,Mt,!1),Ht!==null&&rr!==null&&Ov(Ye,rr,Ht,Mt,!0)}}e:{if(Pe=Re?Ur(Re):window,De=Pe.nodeName&&Pe.nodeName.toLowerCase(),De==="select"||De==="input"&&Pe.type==="file")var mt=Hi;else if(jn(Pe))if(Ro)mt=Yl;else{mt=Ca;var pn=Kh}else De=Pe.nodeName,!De||De.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Re&&sl(Re.elementType)&&(mt=Hi):mt=Ia;if(mt&&(mt=mt(i,Re))){Cs(Ye,mt,l,He);break e}pn&&pn(i,Pe,Re),i==="focusout"&&Re&&Pe.type==="number"&&Re.memoizedProps.value!=null&&_a(Pe,"number",Pe.value)}switch(pn=Re?Ur(Re):window,i){case"focusin":(jn(pn)||pn.contentEditable==="true")&&(On=pn,qn=Re,ar=null);break;case"focusout":ar=qn=On=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,Pa(Ye,l,He);break;case"selectionchange":if(ka)break;case"keydown":case"keyup":Pa(Ye,l,He)}var xt;if(zi)e:{switch(i){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else un?Oe(i,l)&&(jt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(L&&l.locale!=="ko"&&(un||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&un&&(xt=eo()):(Fs=He,wa="value"in Fs?Fs.value:Fs.textContent,un=!0)),pn=Cp(Re,jt),0<pn.length&&(jt=new Ke(jt,i,null,l,He),Ye.push({event:jt,listeners:pn}),xt?jt.data=xt:(xt=Ze(l),xt!==null&&(jt.data=xt)))),(xt=E?hr(i,l):cn(i,l))&&(jt=Cp(Re,"onBeforeInput"),0<jt.length&&(pn=new Ke("onBeforeInput","beforeinput",null,l,He),Ye.push({event:pn,listeners:jt}),pn.data=xt)),RS(Ye,i,Re,l,He)}Pv(Ye,s)})}function Rf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Cp(i,s){for(var l=s+"Capture",h=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Ja(i,l),g!=null&&h.unshift(Rf(i,g,_)),g=Ja(i,s),g!=null&&h.push(Rf(i,g,_))),i.tag===3)return h;i=i.return}return[]}function oh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ov(i,s,l,h,g){for(var _=s._reactName,D=[];l!==null&&l!==h;){var W=l,de=W.alternate,Re=W.stateNode;if(W=W.tag,de!==null&&de===h)break;W!==5&&W!==26&&W!==27||Re===null||(de=Re,g?(Re=Ja(l,_),Re!=null&&D.unshift(Rf(l,Re,de))):g||(Re=Ja(l,_),Re!=null&&D.push(Rf(l,Re,de)))),l=l.return}D.length!==0&&i.push({event:s,listeners:D})}var DS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Mv(i){return(typeof i=="string"?i:""+i).replace(DS,`
`).replace(OS,"")}function jv(i,s){return s=Mv(s),Mv(i)===s}function Ip(){}function nr(i,s,l,h,g,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Vi(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Vi(i,""+h);break;case"className":Cr(i,"class",h);break;case"tabIndex":Cr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(i,l,h);break;case"style":il(i,h,_);break;case"data":if(s!=="object"){Cr(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&nr(i,s,"name",g.name,g,null),nr(i,s,"formEncType",g.formEncType,g,null),nr(i,s,"formMethod",g.formMethod,g,null),nr(i,s,"formTarget",g.formTarget,g,null)):(nr(i,s,"encType",g.encType,g,null),nr(i,s,"method",g.method,g,null),nr(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Ip);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Vs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":vn("beforetoggle",i),vn("toggle",i),ea(i,"popover",h);break;case"xlinkActuate":Ir(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ir(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ir(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ir(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ir(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ir(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ea(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ku.get(l)||l,ea(i,l,h))}}function u1(i,s,l,h,g,_){switch(l){case"style":il(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Vi(i,h):(typeof h=="number"||typeof h=="bigint")&&Vi(i,""+h);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ip);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=i[Pn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ea(i,l,h)}}}function Ji(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",i),vn("load",i);var h=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var D=l[_];if(D!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nr(i,s,_,D,l,null)}}g&&nr(i,s,"srcSet",l.srcSet,l,null),h&&nr(i,s,"src",l.src,l,null);return;case"input":vn("invalid",i);var W=_=D=g=null,de=null,Re=null;for(h in l)if(l.hasOwnProperty(h)){var He=l[h];if(He!=null)switch(h){case"name":g=He;break;case"type":D=He;break;case"checked":de=He;break;case"defaultChecked":Re=He;break;case"value":_=He;break;case"defaultValue":W=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,s));break;default:nr(i,s,h,He,l,null)}}Za(i,_,W,de,Re,D,g,!1),os(i);return;case"select":vn("invalid",i),h=D=_=null;for(g in l)if(l.hasOwnProperty(g)&&(W=l[g],W!=null))switch(g){case"value":_=W;break;case"defaultValue":D=W;break;case"multiple":h=W;default:nr(i,s,g,W,l,null)}s=_,l=D,i.multiple=!!h,s!=null?na(i,!!h,s,!1):l!=null&&na(i,!!h,l,!0);return;case"textarea":vn("invalid",i),_=g=h=null;for(D in l)if(l.hasOwnProperty(D)&&(W=l[D],W!=null))switch(D){case"value":h=W;break;case"defaultValue":g=W;break;case"children":_=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:nr(i,s,D,W,l,null)}ba(i,h,g,_),os(i);return;case"option":for(de in l)if(l.hasOwnProperty(de)&&(h=l[de],h!=null))switch(de){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:nr(i,s,de,h,l,null)}return;case"dialog":vn("beforetoggle",i),vn("toggle",i),vn("cancel",i),vn("close",i);break;case"iframe":case"object":vn("load",i);break;case"video":case"audio":for(h=0;h<If.length;h++)vn(If[h],i);break;case"image":vn("error",i),vn("load",i);break;case"details":vn("toggle",i);break;case"embed":case"source":case"link":vn("error",i),vn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in l)if(l.hasOwnProperty(Re)&&(h=l[Re],h!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nr(i,s,Re,h,l,null)}return;default:if(sl(s)){for(He in l)l.hasOwnProperty(He)&&(h=l[He],h!==void 0&&u1(i,s,He,h,l,void 0));return}}for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null&&nr(i,s,W,h,l,null))}function MS(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,D=null,W=null,de=null,Re=null,He=null;for(De in l){var Ye=l[De];if(l.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":de=Ye;default:h.hasOwnProperty(De)||nr(i,s,De,null,h,Ye)}}for(var Pe in h){var De=h[Pe];if(Ye=l[Pe],h.hasOwnProperty(Pe)&&(De!=null||Ye!=null))switch(Pe){case"type":_=De;break;case"name":g=De;break;case"checked":Re=De;break;case"defaultChecked":He=De;break;case"value":D=De;break;case"defaultValue":W=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,s));break;default:De!==Ye&&nr(i,s,Pe,De,h,Ye)}}mi(i,D,W,de,Re,He,_,g);return;case"select":De=D=W=Pe=null;for(_ in l)if(de=l[_],l.hasOwnProperty(_)&&de!=null)switch(_){case"value":break;case"multiple":De=de;default:h.hasOwnProperty(_)||nr(i,s,_,null,h,de)}for(g in h)if(_=h[g],de=l[g],h.hasOwnProperty(g)&&(_!=null||de!=null))switch(g){case"value":Pe=_;break;case"defaultValue":W=_;break;case"multiple":D=_;default:_!==de&&nr(i,s,g,_,h,de)}s=W,l=D,h=De,Pe!=null?na(i,!!l,Pe,!1):!!h!=!!l&&(s!=null?na(i,!!l,s,!0):na(i,!!l,l?[]:"",!1));return;case"textarea":De=Pe=null;for(W in l)if(g=l[W],l.hasOwnProperty(W)&&g!=null&&!h.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:nr(i,s,W,null,h,g)}for(D in h)if(g=h[D],_=l[D],h.hasOwnProperty(D)&&(g!=null||_!=null))switch(D){case"value":Pe=g;break;case"defaultValue":De=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&nr(i,s,D,g,h,_)}on(i,Pe,De);return;case"option":for(var Ht in l)if(Pe=l[Ht],l.hasOwnProperty(Ht)&&Pe!=null&&!h.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:nr(i,s,Ht,null,h,Pe)}for(de in h)if(Pe=h[de],De=l[de],h.hasOwnProperty(de)&&Pe!==De&&(Pe!=null||De!=null))switch(de){case"selected":i.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:nr(i,s,de,Pe,h,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)Pe=l[Mt],l.hasOwnProperty(Mt)&&Pe!=null&&!h.hasOwnProperty(Mt)&&nr(i,s,Mt,null,h,Pe);for(Re in h)if(Pe=h[Re],De=l[Re],h.hasOwnProperty(Re)&&Pe!==De&&(Pe!=null||De!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,s));break;default:nr(i,s,Re,Pe,h,De)}return;default:if(sl(s)){for(var rr in l)Pe=l[rr],l.hasOwnProperty(rr)&&Pe!==void 0&&!h.hasOwnProperty(rr)&&u1(i,s,rr,void 0,h,Pe);for(He in h)Pe=h[He],De=l[He],!h.hasOwnProperty(He)||Pe===De||Pe===void 0&&De===void 0||u1(i,s,He,Pe,h,De);return}}for(var xe in l)Pe=l[xe],l.hasOwnProperty(xe)&&Pe!=null&&!h.hasOwnProperty(xe)&&nr(i,s,xe,null,h,Pe);for(Ye in h)Pe=h[Ye],De=l[Ye],!h.hasOwnProperty(Ye)||Pe===De||Pe==null&&De==null||nr(i,s,Ye,Pe,h,De)}var c1=null,h1=null;function Rp(i){return i.nodeType===9?i:i.ownerDocument}function Vv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function f1(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var d1=null;function jS(){var i=window.event;return i&&i.type==="popstate"?i===d1?!1:(d1=i,!0):(d1=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(i){return Bv.resolve(null).then(i).catch(FS)}:Fv;function FS(i){setTimeout(function(){throw i})}function mu(i){return i==="head"}function qv(i,s){var l=s,h=0,g=0;do{var _=l.nextSibling;if(i.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var D=i.ownerDocument;if(l&1&&Lf(D.documentElement),l&2&&Lf(D.body),l&4)for(l=D.head,Lf(l),D=l.firstChild;D;){var W=D.nextSibling,de=D.nodeName;D[is]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=W}}if(g===0){i.removeChild(_),Uf(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);Uf(s)}function p1(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":p1(l),si(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function BS(i,s,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[is])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=go(i.nextSibling),i===null)break}return null}function qS(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=go(i.nextSibling),i===null))return null;return i}function m1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function zS(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function go(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var g1=null;function zv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function Hv(i,s,l){switch(s=Rp(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Lf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);si(i)}var za=new Map,Gv=new Set;function Lp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xl=me.d;me.d={f:HS,r:GS,D:$S,C:WS,L:YS,m:KS,X:XS,S:QS,M:ZS};function HS(){var i=xl.f(),s=Ap();return i||s}function GS(i){var s=Vr(i);s!==null&&s.tag===5&&s.type==="form"?hc(s):xl.r(i)}var lh=typeof document>"u"?null:document;function $v(i,s,l){var h=lh;if(h&&typeof s=="string"&&s){var g=en(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Gv.has(g)||(Gv.add(g),i={rel:i,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Ji(s,"link",i),Wn(s),h.head.appendChild(s)))}}function $S(i){xl.D(i),$v("dns-prefetch",i,null)}function WS(i,s){xl.C(i,s),$v("preconnect",i,s)}function YS(i,s,l){xl.L(i,s,l);var h=lh;if(h&&i&&s){var g='link[rel="preload"][as="'+en(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+en(l.imageSizes)+'"]')):g+='[href="'+en(i)+'"]';var _=g;switch(s){case"style":_=uh(i);break;case"script":_=ch(i)}za.has(_)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),za.set(_,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(kf(_))||s==="script"&&h.querySelector(Pf(_))||(s=h.createElement("link"),Ji(s,"link",i),Wn(s),h.head.appendChild(s)))}}function KS(i,s){xl.m(i,s);var l=lh;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+en(h)+'"][href="'+en(i)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ch(i)}if(!za.has(_)&&(i=y({rel:"modulepreload",href:i},s),za.set(_,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pf(_)))return}h=l.createElement("link"),Ji(h,"link",i),Wn(h),l.head.appendChild(h)}}}function QS(i,s,l){xl.S(i,s,l);var h=lh;if(h&&i){var g=Jn(h).hoistableStyles,_=uh(i);s=s||"default";var D=g.get(_);if(!D){var W={loading:0,preload:null};if(D=h.querySelector(kf(_)))W.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=za.get(_))&&y1(i,l);var de=D=h.createElement("link");Wn(de),Ji(de,"link",i),de._p=new Promise(function(Re,He){de.onload=Re,de.onerror=He}),de.addEventListener("load",function(){W.loading|=1}),de.addEventListener("error",function(){W.loading|=2}),W.loading|=4,kp(D,s,h)}D={type:"stylesheet",instance:D,count:1,state:W},g.set(_,D)}}}function XS(i,s){xl.X(i,s);var l=lh;if(l&&i){var h=Jn(l).hoistableScripts,g=ch(i),_=h.get(g);_||(_=l.querySelector(Pf(g)),_||(i=y({src:i,async:!0},s),(s=za.get(g))&&v1(i,s),_=l.createElement("script"),Wn(_),Ji(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function ZS(i,s){xl.M(i,s);var l=lh;if(l&&i){var h=Jn(l).hoistableScripts,g=ch(i),_=h.get(g);_||(_=l.querySelector(Pf(g)),_||(i=y({src:i,async:!0,type:"module"},s),(s=za.get(g))&&v1(i,s),_=l.createElement("script"),Wn(_),Ji(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function Wv(i,s,l,h){var g=(g=fe.current)?Lp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=uh(l.href),l=Jn(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=uh(l.href);var _=Jn(g).hoistableStyles,D=_.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,D),(_=g.querySelector(kf(i)))&&!_._p&&(D.instance=_,D.state.loading=5),za.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},za.set(i,l),_||JS(g,i,l,D.state))),s&&h===null)throw Error(r(528,""));return D}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ch(l),l=Jn(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uh(i){return'href="'+en(i)+'"'}function kf(i){return'link[rel="stylesheet"]['+i+"]"}function Yv(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function JS(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Ji(s,"link",l),Wn(s),i.head.appendChild(s))}function ch(i){return'[src="'+en(i)+'"]'}function Pf(i){return"script[async]"+i}function Kv(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+en(l.href)+'"]');if(h)return s.instance=h,Wn(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Wn(h),Ji(h,"style",g),kp(h,l.precedence,i),s.instance=h;case"stylesheet":g=uh(l.href);var _=i.querySelector(kf(g));if(_)return s.state.loading|=4,s.instance=_,Wn(_),_;h=Yv(l),(g=za.get(g))&&y1(h,g),_=(i.ownerDocument||i).createElement("link"),Wn(_);var D=_;return D._p=new Promise(function(W,de){D.onload=W,D.onerror=de}),Ji(_,"link",h),s.state.loading|=4,kp(_,l.precedence,i),s.instance=_;case"script":return _=ch(l.src),(g=i.querySelector(Pf(_)))?(s.instance=g,Wn(g),g):(h=l,(g=za.get(_))&&(h=y({},l),v1(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Wn(g),Ji(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,kp(h,l.precedence,i));return s.instance}function kp(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,D=0;D<h.length;D++){var W=h[D];if(W.dataset.precedence===s)_=W;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function y1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function v1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Pp=null;function Qv(i,s,l){if(Pp===null){var h=new Map,g=Pp=new Map;g.set(l,h)}else g=Pp,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[is]||_[$n]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var D=_.getAttribute(s)||"";D=i+D;var W=h.get(D);W?W.push(_):h.set(D,[_])}}return h}function Xv(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function ex(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Df=null;function tx(){}function nx(i,s,l){if(Df===null)throw Error(r(475));var h=Df;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=uh(l.href),_=i.querySelector(kf(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Dp.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=_,Wn(_);return}_=i.ownerDocument||i,l=Yv(l),(g=za.get(g))&&y1(l,g),_=_.createElement("link"),Wn(_);var D=_;D._p=new Promise(function(W,de){D.onload=W,D.onerror=de}),Ji(_,"link",l),s.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Dp.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function rx(){if(Df===null)throw Error(r(475));var i=Df;return i.stylesheets&&i.count===0&&_1(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&_1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Dp(){if(this.count--,this.count===0){if(this.stylesheets)_1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Op=null;function _1(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Op=new Map,s.forEach(ix,i),Op=null,Dp.call(i))}function ix(i,s){if(!(s.state.loading&4)){var l=Op.get(i);if(l)var h=l.get(null);else{l=new Map,Op.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var D=g[_];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),h=D)}h&&l.set(null,h)}g=s.instance,D=g.getAttribute("data-precedence"),_=l.get(D)||h,_===h&&l.set(null,g),l.set(D,g),this.count++,h=Dp.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Of={$$typeof:te,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function sx(i,s,l,h,g,_,D,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Jv(i,s,l,h,g,_,D,W,de,Re,He,Ye){return i=new sx(i,s,l,D,W,de,Re,Ye),s=1,_===!0&&(s|=24),_=Ri(3,null,null,s),i.current=_,_.stateNode=i,s=rf(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},Ce(_),i}function e5(i){return i?(i=li,i):li}function t5(i,s,l,h,g,_){g=e5(g),h.context===null?h.context=g:h.pendingContext=g,h=Ve(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Xe(i,h,s),l!==null&&(ha(l,i,s),We(l,i,s))}function n5(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function b1(i,s){n5(i,s),(i=i.alternate)&&n5(i,s)}function r5(i){if(i.tag===13){var s=ul(i,67108864);s!==null&&ha(s,i,67108864),b1(i,67108864)}}var Mp=!0;function ax(i,s,l,h){var g=le.T;le.T=null;var _=me.p;try{me.p=2,w1(i,s,l,h)}finally{me.p=_,le.T=g}}function ox(i,s,l,h){var g=le.T;le.T=null;var _=me.p;try{me.p=8,w1(i,s,l,h)}finally{me.p=_,le.T=g}}function w1(i,s,l,h){if(Mp){var g=A1(h);if(g===null)l1(i,s,h,jp,l),s5(i,h);else if(ux(g,i,s,l,h))h.stopPropagation();else if(s5(i,h),s&4&&-1<lx.indexOf(i)){for(;g!==null;){var _=Vr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var D=Ct(_.pendingLanes);if(D!==0){var W=_;for(W.pendingLanes|=2,W.entangledLanes|=2;D;){var de=1<<31-st(D);W.entanglements[1]|=de,D&=~de}Bo(_),(Kn&6)===0&&(bp=Nt()+500,Cf(0))}}break;case 13:W=ul(_,2),W!==null&&ha(W,_,2),Ap(),b1(_,2)}if(_=A1(h),_===null&&l1(i,s,h,jp,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else l1(i,s,h,null,l)}}function A1(i){return i=us(i),S1(i)}var jp=null;function S1(i){if(jp=null,i=ai(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return jp=i,null}function i5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Je:return 2;case yt:return 8;case tt:case Yt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var x1=!1,gu=null,yu=null,vu=null,Mf=new Map,jf=new Map,_u=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s5(i,s){switch(i){case"focusin":case"focusout":gu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Mf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(s.pointerId)}}function Vf(i,s,l,h,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},s!==null&&(s=Vr(s),s!==null&&r5(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function ux(i,s,l,h,g){switch(s){case"focusin":return gu=Vf(gu,i,s,l,h,g),!0;case"dragenter":return yu=Vf(yu,i,s,l,h,g),!0;case"mouseover":return vu=Vf(vu,i,s,l,h,g),!0;case"pointerover":var _=g.pointerId;return Mf.set(_,Vf(Mf.get(_)||null,i,s,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,jf.set(_,Vf(jf.get(_)||null,i,s,l,h,g)),!0}return!1}function a5(i){var s=ai(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,It(i.priority,function(){if(l.tag===13){var h=ca();h=pr(h);var g=ul(l,h);g!==null&&ha(g,l,h),b1(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=A1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ti=h,l.target.dispatchEvent(h),Ti=null}else return s=Vr(l),s!==null&&r5(s),i.blockedOn=l,!1;s.shift()}return!0}function o5(i,s,l){Vp(i)&&l.delete(s)}function cx(){x1=!1,gu!==null&&Vp(gu)&&(gu=null),yu!==null&&Vp(yu)&&(yu=null),vu!==null&&Vp(vu)&&(vu=null),Mf.forEach(o5),jf.forEach(o5)}function Up(i,s){i.blockedOn===s&&(i.blockedOn=null,x1||(x1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cx)))}var Fp=null;function l5(i){Fp!==i&&(Fp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fp===i&&(Fp=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(S1(h||l)===null)continue;break}var _=Vr(l);_!==null&&(i.splice(s,3),s-=3,Fa(_,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Uf(i){function s(de){return Up(de,i)}gu!==null&&Up(gu,i),yu!==null&&Up(yu,i),vu!==null&&Up(vu,i),Mf.forEach(s),jf.forEach(s);for(var l=0;l<_u.length;l++){var h=_u[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<_u.length&&(l=_u[0],l.blockedOn===null);)a5(l),l.blockedOn===null&&_u.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],_=l[h+1],D=g[Pn]||null;if(typeof _=="function")D||l5(l);else if(D){var W=null;if(_&&_.hasAttribute("formAction")){if(g=_,D=_[Pn]||null)W=D.formAction;else if(S1(g)!==null)continue}else W=D.action;typeof W=="function"?l[h+1]=W:(l.splice(h,3),h-=3),l5(l)}}}function E1(i){this._internalRoot=i}Bp.prototype.render=E1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=ca();t5(l,h,i,s,null,null)},Bp.prototype.unmount=E1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;t5(i.current,2,null,i,null,null),Ap(),s[mr]=null}};function Bp(i){this._internalRoot=i}Bp.prototype.unstable_scheduleHydration=function(i){if(i){var s=di();i={blockedOn:null,target:i,priority:s};for(var l=0;l<_u.length&&s!==0&&s<_u[l].priority;l++);_u.splice(l,0,i),l===0&&a5(i)}};var u5=e.version;if(u5!=="19.1.1")throw Error(r(527,u5,"19.1.1"));me.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var hx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{ct=qp.inject(hx),wt=qp}catch{}}return Bf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",g=Ey,_=Ty,D=Ny,W=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(W=s.unstable_transitionCallbacks)),s=Jv(i,1,!1,null,null,l,h,g,_,D,W,null),i[mr]=s.current,o1(i),new E1(s)},Bf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,g="",_=Ey,D=Ty,W=Ny,de=null,Re=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(de=l.unstable_transitionCallbacks),l.formState!==void 0&&(Re=l.formState)),s=Jv(i,1,!0,s,l??null,h,g,_,D,W,de,Re),s.context=e5(null),l=s.current,h=ca(),h=pr(h),g=Ve(h),g.callback=null,Xe(l,g,h),l=h,s.current.lanes=l,gn(s,l),Bo(s),i[mr]=s.current,o1(i),new Bp(s)},Bf.version="19.1.1",Bf}var _5;function Sx(){if(_5)return C1.exports;_5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),C1.exports=Ax(),C1.exports}var xx=Sx();let Ex={data:""},Tx=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||Ex,Nx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Cx=/\/\*[^]*?\*\/|  +/g,b5=/\n+/g,xu=(n,e)=>{let t="",r="",a="";for(let o in n){let u=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+u+";":r+=o[1]=="f"?xu(u,o):o+"{"+xu(u,o[1]=="k"?"":e)+"}":typeof u=="object"?r+=xu(u,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=xu.p?xu.p(o,u):o+":"+u+";")}return t+(e&&a?e+"{"+a+"}":a)+r},El={},ww=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+ww(n[t]);return e}return n},Ix=(n,e,t,r,a)=>{let o=ww(n),u=El[o]||(El[o]=(f=>{let d=0,y=11;for(;d<f.length;)y=101*y+f.charCodeAt(d++)>>>0;return"go"+y})(o));if(!El[u]){let f=o!==n?n:(d=>{let y,w,x=[{}];for(;y=Nx.exec(d.replace(Cx,""));)y[4]?x.shift():y[3]?(w=y[3].replace(b5," ").trim(),x.unshift(x[0][w]=x[0][w]||{})):x[0][y[1]]=y[2].replace(b5," ").trim();return x[0]})(n);El[u]=xu(a?{["@keyframes "+u]:f}:f,t?"":"."+u)}let c=t&&El.g?El.g:null;return t&&(El.g=El[u]),((f,d,y,w)=>{w?d.data=d.data.replace(w,f):d.data.indexOf(f)===-1&&(d.data=y?f+d.data:d.data+f)})(El[u],e,r,c),u},Rx=(n,e,t)=>n.reduce((r,a,o)=>{let u=e[o];if(u&&u.call){let c=u(t),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;u=f?"."+f:c&&typeof c=="object"?c.props?"":xu(c,""):c===!1?"":c}return r+a+(u??"")},"");function Ym(n){let e=this||{},t=n.call?n(e.p):n;return Ix(t.unshift?t.raw?Rx(t,[].slice.call(arguments,1),e.p):t.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):t,Tx(e.target),e.g,e.o,e.k)}let Aw,y0,v0;Ym.bind({g:1});let Dl=Ym.bind({k:1});function Lx(n,e,t,r){xu.p=e,Aw=n,y0=t,v0=r}function Hu(n,e){let t=this||{};return function(){let r=arguments;function a(o,u){let c=Object.assign({},o),f=c.className||a.className;t.p=Object.assign({theme:y0&&y0()},c),t.o=/ *go\d+/.test(f),c.className=Ym.apply(t,r)+(f?" "+f:"");let d=n;return n[0]&&(d=c.as||n,delete c.as),v0&&d[0]&&v0(c),Aw(d,c)}return a}}var kx=n=>typeof n=="function",Am=(n,e)=>kx(n)?n(e):n,Px=(()=>{let n=0;return()=>(++n).toString()})(),Sw=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),Dx=20,a2="default",xw=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:r}=e;return xw(n,{type:n.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=e;return{...n,toasts:n.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},sm=[],Ew={toasts:[],pausedAt:void 0,settings:{toastLimit:Dx}},Go={},Tw=(n,e=a2)=>{Go[e]=xw(Go[e]||Ew,n),sm.forEach(([t,r])=>{t===e&&r(Go[e])})},Nw=n=>Object.keys(Go).forEach(e=>Tw(n,e)),Ox=n=>Object.keys(Go).find(e=>Go[e].toasts.some(t=>t.id===n)),Km=(n=a2)=>e=>{Tw(e,n)},Mx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jx=(n={},e=a2)=>{let[t,r]=ze.useState(Go[e]||Ew),a=ze.useRef(Go[e]);ze.useEffect(()=>(a.current!==Go[e]&&r(Go[e]),sm.push([e,r]),()=>{let u=sm.findIndex(([c])=>c===e);u>-1&&sm.splice(u,1)}),[e]);let o=t.toasts.map(u=>{var c,f,d;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((c=n[u.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:u.duration||((f=n[u.type])==null?void 0:f.duration)||n?.duration||Mx[u.type],style:{...n.style,...(d=n[u.type])==null?void 0:d.style,...u.style}}});return{...t,toasts:o}},Vx=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||Px()}),wd=n=>(e,t)=>{let r=Vx(e,n,t);return Km(r.toasterId||Ox(r.id))({type:2,toast:r}),r.id},wi=(n,e)=>wd("blank")(n,e);wi.error=wd("error");wi.success=wd("success");wi.loading=wd("loading");wi.custom=wd("custom");wi.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Km(e)(t):Nw(t)};wi.dismissAll=n=>wi.dismiss(void 0,n);wi.remove=(n,e)=>{let t={type:4,toastId:n};e?Km(e)(t):Nw(t)};wi.removeAll=n=>wi.remove(void 0,n);wi.promise=(n,e,t)=>{let r=wi.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let o=e.success?Am(e.success,a):void 0;return o?wi.success(o,{id:r,...t,...t?.success}):wi.dismiss(r),a}).catch(a=>{let o=e.error?Am(e.error,a):void 0;o?wi.error(o,{id:r,...t,...t?.error}):wi.dismiss(r)}),n};var Ux=1e3,Fx=(n,e="default")=>{let{toasts:t,pausedAt:r}=jx(n,e),a=ze.useRef(new Map).current,o=ze.useCallback((w,x=Ux)=>{if(a.has(w))return;let b=setTimeout(()=>{a.delete(w),u({type:4,toastId:w})},x);a.set(w,b)},[]);ze.useEffect(()=>{if(r)return;let w=Date.now(),x=t.map(b=>{if(b.duration===1/0)return;let M=(b.duration||0)+b.pauseDuration-(w-b.createdAt);if(M<0){b.visible&&wi.dismiss(b.id);return}return setTimeout(()=>wi.dismiss(b.id,e),M)});return()=>{x.forEach(b=>b&&clearTimeout(b))}},[t,r,e]);let u=ze.useCallback(Km(e),[e]),c=ze.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=ze.useCallback((w,x)=>{u({type:1,toast:{id:w,height:x}})},[u]),d=ze.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),y=ze.useCallback((w,x)=>{let{reverseOrder:b=!1,gutter:M=8,defaultPosition:U}=x||{},B=t.filter(te=>(te.position||U)===(w.position||U)&&te.height),F=B.findIndex(te=>te.id===w.id),ee=B.filter((te,Q)=>Q<F&&te.visible).length;return B.filter(te=>te.visible).slice(...b?[ee+1]:[0,ee]).reduce((te,Q)=>te+(Q.height||0)+M,0)},[t]);return ze.useEffect(()=>{t.forEach(w=>{if(w.dismissed)o(w.id,w.removeDelay);else{let x=a.get(w.id);x&&(clearTimeout(x),a.delete(w.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:f,startPause:c,endPause:d,calculateOffset:y}}},Bx=Dl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qx=Dl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zx=Dl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Hx=Hu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Gx=Dl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$x=Hu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Gx} 1s linear infinite;
`,Wx=Dl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Yx=Dl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Kx=Hu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Yx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qx=Hu("div")`
  position: absolute;
`,Xx=Hu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zx=Dl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jx=Hu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eE=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?ze.createElement(Jx,null,e):e:t==="blank"?null:ze.createElement(Xx,null,ze.createElement($x,{...r}),t!=="loading"&&ze.createElement(Qx,null,t==="error"?ze.createElement(Hx,{...r}):ze.createElement(Kx,{...r})))},tE=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nE=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,rE="0%{opacity:0;} 100%{opacity:1;}",iE="0%{opacity:1;} 100%{opacity:0;}",sE=Hu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aE=Hu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oE=(n,e)=>{let t=n.includes("top")?1:-1,[r,a]=Sw()?[rE,iE]:[tE(t),nE(t)];return{animation:e?`${Dl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Dl(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lE=ze.memo(({toast:n,position:e,style:t,children:r})=>{let a=n.height?oE(n.position||e||"top-center",n.visible):{opacity:0},o=ze.createElement(eE,{toast:n}),u=ze.createElement(aE,{...n.ariaProps},Am(n.message,n));return ze.createElement(sE,{className:n.className,style:{...a,...t,...n.style}},typeof r=="function"?r({icon:o,message:u}):ze.createElement(ze.Fragment,null,o,u))});Lx(ze.createElement);var uE=({id:n,className:e,style:t,onHeightUpdate:r,children:a})=>{let o=ze.useCallback(u=>{if(u){let c=()=>{let f=u.getBoundingClientRect().height;r(n,f)};c(),new MutationObserver(c).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return ze.createElement("div",{ref:o,className:e,style:t},a)},cE=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Sw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...a}},hE=Ym`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zp=16,fE=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:a,toasterId:o,containerStyle:u,containerClassName:c})=>{let{toasts:f,handlers:d}=Fx(t,o);return ze.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:zp,left:zp,right:zp,bottom:zp,pointerEvents:"none",...u},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(y=>{let w=y.position||e,x=d.calculateOffset(y,{reverseOrder:n,gutter:r,defaultPosition:e}),b=cE(w,x);return ze.createElement(uE,{id:y.id,key:y.id,onHeightUpdate:d.updateHeight,className:y.visible?hE:"",style:b},y.type==="custom"?Am(y.message,y):a?a(y):ze.createElement(lE,{toast:y,position:w}))}))},Oi=wi;const dE="modulepreload",pE=function(n){return"/sofwipad-erp-contable/"+n},w5={},k1=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=pE(d),d in w5)return;w5[d]=!0;const y=d.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":dE,y||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),y)return new Promise((b,M)=>{x.addEventListener("load",b),x.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(n)}var _o=Uint8Array,pa=Uint16Array,o2=Int32Array,l2=new _o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u2=new _o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A5=new _o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cw=function(n,e){for(var t=new pa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new o2(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},Iw=Cw(l2,2),mE=Iw.b,_0=Iw.r;mE[28]=258,_0[258]=28;var gE=Cw(u2,0),S5=gE.r,b0=new pa(32768);for(var br=0;br<32768;++br){var wu=(br&43690)>>1|(br&21845)<<1;wu=(wu&52428)>>2|(wu&13107)<<2,wu=(wu&61680)>>4|(wu&3855)<<4,b0[br]=((wu&65280)>>8|(wu&255)<<8)>>1}var Qf=(function(n,e,t){for(var r=n.length,a=0,o=new pa(e);a<r;++a)n[a]&&++o[n[a]-1];var u=new pa(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new pa(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],y=e-n[a],w=u[n[a]-1]++<<y,x=w|(1<<y)-1;w<=x;++w)c[b0[w]>>f]=d}else for(c=new pa(r),a=0;a<r;++a)n[a]&&(c[a]=b0[u[n[a]-1]++]>>15-n[a]);return c}),xc=new _o(288);for(var br=0;br<144;++br)xc[br]=8;for(var br=144;br<256;++br)xc[br]=9;for(var br=256;br<280;++br)xc[br]=7;for(var br=280;br<288;++br)xc[br]=8;var Sm=new _o(32);for(var br=0;br<32;++br)Sm[br]=5;var yE=Qf(xc,9,0),vE=Qf(Sm,5,0),Rw=function(n){return(n+7)/8|0},_E=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new _o(n.subarray(e,t))},Tl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},qf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},P1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:kw,l:0};if(a==1){var u=new _o(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(oe,Se){return oe.f-Se.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,y=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};y!=a-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=y&&t[d].f<t[w].f?d++:w++],t[y++]={s:-1,f:c.f+f.f,l:c,r:f};for(var x=o[0].s,r=1;r<a;++r)o[r].s>x&&(x=o[r].s);var b=new pa(x+1),M=w0(t[y-1],b,0);if(M>e){var r=0,U=0,B=M-e,F=1<<B;for(o.sort(function(Se,$){return b[$.s]-b[Se.s]||Se.f-$.f});r<a;++r){var ee=o[r].s;if(b[ee]>e)U+=F-(1<<M-b[ee]),b[ee]=e;else break}for(U>>=B;U>0;){var te=o[r].s;b[te]<e?U-=1<<e-b[te]++-1:++r}for(;r>=0&&U;--r){var Q=o[r].s;b[Q]==e&&(--b[Q],++U)}M=e}return{t:new _o(b),l:M}},w0=function(n,e,t){return n.s==-1?Math.max(w0(n.l,e,t+1),w0(n.r,e,t+1)):e[n.s]=t},x5=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new pa(++e),r=0,a=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,r),n:e}},zf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Lw=function(n,e,t){var r=t.length,a=Rw(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},E5=function(n,e,t,r,a,o,u,c,f,d,y){Tl(e,y++,t),++a[256];for(var w=P1(a,15),x=w.t,b=w.l,M=P1(o,15),U=M.t,B=M.l,F=x5(x),ee=F.c,te=F.n,Q=x5(U),oe=Q.c,Se=Q.n,$=new pa(19),O=0;O<ee.length;++O)++$[ee[O]&31];for(var O=0;O<oe.length;++O)++$[oe[O]&31];for(var P=P1($,7),H=P.t,C=P.l,I=19;I>4&&!H[A5[I-1]];--I);var k=d+5<<3,ne=zf(a,xc)+zf(o,Sm)+u,we=zf(a,x)+zf(o,U)+u+14+3*I+zf($,H)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&k<=ne&&k<=we)return Lw(e,y,n.subarray(f,f+d));var le,me,re,ve;if(Tl(e,y,1+(we<ne)),y+=2,we<ne){le=Qf(x,b,0),me=x,re=Qf(U,B,0),ve=U;var X=Qf(H,C,0);Tl(e,y,te-257),Tl(e,y+5,Se-1),Tl(e,y+10,I-4),y+=14;for(var O=0;O<I;++O)Tl(e,y+3*O,H[A5[O]]);y+=3*I;for(var he=[ee,oe],R=0;R<2;++R)for(var z=he[R],O=0;O<z.length;++O){var J=z[O]&31;Tl(e,y,X[J]),y+=H[J],J>15&&(Tl(e,y,z[O]>>5&127),y+=z[O]>>12)}}else le=yE,me=xc,re=vE,ve=Sm;for(var O=0;O<c;++O){var ue=r[O];if(ue>255){var J=ue>>18&31;qf(e,y,le[J+257]),y+=me[J+257],J>7&&(Tl(e,y,ue>>23&31),y+=l2[J]);var fe=ue&31;qf(e,y,re[fe]),y+=ve[fe],fe>3&&(qf(e,y,ue>>5&8191),y+=u2[fe])}else qf(e,y,le[ue]),y+=me[ue]}return qf(e,y,le[256]),y+me[256]},bE=new o2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kw=new _o(0),wE=function(n,e,t,r,a,o){var u=o.z||n.length,c=new _o(r+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,y=(o.r||0)&7;if(e){y&&(f[0]=o.r>>3);for(var w=bE[e-1],x=w>>13,b=w&8191,M=(1<<t)-1,U=o.p||new pa(32768),B=o.h||new pa(M+1),F=Math.ceil(t/3),ee=2*F,te=function(Me){return(n[Me]^n[Me+1]<<F^n[Me+2]<<ee)&M},Q=new o2(25e3),oe=new pa(288),Se=new pa(32),$=0,O=0,P=o.i||0,H=0,C=o.w||0,I=0;P+2<u;++P){var k=te(P),ne=P&32767,we=B[k];if(U[ne]=we,B[k]=ne,C<=P){var le=u-P;if(($>7e3||H>24576)&&(le>423||!d)){y=E5(n,f,0,Q,oe,Se,O,H,I,P-I,y),H=$=O=0,I=P;for(var me=0;me<286;++me)oe[me]=0;for(var me=0;me<30;++me)Se[me]=0}var re=2,ve=0,X=b,he=ne-we&32767;if(le>2&&k==te(P-he))for(var R=Math.min(x,le)-1,z=Math.min(32767,P),J=Math.min(258,le);he<=z&&--X&&ne!=we;){if(n[P+re]==n[P+re-he]){for(var ue=0;ue<J&&n[P+ue]==n[P+ue-he];++ue);if(ue>re){if(re=ue,ve=he,ue>R)break;for(var fe=Math.min(he,ue-2),ge=0,me=0;me<fe;++me){var Le=P-he+me&32767,ke=U[Le],Fe=Le-ke&32767;Fe>ge&&(ge=Fe,we=Le)}}}ne=we,we=U[ne],he+=ne-we&32767}if(ve){Q[H++]=268435456|_0[re]<<18|S5[ve];var qe=_0[re]&31,nt=S5[ve]&31;O+=l2[qe]+u2[nt],++oe[257+qe],++Se[nt],C=P+re,++$}else Q[H++]=n[P],++oe[n[P]]}}for(P=Math.max(P,C);P<u;++P)Q[H++]=n[P],++oe[n[P]];y=E5(n,f,d,Q,oe,Se,O,H,I,P-I,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=B,o.p=U,o.i=P,o.w=C)}else{for(var P=o.w||0;P<u+d;P+=65535){var rt=P+65535;rt>=u&&(f[y/8|0]=d,rt=u),y=Lw(f,y+1,n.subarray(P,rt))}o.i=u}return _E(c,0,r+Rw(y)+a)},Pw=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=r+=t[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},AE=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new _o(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return wE(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},Dw=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},SE=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=Pw();a.p(e.dictionary),Dw(n,2,a.d())}};function A0(n,e){e||(e={});var t=Pw();t.p(n);var r=AE(n,e,e.dictionary?6:2,4);return SE(r,e),Dw(r,r.length-4,t.d()),r}var xE=typeof TextDecoder<"u"&&new TextDecoder,EE=0;try{xE.decode(kw,{stream:!0}),EE=1}catch{}function TE(n){if(Array.isArray(n))return n}function NE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(y){d=!0,a=y}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function T5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function CE(n,e){if(n){if(typeof n=="string")return T5(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T5(n,e):void 0}}function IE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5(n,e){return TE(n)||NE(n,e)||CE(n,e)||IE()}function C5(n,e="utf8"){return new TextDecoder(e).decode(n)}const RE=new TextEncoder;function LE(n){return RE.encode(n)}const kE=1024*8,PE=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),D1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class c2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=kE,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof c2)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=D1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===PE&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new D1[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new D1[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return C5(this.readBytes(e))}decodeText(e=1,t="utf8"){return C5(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(LE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Fh(n){let e=n.length;for(;--e>=0;)n[e]=0}const DE=3,OE=258,Ow=29,ME=256,jE=ME+1+Ow,Mw=30,VE=512,UE=new Array((jE+2)*2);Fh(UE);const FE=new Array(Mw*2);Fh(FE);const BE=new Array(VE);Fh(BE);const qE=new Array(OE-DE+1);Fh(qE);const zE=new Array(Ow);Fh(zE);const HE=new Array(Mw);Fh(HE);const GE=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var S0=GE;const $E=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},WE=new Uint32Array($E()),YE=(n,e,t,r)=>{const a=WE,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var qo=YE,x0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const KE=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var QE=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)KE(t,r)&&(n[r]=t[r])}}return n},XE=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];t.set(u,a),a+=u.length}return t},Vw={assign:QE,flattenChunks:XE};let Uw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Uw=!1}const sd=new Uint8Array(256);for(let n=0;n<256;n++)sd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;sd[254]=sd[254]=1;var ZE=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,u=n.length,c=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const JE=(n,e)=>{if(e<65534&&n.subarray&&Uw)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var e6=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let u=n[r++];if(u<128){o[a++]=u;continue}let c=sd[u];if(c>4){o[a++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return JE(o,a)},t6=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+sd[n[t]]>e?t:e},E0={string2buf:ZE,buf2string:e6,utf8border:t6};function n6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var r6=n6;const Hp=16209,i6=16191;var s6=function(e,t){let r,a,o,u,c,f,d,y,w,x,b,M,U,B,F,ee,te,Q,oe,Se,$,O,P,H;const C=e.state;r=e.next_in,P=e.input,a=r+(e.avail_in-5),o=e.next_out,H=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=C.dmax,d=C.wsize,y=C.whave,w=C.wnext,x=C.window,b=C.hold,M=C.bits,U=C.lencode,B=C.distcode,F=(1<<C.lenbits)-1,ee=(1<<C.distbits)-1;e:do{M<15&&(b+=P[r++]<<M,M+=8,b+=P[r++]<<M,M+=8),te=U[b&F];t:for(;;){if(Q=te>>>24,b>>>=Q,M-=Q,Q=te>>>16&255,Q===0)H[o++]=te&65535;else if(Q&16){oe=te&65535,Q&=15,Q&&(M<Q&&(b+=P[r++]<<M,M+=8),oe+=b&(1<<Q)-1,b>>>=Q,M-=Q),M<15&&(b+=P[r++]<<M,M+=8,b+=P[r++]<<M,M+=8),te=B[b&ee];n:for(;;){if(Q=te>>>24,b>>>=Q,M-=Q,Q=te>>>16&255,Q&16){if(Se=te&65535,Q&=15,M<Q&&(b+=P[r++]<<M,M+=8,M<Q&&(b+=P[r++]<<M,M+=8)),Se+=b&(1<<Q)-1,Se>f){e.msg="invalid distance too far back",C.mode=Hp;break e}if(b>>>=Q,M-=Q,Q=o-u,Se>Q){if(Q=Se-Q,Q>y&&C.sane){e.msg="invalid distance too far back",C.mode=Hp;break e}if($=0,O=x,w===0){if($+=d-Q,Q<oe){oe-=Q;do H[o++]=x[$++];while(--Q);$=o-Se,O=H}}else if(w<Q){if($+=d+w-Q,Q-=w,Q<oe){oe-=Q;do H[o++]=x[$++];while(--Q);if($=0,w<oe){Q=w,oe-=Q;do H[o++]=x[$++];while(--Q);$=o-Se,O=H}}}else if($+=w-Q,Q<oe){oe-=Q;do H[o++]=x[$++];while(--Q);$=o-Se,O=H}for(;oe>2;)H[o++]=O[$++],H[o++]=O[$++],H[o++]=O[$++],oe-=3;oe&&(H[o++]=O[$++],oe>1&&(H[o++]=O[$++]))}else{$=o-Se;do H[o++]=H[$++],H[o++]=H[$++],H[o++]=H[$++],oe-=3;while(oe>2);oe&&(H[o++]=H[$++],oe>1&&(H[o++]=H[$++]))}}else if((Q&64)===0){te=B[(te&65535)+(b&(1<<Q)-1)];continue n}else{e.msg="invalid distance code",C.mode=Hp;break e}break}}else if((Q&64)===0){te=U[(te&65535)+(b&(1<<Q)-1)];continue t}else if(Q&32){C.mode=i6;break e}else{e.msg="invalid literal/length code",C.mode=Hp;break e}break}}while(r<a&&o<c);oe=M>>3,r-=oe,M-=oe<<3,b&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),C.hold=b,C.bits=M};const hh=15,I5=852,R5=592,L5=0,O1=1,k5=2,a6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),c6=(n,e,t,r,a,o,u,c)=>{const f=c.bits;let d=0,y=0,w=0,x=0,b=0,M=0,U=0,B=0,F=0,ee=0,te,Q,oe,Se,$,O=null,P;const H=new Uint16Array(hh+1),C=new Uint16Array(hh+1);let I=null,k,ne,we;for(d=0;d<=hh;d++)H[d]=0;for(y=0;y<r;y++)H[e[t+y]]++;for(b=f,x=hh;x>=1&&H[x]===0;x--);if(b>x&&(b=x),x===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<x&&H[w]===0;w++);for(b<w&&(b=w),B=1,d=1;d<=hh;d++)if(B<<=1,B-=H[d],B<0)return-1;if(B>0&&(n===L5||x!==1))return-1;for(C[1]=0,d=1;d<hh;d++)C[d+1]=C[d]+H[d];for(y=0;y<r;y++)e[t+y]!==0&&(u[C[e[t+y]]++]=y);if(n===L5?(O=I=u,P=20):n===O1?(O=a6,I=o6,P=257):(O=l6,I=u6,P=0),ee=0,y=0,d=w,$=o,M=b,U=0,oe=-1,F=1<<b,Se=F-1,n===O1&&F>I5||n===k5&&F>R5)return 1;for(;;){k=d-U,u[y]+1<P?(ne=0,we=u[y]):u[y]>=P?(ne=I[u[y]-P],we=O[u[y]-P]):(ne=96,we=0),te=1<<d-U,Q=1<<M,w=Q;do Q-=te,a[$+(ee>>U)+Q]=k<<24|ne<<16|we|0;while(Q!==0);for(te=1<<d-1;ee&te;)te>>=1;if(te!==0?(ee&=te-1,ee+=te):ee=0,y++,--H[d]===0){if(d===x)break;d=e[t+u[y]]}if(d>b&&(ee&Se)!==oe){for(U===0&&(U=b),$+=w,M=d-U,B=1<<M;M+U<x&&(B-=H[M+U],!(B<=0));)M++,B<<=1;if(F+=1<<M,n===O1&&F>I5||n===k5&&F>R5)return 1;oe=ee&Se,a[oe]=b<<24|M<<16|$-o|0}}return ee!==0&&(a[$+ee]=d-U<<24|64<<16|0),c.bits=b,0};var Xf=c6;const h6=0,Fw=1,Bw=2,{Z_FINISH:P5,Z_BLOCK:f6,Z_TREES:Gp,Z_OK:Ec,Z_STREAM_END:d6,Z_NEED_DICT:p6,Z_STREAM_ERROR:Wa,Z_DATA_ERROR:qw,Z_MEM_ERROR:zw,Z_BUF_ERROR:m6,Z_DEFLATED:D5}=jw,Qm=16180,O5=16181,M5=16182,j5=16183,V5=16184,U5=16185,F5=16186,B5=16187,q5=16188,z5=16189,xm=16190,Nl=16191,M1=16192,H5=16193,j1=16194,G5=16195,$5=16196,W5=16197,Y5=16198,$p=16199,Wp=16200,K5=16201,Q5=16202,X5=16203,Z5=16204,J5=16205,V1=16206,e_=16207,t_=16208,Nr=16209,Hw=16210,Gw=16211,g6=852,y6=592,v6=15,_6=v6,n_=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function b6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Qm||e.mode>Gw?1:0},$w=n=>{if(Lc(n))return Wa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Qm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(g6),e.distcode=e.distdyn=new Int32Array(y6),e.sane=1,e.back=-1,Ec},Ww=n=>{if(Lc(n))return Wa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,$w(n)},Yw=(n,e)=>{let t;if(Lc(n))return Wa;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Ww(n))},Kw=(n,e)=>{if(!n)return Wa;const t=new b6;n.state=t,t.strm=n,t.window=null,t.mode=Qm;const r=Yw(n,e);return r!==Ec&&(n.state=null),r},w6=n=>Kw(n,_6);let r_=!0,U1,F1;const A6=n=>{if(r_){U1=new Int32Array(512),F1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Xf(Fw,n.lens,0,288,U1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Xf(Bw,n.lens,0,32,F1,0,n.work,{bits:5}),r_=!1}n.lencode=U1,n.lenbits=9,n.distcode=F1,n.distbits=5},Qw=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},S6=(n,e)=>{let t,r,a,o,u,c,f,d,y,w,x,b,M,U,B=0,F,ee,te,Q,oe,Se,$,O;const P=new Uint8Array(4);let H,C;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lc(n)||!n.output||!n.input&&n.avail_in!==0)return Wa;t=n.state,t.mode===Nl&&(t.mode=M1),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,y=t.bits,w=c,x=f,O=Ec;e:for(;;)switch(t.mode){case Qm:if(t.wrap===0){t.mode=M1;break}for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=d&255,P[1]=d>>>8&255,t.check=qo(t.check,P,2,0),d=0,y=0,t.mode=O5;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Nr;break}if((d&15)!==D5){n.msg="unknown compression method",t.mode=Nr;break}if(d>>>=4,y-=4,$=(d&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){n.msg="invalid window size",t.mode=Nr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?z5:Nl,d=0,y=0;break;case O5:for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.flags=d,(t.flags&255)!==D5){n.msg="unknown compression method",t.mode=Nr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Nr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,t.check=qo(t.check,P,2,0)),d=0,y=0,t.mode=M5;case M5:for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,P[2]=d>>>16&255,P[3]=d>>>24&255,t.check=qo(t.check,P,4,0)),d=0,y=0,t.mode=j5;case j5:for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,t.check=qo(t.check,P,2,0)),d=0,y=0,t.mode=V5;case V5:if(t.flags&1024){for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,t.check=qo(t.check,P,2,0)),d=0,y=0}else t.head&&(t.head.extra=null);t.mode=U5;case U5:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),$)),t.flags&512&&t.wrap&4&&(t.check=qo(t.check,r,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=F5;case F5:if(t.flags&2048){if(c===0)break e;b=0;do $=r[o+b++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=qo(t.check,r,b,o)),c-=b,o+=b,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=B5;case B5:if(t.flags&4096){if(c===0)break e;b=0;do $=r[o+b++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=qo(t.check,r,b,o)),c-=b,o+=b,$)break e}else t.head&&(t.head.comment=null);t.mode=q5;case q5:if(t.flags&512){for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Nr;break}d=0,y=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Nl;break;case z5:for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}n.adler=t.check=n_(d),d=0,y=0,t.mode=xm;case xm:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,p6;n.adler=t.check=1,t.mode=Nl;case Nl:if(e===f6||e===Gp)break e;case M1:if(t.last){d>>>=y&7,y-=y&7,t.mode=V1;break}for(;y<3;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}switch(t.last=d&1,d>>>=1,y-=1,d&3){case 0:t.mode=H5;break;case 1:if(A6(t),t.mode=$p,e===Gp){d>>>=2,y-=2;break e}break;case 2:t.mode=$5;break;case 3:n.msg="invalid block type",t.mode=Nr}d>>>=2,y-=2;break;case H5:for(d>>>=y&7,y-=y&7;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Nr;break}if(t.length=d&65535,d=0,y=0,t.mode=j1,e===Gp)break e;case j1:t.mode=G5;case G5:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;a.set(r.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Nl;break;case $5:for(;y<14;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.nlen=(d&31)+257,d>>>=5,y-=5,t.ndist=(d&31)+1,d>>>=5,y-=5,t.ncode=(d&15)+4,d>>>=4,y-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Nr;break}t.have=0,t.mode=W5;case W5:for(;t.have<t.ncode;){for(;y<3;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.lens[I[t.have++]]=d&7,d>>>=3,y-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},O=Xf(h6,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,O){n.msg="invalid code lengths set",t.mode=Nr;break}t.have=0,t.mode=Y5;case Y5:for(;t.have<t.nlen+t.ndist;){for(;B=t.lencode[d&(1<<t.lenbits)-1],F=B>>>24,ee=B>>>16&255,te=B&65535,!(F<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(te<16)d>>>=F,y-=F,t.lens[t.have++]=te;else{if(te===16){for(C=F+2;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(d>>>=F,y-=F,t.have===0){n.msg="invalid bit length repeat",t.mode=Nr;break}$=t.lens[t.have-1],b=3+(d&3),d>>>=2,y-=2}else if(te===17){for(C=F+3;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=F,y-=F,$=0,b=3+(d&7),d>>>=3,y-=3}else{for(C=F+7;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=F,y-=F,$=0,b=11+(d&127),d>>>=7,y-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Nr;break}for(;b--;)t.lens[t.have++]=$}}if(t.mode===Nr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Nr;break}if(t.lenbits=9,H={bits:t.lenbits},O=Xf(Fw,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,O){n.msg="invalid literal/lengths set",t.mode=Nr;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},O=Xf(Bw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,O){n.msg="invalid distances set",t.mode=Nr;break}if(t.mode=$p,e===Gp)break e;case $p:t.mode=Wp;case Wp:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,s6(n,x),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,y=t.bits,t.mode===Nl&&(t.back=-1);break}for(t.back=0;B=t.lencode[d&(1<<t.lenbits)-1],F=B>>>24,ee=B>>>16&255,te=B&65535,!(F<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(ee&&(ee&240)===0){for(Q=F,oe=ee,Se=te;B=t.lencode[Se+((d&(1<<Q+oe)-1)>>Q)],F=B>>>24,ee=B>>>16&255,te=B&65535,!(Q+F<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=Q,y-=Q,t.back+=Q}if(d>>>=F,y-=F,t.back+=F,t.length=te,ee===0){t.mode=J5;break}if(ee&32){t.back=-1,t.mode=Nl;break}if(ee&64){n.msg="invalid literal/length code",t.mode=Nr;break}t.extra=ee&15,t.mode=K5;case K5:if(t.extra){for(C=t.extra;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,y-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Q5;case Q5:for(;B=t.distcode[d&(1<<t.distbits)-1],F=B>>>24,ee=B>>>16&255,te=B&65535,!(F<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if((ee&240)===0){for(Q=F,oe=ee,Se=te;B=t.distcode[Se+((d&(1<<Q+oe)-1)>>Q)],F=B>>>24,ee=B>>>16&255,te=B&65535,!(Q+F<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=Q,y-=Q,t.back+=Q}if(d>>>=F,y-=F,t.back+=F,ee&64){n.msg="invalid distance code",t.mode=Nr;break}t.offset=te,t.extra=ee&15,t.mode=X5;case X5:if(t.extra){for(C=t.extra;y<C;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,y-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Nr;break}t.mode=Z5;case Z5:if(f===0)break e;if(b=x-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Nr;break}b>t.wnext?(b-=t.wnext,M=t.wsize-b):M=t.wnext-b,b>t.length&&(b=t.length),U=t.window}else U=a,M=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[u++]=U[M++];while(--b);t.length===0&&(t.mode=Wp);break;case J5:if(f===0)break e;a[u++]=t.length,f--,t.mode=Wp;break;case V1:if(t.wrap){for(;y<32;){if(c===0)break e;c--,d|=r[o++]<<y,y+=8}if(x-=f,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?qo(t.check,a,x,u-x):S0(t.check,a,x,u-x)),x=f,t.wrap&4&&(t.flags?d:n_(d))!==t.check){n.msg="incorrect data check",t.mode=Nr;break}d=0,y=0}t.mode=e_;case e_:if(t.wrap&&t.flags){for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Nr;break}d=0,y=0}t.mode=t_;case t_:O=d6;break e;case Nr:O=qw;break e;case Hw:return zw;case Gw:default:return Wa}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,(t.wsize||x!==n.avail_out&&t.mode<Nr&&(t.mode<V1||e!==P5))&&Qw(n,n.output,n.next_out,x-n.avail_out),w-=n.avail_in,x-=n.avail_out,n.total_in+=w,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?qo(t.check,a,x,n.next_out-x):S0(t.check,a,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Nl?128:0)+(t.mode===$p||t.mode===j1?256:0),(w===0&&x===0||e===P5)&&O===Ec&&(O=m6),O},x6=n=>{if(Lc(n))return Wa;let e=n.state;return e.window&&(e.window=null),n.state=null,Ec},E6=(n,e)=>{if(Lc(n))return Wa;const t=n.state;return(t.wrap&2)===0?Wa:(t.head=e,e.done=!1,Ec)},T6=(n,e)=>{const t=e.length;let r,a,o;return Lc(n)||(r=n.state,r.wrap!==0&&r.mode!==xm)?Wa:r.mode===xm&&(a=1,a=S0(a,e,t,0),a!==r.check)?qw:(o=Qw(n,e,t,t),o?(r.mode=Hw,zw):(r.havedict=1,Ec))};var N6=Ww,C6=Yw,I6=$w,R6=w6,L6=Kw,k6=S6,P6=x6,D6=E6,O6=T6,M6="pako inflate (from Nodeca project)",Cl={inflateReset:N6,inflateReset2:C6,inflateResetKeep:I6,inflateInit:R6,inflateInit2:L6,inflate:k6,inflateEnd:P6,inflateGetHeader:D6,inflateSetDictionary:O6,inflateInfo:M6};function j6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var V6=j6;const Xw=Object.prototype.toString,{Z_NO_FLUSH:U6,Z_FINISH:F6,Z_OK:ad,Z_STREAM_END:B1,Z_NEED_DICT:q1,Z_STREAM_ERROR:B6,Z_DATA_ERROR:i_,Z_MEM_ERROR:q6}=jw;function Ad(n){this.options=Vw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r6,this.strm.avail_out=0;let t=Cl.inflateInit2(this.strm,e.windowBits);if(t!==ad)throw new Error(x0[t]);if(this.header=new V6,Cl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E0.string2buf(e.dictionary):Xw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Cl.inflateSetDictionary(this.strm,e.dictionary),t!==ad)))throw new Error(x0[t])}Ad.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?F6:U6,Xw.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Cl.inflate(t,u),o===q1&&a&&(o=Cl.inflateSetDictionary(t,a),o===ad?o=Cl.inflate(t,u):o===i_&&(o=q1));t.avail_in>0&&o===B1&&t.state.wrap>0&&n[t.next_in]!==0;)Cl.inflateReset(t),o=Cl.inflate(t,u);switch(o){case B6:case i_:case q1:case q6:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===B1))if(this.options.to==="string"){let f=E0.utf8border(t.output,t.next_out),d=t.next_out-f,y=E0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(y)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===ad&&c===0)){if(o===B1)return o=Cl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ad.prototype.onData=function(n){this.chunks.push(n)};Ad.prototype.onEnd=function(n){n===ad&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Vw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function z6(n,e){const t=new Ad(e);if(t.push(n),t.err)throw t.msg||x0[t.err];return t.result}var H6=Ad,G6=z6,$6={Inflate:H6,inflate:G6};const{Inflate:W6,inflate:Y6}=$6;var s_=W6,K6=Y6;const Zw=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Zw[n]=e}const a_=4294967295;function Q6(n,e,t){let r=n;for(let a=0;a<t;a++)r=Zw[(r^e[a])&255]^r>>>8;return r}function X6(n,e){return(Q6(a_,n,e)^a_)>>>0}function o_(n,e,t){const r=n.readUint32(),a=X6(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function Jw(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function e4(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function t4(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function n4(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function r4(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+Z6(e[o-a],t[o],t[o-a])&255}}function Z6(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return a<=o&&a<=u?n:o<=u?e:t}function J6(n,e,t,r,a,o){switch(n){case 0:Jw(e,t,a);break;case 1:e4(e,t,a,o);break;case 2:t4(e,t,r,a);break;case 3:n4(e,t,r,a,o);break;case 4:r4(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const eT=new Uint16Array([255]),tT=new Uint8Array(eT.buffer),nT=tT[0]===255;function rT(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let y=0;y<7;y++){const w=u[y],x=Math.ceil((t-w.x)/w.xStep),b=Math.ceil((r-w.y)/w.yStep);if(x<=0||b<=0)continue;const M=x*c,U=new Uint8Array(M);for(let B=0;B<b;B++){const F=e[d++],ee=e.subarray(d,d+M);d+=M;const te=new Uint8Array(M);J6(F,ee,te,U,M,c),U.set(te);for(let Q=0;Q<x;Q++){const oe=w.x+Q*w.xStep,Se=w.y+B*w.yStep;if(!(oe>=t||Se>=r))for(let $=0;$<c;$++)f[(Se*t+oe)*c+$]=te[Q*c+$]}}}if(o===16){const y=new Uint16Array(f.buffer);if(nT)for(let w=0;w<y.length;w++)y[w]=iT(y[w]);return y}else return f}function iT(n){return(n&255)<<8|n>>8&255}const sT=new Uint16Array([255]),aT=new Uint8Array(sT.buffer),oT=aT[0]===255,lT=new Uint8Array(0);function l_(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=lT,y=0,w,x;for(let b=0;b<r;b++){switch(w=e.subarray(y+1,y+1+c),x=f.subarray(b*c,(b+1)*c),e[y]){case 0:Jw(w,x,c);break;case 1:e4(w,x,c,u);break;case 2:t4(w,x,d,c);break;case 3:n4(w,x,d,c,u);break;case 4:r4(w,x,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}d=x,y+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(oT)for(let M=0;M<b.length;M++)b[M]=uT(b[M]);return b}else return f}function uT(n){return(n&255)<<8|n>>8&255}const am=Uint8Array.of(137,80,78,71,13,10,26,10);function u_(n){if(!cT(n.readBytes(am.length)))throw new Error("wrong PNG signature")}function cT(n){if(n.length<am.length)return!1;for(let e=0;e<am.length;e++)if(n[e]!==am[e])return!1;return!0}const hT="tEXt",fT=0,i4=new TextDecoder("latin1");function dT(n){if(mT(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const pT=/^[\u0000-\u00FF]*$/;function mT(n){if(!pT.test(n))throw new Error("invalid latin1 text")}function gT(n,e,t){const r=s4(e);n[r]=yT(e,t-r.length-1)}function s4(n){for(n.mark();n.readByte()!==fT;);const e=n.offset;n.reset();const t=i4.decode(n.readBytes(e-n.offset-1));return n.skip(1),dT(t),t}function yT(n,e){return i4.decode(n.readBytes(e))}const fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},z1={UNKNOWN:-1,DEFLATE:0},c_={UNKNOWN:-1,ADAPTIVE:0},H1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Yp={NONE:0,BACKGROUND:1,PREVIOUS:2},G1={SOURCE:0,OVER:1};class vT extends c2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new s_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=z1.UNKNOWN,this._filterMethod=c_.UNKNOWN,this._interlaceMethod=H1.UNKNOWN,this._colorType=fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(u_(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(u_(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case hT:gT(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?o_(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?o_(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=_T(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case fa.GREYSCALE:r=1;break;case fa.TRUECOLOUR:r=3;break;case fa.INDEXED_COLOUR:r=1;break;case fa.GREYSCALE_ALPHA:r=2;break;case fa.TRUECOLOUR_ALPHA:r=4;break;case fa.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==z1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case fa.GREYSCALE:case fa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case fa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case fa.UNKNOWN:case fa.GREYSCALE_ALPHA:case fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=s4(this),r=this.readUint8();if(r!==z1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:K6(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=l_({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Yp.NONE:break;case Yp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case Yp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case G1.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case G1.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const y=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],x=Math.floor(y*w+(1-y)*e.data[c+d]);e.data[c+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==c_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===H1.NO_INTERLACE)this._png.data=l_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===H1.ADAM7)this._png.data=rT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Yp.NONE,blendOp:G1.SOURCE,data:e}),this._inflator=new s_,this._writingDataChunks=!1}}function _T(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var h_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(h_||(h_={}));function bT(n,e){return new vT(n,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $1(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var ur={log:$1,warn:function(n){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):$1.call(null,arguments))},error:function(n){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):$1(n))}};function W1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){yc(r.response,e,t)},r.onerror=function(){ur.error("could not download file")},r.send()}function f_(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var yc=Wt.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Wt.URL||Wt.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?f_(a.href)?W1(n,e,t):Kp(a,a.target="_blank"):Kp(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Kp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(f_(n))W1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Kp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return W1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(n)}else{var f=Wt.URL||Wt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var om=Wt.atob.bind(Wt),d_=Wt.btoa.bind(Wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Y1(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=ps(t,r,a,o,e[0],7,-680876936),o=ps(o,t,r,a,e[1],12,-389564586),a=ps(a,o,t,r,e[2],17,606105819),r=ps(r,a,o,t,e[3],22,-1044525330),t=ps(t,r,a,o,e[4],7,-176418897),o=ps(o,t,r,a,e[5],12,1200080426),a=ps(a,o,t,r,e[6],17,-1473231341),r=ps(r,a,o,t,e[7],22,-45705983),t=ps(t,r,a,o,e[8],7,1770035416),o=ps(o,t,r,a,e[9],12,-1958414417),a=ps(a,o,t,r,e[10],17,-42063),r=ps(r,a,o,t,e[11],22,-1990404162),t=ps(t,r,a,o,e[12],7,1804603682),o=ps(o,t,r,a,e[13],12,-40341101),a=ps(a,o,t,r,e[14],17,-1502002290),t=ms(t,r=ps(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ms(o,t,r,a,e[6],9,-1069501632),a=ms(a,o,t,r,e[11],14,643717713),r=ms(r,a,o,t,e[0],20,-373897302),t=ms(t,r,a,o,e[5],5,-701558691),o=ms(o,t,r,a,e[10],9,38016083),a=ms(a,o,t,r,e[15],14,-660478335),r=ms(r,a,o,t,e[4],20,-405537848),t=ms(t,r,a,o,e[9],5,568446438),o=ms(o,t,r,a,e[14],9,-1019803690),a=ms(a,o,t,r,e[3],14,-187363961),r=ms(r,a,o,t,e[8],20,1163531501),t=ms(t,r,a,o,e[13],5,-1444681467),o=ms(o,t,r,a,e[2],9,-51403784),a=ms(a,o,t,r,e[7],14,1735328473),t=gs(t,r=ms(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=gs(o,t,r,a,e[8],11,-2022574463),a=gs(a,o,t,r,e[11],16,1839030562),r=gs(r,a,o,t,e[14],23,-35309556),t=gs(t,r,a,o,e[1],4,-1530992060),o=gs(o,t,r,a,e[4],11,1272893353),a=gs(a,o,t,r,e[7],16,-155497632),r=gs(r,a,o,t,e[10],23,-1094730640),t=gs(t,r,a,o,e[13],4,681279174),o=gs(o,t,r,a,e[0],11,-358537222),a=gs(a,o,t,r,e[3],16,-722521979),r=gs(r,a,o,t,e[6],23,76029189),t=gs(t,r,a,o,e[9],4,-640364487),o=gs(o,t,r,a,e[12],11,-421815835),a=gs(a,o,t,r,e[15],16,530742520),t=ys(t,r=gs(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ys(o,t,r,a,e[7],10,1126891415),a=ys(a,o,t,r,e[14],15,-1416354905),r=ys(r,a,o,t,e[5],21,-57434055),t=ys(t,r,a,o,e[12],6,1700485571),o=ys(o,t,r,a,e[3],10,-1894986606),a=ys(a,o,t,r,e[10],15,-1051523),r=ys(r,a,o,t,e[1],21,-2054922799),t=ys(t,r,a,o,e[8],6,1873313359),o=ys(o,t,r,a,e[15],10,-30611744),a=ys(a,o,t,r,e[6],15,-1560198380),r=ys(r,a,o,t,e[13],21,1309151649),t=ys(t,r,a,o,e[4],6,-145523070),o=ys(o,t,r,a,e[11],10,-1120210379),a=ys(a,o,t,r,e[2],15,718787259),r=ys(r,a,o,t,e[9],21,-343485551),n[0]=Iu(t,n[0]),n[1]=Iu(r,n[1]),n[2]=Iu(a,n[2]),n[3]=Iu(o,n[3])}function Xm(n,e,t,r,a,o){return e=Iu(Iu(e,n),Iu(r,o)),Iu(e<<a|e>>>32-a,t)}function ps(n,e,t,r,a,o,u){return Xm(e&t|~e&r,n,e,a,o,u)}function ms(n,e,t,r,a,o,u){return Xm(e&r|t&~r,n,e,a,o,u)}function gs(n,e,t,r,a,o,u){return Xm(e^t^r,n,e,a,o,u)}function ys(n,e,t,r,a,o,u){return Xm(t^(e|~r),n,e,a,o,u)}function o4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Y1(r,wT(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Y1(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Y1(r,a),r}function wT(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var p_="0123456789abcdef".split("");function AT(n){for(var e="",t=0;t<4;t++)e+=p_[n>>8*t+4&15]+p_[n>>8*t&15];return e}function ST(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function T0(n){return o4(n).map(ST).join("")}var xT=(function(n){for(var e=0;e<n.length;e++)n[e]=AT(n[e]);return n.join("")})(o4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Iu(n,e){if(xT){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function N0(n,e){var t,r,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var y=c[f];d=(d+y+u.charCodeAt(f))%256,c[f]=c[d],c[d]=y}t=n,r=c}else c=r;var w=e.length,x=0,b=0,M="";for(f=0;f<w;f++)b=(b+(y=c[x=(x+1)%256]))%256,c[x]=c[b],c[b]=y,u=c[(c[x]+c[b])%256],M+=String.fromCharCode(e.charCodeAt(f)^u);return M}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var m_={print:4,modify:8,copy:16,"annot-forms":32};function ph(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(m_.perm!==void 0)throw new Error("Invalid permission: "+c);a+=m_[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=T0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=N0(this.encryptionKey,this.padding)}function mh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function g_(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){Wt.console&&ur.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Em(n){if(!(this instanceof Em))return new Em(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function l4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function _c(n,e,t,r,a){if(!(this instanceof _c))return new _c(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,l4.call(this,r,a)}function bh(n,e,t,r,a){if(!(this instanceof bh))return new bh(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,l4.call(this,r,a)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",y=null;Xn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,x={},b={internal:{},__private__:{}};b.__private__.PubSub=g_;var M="1.3",U=b.__private__.getPdfVersion=function(){return M};b.__private__.setPdfVersion=function(A){M=A};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return B};var F=b.__private__.getPageFormat=function(A){return B[A]};a=a||"a4";var ee="compat",te="advanced",Q=ee;function oe(){this.saveGraphicsState(),ce(new It(Lt,0,0,-Lt,0,qi()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),d="n",Q=te}function Se(){this.restoreGraphicsState(),d="S",Q=ee}var $=b.__private__.combineFontStyleAndFontWeight=function(A,j){if(A=="bold"&&j=="normal"||A=="bold"&&j==400||A=="normal"&&j=="italic"||A=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(A=j==400||j==="normal"?A==="italic"?"italic":"normal":j!=700&&j!=="bold"||A!=="normal"?(j==700?"bold":j)+""+A:"bold"),A};b.advancedAPI=function(A){var j=Q===ee;return j&&oe.call(this),typeof A!="function"||(A(this),j&&Se.call(this)),this},b.compatAPI=function(A){var j=Q===te;return j&&Se.call(this),typeof A!="function"||(A(this),j&&oe.call(this)),this},b.isAdvancedAPI=function(){return Q===te};var O,P=function(A){if(Q!==te)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=b.roundToPrecision=b.__private__.roundToPrecision=function(A,j){var se=e||j;if(isNaN(A)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(se).replace(/0+$/,"")};O=b.hpf=b.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return H(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return H(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return H(A,16)};var C=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return H(A,2)},I=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return H(A,3)},k=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return Q===ee?A*Lt:Q===te?A:void 0},ne=function(A){return k((function(j){return Q===ee?qi()-j:Q===te?j:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var we,le="00000000000000000000000000000000",me=b.__private__.getFileId=function(){return le},re=b.__private__.setFileId=function(A){return le=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(en=new ph(y.userPermissions,y.userPassword,y.ownerPassword,le)),le};b.setFileId=function(A){return re(A),this},b.getFileId=function(){return me()};var ve=b.__private__.convertDateToPDFDate=function(A){var j=A.getTimezoneOffset(),se=j<0?"+":"-",pe=Math.floor(Math.abs(j/60)),Ae=Math.abs(j%60),Be=[se,J(pe),"'",J(Ae),"'"].join("");return["D:",A.getFullYear(),J(A.getMonth()+1),J(A.getDate()),J(A.getHours()),J(A.getMinutes()),J(A.getSeconds()),Be].join("")},X=b.__private__.convertPDFDateToDate=function(A){var j=parseInt(A.substr(2,4),10),se=parseInt(A.substr(6,2),10)-1,pe=parseInt(A.substr(8,2),10),Ae=parseInt(A.substr(10,2),10),Be=parseInt(A.substr(12,2),10),Ke=parseInt(A.substr(14,2),10);return new Date(j,se,pe,Ae,Be,Ke,0)},he=b.__private__.setCreationDate=function(A){var j;if(A===void 0&&(A=new Date),A instanceof Date)j=ve(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=A}return we=j},R=b.__private__.getCreationDate=function(A){var j=we;return A==="jsDate"&&(j=X(we)),j};b.setCreationDate=function(A){return he(A),this},b.getCreationDate=function(A){return R(A)};var z,J=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ue=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},fe=0,ge=[],Le=[],ke=0,Fe=[],qe=[],nt=!1,rt=Le;b.__private__.setCustomOutputDestination=function(A){nt=!0,rt=A};var Me=function(A){nt||(rt=A)};b.__private__.resetCustomOutputDestination=function(){nt=!1,rt=Le};var ce=b.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,rt.push(A),rt},tn=b.__private__.write=function(A){return ce(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Nt=b.__private__.getArrayBuffer=function(A){for(var j=A.length,se=new ArrayBuffer(j),pe=new Uint8Array(se);j--;)pe[j]=A.charCodeAt(j);return se},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Et};var Je=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return Je=Q===te?A/Lt:A,this};var yt,tt=b.__private__.getFontSize=b.getFontSize=function(){return Q===ee?Je:Je*Lt},Yt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Yt=A,this},b.__private__.getR2L=b.getR2L=function(){return Yt};var _t,mn=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))yt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');yt=A}else yt=parseInt(A,10)};b.__private__.getZoomMode=function(){return yt};var Bt,ct=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');_t=A};b.__private__.getPageMode=function(){return _t};var wt=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Bt=A};b.__private__.getLayoutMode=function(){return Bt},b.__private__.setDisplayMode=b.setDisplayMode=function(A,j,se){return mn(A),wt(j),ct(se),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(Tt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[A]},b.__private__.getDocumentProperties=function(){return Tt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var j in Tt)Tt.hasOwnProperty(j)&&A[j]&&(Tt[j]=A[j]);return this},b.__private__.setDocumentProperty=function(A,j){if(Object.keys(Tt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[A]=j};var st,Lt,bt,Tn,an,ht={},Ct={},Nn=[],At={},nn={},Vt={},ir={},Gn=null,gn=0,Pt=[],rn=new g_(b),Zs=n.hotfixes||[],pr={},rs={},di=[],It=function A(j,se,pe,Ae,Be,Ke){if(!(this instanceof A))return new A(j,se,pe,Ae,Be,Ke);isNaN(j)&&(j=1),isNaN(se)&&(se=0),isNaN(pe)&&(pe=0),isNaN(Ae)&&(Ae=1),isNaN(Be)&&(Be=0),isNaN(Ke)&&(Ke=0),this._matrix=[j,se,pe,Ae,Be,Ke]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(A)},It.prototype.multiply=function(A){var j=A.sx*this.sx+A.shy*this.shx,se=A.sx*this.shy+A.shy*this.sy,pe=A.shx*this.sx+A.sy*this.shx,Ae=A.shx*this.shy+A.sy*this.sy,Be=A.tx*this.sx+A.ty*this.shx+this.tx,Ke=A.tx*this.shy+A.ty*this.sy+this.ty;return new It(j,se,pe,Ae,Be,Ke)},It.prototype.decompose=function(){var A=this.sx,j=this.shy,se=this.shx,pe=this.sy,Ae=this.tx,Be=this.ty,Ke=Math.sqrt(A*A+j*j),at=(A/=Ke)*se+(j/=Ke)*pe;se-=A*at,pe-=j*at;var pt=Math.sqrt(se*se+pe*pe);return at/=pt,A*(pe/=pt)<j*(se/=pt)&&(A=-A,j=-j,at=-at,Ke=-Ke),{scale:new It(Ke,0,0,pt,0,0),translate:new It(1,0,0,1,Ae,Be),rotate:new It(A,j,-j,A,0,0),skew:new It(1,0,at,1,0,0)}},It.prototype.toString=function(A){return this.join(" ")},It.prototype.inversed=function(){var A=this.sx,j=this.shy,se=this.shx,pe=this.sy,Ae=this.tx,Be=this.ty,Ke=1/(A*pe-j*se),at=pe*Ke,pt=-j*Ke,kt=-se*Ke,qt=A*Ke;return new It(at,pt,kt,qt,-at*Ae-kt*Be,-pt*Ae-qt*Be)},It.prototype.applyToPoint=function(A){var j=A.x*this.sx+A.y*this.shx+this.tx,se=A.x*this.shy+A.y*this.sy+this.ty;return new xa(j,se)},It.prototype.applyToRectangle=function(A){var j=this.applyToPoint(A),se=this.applyToPoint(new xa(A.x+A.w,A.y+A.h));return new Ea(j.x,j.y,se.x-j.x,se.y-j.y)},It.prototype.clone=function(){var A=this.sx,j=this.shy,se=this.shx,pe=this.sy,Ae=this.tx,Be=this.ty;return new It(A,j,se,pe,Ae,Be)},b.Matrix=It;var Cn=b.matrixMult=function(A,j){return j.multiply(A)},$n=new It(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=$n;var Pn=function(A,j){if(!nn[A]){var se=(j instanceof _c?"Sh":"P")+(Object.keys(At).length+1).toString(10);j.id=se,nn[A]=se,At[se]=j,rn.publish("addPattern",j)}};b.ShadingPattern=_c,b.TilingPattern=bh,b.addShadingPattern=function(A,j){return P("addShadingPattern()"),Pn(A,j),this},b.beginTilingPattern=function(A){P("beginTilingPattern()"),hs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,j){P("endTilingPattern()"),j.stream=qe[z].join(`
`),Pn(A,j),rn.publish("endTilingPattern",j),di.pop().restore()};var mr,Zn=b.__private__.newObject=function(){var A=jr();return cr(A,!0),A},jr=b.__private__.newObjectDeferred=function(){return fe++,ge[fe]=function(){return ke},fe},cr=function(A,j){return j=typeof j=="boolean"&&j,ge[A]=ke,j&&ce(A+" 0 obj"),A},ga=b.__private__.newAdditionalObject=function(){var A={objId:jr(),content:""};return Fe.push(A),A},is=jr(),si=jr(),ai=b.__private__.decodeColorString=function(A){var j=A.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var se=parseFloat(j[0]);j=[se,se,se,"r"]}for(var pe="#",Ae=0;Ae<3;Ae++)pe+=("0"+Math.floor(255*parseFloat(j[Ae])).toString(16)).slice(-2);return pe},Vr=b.__private__.encodeColorString=function(A){var j;typeof A=="string"&&(A={ch1:A});var se=A.ch1,pe=A.ch2,Ae=A.ch3,Be=A.ch4,Ke=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var at=new a4(se);if(at.ok)se=at.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var pt=parseInt(se.substr(1),16);se=pt>>16&255,pe=pt>>8&255,Ae=255&pt}if(pe===void 0||Be===void 0&&se===pe&&pe===Ae)j=typeof se=="string"?se+" "+Ke[0]:A.precision===2?C(se/255)+" "+Ke[0]:I(se/255)+" "+Ke[0];else if(Be===void 0||Xn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ke[1]].join(" ");j=typeof se=="string"?[se,pe,Ae,Ke[1]].join(" "):A.precision===2?[C(se/255),C(pe/255),C(Ae/255),Ke[1]].join(" "):[I(se/255),I(pe/255),I(Ae/255),Ke[1]].join(" ")}else j=typeof se=="string"?[se,pe,Ae,Be,Ke[2]].join(" "):A.precision===2?[C(se),C(pe),C(Ae),C(Be),Ke[2]].join(" "):[I(se),I(pe),I(Ae),I(Be),Ke[2]].join(" ");return j},Ur=b.__private__.getFilters=function(){return u},Jn=b.__private__.putStream=function(A){var j=(A=A||{}).data||"",se=A.filters||Ur(),pe=A.alreadyAppliedFilters||[],Ae=A.addLength1||!1,Be=j.length,Ke=A.objectId,at=function(gr){return gr};if(y!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(at=en.encryptor(Ke,0));var pt={};se===!0&&(se=["FlateEncode"]);var kt=A.additionalKeyValues||[],qt=(pt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(j,se):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(pt.data.length!==0&&(kt.push({key:"Length",value:pt.data.length}),Ae===!0&&kt.push({key:"Length1",value:Be})),qt.length!=0)if(qt.split("/").length-1==1)kt.push({key:"Filter",value:qt});else{kt.push({key:"Filter",value:"["+qt+"]"});for(var ln=0;ln<kt.length;ln+=1)if(kt[ln].key==="DecodeParms"){for(var er=[],sr=0;sr<pt.reverseChain.split("/").length-1;sr+=1)er.push("null");er.push(kt[ln].value),kt[ln].value="["+er.join(" ")+"]"}}ce("<<");for(var Dn=0;Dn<kt.length;Dn++)ce("/"+kt[Dn].key+" "+kt[Dn].value);ce(">>"),pt.data.length!==0&&(ce("stream"),ce(at(pt.data)),ce("endstream"))},Wn=b.__private__.putPage=function(A){var j=A.number,se=A.data,pe=A.objId,Ae=A.contentsObjId;cr(pe,!0),ce("<</Type /Page"),ce("/Parent "+A.rootDictionaryObjId+" 0 R"),ce("/Resources "+A.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(O(A.mediaBox.bottomLeftX))+" "+parseFloat(O(A.mediaBox.bottomLeftY))+" "+O(A.mediaBox.topRightX)+" "+O(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ce("/CropBox ["+O(A.cropBox.bottomLeftX)+" "+O(A.cropBox.bottomLeftY)+" "+O(A.cropBox.topRightX)+" "+O(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ce("/BleedBox ["+O(A.bleedBox.bottomLeftX)+" "+O(A.bleedBox.bottomLeftY)+" "+O(A.bleedBox.topRightX)+" "+O(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ce("/TrimBox ["+O(A.trimBox.bottomLeftX)+" "+O(A.trimBox.bottomLeftY)+" "+O(A.trimBox.topRightX)+" "+O(A.trimBox.topRightY)+"]"),A.artBox!==null&&ce("/ArtBox ["+O(A.artBox.bottomLeftX)+" "+O(A.artBox.bottomLeftY)+" "+O(A.artBox.topRightX)+" "+O(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ce("/UserUnit "+A.userUnit),rn.publish("putPage",{objId:pe,pageContext:Pt[j],pageNumber:j,page:se}),ce("/Contents "+Ae+" 0 R"),ce(">>"),ce("endobj");var Be=se.join(`
`);return Q===te&&(Be+=`
Q`),cr(Ae,!0),Jn({data:Be,filters:Ur(),objectId:Ae}),ce("endobj"),pe},ss=b.__private__.putPages=function(){var A,j,se=[];for(A=1;A<=gn;A++)Pt[A].objId=jr(),Pt[A].contentsObjId=jr();for(A=1;A<=gn;A++)se.push(Wn({number:A,data:qe[A],objId:Pt[A].objId,contentsObjId:Pt[A].contentsObjId,mediaBox:Pt[A].mediaBox,cropBox:Pt[A].cropBox,bleedBox:Pt[A].bleedBox,trimBox:Pt[A].trimBox,artBox:Pt[A].artBox,userUnit:Pt[A].userUnit,rootDictionaryObjId:is,resourceDictionaryObjId:si}));cr(is,!0),ce("<</Type /Pages");var pe="/Kids [";for(j=0;j<gn;j++)pe+=se[j]+" 0 R ";ce(pe+"]"),ce("/Count "+gn),ce(">>"),ce("endobj"),rn.publish("postPutPages")},Ms=function(A){rn.publish("putFont",{font:A,out:ce,newObject:Zn,putStream:Jn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Zn(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+mh(A.postScriptName)),ce("/Subtype /Type1"),typeof A.encoding=="string"&&ce("/Encoding /"+A.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Ei=function(A){A.objectNumber=Zn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[O(A.x),O(A.y),O(A.x+A.width),O(A.y+A.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var se=A.pages[1].join(`
`);Jn({data:se,additionalKeyValues:j,objectId:A.objectNumber}),ce("endobj")},as=function(A,j){j||(j=21);var se=Zn(),pe=(function(Ke,at){var pt,kt=[],qt=1/(at-1);for(pt=0;pt<1;pt+=qt)kt.push(pt);if(kt.push(1),Ke[0].offset!=0){var ln={offset:0,color:Ke[0].color};Ke.unshift(ln)}if(Ke[Ke.length-1].offset!=1){var er={offset:1,color:Ke[Ke.length-1].color};Ke.push(er)}for(var sr="",Dn=0,gr=0;gr<kt.length;gr++){for(pt=kt[gr];pt>Ke[Dn+1].offset;)Dn++;var Bn=Ke[Dn].offset,qr=(pt-Bn)/(Ke[Dn+1].offset-Bn),Bs=Ke[Dn].color,ia=Ke[Dn+1].color;sr+=ue(Math.round((1-qr)*Bs[0]+qr*ia[0]).toString(16))+ue(Math.round((1-qr)*Bs[1]+qr*ia[1]).toString(16))+ue(Math.round((1-qr)*Bs[2]+qr*ia[2]).toString(16))}return sr.trim()})(A.colors,j),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+j+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:pe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ce("endobj"),A.objectNumber=Zn(),ce("<< /ShadingType "+A.type),ce("/ColorSpace /DeviceRGB");var Be="/Coords ["+O(parseFloat(A.coords[0]))+" "+O(parseFloat(A.coords[1]))+" ";A.type===2?Be+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3])):Be+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3]))+" "+O(parseFloat(A.coords[4]))+" "+O(parseFloat(A.coords[5])),ce(Be+="]"),A.matrix&&ce("/Matrix ["+A.matrix.toString()+"]"),ce("/Function "+se+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Ya=function(A,j){var se=jr(),pe=Zn();j.push({resourcesOid:se,objectOid:pe}),A.objectNumber=pe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+A.boundingBox.map(O).join(" ")+"]"}),Ae.push({key:"XStep",value:O(A.xStep)}),Ae.push({key:"YStep",value:O(A.yStep)}),Ae.push({key:"Resources",value:se+" 0 R"}),A.matrix&&Ae.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Jn({data:A.stream,additionalKeyValues:Ae,objectId:A.objectNumber}),ce("endobj")},zl=function(A){for(var j in A.objectNumber=Zn(),ce("<<"),A)switch(j){case"opacity":ce("/ca "+C(A[j]));break;case"stroke-opacity":ce("/CA "+C(A[j]))}ce(">>"),ce("endobj")},Js=function(A){cr(A.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in ce("/Font <<"),ht)ht.hasOwnProperty(j)&&(w===!1||w===!0&&x.hasOwnProperty(j))&&ce("/"+j+" "+ht[j].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(At).length>0){for(var j in ce("/Shading <<"),At)At.hasOwnProperty(j)&&At[j]instanceof _c&&At[j].objectNumber>=0&&ce("/"+j+" "+At[j].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),ce(">>")}})(),(function(j){if(Object.keys(At).length>0){for(var se in ce("/Pattern <<"),At)At.hasOwnProperty(se)&&At[se]instanceof b.TilingPattern&&At[se].objectNumber>=0&&At[se].objectNumber<j&&ce("/"+se+" "+At[se].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),ce(">>")}})(A.objectOid),(function(){if(Object.keys(Vt).length>0){var j;for(j in ce("/ExtGState <<"),Vt)Vt.hasOwnProperty(j)&&Vt[j].objectNumber>=0&&ce("/"+j+" "+Vt[j].objectNumber+" 0 R");rn.publish("putGStateDict"),ce(">>")}})(),(function(){for(var j in ce("/XObject <<"),pr)pr.hasOwnProperty(j)&&pr[j].objectNumber>=0&&ce("/"+j+" "+pr[j].objectNumber+" 0 R");rn.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},rl=function(A){Ct[A.fontName]=Ct[A.fontName]||{},Ct[A.fontName][A.fontStyle]=A.id},ea=function(A,j,se,pe,Ae){var Be={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:A,fontName:j,fontStyle:se,encoding:pe,isStandardFont:Ae||!1,metadata:{}};return rn.publish("addFont",{font:Be,instance:this}),ht[Be.id]=Be,rl(Be),Be.id},Cr=b.__private__.pdfEscape=b.pdfEscape=function(A,j){return(function(se,pe){var Ae,Be,Ke,at,pt,kt,qt,ln,er;if(Ke=(pe=pe||{}).sourceEncoding||"Unicode",pt=pe.outputEncoding,(pe.autoencode||pt)&&ht[st].metadata&&ht[st].metadata[Ke]&&ht[st].metadata[Ke].encoding&&(at=ht[st].metadata[Ke].encoding,!pt&&ht[st].encoding&&(pt=ht[st].encoding),!pt&&at.codePages&&(pt=at.codePages[0]),typeof pt=="string"&&(pt=at[pt]),pt)){for(qt=!1,kt=[],Ae=0,Be=se.length;Ae<Be;Ae++)(ln=pt[se.charCodeAt(Ae)])?kt.push(String.fromCharCode(ln)):kt.push(se[Ae]),kt[Ae].charCodeAt(0)>>8&&(qt=!0);se=kt.join("")}for(Ae=se.length;qt===void 0&&Ae!==0;)se.charCodeAt(Ae-1)>>8&&(qt=!0),Ae--;if(!qt)return se;for(kt=pe.noBOM?[]:[254,255],Ae=0,Be=se.length;Ae<Be;Ae++){if((er=(ln=se.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(er),kt.push(ln-(er<<8))}return String.fromCharCode.apply(void 0,kt)})(A,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ir=b.__private__.beginPage=function(A){qe[++gn]=[],Pt[gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},js(gn),Me(qe[z])},ya=function(A,j){var se,pe,Ae;switch(t=j||t,typeof A=="string"&&(se=F(A.toLowerCase()),Array.isArray(se)&&(pe=se[0],Ae=se[1])),Array.isArray(A)&&(pe=A[0]*Lt,Ae=A[1]*Lt),isNaN(pe)&&(pe=a[0],Ae=a[1]),(pe>14400||Ae>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ae=Math.min(14400,Ae)),a=[pe,Ae],t.substr(0,1)){case"l":Ae>pe&&(a=[Ae,pe]);break;case"p":pe>Ae&&(a=[Ae,pe])}Ir(a),Us(xs),ce(cs),bn!==0&&ce(bn+" J"),Sa!==0&&ce(Sa+" j"),rn.publish("addPage",{pageNumber:gn})},xo=function(A){A>0&&A<=gn&&(qe.splice(A,1),Pt.splice(A,1),gn--,z>gn&&(z=gn),this.setPage(z))},js=function(A){A>0&&A<=gn&&(z=A)},Ka=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return qe.length-1},Qa=function(A,j,se){var pe,Ae=void 0;return se=se||{},A=A!==void 0?A:ht[st].fontName,j=j!==void 0?j:ht[st].fontStyle,pe=A.toLowerCase(),Ct[pe]!==void 0&&Ct[pe][j]!==void 0?Ae=Ct[pe][j]:Ct[A]!==void 0&&Ct[A][j]!==void 0?Ae=Ct[A][j]:se.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+A+"', '"+j+"'. Refer to getFontList() for available fonts."),Ae||se.noFallback||(Ae=Ct.times[j])==null&&(Ae=Ct.times.normal),Ae},va=b.__private__.putInfo=function(){var A=Zn(),j=function(pe){return pe};for(var se in y!==null&&(j=en.encryptor(A,0)),ce("<<"),ce("/Producer ("+Cr(j("jsPDF "+St.version))+")"),Tt)Tt.hasOwnProperty(se)&&Tt[se]&&ce("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Cr(j(Tt[se]))+")");ce("/CreationDate ("+Cr(j(we))+")"),ce(">>"),ce("endobj")},Eo=b.__private__.putCatalog=function(A){var j=(A=A||{}).rootDictionaryObjId||is;switch(Zn(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+j+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+yt;se.substr(se.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+C(yt)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}_t&&ce("/PageMode /"+_t),rn.publish("putCatalog"),ce(">>"),ce("endobj")},_n=b.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(fe+1)),ce("/Root "+fe+" 0 R"),ce("/Info "+(fe-1)+" 0 R"),y!==null&&ce("/Encrypt "+en.oid+" 0 R"),ce("/ID [ <"+le+"> <"+le+"> ]"),ce(">>")},To=b.__private__.putHeader=function(){ce("%PDF-"+M),ce("%")},Hl=b.__private__.putXRef=function(){var A="0000000000";ce("xref"),ce("0 "+(fe+1)),ce("0000000000 65535 f ");for(var j=1;j<=fe;j++)typeof ge[j]=="function"?ce((A+ge[j]()).slice(-10)+" 00000 n "):ge[j]!==void 0?ce((A+ge[j]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},os=b.__private__.buildDocument=function(){var A;fe=0,ke=0,Le=[],ge=[],Fe=[],is=jr(),si=jr(),Me(Le),rn.publish("buildDocument"),To(),ss(),(function(){rn.publish("putAdditionalObjects");for(var se=0;se<Fe.length;se++){var pe=Fe[se];cr(pe.objId,!0),ce(pe.content),ce("endobj")}rn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var se in ht)ht.hasOwnProperty(se)&&(w===!1||w===!0&&x.hasOwnProperty(se))&&Ms(ht[se])})(),(function(){var se;for(se in Vt)Vt.hasOwnProperty(se)&&zl(Vt[se])})(),(function(){for(var se in pr)pr.hasOwnProperty(se)&&Ei(pr[se])})(),(function(se){var pe;for(pe in At)At.hasOwnProperty(pe)&&(At[pe]instanceof _c?as(At[pe]):At[pe]instanceof bh&&Ya(At[pe],se))})(A),rn.publish("putResources"),A.forEach(Js),Js({resourcesOid:si,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),y!==null&&(en.oid=Zn(),ce("<<"),ce("/Filter /Standard"),ce("/V "+en.v),ce("/R "+en.r),ce("/U <"+en.toHexString(en.U)+">"),ce("/O <"+en.toHexString(en.O)+">"),ce("/P "+en.P),ce(">>"),ce("endobj")),va(),Eo();var j=ke;return Hl(),_n(),ce("startxref"),ce(""+j),ce("%%EOF"),Me(qe[z]),Le.join(`
`)},ta=b.__private__.getBlob=function(A){return new Blob([Nt(A)],{type:"application/pdf"})},pi=b.output=b.__private__.output=(mr=function(A,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",A){case void 0:return os();case"save":b.save(j.filename);break;case"arraybuffer":return Nt(os());case"blob":return ta(os());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(ta(os()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",pe=os();try{se=d_(pe)}catch{se=d_(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+j.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(Ae=j.pdfObjectUrl,Be="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",at=Wt.open();return at!==null&&at.document.write(Ke),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',kt=Wt.open();if(kt!==null){kt.document.write(pt);var qt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=j.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',er=Wt.open();if(er!==null&&(er.document.write(ln),er.document.title=j.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",j);default:return null}},mr.foo=function(){try{return mr.apply(this,arguments)}catch(se){var A=se.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var j="Error in function "+A.split(`
`)[0].split("<")[0]+": "+se.message;if(!Wt.console)throw new Error(j);Wt.console.error(j,se),Wt.alert&&alert(j)}},mr.foo.bar=mr,mr.foo),Xa=function(A){return Array.isArray(Zs)===!0&&Zs.indexOf(A)>-1};switch(r){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=Xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Lt=r}var en=null;he(),re();var mi=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[A].objId,pageNumber:A,pageContext:Pt[A]}},Za=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Pt)if(Pt[j].objId===A)break;return mi(j)},_a=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Pt[z].objId,pageNumber:z,pageContext:Pt[z]}};b.addPage=function(){return ya.apply(this,arguments),this},b.setPage=function(){return js.apply(this,arguments),Me.call(this,qe[z]),this},b.insertPage=function(A){return this.addPage(),this.movePage(z,A),this},b.movePage=function(A,j){var se,pe;if(A>j){se=qe[A],pe=Pt[A];for(var Ae=A;Ae>j;Ae--)qe[Ae]=qe[Ae-1],Pt[Ae]=Pt[Ae-1];qe[j]=se,Pt[j]=pe,this.setPage(j)}else if(A<j){se=qe[A],pe=Pt[A];for(var Be=A;Be<j;Be++)qe[Be]=qe[Be+1],Pt[Be]=Pt[Be+1];qe[j]=se,Pt[j]=pe,this.setPage(j)}return this},b.deletePage=function(){return xo.apply(this,arguments),this},b.__private__.text=b.text=function(A,j,se,pe,Ae){var Be,Ke,at,pt,kt,qt,ln,er,sr,Dn=(pe=pe||{}).scope||this;if(typeof A=="number"&&typeof j=="number"&&(typeof se=="string"||Array.isArray(se))){var gr=se;se=j,j=A,A=gr}if(arguments[3]instanceof It==0?(at=arguments[4],pt=arguments[5],Xn(ln=arguments[3])==="object"&&ln!==null||(typeof at=="string"&&(pt=at,at=null),typeof ln=="string"&&(pt=ln,ln=null),typeof ln=="number"&&(at=ln,ln=null),pe={flags:ln,angle:at,align:pt})):(P("The transform parameter of text() with a Matrix value"),sr=Ae),isNaN(j)||isNaN(se)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Dn;var Bn,qr="",Bs=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Ui,ia=Dn.internal.scaleFactor;function $l(On){return On=On.split("	").join(Array(pe.TabLen||9).join(" ")),Cr(On,ln)}function to(On){for(var qn,ar=On.concat(),yr=[],Pa=ar.length;Pa--;)typeof(qn=ar.shift())=="string"?yr.push(qn):Array.isArray(On)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?yr.push(qn[0]):yr.push([qn[0],qn[1],qn[2]]);return yr}function Rr(On,qn){var ar;if(typeof On=="string")ar=qn(On)[0];else if(Array.isArray(On)){for(var yr,Pa,zs=On.concat(),$i=[],ol=zs.length;ol--;)typeof(yr=zs.shift())=="string"?$i.push(qn(yr)[0]):Array.isArray(yr)&&typeof yr[0]=="string"&&(Pa=qn(yr[0],yr[1],yr[2]),$i.push([Pa[0],Pa[1],Pa[2]]));ar=$i}return ar}var fs=!1,Io=!0;if(typeof A=="string")fs=!0;else if(Array.isArray(A)){var zi=A.concat();Ke=[];for(var m,E=zi.length;E--;)(typeof(m=zi.shift())!="string"||Array.isArray(m)&&typeof m[0]!="string")&&(Io=!1);fs=Io}if(fs===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var L=Je/Dn.internal.scaleFactor,K=L*(Bs-1);switch(pe.baseline){case"bottom":se-=K;break;case"top":se+=L-K;break;case"hanging":se+=L-2*K;break;case"middle":se+=L/2-K}if((qt=pe.maxWidth||0)>0&&(typeof A=="string"?A=Dn.splitTextToSize(A,qt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(On,qn){return On.concat(Dn.splitTextToSize(qn,qt))},[]))),Be={text:A,x:j,y:se,options:pe,mutex:{pdfEscape:Cr,activeFontKey:st,fonts:ht,activeFontSize:Je}},rn.publish("preProcessText",Be),A=Be.text,at=(pe=Be.options).angle,sr instanceof It==0&&at&&typeof at=="number"){at*=Math.PI/180,pe.rotationDirection===0&&(at=-at),Q===te&&(at=-at);var Ee=Math.cos(at),Oe=Math.sin(at);sr=new It(Ee,Oe,-Oe,Ee,0,0)}else at&&at instanceof It&&(sr=at);Q!==te||sr||(sr=$n),(kt=pe.charSpace||Aa)!==void 0&&(qr+=O(k(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=pe.horizontalScale)!==void 0&&(qr+=O(100*er)+` Tz
`),pe.lang;var Ze=-1,un=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,hr=Dn.internal.getCurrentPageInfo().pageContext;switch(un){case 0:case!1:case"fill":Ze=0;break;case 1:case!0:case"stroke":Ze=1;break;case 2:case"fillThenStroke":Ze=2;break;case 3:case"invisible":Ze=3;break;case 4:case"fillAndAddForClipping":Ze=4;break;case 5:case"strokeAndAddPathForClipping":Ze=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ze=6;break;case 7:case"addToPathForClipping":Ze=7}var cn=hr.usedRenderingMode!==void 0?hr.usedRenderingMode:-1;Ze!==-1?qr+=Ze+` Tr
`:cn!==-1&&(qr+=`0 Tr
`),Ze!==-1&&(hr.usedRenderingMode=Ze),pt=pe.align||"left";var fn,jn=Je*Bs,Cs=Dn.internal.pageSize.getWidth(),Lr=ht[st];kt=pe.charSpace||Aa,qt=pe.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var gi=[],Ta=function(On){return Dn.getStringUnitWidth(On,{font:Lr,charSpace:kt,fontSize:Je,doKerning:!1})*Je/ia};if(Object.prototype.toString.call(A)==="[object Array]"){var yi;Ke=to(A),pt!=="left"&&(fn=Ke.map(Ta));var Hi,Ro=0;if(pt==="right"){j-=fn[0],A=[],E=Ke.length;for(var qs=0;qs<E;qs++)qs===0?(Hi=Fr(j),yi=Fi(se)):(Hi=k(Ro-fn[qs]),yi=-jn),A.push([Ke[qs],Hi,yi]),Ro=fn[qs]}else if(pt==="center"){j-=fn[0]/2,A=[],E=Ke.length;for(var Na=0;Na<E;Na++)Na===0?(Hi=Fr(j),yi=Fi(se)):(Hi=k((Ro-fn[Na])/2),yi=-jn),A.push([Ke[Na],Hi,yi]),Ro=fn[Na]}else if(pt==="left"){A=[],E=Ke.length;for(var Wl=0;Wl<E;Wl++)A.push(Ke[Wl])}else if(pt==="justify"&&Lr.encoding==="Identity-H"){A=[],E=Ke.length,qt=qt!==0?qt:Cs;for(var no=0,wr=0;wr<E;wr++)if(yi=wr===0?Fi(se):-jn,Hi=wr===0?Fr(j):no,wr<E-1){var Kh=k((qt-fn[wr])/(Ke[wr].split(" ").length-1)),Ca=Ke[wr].split(" ");A.push([Ca[0]+" ",Hi,yi]),no=0;for(var Ia=1;Ia<Ca.length;Ia++){var Yl=(Ta(Ca[Ia-1]+" "+Ca[Ia])-Ta(Ca[Ia]))*ia+Kh;Ia==Ca.length-1?A.push([Ca[Ia],Yl,0]):A.push([Ca[Ia]+" ",Yl,0]),no-=Yl}}else A.push([Ke[wr],Hi,yi]);A.push(["",no,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],E=Ke.length,qt=qt!==0?qt:Cs,wr=0;wr<E;wr++)yi=wr===0?Fi(se):-jn,Hi=wr===0?Fr(j):0,wr<E-1?gi.push(O(k((qt-fn[wr])/(Ke[wr].split(" ").length-1)))):gi.push(0),A.push([Ke[wr],Hi,yi])}}(typeof pe.R2L=="boolean"?pe.R2L:Yt)===!0&&(A=Rr(A,function(On,qn,ar){return[On.split("").reverse().join(""),qn,ar]})),Be={text:A,x:j,y:se,options:pe,mutex:{pdfEscape:Cr,activeFontKey:st,fonts:ht,activeFontSize:Je}},rn.publish("postProcessText",Be),A=Be.text,Bn=Be.mutex.isHex||!1;var Qu=ht[st].encoding;Qu!=="WinAnsiEncoding"&&Qu!=="StandardEncoding"||(A=Rr(A,function(On,qn,ar){return[$l(On),qn,ar]})),Ke=to(A),A=[];for(var oi,Ra,Lo,ko=Array.isArray(Ke[0])?1:0,La="",Kl=function(On,qn,ar){var yr="";return ar instanceof It?(ar=typeof pe.angle=="number"?Cn(ar,new It(1,0,0,1,On,qn)):Cn(new It(1,0,0,1,On,qn),ar),Q===te&&(ar=Cn(new It(1,0,0,-1,0,0),ar)),yr=ar.join(" ")+` Tm
`):yr=O(On)+" "+O(qn)+` Td
`,yr},Gi=0;Gi<Ke.length;Gi++){switch(La="",ko){case 1:Lo=(Bn?"<":"(")+Ke[Gi][0]+(Bn?">":")"),oi=parseFloat(Ke[Gi][1]),Ra=parseFloat(Ke[Gi][2]);break;case 0:Lo=(Bn?"<":"(")+Ke[Gi]+(Bn?">":")"),oi=Fr(j),Ra=Fi(se)}gi!==void 0&&gi[Gi]!==void 0&&(La=gi[Gi]+` Tw
`),Gi===0?A.push(La+Kl(oi,Ra,sr)+Lo):ko===0?A.push(La+Lo):ko===1&&A.push(La+Kl(oi,Ra,sr)+Lo)}A=ko===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ka=`BT
/`;return ka+=st+" "+Je+` Tf
`,ka+=O(Je*Bs)+` TL
`,ka+=Ni+`
`,ka+=qr,ka+=A,ce(ka+="ET"),x[st]=!0,Dn};var na=b.__private__.clip=b.clip=function(A){return ce(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return na("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ce("n"),this};var on=b.__private__.isValidStyle=function(A){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(j=!0),j};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return on(A)&&(d=A),this};var ba=b.__private__.getStyle=b.getStyle=function(A){var j=d;switch(A){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=A}return j},Vi=b.close=function(){return ce("h"),this};b.stroke=function(){return ce("S"),this},b.fill=function(A){return ls("f",A),this},b.fillEvenOdd=function(A){return ls("f*",A),this},b.fillStroke=function(A){return ls("B",A),this},b.fillStrokeEvenOdd=function(A){return ls("B*",A),this};var ls=function(A,j){Xn(j)==="object"?sl(j,A):ce(A)},No=function(A){A===null||Q===te&&A===void 0||(A=ba(A),ce(A))};function il(A,j,se,pe,Ae){var Be=new bh(j||this.boundingBox,se||this.xStep,pe||this.yStep,this.gState,Ae||this.matrix);Be.stream=this.stream;var Ke=A+"$$"+this.cloneIndex+++"$$";return Pn(Ke,Be),Be}var sl=function(A,j){var se=nn[A.key],pe=At[se];if(pe instanceof _c)ce("q"),ce(Ku(j)),pe.gState&&b.setGState(pe.gState),ce(A.matrix.toString()+" cm"),ce("/"+se+" sh"),ce("Q");else if(pe instanceof bh){var Ae=new It(1,0,0,-1,0,qi());A.matrix&&(Ae=Ae.multiply(A.matrix||$n),se=il.call(pe,A.key,A.boundingBox,A.xStep,A.yStep,Ae).id),ce("q"),ce("/Pattern cs"),ce("/"+se+" scn"),pe.gState&&b.setGState(pe.gState),ce(j),ce("Q")}},Ku=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},al=b.moveTo=function(A,j){return ce(O(k(A))+" "+O(ne(j))+" m"),this},Vs=b.lineTo=function(A,j){return ce(O(k(A))+" "+O(ne(j))+" l"),this},Ti=b.curveTo=function(A,j,se,pe,Ae,Be){return ce([O(k(A)),O(ne(j)),O(k(se)),O(ne(pe)),O(k(Ae)),O(ne(Be)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,j,se,pe,Ae){if(isNaN(A)||isNaN(j)||isNaN(se)||isNaN(pe)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return Q===ee?this.lines([[se-A,pe-j]],A,j,[1,1],Ae||"S"):this.lines([[se-A,pe-j]],A,j,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,j,se,pe,Ae,Be){var Ke,at,pt,kt,qt,ln,er,sr,Dn,gr,Bn,qr;if(typeof A=="number"&&(qr=se,se=j,j=A,A=qr),pe=pe||[1,1],Be=Be||!1,isNaN(j)||isNaN(se)||!Array.isArray(A)||!Array.isArray(pe)||!on(Ae)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(al(j,se),Ke=pe[0],at=pe[1],kt=A.length,gr=j,Bn=se,pt=0;pt<kt;pt++)(qt=A[pt]).length===2?(gr=qt[0]*Ke+gr,Bn=qt[1]*at+Bn,Vs(gr,Bn)):(ln=qt[0]*Ke+gr,er=qt[1]*at+Bn,sr=qt[2]*Ke+gr,Dn=qt[3]*at+Bn,gr=qt[4]*Ke+gr,Bn=qt[5]*at+Bn,Ti(ln,er,sr,Dn,gr,Bn));return Be&&Vi(),No(Ae),this},b.path=function(A){for(var j=0;j<A.length;j++){var se=A[j],pe=se.c;switch(se.op){case"m":al(pe[0],pe[1]);break;case"l":Vs(pe[0],pe[1]);break;case"c":Ti.apply(this,pe);break;case"h":Vi()}}return this},b.__private__.rect=b.rect=function(A,j,se,pe,Ae){if(isNaN(A)||isNaN(j)||isNaN(se)||isNaN(pe)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return Q===ee&&(pe=-pe),ce([O(k(A)),O(ne(j)),O(k(se)),O(k(pe)),"re"].join(" ")),No(Ae),this},b.__private__.triangle=b.triangle=function(A,j,se,pe,Ae,Be,Ke){if(isNaN(A)||isNaN(j)||isNaN(se)||isNaN(pe)||isNaN(Ae)||isNaN(Be)||!on(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-A,pe-j],[Ae-se,Be-pe],[A-Ae,j-Be]],A,j,[1,1],Ke,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,j,se,pe,Ae,Be,Ke){if(isNaN(A)||isNaN(j)||isNaN(se)||isNaN(pe)||isNaN(Ae)||isNaN(Be)||!on(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*se),Be=Math.min(Be,.5*pe),this.lines([[se-2*Ae,0],[Ae*at,0,Ae,Be-Be*at,Ae,Be],[0,pe-2*Be],[0,Be*at,-Ae*at,Be,-Ae,Be],[2*Ae-se,0],[-Ae*at,0,-Ae,-Be*at,-Ae,-Be],[0,2*Be-pe],[0,-Be*at,Ae*at,-Be,Ae,-Be]],A+Ae,j,[1,1],Ke,!0),this},b.__private__.ellipse=b.ellipse=function(A,j,se,pe,Ae){if(isNaN(A)||isNaN(j)||isNaN(se)||isNaN(pe)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*se,Ke=4/3*(Math.SQRT2-1)*pe;return al(A+se,j),Ti(A+se,j-Ke,A+Be,j-pe,A,j-pe),Ti(A-Be,j-pe,A-se,j-Ke,A-se,j),Ti(A-se,j+Ke,A-Be,j+pe,A,j+pe),Ti(A+Be,j+pe,A+se,j+Ke,A+se,j),No(Ae),this},b.__private__.circle=b.circle=function(A,j,se,pe){if(isNaN(A)||isNaN(j)||isNaN(se)||!on(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,j,se,se,pe)},b.setFont=function(A,j,se){return se&&(j=$(j,se)),st=Qa(A,j,{disableWarning:!1}),this};var us=b.__private__.getFont=b.getFont=function(){return ht[Qa.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,j,se={};for(A in Ct)if(Ct.hasOwnProperty(A))for(j in se[A]=[],Ct[A])Ct[A].hasOwnProperty(j)&&se[A].push(j);return se},b.addFont=function(A,j,se,pe,Ae){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(se=$(se,pe)),ea.call(this,A,j,se,Ae=Ae||"Identity-H")};var Ui,xs=n.lineWidth||.200025,Dt=b.__private__.getLineWidth=b.getLineWidth=function(){return xs},Us=b.__private__.setLineWidth=b.setLineWidth=function(A){return xs=A,ce(O(k(A))+" w"),this};b.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(A,j){if(A=A||[],j=j||0,isNaN(j)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(se){return O(k(se))}).join(" "),j=O(k(j)),ce("["+A+"] "+j+" d"),this};var Gl=b.__private__.getLineHeight=b.getLineHeight=function(){return Je*Ui};b.__private__.getLineHeight=b.getLineHeight=function(){return Je*Ui};var Ja=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Ui=A),this},Es=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Ui};Ja(n.lineHeight);var Fr=b.__private__.getHorizontalCoordinate=function(A){return k(A)},Fi=b.__private__.getVerticalCoordinate=function(A){return Q===te?A:Pt[z].mediaBox.topRightY-Pt[z].mediaBox.bottomLeftY-k(A)},Fs=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return O(Fr(A))},wa=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return O(Fi(A))},cs=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ai(cs)},b.__private__.setStrokeColor=b.setDrawColor=function(A,j,se,pe){return cs=Vr({ch1:A,ch2:j,ch3:se,ch4:pe,pdfColorType:"draw",precision:2}),ce(cs),this};var eo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ai(eo)},b.__private__.setFillColor=b.setFillColor=function(A,j,se,pe){return eo=Vr({ch1:A,ch2:j,ch3:se,ch4:pe,pdfColorType:"fill",precision:2}),ce(eo),this};var Ni=n.textColor||"0 g",Bi=b.__private__.getTextColor=b.getTextColor=function(){return ai(Ni)};b.__private__.setTextColor=b.setTextColor=function(A,j,se,pe){return Ni=Vr({ch1:A,ch2:j,ch3:se,ch4:pe,pdfColorType:"text",precision:3}),this};var Aa=n.charSpace,Br=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Aa||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Aa=A,this};var bn=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var j=b.CapJoinStyles[A];if(j===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bn=j,ce(j+" J"),this};var Sa=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var j=b.CapJoinStyles[A];if(j===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sa=j,ce(j+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(O(k(A))+" M"),this},b.GState=Em,b.setGState=function(A){(A=typeof A=="string"?Vt[ir[A]]:Ts(null,A)).equals(Gn)||(ce("/"+A.id+" gs"),Gn=A)};var Ts=function(A,j){if(!A||!ir[A]){var se=!1;for(var pe in Vt)if(Vt.hasOwnProperty(pe)&&Vt[pe].equals(j)){se=!0;break}if(se)j=Vt[pe];else{var Ae="GS"+(Object.keys(Vt).length+1).toString(10);Vt[Ae]=j,j.id=Ae}return A&&(ir[A]=j.id),rn.publish("addGState",j),j}};b.addGState=function(A,j){return Ts(A,j),this},b.saveGraphicsState=function(){return ce("q"),Nn.push({key:st,size:Je,color:Ni}),this},b.restoreGraphicsState=function(){ce("Q");var A=Nn.pop();return st=A.key,Je=A.size,Ni=A.color,Gn=null,this},b.setCurrentTransformationMatrix=function(A){return ce(A.toString()+" cm"),this},b.comment=function(A){return ce("#"+A),this};var xa=function(A,j){var se=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Be){isNaN(Be)||(se=parseFloat(Be))}});var pe=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Be){Ae=Be.toString()}}),this},Ea=function(A,j,se,pe){xa.call(this,A,j),this.type="rect";var Ae=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ke){isNaN(Ke)||(Ae=parseFloat(Ke))}});var Be=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ke){isNaN(Ke)||(Be=parseFloat(Ke))}}),this},ra=function(){this.page=gn,this.currentPage=z,this.pages=qe.slice(0),this.pagesContext=Pt.slice(0),this.x=bt,this.y=Tn,this.matrix=an,this.width=Ci(z),this.height=qi(z),this.outputDestination=rt,this.id="",this.objectNumber=-1};ra.prototype.restore=function(){gn=this.page,z=this.currentPage,Pt=this.pagesContext,qe=this.pages,bt=this.x,Tn=this.y,an=this.matrix,Co(z,this.width),Ii(z,this.height),rt=this.outputDestination};var hs=function(A,j,se,pe,Ae){di.push(new ra),gn=z=0,qe=[],bt=A,Tn=j,an=Ae,Ir([se,pe])};for(var Ns in b.beginFormObject=function(A,j,se,pe,Ae){return hs(A,j,se,pe,Ae),this},b.endFormObject=function(A){return(function(j){if(rs[j])di.pop().restore();else{var se=new ra,pe="Xo"+(Object.keys(pr).length+1).toString(10);se.id=pe,rs[j]=pe,pr[pe]=se,rn.publish("addFormObject",se),di.pop().restore()}})(A),this},b.doFormObject=function(A,j){var se=pr[rs[A]];return ce("q"),ce(j.toString()+" cm"),ce("/"+se.id+" Do"),ce("Q"),this},b.getFormObject=function(A){var j=pr[rs[A]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},b.save=function(A,j){return A=A||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(yc(ta(os()),A),typeof yc.unload=="function"&&Wt.setTimeout&&setTimeout(yc.unload,911),this):new Promise(function(se,pe){try{var Ae=yc(ta(os()),A);typeof yc.unload=="function"&&Wt.setTimeout&&setTimeout(yc.unload,911),se(Ae)}catch(Be){pe(Be.message)}})},St.API)St.API.hasOwnProperty(Ns)&&(Ns==="events"&&St.API.events.length?(function(A,j){var se,pe,Ae;for(Ae=j.length-1;Ae!==-1;Ae--)se=j[Ae][0],pe=j[Ae][1],A.subscribe.apply(A,[se].concat(typeof pe=="function"?[pe]:pe))})(rn,St.API.events):b[Ns]=St.API[Ns]);var Ci=b.getPageWidth=function(A){return(Pt[A=A||z].mediaBox.topRightX-Pt[A].mediaBox.bottomLeftX)/Lt},Co=b.setPageWidth=function(A,j){Pt[A].mediaBox.topRightX=j*Lt+Pt[A].mediaBox.bottomLeftX},qi=b.getPageHeight=function(A){return(Pt[A=A||z].mediaBox.topRightY-Pt[A].mediaBox.bottomLeftY)/Lt},Ii=b.setPageHeight=function(A,j){Pt[A].mediaBox.topRightY=j*Lt+Pt[A].mediaBox.bottomLeftY};return b.internal={pdfEscape:Cr,getStyle:ba,getFont:us,getFontSize:tt,getCharSpace:Br,getTextColor:Bi,getLineHeight:Gl,getLineHeightFactor:Es,getLineWidth:Dt,write:tn,getHorizontalCoordinate:Fr,getVerticalCoordinate:Fi,getCoordinateString:Fs,getVerticalCoordinateString:wa,collections:{},newObject:Zn,newAdditionalObject:ga,newObjectDeferred:jr,newObjectDeferredBegin:cr,getFilters:Ur,putStream:Jn,events:rn,scaleFactor:Lt,pageSize:{getWidth:function(){return Ci(z)},setWidth:function(A){Co(z,A)},getHeight:function(){return qi(z)},setHeight:function(A){Ii(z,A)}},encryptionOptions:y,encryption:en,getEncryptor:function(A){return y!==null?en.encryptor(A,0):function(j){return j}},output:pi,getNumberOfPages:Ka,pages:qe,out:ce,f2:C,f3:I,getPageInfo:mi,getPageInfoByObjId:Za,getCurrentPageInfo:_a,getPDFVersion:U,Point:xa,Rectangle:Ea,Matrix:It,hasHotfix:Xa},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ci(z)},set:function(A){Co(z,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return qi(z)},set:function(A){Ii(z,A)},enumerable:!0,configurable:!0}),(function(A){for(var j=0,se=Et.length;j<se;j++){var pe=ea.call(this,A[j][0],A[j][1],A[j][2],Et[j][3],!0);w===!1&&(x[pe]=!0);var Ae=A[j][0].split("-");rl({id:pe,fontName:Ae[0],fontStyle:Ae[1]||""})}rn.publish("addFonts",{fonts:ht,dictionary:Ct})}).call(b,Et),st="F1",ya(a,t),rn.publish("initialized"),b}ph.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ph.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ph.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ph.prototype.processOwnerPassword=function(n,e){return N0(T0(e).substr(0,5),n)},ph.prototype.encryptor=function(n,e){var t=T0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return N0(t,r)}},Em.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.2";var Gr=St.API,h2=1,kc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(n){return n.toFixed(2)},Au=function(n){return n.toFixed(5)};Gr.__acroform__={};var Xs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},y_=function(n){return n*h2},zo=function(n){var e=new c4,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},ET=Gr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},TT=Gr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},NT=Gr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ti=Gr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NT(n,e-1)},ni=Gr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ET(n,e-1)},ri=Gr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TT(n,e-1)},CT=Gr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=r(o)||0,[Number(Xt(f.lowerLeft_X)),Number(Xt(f.lowerLeft_Y)),Number(Xt(f.upperRight_X)),Number(Xt(f.upperRight_Y))]},IT=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=C0(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=zo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},C0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var o=t,u=gt.internal.getHeight(n)||0;u=u<0?-u:u;var c=gt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(C,I,k){if(C+1<a.length){var ne=I+" "+a[C+1][0];return Qp(ne,n,k).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,y,w=Qp("3",n,o).height,x=n.multiline?u-o:(u-w)/2,b=x+=2,M=0,U=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qp(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var F="",ee=0,te=0;te<a.length;te++)if(a.hasOwnProperty(te)){var Q=!1;if(a[te].length!==1&&B!==a[te].length-1){if((w+2)*(ee+2)+2>u)continue e;F+=a[te][B],Q=!0,U=te,te--}else{F=(F+=a[te][B]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var oe=parseInt(te),Se=f(oe,F,o),$=te>=a.length-1;if(Se&&!$){F+=" ",B=0;continue}if(Se||$){if($)U=oe;else if(n.multiline&&(w+2)*(ee+2)+2>u)continue e}else{if(!n.multiline||(w+2)*(ee+2)+2>u)continue e;U=oe}}for(var O="",P=M;P<=U;P++){var H=a[P];if(n.multiline){if(P===U){O+=H[B]+" ",B=(B+1)%H.length;continue}if(P===M){O+=H[H.length-1]+" ";continue}}O+=H[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,y=Qp(O,n,o).width,n.textAlign){case"right":d=c-y-2;break;case"center":d=(c-y)/2;break;default:d=2}e+=Xt(d)+" "+Xt(b)+` Td
`,e+="("+kc(O)+`) Tj
`,e+=-Xt(d)+` 0 Td
`,b=-(o+2),y=0,M=Q?U:U+1,ee++,F=""}break}return r.text=e,r.fontSize=o,r},Qp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},RT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LT=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},kT=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ao.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(RT)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new h4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&LT(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=CT(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),Xn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=IT(c);f.push({key:"AP",value:"<</N "+y+">>"}),a.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var w="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var b=c.appearanceStreamContent[x];if(w+="/"+x+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var M=b[u];typeof M=="function"&&(M=M.call(a,c)),w+="/"+u+" "+M+" ",a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M)}}else typeof(M=b)=="function"&&(M=M.call(a,c)),w+="/"+u+" "+M,a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(U,B){for(var F in U)if(U.hasOwnProperty(F)){var ee=F,te=U[F];B.internal.newObjectDeferredBegin(te.objId,!0),Xn(te)==="object"&&typeof te.putStream=="function"&&te.putStream(),delete U[ee]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},u4=Gr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Xn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+kc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},K1=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+kc(r(n))+")"},$o=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$o.prototype.toString=function(){return this.objId+" 0 R"},$o.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$o.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:u4(a,this.objId,this.scope)}):a instanceof $o?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var c4=function(){$o.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Xs(c4,$o);var h4=function(){$o.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+kc(t(n))+")"}},set:function(t){n=t}})};Xs(h4,$o);var Ao=function n(){$o.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ti(e,3)},set:function(F){F?this.F=ni(e,3):this.F=ri(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tm)return;o="FieldObject"+n.FieldNum++}var F=function(ee){return ee};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+kc(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(F){c=F}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(F){f=F}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/h2:d},set:function(F){d=F}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(F){y=F}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Tm||this instanceof wc))return K1(w,this.objId,this.scope)},set:function(F){F=F.toString(),w=F}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ji==0?K1(x,this.objId,this.scope):x},set:function(F){F=F.toString(),x=this instanceof ji==0?F.substr(0,1)==="("?fh(F.substr(1,F.length-2)):fh(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?fh(x.substr(1,x.length-1)):x},set:function(F){F=F.toString(),x=this instanceof ji==1?"/"+F:F}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ji==0?K1(b,this.objId,this.scope):b},set:function(F){F=F.toString(),b=this instanceof ji==0?F.substr(0,1)==="("?fh(F.substr(1,F.length-2)):fh(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?fh(b.substr(1,b.length-1)):b},set:function(F){F=F.toString(),b=this instanceof ji==1?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,U=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return U},set:function(F){F=!!F,U=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(F){M=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,1)},set:function(F){F?this.Ff=ni(this.Ff,1):this.Ff=ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,2)},set:function(F){F?this.Ff=ni(this.Ff,2):this.Ff=ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,3)},set:function(F){F?this.Ff=ni(this.Ff,3):this.Ff=ri(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');B=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(B){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};Xs(Ao,$o);var Ah=function(){Ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return u4(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,18)},set:function(t){t?this.Ff=ni(this.Ff,18):this.Ff=ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ni(this.Ff,19):this.Ff=ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,20)},set:function(t){t?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,22)},set:function(t){t?this.Ff=ni(this.Ff,22):this.Ff=ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(t){t?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,27)},set:function(t){t?this.Ff=ni(this.Ff,27):this.Ff=ri(this.Ff,27)}}),this.hasAppearanceStream=!1};Xs(Ah,Ao);var Sh=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};Xs(Sh,Ah);var xh=function(){Sh.call(this),this.combo=!0};Xs(xh,Sh);var lm=function(){xh.call(this),this.edit=!0};Xs(lm,xh);var ji=function(){Ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,15)},set:function(t){t?this.Ff=ni(this.Ff,15):this.Ff=ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,16)},set:function(t){t?this.Ff=ni(this.Ff,16):this.Ff=ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,17)},set:function(t){t?this.Ff=ni(this.Ff,17):this.Ff=ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(t){t?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+kc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Xn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Xs(ji,Ao);var um=function(){ji.call(this),this.pushButton=!0};Xs(um,ji);var Eh=function(){ji.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Xs(Eh,ji);var Tm=function(){var n,e;Ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+kc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Xn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xs(Tm,Ao),Eh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Eh.prototype.createOption=function(n){var e=new Tm;return e.Parent=this,e.optionName=n,this.Kids.push(e),PT.call(this.scope,e),e};var cm=function(){ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Xs(cm,ji);var wc=function(){Ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,13)},set:function(e){e?this.Ff=ni(this.Ff,13):this.Ff=ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,21)},set:function(e){e?this.Ff=ni(this.Ff,21):this.Ff=ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,24)},set:function(e){e?this.Ff=ni(this.Ff,24):this.Ff=ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,25)},set:function(e){e?this.Ff=ni(this.Ff,25):this.Ff=ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xs(wc,Ao);var hm=function(){wc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,14)},set:function(n){n?this.Ff=ni(this.Ff,14):this.Ff=ri(this.Ff,14)}}),this.password=!0};Xs(hm,wc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=zo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=C0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=zo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=gt.internal.getHeight(n),u=gt.internal.getWidth(n),c=C0(n,n.caption);return a.push("1 g"),a.push("0 0 "+Xt(u)+" "+Xt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Xt(u-1)+" "+Xt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Xt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=zo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=zo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=gt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Au(gt.internal.getWidth(n)/2)+" "+Au(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*gt.internal.Bezier_C).toFixed(5)),u=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Au(gt.internal.getWidth(n)/2)+" "+Au(gt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Au(gt.internal.getWidth(n)/2)+" "+Au(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=zo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Au(gt.internal.getWidth(n)/2)+" "+Au(gt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=zo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=zo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Xn(n)==="object"&&(e=y_(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Xn(n)==="object"&&(e=y_(n.Rect[3])),e};var PT=Gr.addField=function(n){if(kT(this,n),!(n instanceof Ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Gr.AcroFormChoiceField=Ah,Gr.AcroFormListBox=Sh,Gr.AcroFormComboBox=xh,Gr.AcroFormEditBox=lm,Gr.AcroFormButton=ji,Gr.AcroFormPushButton=um,Gr.AcroFormRadioButton=Eh,Gr.AcroFormCheckBox=cm,Gr.AcroFormTextField=wc,Gr.AcroFormPasswordField=hm,Gr.AcroFormAppearance=gt,Gr.AcroForm={ChoiceField:Ah,ListBox:Sh,ComboBox:xh,EditBox:lm,Button:ji,PushButton:um,RadioButton:Eh,CheckBox:cm,TextField:wc,PasswordField:hm,Appearance:gt},St.AcroForm={ChoiceField:Ah,ListBox:Sh,ComboBox:xh,EditBox:lm,Button:ji,PushButton:um,RadioButton:Eh,CheckBox:cm,TextField:wc,PasswordField:hm,Appearance:gt};St.AcroForm;function f4(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(C,I){var k,ne,we,le,me,re=t;if((I=I||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(Se(C))for(me in r)for(we=r[me],k=0;k<we.length;k+=1){for(le=!0,ne=0;ne<we[k].length;ne+=1)if(we[k][ne]!==void 0&&we[k][ne]!==C[ne]){le=!1;break}if(le===!0){re=me;break}}else for(me in r)for(we=r[me],k=0;k<we.length;k+=1){for(le=!0,ne=0;ne<we[k].length;ne+=1)if(we[k][ne]!==void 0&&we[k][ne]!==C.charCodeAt(ne)){le=!1;break}if(le===!0){re=me;break}}return re===t&&I!==t&&(re=I),re},o=function C(I){for(var k=this.internal.write,ne=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:I.width}),le.push({key:"Height",value:I.height}),I.colorSpace===F.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===F.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var me="",re=0,ve=I.transparency.length;re<ve;re++)me+=I.transparency[re]+" "+I.transparency[re]+" ";le.push({key:"Mask",value:"["+me+"]"})}I.sMask!==void 0&&le.push({key:"SMask",value:I.objectId+1+" 0 R"});var X=I.filter!==void 0?["/"+I.filter]:void 0;if(ne({data:I.data,additionalKeyValues:le,alreadyAppliedFilters:X,objectId:I.objectId}),k("endobj"),"sMask"in I&&I.sMask!==void 0){var he=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,R={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:he,data:I.sMask};"filter"in I&&(R.filter=I.filter),C.call(this,R)}if(I.colorSpace===F.INDEXED){var z=this.internal.newObject();ne({data:O(new Uint8Array(I.palette)),objectId:z}),k("endobj")}},u=function(){var C=this.internal.collections[e+"images"];for(var I in C)o.call(this,C[I])},c=function(){var C,I=this.internal.collections[e+"images"],k=this.internal.write;for(var ne in I)k("/I"+(C=I[ne]).index,C.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var C=this.internal.collections[e+"images"];return f.call(this),C},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(C){return typeof n["process"+C.toUpperCase()]=="function"},x=function(C){return Xn(C)==="object"&&C.nodeType===1},b=function(C,I){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var k=""+C.getAttribute("src");if(k.indexOf("data:image/")===0)return om(unescape(k).split("base64,").pop());var ne=n.loadFile(k,!0);if(ne!==void 0)return ne}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var we;switch(I){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return om(C.toDataURL(we,1).split("base64,").pop())}},M=function(C){var I=this.internal.collections[e+"images"];if(I){for(var k in I)if(C===I[k].alias)return I[k]}},U=function(C,I,k){return C||I||(C=-96,I=-96),C<0&&(C=-1*k.width*72/C/this.internal.scaleFactor),I<0&&(I=-1*k.height*72/I/this.internal.scaleFactor),C===0&&(C=I*k.width/k.height),I===0&&(I=C*k.height/k.width),[C,I]},B=function(C,I,k,ne,we,le){var me=U.call(this,k,ne,we),re=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,X=d.call(this);if(k=me[0],ne=me[1],X[we.index]=we,le){le*=Math.PI/180;var he=Math.cos(le),R=Math.sin(le),z=function(ue){return ue.toFixed(4)},J=[z(he),z(R),z(-1*R),z(he),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,re(C),ve(I+ne),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([re(k),"0","0",re(ne),"0","0","cm"].join(" "))):this.internal.write([re(k),"0","0",re(ne),re(C),ve(I+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ee=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},te=n.__addimage__.sHashCode=function(C){var I,k,ne=0;if(typeof C=="string")for(k=C.length,I=0;I<k;I++)ne=(ne<<5)-ne+C.charCodeAt(I),ne|=0;else if(Se(C))for(k=C.byteLength/2,I=0;I<k;I++)ne=(ne<<5)-ne+C[I],ne|=0;return ne},Q=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var I=!0;return C.length===0&&(I=!1),C.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(I=!1),I},oe=n.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var I=C.indexOf(",");return I<0?null:C.substring(0,I).trim().endsWith("base64")?C.substring(I+1):null};n.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var Se=n.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(C){for(var I=C.length,k=new Uint8Array(I),ne=0;ne<I;ne++)k[ne]=C.charCodeAt(ne);return k},O=n.__addimage__.arrayBufferToBinaryString=function(C){for(var I="",k=Se(C)?C:new Uint8Array(C),ne=0;ne<k.length;ne+=8192)I+=String.fromCharCode.apply(null,k.subarray(ne,ne+8192));return I};n.addImage=function(){var C,I,k,ne,we,le,me,re,ve;if(typeof arguments[1]=="number"?(I=t,k=arguments[1],ne=arguments[2],we=arguments[3],le=arguments[4],me=arguments[5],re=arguments[6],ve=arguments[7]):(I=arguments[1],k=arguments[2],ne=arguments[3],we=arguments[4],le=arguments[5],me=arguments[6],re=arguments[7],ve=arguments[8]),Xn(C=arguments[0])==="object"&&!x(C)&&"imageData"in C){var X=C;C=X.imageData,I=X.format||I||t,k=X.x||k||0,ne=X.y||ne||0,we=X.w||X.width||we,le=X.h||X.height||le,me=X.alias||me,re=X.compression||re,ve=X.rotation||X.angle||ve}var he=this.internal.getFilters();if(re===void 0&&he.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(k)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var R=P.call(this,C,I,me,re);return B.call(this,k,ne,we,le,R,ve),this};var P=function(C,I,k,ne){var we,le,me;if(typeof C=="string"&&a(C)===t){C=unescape(C);var re=H(C,!1);(re!==""||(re=n.loadFile(C,!0))!==void 0)&&(C=re)}if(x(C)&&(C=b(C,I)),I=a(C,I),!w(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((me=k)==null||me.length===0)&&(k=(function(ve){return typeof ve=="string"||Se(ve)?te(ve):Se(ve.data)?te(ve.data):null})(C)),(we=M.call(this,k))||(C instanceof Uint8Array||I==="RGBA"||(le=C,C=$(C)),we=this["process"+I.toUpperCase()](C,y.call(this),k,(function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in n.image_compression?ve:ee.NONE})(ne),le)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},H=n.__addimage__.convertBase64ToBinaryString=function(C,I){I=typeof I!="boolean"||I;var k,ne="";if(typeof C=="string"){var we;k=(we=oe(C))!==null&&we!==void 0?we:C;try{ne=om(k)}catch(le){if(I)throw Q(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(C){var I,k,ne="";if(x(C)&&(C=b(C)),typeof C=="string"&&a(C)===t&&((ne=H(C,!1))===""&&(ne=n.loadFile(C)||""),C=ne),k=a(C),!w(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(C instanceof Uint8Array||(C=$(C)),!(I=this["process"+k.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=k,I}})(St.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,y=!1,w=0;w<d.length&&!y;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){r=d[x];var b=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var U=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(U.objId),ee=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(F(r.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(F(ee))+") >>",U.content=o;var te=U.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+te,r.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(U.objId,"0 R",B.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var Q=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Q+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var oe=this.annotations._nameMap[r.options.name];r.options.pageNumber=oe.page,r.options.top=oe.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Se=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Se+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var y=this.splitTextToSize(t,c).length;u=Math.ceil(d*y)}else c=f,u=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(St.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(U){return e[U.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(U){return typeof U=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(U)},c=n.__arabicParser__.isArabicEndLetter=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(U){return u(U)&&a.indexOf(U.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(U){var B=0,F=t,ee="",te=0;for(B=0;B<U.length;B+=1)F[U.charCodeAt(B)]!==void 0?(te++,typeof(F=F[U.charCodeAt(B)])=="number"&&(ee+=String.fromCharCode(F),F=t,te=0),B===U.length-1&&(F=t,ee+=U.charAt(B-(te-1)),B-=te-1,te=0)):(F=t,ee+=U.charAt(B-te),B-=te,te=0);return ee};n.__arabicParser__.isArabicDiacritic=function(U){return U!==void 0&&r[U.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(U,B,F){return u(U)?o(U)===!1?-1:!d(U)||!u(B)&&!u(F)||!u(F)&&c(B)||c(U)&&!u(B)||c(U)&&f(B)||c(U)&&c(B)?0:y(U)&&u(B)&&!c(B)&&u(F)&&d(F)?3:c(U)||!u(F)?1:2:-1},b=function(U){var B=0,F=0,ee=0,te="",Q="",oe="",Se=(U=U||"").split("\\s+"),$=[];for(B=0;B<Se.length;B+=1){for($.push(""),F=0;F<Se[B].length;F+=1)te=Se[B][F],Q=Se[B][F-1],oe=Se[B][F+1],u(te)?(ee=x(te,Q,oe),$[B]+=ee!==-1?String.fromCharCode(e[te.charCodeAt(0)][ee]):te):$[B]+=te;$[B]=w($[B])}return $.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var U,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(B)){var ee=0;for(F=[],ee=0;ee<B.length;ee+=1)Array.isArray(B[ee])?F.push([b(B[ee][0]),B[ee][1],B[ee][2]]):F.push([b(B[ee])]);U=F}else U=b(B);return typeof arguments[0]=="string"?U:(arguments[0].text=U,arguments[0])};n.events.push(["preProcessText",M])})(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(St.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(U){f=U}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(U){d=U}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(U){y=U}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(U){w=U}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(U){x=U}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(U){b=U}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(U){M=U}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,b=0,M=0,U=0,B=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var F=d.maxWidth;F>0?typeof f=="string"?f=this.splitTextToSize(f,F):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(te,Q){return te.concat(B.splitTextToSize(Q,F))},[])):f=Array.isArray(f)?f:[f];for(var ee=0;ee<f.length;ee++)b<(U=this.getStringUnitWidth(f[ee],{font:w})*y)&&(b=U);return b!==0&&(M=f.length),{w:b/=x,h:Math.max((M*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,w,x){if(r.call(this),!y)throw new Error("No data for PDF table.");var b,M,U,B,F=[],ee=[],te=[],Q={},oe={},Se=[],$=[],O=(x=x||{}).autoSize||!1,P=x.printHeaders!==!1,H=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,C=x.margins||Object.assign({width:this.getPageWidth()},e),I=typeof x.padding=="number"?x.padding:3,k=x.headerBackgroundColor||"#c8c8c8",ne=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=ne,this.setFontSize(H),w==null)ee=F=Object.keys(y[0]),te=F.map(function(){return"left"});else if(Array.isArray(w)&&Xn(w[0])==="object")for(F=w.map(function(X){return X.name}),ee=w.map(function(X){return X.prompt||X.name||""}),te=w.map(function(X){return X.align||"left"}),b=0;b<w.length;b+=1)oe[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(ee=F=w,te=F.map(function(){return"left"}));if(O||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<F.length;b+=1){for(Q[B=F[b]]=y.map(function(X){return X[B]}),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(ee[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=Q[B],this.setFont(void 0,"normal"),U=0;U<M.length;U+=1)Se.push(this.getTextDimensions(M[U],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);oe[B]=Math.max.apply(null,Se)+I+I,Se=[]}if(P){var we={};for(b=0;b<F.length;b+=1)we[F[b]]={},we[F[b]].text=ee[b],we[F[b]].align=te[b];var le=c.call(this,we,oe);$=F.map(function(X){return new o(f,d,oe[X],le,we[X].text,void 0,we[X].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var me=w.reduce(function(X,he){return X[he.name]=he.align,X},{});for(b=0;b<y.length;b+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:b,data:y[b]},this);var re=c.call(this,y[b],oe);for(U=0;U<F.length;U+=1){var ve=y[b][F[U]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:b,col:U,data:ve},this),u.call(this,new o(f,d,oe[F[U]],re,ve,b+2,me[F[U]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(b){var M=f[b];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[b]-y-y)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/x+y+y},this).reduce(function(b,M){return Math.max(b,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){y=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,x.push(y)),y.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(M)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(St.API);var d4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},p4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I0=f4(p4),m4=[100,200,300,400,500,600,700,800,900],DT=f4(m4);function Q1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return d4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof I0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function v_(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var OT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},__={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function w_(n){return n.trimLeft()}function MT(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function jT(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Xp,A_,S_,dh,Zp,x_,E_,T_,X1=["times"];function N_(n,e,t,r){var a=4,o=I_;switch(r){case St.API.image_compression.FAST:a=1,o=C_;break;case St.API.image_compression.MEDIUM:a=6,o=R_;break;case St.API.image_compression.SLOW:a=9,o=L_}n=(function(c,f,d,y){for(var w,x=c.length/f,b=new Uint8Array(c.length+x),M=[VT,C_,I_,R_,L_],U=0;U<x;U+=1){var B=U*f,F=c.subarray(B,B+f);if(y)b.set(y(F,d,w),B+U);else{for(var ee=M.length,te=[],Q=0;Q<ee;Q+=1)te[Q]=M[Q](F,d,w);var oe=FT(te.concat());b.set(te[oe],B+U)}w=F}return b})(n,e,t,o);var u=A0(n,{level:a});return St.API.__addimage__.arrayBufferToBinaryString(u)}function VT(n){var e=Array.apply([],n);return e.unshift(0),e}function C_(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function I_(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function R_(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function L_(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var u=UT(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function UT(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function FT(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Z1(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),u=(1<<t)-1;return g4(n,a)>>o&u}function k_(n,e,t,r){var a=t*r,o=Math.floor(a/8),u=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,y,w){if(y+1<d.byteLength)d.setUint16(y,w,!1);else{var x=w>>8&255;d.setUint8(y,x)}})(n,o,g4(n,o)&~(c<<u)&65535|f)}function g4(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function BT(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,y=[],w=0,x=null,b=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var U=n[e++];w=n[e++]|n[e++]<<8,x=n[e++],1&U||(x=null),b=U>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var B=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,ee=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,Q=n[e++],oe=Q>>6&1,Se=1<<1+(7&Q),$=c,O=f,P=!1;Q>>7&&(P=!0,$=e,O=Se,e+=3*Se);var H=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}y.push({x:B,y:F,width:ee,height:te,has_local_palette:P,palette_offset:$,palette_size:O,data_offset:H,data_length:e-H,transparent_index:x,interlaced:!!oe,delay:w,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return M},this.frameInfo=function(I){if(I<0||I>=y.length)throw new Error("Frame index out of range.");return y[I]},this.decodeAndBlitFrameBGRA=function(I,k){var ne=this.frameInfo(I),we=ne.width*ne.height,le=new Uint8Array(we);P_(n,ne.data_offset,le,we);var me=ne.palette_offset,re=ne.transparent_index;re===null&&(re=256);var ve=ne.width,X=t-ve,he=ve,R=4*(ne.y*t+ne.x),z=4*((ne.y+ne.height)*t+ne.x),J=R,ue=4*X;ne.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ge=0,Le=le.length;ge<Le;++ge){var ke=le[ge];if(he===0&&(he=ve,(J+=ue)>=z&&(ue=4*X+4*t*(fe-1),J=R+(ve+X)*(fe<<1),fe>>=1)),ke===re)J+=4;else{var Fe=n[me+3*ke],qe=n[me+3*ke+1],nt=n[me+3*ke+2];k[J++]=nt,k[J++]=qe,k[J++]=Fe,k[J++]=255}--he}},this.decodeAndBlitFrameRGBA=function(I,k){var ne=this.frameInfo(I),we=ne.width*ne.height,le=new Uint8Array(we);P_(n,ne.data_offset,le,we);var me=ne.palette_offset,re=ne.transparent_index;re===null&&(re=256);var ve=ne.width,X=t-ve,he=ve,R=4*(ne.y*t+ne.x),z=4*((ne.y+ne.height)*t+ne.x),J=R,ue=4*X;ne.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ge=0,Le=le.length;ge<Le;++ge){var ke=le[ge];if(he===0&&(he=ve,(J+=ue)>=z&&(ue=4*X+4*t*(fe-1),J=R+(ve+X)*(fe<<1),fe>>=1)),ke===re)J+=4;else{var Fe=n[me+3*ke],qe=n[me+3*ke+1],nt=n[me+3*ke+2];k[J++]=Fe,k[J++]=qe,k[J++]=nt,k[J++]=255}--he}}}function P_(n,e,t,r){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,y=0,w=0,x=0,b=n[e++],M=new Int32Array(4096),U=null;;){for(;y<16&&b!==0;)w|=n[e++]<<y,y+=8,b===1?b=n[e++]:--b;if(y<f)break;var B=w&d;if(w>>=f,y-=f,B!==o){if(B===u)break;for(var F=B<c?B:U,ee=0,te=F;te>o;)te=M[te]>>8,++ee;var Q=te;if(x+ee+(F!==B?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");t[x++]=Q;var oe=x+=ee;for(F!==B&&(t[x++]=Q),te=F;ee--;)te=M[te],t[--oe]=255&te,te>>=8;U!==null&&c<4096&&(M[c++]=U<<8|Q,c>=d+1&&f<12&&(++f,d=d<<1|1)),U=B}else c=u+1,d=(1<<(f=a+1))-1,U=null}return x!==r&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function J1(n){var e,t,r,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),w=new Array(65535),x=new Array(65535),b=new Array(64),M=new Array(64),U=[],B=0,F=7,ee=new Array(64),te=new Array(64),Q=new Array(64),oe=new Array(256),Se=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(R,z){for(var J=0,ue=0,fe=new Array,ge=1;ge<=16;ge++){for(var Le=1;Le<=R[ge];Le++)fe[z[ue]]=[],fe[z[ue]][0]=J,fe[z[ue]][1]=ge,ue++,J++;J*=2}return fe}function me(R){for(var z=R[0],J=R[1]-1;J>=0;)z&1<<J&&(B|=1<<F),J--,--F<0&&(B==255?(re(255),re(0)):re(B),F=7,B=0)}function re(R){U.push(R)}function ve(R){re(R>>8&255),re(255&R)}function X(R,z,J,ue,fe){for(var ge,Le=fe[0],ke=fe[240],Fe=(function(Je,yt){var tt,Yt,_t,mn,Bt,ct,wt,Tt,st,Lt,bt=0;for(st=0;st<8;++st){tt=Je[bt],Yt=Je[bt+1],_t=Je[bt+2],mn=Je[bt+3],Bt=Je[bt+4],ct=Je[bt+5],wt=Je[bt+6];var Tn=tt+(Tt=Je[bt+7]),an=tt-Tt,ht=Yt+wt,Ct=Yt-wt,Nn=_t+ct,At=_t-ct,nn=mn+Bt,Vt=mn-Bt,ir=Tn+nn,Gn=Tn-nn,gn=ht+Nn,Pt=ht-Nn;Je[bt]=ir+gn,Je[bt+4]=ir-gn;var rn=.707106781*(Pt+Gn);Je[bt+2]=Gn+rn,Je[bt+6]=Gn-rn;var Zs=.382683433*((ir=Vt+At)-(Pt=Ct+an)),pr=.5411961*ir+Zs,rs=1.306562965*Pt+Zs,di=.707106781*(gn=At+Ct),It=an+di,Cn=an-di;Je[bt+5]=Cn+pr,Je[bt+3]=Cn-pr,Je[bt+1]=It+rs,Je[bt+7]=It-rs,bt+=8}for(bt=0,st=0;st<8;++st){tt=Je[bt],Yt=Je[bt+8],_t=Je[bt+16],mn=Je[bt+24],Bt=Je[bt+32],ct=Je[bt+40],wt=Je[bt+48];var $n=tt+(Tt=Je[bt+56]),Pn=tt-Tt,mr=Yt+wt,Zn=Yt-wt,jr=_t+ct,cr=_t-ct,ga=mn+Bt,is=mn-Bt,si=$n+ga,ai=$n-ga,Vr=mr+jr,Ur=mr-jr;Je[bt]=si+Vr,Je[bt+32]=si-Vr;var Jn=.707106781*(Ur+ai);Je[bt+16]=ai+Jn,Je[bt+48]=ai-Jn;var Wn=.382683433*((si=is+cr)-(Ur=Zn+Pn)),ss=.5411961*si+Wn,Ms=1.306562965*Ur+Wn,Ei=.707106781*(Vr=cr+Zn),as=Pn+Ei,Ya=Pn-Ei;Je[bt+40]=Ya+ss,Je[bt+24]=Ya-ss,Je[bt+8]=as+Ms,Je[bt+56]=as-Ms,bt++}for(st=0;st<64;++st)Lt=Je[st]*yt[st],b[st]=Lt>0?Lt+.5|0:Lt-.5|0;return b})(R,z),qe=0;qe<64;++qe)M[$[qe]]=Fe[qe];var nt=M[0]-J;J=M[0],nt==0?me(ue[0]):(me(ue[x[ge=32767+nt]]),me(w[ge]));for(var rt=63;rt>0&&M[rt]==0;)rt--;if(rt==0)return me(Le),J;for(var Me,ce=1;ce<=rt;){for(var tn=ce;M[ce]==0&&ce<=rt;)++ce;var Nt=ce-tn;if(Nt>=16){Me=Nt>>4;for(var Et=1;Et<=Me;++Et)me(ke);Nt&=15}ge=32767+M[ce],me(fe[(Nt<<4)+x[ge]]),me(w[ge]),ce++}return rt!=63&&me(Le),J}function he(R){R=Math.min(Math.max(R,1),100),o!=R&&((function(z){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=u((J[ue]*z+50)/100);fe=Math.min(Math.max(fe,1),255),c[$[ue]]=fe}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Le=0;Le<64;Le++){var ke=u((ge[Le]*z+50)/100);ke=Math.min(Math.max(ke,1),255),f[$[Le]]=ke}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,nt=0;nt<8;nt++)for(var rt=0;rt<8;rt++)d[qe]=1/(c[$[qe]]*Fe[nt]*Fe[rt]*8),y[qe]=1/(f[$[qe]]*Fe[nt]*Fe[rt]*8),qe++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,z){z&&he(z),U=new Array,B=0,F=7,ve(65496),ve(65504),ve(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ve(1),ve(1),re(0),re(0),(function(){ve(65499),ve(132),re(0);for(var Yt=0;Yt<64;Yt++)re(c[Yt]);re(1);for(var _t=0;_t<64;_t++)re(f[_t])})(),(function(Yt,_t){ve(65472),ve(17),re(8),ve(_t),ve(Yt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(R.width,R.height),(function(){ve(65476),ve(418),re(0);for(var Yt=0;Yt<16;Yt++)re(O[Yt+1]);for(var _t=0;_t<=11;_t++)re(P[_t]);re(16);for(var mn=0;mn<16;mn++)re(H[mn+1]);for(var Bt=0;Bt<=161;Bt++)re(C[Bt]);re(1);for(var ct=0;ct<16;ct++)re(I[ct+1]);for(var wt=0;wt<=11;wt++)re(k[wt]);re(17);for(var Tt=0;Tt<16;Tt++)re(ne[Tt+1]);for(var st=0;st<=161;st++)re(we[st])})(),ve(65498),ve(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var J=0,ue=0,fe=0;B=0,F=7,this.encode.displayName="_encode_";for(var ge,Le,ke,Fe,qe,nt,rt,Me,ce,tn=R.data,Nt=R.width,Et=R.height,Je=4*Nt,yt=0;yt<Et;){for(ge=0;ge<Je;){for(qe=Je*yt+ge,rt=-1,Me=0,ce=0;ce<64;ce++)nt=qe+(Me=ce>>3)*Je+(rt=4*(7&ce)),yt+Me>=Et&&(nt-=Je*(yt+1+Me-Et)),ge+rt>=Je&&(nt-=ge+rt-Je+4),Le=tn[nt++],ke=tn[nt++],Fe=tn[nt++],ee[ce]=(Se[Le]+Se[ke+256|0]+Se[Fe+512|0]>>16)-128,te[ce]=(Se[Le+768|0]+Se[ke+1024|0]+Se[Fe+1280|0]>>16)-128,Q[ce]=(Se[Le+1280|0]+Se[ke+1536|0]+Se[Fe+1792|0]>>16)-128;J=X(ee,d,J,e,r),ue=X(te,y,ue,t,a),fe=X(Q,y,fe,t,a),ge+=32}yt+=8}if(F>=0){var tt=[];tt[1]=F+1,tt[0]=(1<<F+1)-1,me(tt)}return ve(65497),new Uint8Array(U)},n=n||50,(function(){for(var R=String.fromCharCode,z=0;z<256;z++)oe[z]=R(z)})(),e=le(O,P),t=le(I,k),r=le(H,C),a=le(ne,we),(function(){for(var R=1,z=2,J=1;J<=15;J++){for(var ue=R;ue<z;ue++)x[32767+ue]=J,w[32767+ue]=[],w[32767+ue][1]=J,w[32767+ue][0]=ue;for(var fe=-(z-1);fe<=-R;fe++)x[32767+fe]=J,w[32767+fe]=[],w[32767+fe][1]=J,w[32767+fe][0]=z-1+fe;R<<=1,z<<=1}})(),(function(){for(var R=0;R<256;R++)Se[R]=19595*R,Se[R+256|0]=38470*R,Se[R+512|0]=7471*R+32768,Se[R+768|0]=-11059*R,Se[R+1024|0]=-21709*R,Se[R+1280|0]=32768*R+8421375,Se[R+1536|0]=-27439*R,Se[R+1792|0]=-5329*R})(),he(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D_(n){function e(P){if(!P)throw Error("assert :P")}function t(P,H,C){for(var I=0;4>I;I++)if(P[H+I]!=C.charCodeAt(I))return!0;return!1}function r(P,H,C,I,k){for(var ne=0;ne<k;ne++)P[H+ne]=C[I+ne]}function a(P,H,C,I){for(var k=0;k<I;k++)P[H+k]=C}function o(P){return new Int32Array(P)}function u(P,H){for(var C=[],I=0;I<P;I++)C.push(new H);return C}function c(P,H){var C=[];return(function I(k,ne,we){for(var le=we[ne],me=0;me<le&&(k.push(we.length>ne+1?[]:new H),!(we.length<ne+1));me++)I(k[me],ne+1,we)})(C,0,P),C}var f=function(){var P=this;function H(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function C(p,v,S,T,V){e(!(T%S));do p[v+(T-=S)]=V;while(0<T)}function I(p,v,S,T,V){if(e(2328>=V),512>=V)var q=o(512);else if((q=o(V))==null)return 0;return(function(G,Y,Z,ae,ye,Ie){var ie,be,Te=Y,je=1<<Z,Ce=o(16),Ue=o(16);for(e(ye!=0),e(ae!=null),e(G!=null),e(0<Z),be=0;be<ye;++be){if(15<ae[be])return 0;++Ce[ae[be]]}if(Ce[0]==ye)return 0;for(Ue[1]=0,ie=1;15>ie;++ie){if(Ce[ie]>1<<ie)return 0;Ue[ie+1]=Ue[ie]+Ce[ie]}for(be=0;be<ye;++be)ie=ae[be],0<ae[be]&&(Ie[Ue[ie]++]=be);if(Ue[15]==1)return(ae=new k).g=0,ae.value=Ie[0],C(G,Te,1,je,ae),je;var Ve,Xe=-1,We=je-1,vt=0,ot=1,Gt=1,ut=1<<Z;for(be=0,ie=1,ye=2;ie<=Z;++ie,ye<<=1){if(ot+=Gt<<=1,0>(Gt-=Ce[ie]))return 0;for(;0<Ce[ie];--Ce[ie])(ae=new k).g=ie,ae.value=Ie[be++],C(G,Te+vt,ye,ut,ae),vt=H(vt,ie)}for(ie=Z+1,ye=2;15>=ie;++ie,ye<<=1){if(ot+=Gt<<=1,0>(Gt-=Ce[ie]))return 0;for(;0<Ce[ie];--Ce[ie]){if(ae=new k,(vt&We)!=Xe){for(Te+=ut,Ve=1<<(Xe=ie)-Z;15>Xe&&!(0>=(Ve-=Ce[Xe]));)++Xe,Ve<<=1;je+=ut=1<<(Ve=Xe-Z),G[Y+(Xe=vt&We)].g=Ve+Z,G[Y+Xe].value=Te-Y-Xe}ae.g=ie-Z,ae.value=Ie[be++],C(G,Te+(vt>>Z),ye,ut,ae),vt=H(vt,ie)}}return ot!=2*Ue[15]-1?0:je})(p,v,S,T,V,q)}function k(){this.value=this.g=0}function ne(){this.value=this.g=0}function we(){this.G=u(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(qs,ne)}function le(p,v,S,T){e(p!=null),e(v!=null),e(2147483648>T),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+T,p.Zc=4<=T?S+T-4+1:S,Le(p)}function me(p,v){for(var S=0;0<v--;)S|=Fe(p,128)<<v;return S}function re(p,v){var S=me(p,v);return ke(p)?-S:S}function ve(p,v,S,T){var V,q=0;for(e(p!=null),e(v!=null),e(4294967288>T),p.Sb=T,p.Ra=0,p.u=0,p.h=0,4<T&&(T=4),V=0;V<T;++V)q+=v[S+V]<<8*V;p.Ra=q,p.bb=T,p.oa=v,p.pa=S}function X(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<no-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function he(p,v){if(e(0<=v),!p.h&&v<=Wl){var S=J(p)&Na[v];return p.u+=v,X(p),S}return p.h=1,p.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&no-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>no}function fe(p,v){p.u=v,p.h=ue(p)}function ge(p){p.u>=wr&&(e(p.u>=wr),X(p))}function Le(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return me(p,1)}function Fe(p,v){var S=p.Ca;0>p.b&&Le(p);var T=p.b,V=S*v>>>8,q=(p.I>>>T>V)+0;for(q?(S-=V,p.I-=V+1<<T>>>0):S=V+1,T=S,V=0;256<=T;)V+=8,T>>=8;return T=7^V+Kh[T],p.b-=T,p.Ca=(S<<T)-1,q}function qe(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function nt(p,v){return p[v+0]|p[v+1]<<8}function rt(p,v){return nt(p,v)|p[v+2]<<16}function Me(p,v){return nt(p,v)|nt(p,v+2)<<16}function ce(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function tn(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Nt(){this.X=[],this.Xa=this.Mb=0}function Et(p,v,S,T){e(S!=null),e(T!=null);var V=S[0],q=T[0];return V==0&&(V=(p*q+v/2)/v),q==0&&(q=(v*V+p/2)/p),0>=V||0>=q?0:(S[0]=V,T[0]=q,1)}function Je(p,v){return p+(1<<v)-1>>>v}function yt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function tt(p,v){P[v]=function(S,T,V,q,G,Y,Z){var ae;for(ae=0;ae<G;++ae){var ye=P[p](Y[Z+ae-1],V,q+ae);Y[Z+ae]=yt(S[T+ae],ye)}}}function Yt(){this.ud=this.hd=this.jd=0}function _t(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function mn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Bt(p,v){return mn(p+(p-v+.5>>1))}function ct(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function wt(p,v,S,T,V,q,G){for(T=q[G-1],S=0;S<V;++S)q[G+S]=T=yt(p[v+S],T)}function Tt(p,v,S,T,V){var q;for(q=0;q<S;++q){var G=p[v+q],Y=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((Y<<16)+Y));T[V+q]=(4278255360&G)+Z>>>0}}function st(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Lt(p,v,S,T,V,q){var G;for(G=0;G<T;++G){var Y=v[S+G],Z=Y>>>8,ae=Y,ye=255&(ye=(ye=Y>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(Z<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),V[q+G]=(4278255360&Y)+(ye<<16)+ae}}function bt(p,v,S,T,V){P[v]=function(q,G,Y,Z,ae,ye,Ie,ie,be){for(Z=Ie;Z<ie;++Z)for(Ie=0;Ie<be;++Ie)ae[ye++]=V(Y[T(q[G++])])},P[p]=function(q,G,Y,Z,ae,ye,Ie){var ie=8>>q.b,be=q.Ea,Te=q.K[0],je=q.w;if(8>ie)for(q=(1<<q.b)-1,je=(1<<ie)-1;G<Y;++G){var Ce,Ue=0;for(Ce=0;Ce<be;++Ce)Ce&q||(Ue=T(Z[ae++])),ye[Ie++]=V(Te[Ue&je]),Ue>>=ie}else P["VP8LMapColor"+S](Z,ae,Te,je,ye,Ie,G,Y,be)}}function Tn(p,v,S,T,V){for(S=v+S;v<S;){var q=p[v++];T[V++]=q>>16&255,T[V++]=q>>8&255,T[V++]=255&q}}function an(p,v,S,T,V){for(S=v+S;v<S;){var q=p[v++];T[V++]=q>>16&255,T[V++]=q>>8&255,T[V++]=255&q,T[V++]=q>>24&255}}function ht(p,v,S,T,V){for(S=v+S;v<S;){var q=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;T[V++]=q,T[V++]=G}}function Ct(p,v,S,T,V){for(S=v+S;v<S;){var q=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;T[V++]=q,T[V++]=G}}function Nn(p,v,S,T,V){for(S=v+S;v<S;){var q=p[v++];T[V++]=255&q,T[V++]=q>>8&255,T[V++]=q>>16&255}}function At(p,v,S,T,V,q){if(q==0)for(S=v+S;v<S;)qe(T,((q=p[v++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else r(T,V,p,v,S)}function nn(p,v){P[v][0]=P[p+"0"],P[v][1]=P[p+"1"],P[v][2]=P[p+"2"],P[v][3]=P[p+"3"],P[v][4]=P[p+"4"],P[v][5]=P[p+"5"],P[v][6]=P[p+"6"],P[v][7]=P[p+"7"],P[v][8]=P[p+"8"],P[v][9]=P[p+"9"],P[v][10]=P[p+"10"],P[v][11]=P[p+"11"],P[v][12]=P[p+"12"],P[v][13]=P[p+"13"],P[v][14]=P[p+"0"],P[v][15]=P[p+"0"]}function Vt(p){return p==ec||p==Do||p==io||p==Zl}function ir(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ir,this.f.kb=new Gn,this.sd=null}function Pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zs(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function pr(p,v){var S=p.T,T=v.ba.f.RGBA,V=T.eb,q=T.fb+p.ka*T.A,G=ui[v.ba.S],Y=p.y,Z=p.O,ae=p.f,ye=p.N,Ie=p.ea,ie=p.W,be=v.cc,Te=v.dc,je=v.Mc,Ce=v.Nc,Ue=p.ka,Ve=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(Ue==0?G(Y,Z,null,null,ae,ye,Ie,ie,ae,ye,Ie,ie,V,q,null,null,Xe):(G(v.ec,v.fc,Y,Z,be,Te,je,Ce,ae,ye,Ie,ie,V,q-T.A,V,q,Xe),++S);Ue+2<Ve;Ue+=2)be=ae,Te=ye,je=Ie,Ce=ie,ye+=p.Rc,ie+=p.Rc,q+=2*T.A,G(Y,(Z+=2*p.fa)-p.fa,Y,Z,be,Te,je,Ce,ae,ye,Ie,ie,V,q-T.A,V,q,Xe);return Z+=p.fa,p.j+Ve<p.o?(r(v.ec,v.fc,Y,Z,Xe),r(v.cc,v.dc,ae,ye,We),r(v.Mc,v.Nc,Ie,ie,We),S--):1&Ve||G(Y,Z,null,null,ae,ye,Ie,ie,ae,ye,Ie,ie,V,q+T.A,null,null,Xe),S}function rs(p,v,S){var T=p.F,V=[p.J];if(T!=null){var q=p.U,G=v.ba.S,Y=G==hl||G==io;v=v.ba.f.RGBA;var Z=[0],ae=p.ka;Z[0]=p.T,p.Kb&&(ae==0?--Z[0]:(--ae,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-ae));var ye=v.eb;ae=v.fb+ae*v.A,p=Rs(T,V[0],p.width,q,Z,ye,ae+(Y?0:3),v.A),e(S==Z),p&&Vt(G)&&Ql(ye,ae,Y,q,Z,v.A)}return 0}function di(p){var v=p.ma,S=v.ba.S,T=11>S,V=S==Xl||S==Ju||S==hl||S==ro||S==12||Vt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!yi(v.Oa,p,V?11:12))return 0;if(V&&Vt(S)&&Io(),p.da)alert("todo:use_scaling");else{if(T){if(v.Ib=Zs,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=pr,Io()}}else alert("todo:EmitYUV");V&&(v.Jb=rs,T&&Rr())}if(T&&!Kd){for(p=0;256>p;++p)Ag[p]=89858*(p-128)+Yr>>Va,rc[p]=-22014*(p-128)+Yr,rf[p]=-45773*(p-128),Kr[p]=113618*(p-128)+Yr>>Va;for(p=jo;p<Gc;++p)v=76283*(p-16)+Yr>>Va,ic[p-jo]=fn(v,255),sf[p-jo]=fn(v+8>>4,15);Kd=1}return 1}function It(p){var v=p.ma,S=p.U,T=p.T;return e(!(1&p.ka)),0>=S||0>=T?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Cn(p){p.ma.memory=null}function $n(p,v,S,T){return he(p,8)!=47?0:(v[0]=he(p,14)+1,S[0]=he(p,14)+1,T[0]=he(p,1),he(p,3)!=0?0:!p.h)}function Pn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+he(v,S)+1}function mr(p,v){return 120<v?v-120:1<=(S=((S=ao[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Zn(p,v,S){var T=J(S),V=p[v+=255&T].g-8;return 0<V&&(fe(S,S.u+8),T=J(S),v+=p[v].value,v+=T&(1<<V)-1),fe(S,S.u+p[v].g),p[v].value}function jr(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function cr(p,v,S){var T=p.xc;return e((v=T==0?0:p.vc[p.md*(S>>T)+(v>>T)])<p.Wb),p.Ya[v]}function ga(p,v,S,T){var V=p.ab,q=p.c*v,G=p.C;v=G+v;var Y=S,Z=T;for(T=p.Ta,S=p.Ua;0<V--;){var ae=p.gc[V],ye=G,Ie=v,ie=Y,be=Z,Te=(Z=T,Y=S,ae.Ea);switch(e(ye<Ie),e(Ie<=ae.nc),ae.hc){case 2:Yl(ie,be,(Ie-ye)*Te,Z,Y);break;case 0:var je=ye,Ce=Ie,Ue=Z,Ve=Y,Xe=(ut=ae).Ea;je==0&&(Ca(ie,be,null,null,1,Ue,Ve),wt(ie,be+1,0,0,Xe-1,Ue,Ve+1),be+=Xe,Ve+=Xe,++je);for(var We=1<<ut.b,vt=We-1,ot=Je(Xe,ut.b),Gt=ut.K,ut=ut.w+(je>>ut.b)*ot;je<Ce;){var dn=Gt,zr=ut,zt=1;for(Ia(ie,be,Ue,Ve-Xe,1,Ue,Ve);zt<Xe;){var ft=(zt&~vt)+We;ft>Xe&&(ft=Xe),(0,ko[dn[zr++]>>8&15])(ie,be+ +zt,Ue,Ve+zt-Xe,ft-zt,Ue,Ve+zt),zt=ft}be+=Xe,Ve+=Xe,++je&vt||(ut+=ot)}Ie!=ae.nc&&r(Z,Y-Te,Z,Y+(Ie-ye-1)*Te,Te);break;case 1:for(Te=ie,Ce=be,Xe=(ie=ae.Ea)-(Ve=ie&~(Ue=(be=1<<ae.b)-1)),je=Je(ie,ae.b),We=ae.K,ae=ae.w+(ye>>ae.b)*je;ye<Ie;){for(vt=We,ot=ae,Gt=new Yt,ut=Ce+Ve,dn=Ce+ie;Ce<ut;)st(vt[ot++],Gt),La(Gt,Te,Ce,be,Z,Y),Ce+=be,Y+=be;Ce<dn&&(st(vt[ot++],Gt),La(Gt,Te,Ce,Xe,Z,Y),Ce+=Xe,Y+=Xe),++ye&Ue||(ae+=je)}break;case 3:if(ie==Z&&be==Y&&0<ae.b){for(Ce=Z,ie=Te=Y+(Ie-ye)*Te-(Ve=(Ie-ye)*Je(ae.Ea,ae.b)),be=Z,Ue=Y,je=[],Ve=(Xe=Ve)-1;0<=Ve;--Ve)je[Ve]=be[Ue+Ve];for(Ve=Xe-1;0<=Ve;--Ve)Ce[ie+Ve]=je[Ve];Qu(ae,ye,Ie,Z,Te,Z,Y)}else Qu(ae,ye,Ie,ie,be,Z,Y)}Y=T,Z=S}Z!=S&&r(T,S,Y,Z,q)}function is(p,v){var S=p.V,T=p.Ba+p.c*p.C,V=v-p.C;if(e(v<=p.l.o),e(16>=V),0<V){var q=p.l,G=p.Ta,Y=p.Ua,Z=q.width;if(ga(p,V,S,T),V=Y=[Y],e((S=p.C)<(T=v)),e(q.v<q.va),T>q.o&&(T=q.o),S<q.j){var ae=q.j-S;S=q.j,V[0]+=ae*Z}if(S>=T?S=0:(V[0]+=4*q.v,q.ka=S-q.j,q.U=q.va-q.v,q.T=T-S,S=1),S){if(Y=Y[0],11>(S=p.ca).S){var ye=S.f.RGBA,Ie=(T=S.S,V=q.U,q=q.T,ae=ye.eb,ye.A),ie=q;for(ye=ye.fb+p.Ma*ye.A;0<ie--;){var be=G,Te=Y,je=V,Ce=ae,Ue=ye;switch(T){case Ri:Kl(be,Te,je,Ce,Ue);break;case Xl:Gi(be,Te,je,Ce,Ue);break;case ec:Gi(be,Te,je,Ce,Ue),Ql(Ce,Ue,0,je,1,0);break;case Da:qn(be,Te,je,Ce,Ue);break;case Ju:At(be,Te,je,Ce,Ue,1);break;case Do:At(be,Te,je,Ce,Ue,1),Ql(Ce,Ue,0,je,1,0);break;case hl:At(be,Te,je,Ce,Ue,0);break;case io:At(be,Te,je,Ce,Ue,0),Ql(Ce,Ue,1,je,1,0);break;case ro:ka(be,Te,je,Ce,Ue);break;case Zl:ka(be,Te,je,Ce,Ue),Is(Ce,Ue,je,1,0);break;case Fc:On(be,Te,je,Ce,Ue);break;default:e(0)}Y+=Z,ye+=Ie}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function si(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,T=p.Ya[v].H;if(0<S[1][T[1]+0].g||0<S[2][T[2]+0].g||0<S[3][T[3]+0].g)return 0}return 1}function ai(p,v,S,T,V,q){if(p.Z!=0){var G=p.qd,Y=p.rd;for(e(Ma[p.Z]!=null);v<S;++v)Ma[p.Z](G,Y,T,V,T,V,q),G=T,Y=V,V+=q;p.qd=G,p.rd=Y}}function Vr(p,v){var S=p.l.ma,T=S.Z==0||S.Z==1?p.l.j:p.C;if(T=p.C<T?T:p.C,e(v<=p.l.o),v>T){var V=p.l.width,q=S.ca,G=S.tb+V*T,Y=p.V,Z=p.Ba+p.c*T,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),Ra(ae[0],T,v,Y,Z,q,G),ai(S,T,v,q,G,V)}p.C=p.Ma=v}function Ur(p,v,S,T,V,q,G){var Y=p.$/T,Z=p.$%T,ae=p.m,ye=p.s,Ie=S+p.$,ie=Ie;V=S+T*V;var be=S+T*q,Te=280+ye.ua,je=p.Pb?Y:16777216,Ce=0<ye.ua?ye.Wa:null,Ue=ye.wc,Ve=Ie<be?cr(ye,Z,Y):null;e(p.C<q),e(be<=V);var Xe=!1;e:for(;;){for(;Xe||Ie<be;){var We=0;if(Y>=je){var vt=Ie-S;e((je=p).Pb),je.wd=je.m,je.xd=vt,0<je.s.ua&&tn(je.s.Wa,je.s.vb),je=Y+$d}if(Z&Ue||(Ve=cr(ye,Z,Y)),e(Ve!=null),Ve.Qb&&(v[Ie]=Ve.qb,Xe=!0),!Xe)if(ge(ae),Ve.jc){We=ae,vt=v;var ot=Ie,Gt=Ve.pd[J(We)&qs-1];e(Ve.jc),256>Gt.g?(fe(We,We.u+Gt.g),vt[ot]=Gt.value,We=0):(fe(We,We.u+Gt.g-256),e(256<=Gt.value),We=Gt.value),We==0&&(Xe=!0)}else We=Zn(Ve.G[0],Ve.H[0],ae);if(ae.h)break;if(Xe||256>We){if(!Xe)if(Ve.nd)v[Ie]=(Ve.qb|We<<8)>>>0;else{if(ge(ae),Xe=Zn(Ve.G[1],Ve.H[1],ae),ge(ae),vt=Zn(Ve.G[2],Ve.H[2],ae),ot=Zn(Ve.G[3],Ve.H[3],ae),ae.h)break;v[Ie]=(ot<<24|Xe<<16|We<<8|vt)>>>0}if(Xe=!1,++Ie,++Z>=T&&(Z=0,++Y,G!=null&&Y<=q&&!(Y%16)&&G(p,Y),Ce!=null))for(;ie<Ie;)We=v[ie++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else if(280>We){if(We=Pn(We-256,ae),vt=Zn(Ve.G[4],Ve.H[4],ae),ge(ae),vt=mr(T,vt=Pn(vt,ae)),ae.h)break;if(Ie-S<vt||V-Ie<We)break e;for(ot=0;ot<We;++ot)v[Ie+ot]=v[Ie+ot-vt];for(Ie+=We,Z+=We;Z>=T;)Z-=T,++Y,G!=null&&Y<=q&&!(Y%16)&&G(p,Y);if(e(Ie<=V),Z&Ue&&(Ve=cr(ye,Z,Y)),Ce!=null)for(;ie<Ie;)We=v[ie++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else{if(!(We<Te))break e;for(Xe=We-280,e(Ce!=null);ie<Ie;)We=v[ie++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We;We=Ie,e(!(Xe>>>(vt=Ce).Xa)),v[We]=vt.X[Xe],Xe=!0}Xe||e(ae.h==ue(ae))}if(p.Pb&&ae.h&&Ie<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&tn(p.s.vb,p.s.Wa);else{if(ae.h)break e;G?.(p,Y>q?q:Y),p.a=0,p.$=Ie-S}return 1}return p.a=3,0}function Jn(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Wn(){var p=new er;return p==null?null:(p.a=0,p.xb=Jl,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Yl=Tt,La=Lt,Kl=Tn,Gi=an,ka=ht,On=Ct,qn=Nn,P.VP8LMapColor32b=oi,P.VP8LMapColor8b=Lo,p)}function ss(p,v,S,T,V){var q=1,G=[p],Y=[v],Z=T.m,ae=T.s,ye=null,Ie=0;e:for(;;){if(S)for(;q&&he(Z,1);){var ie=G,be=Y,Te=T,je=1,Ce=Te.m,Ue=Te.gc[Te.ab],Ve=he(Ce,2);if(Te.Oc&1<<Ve)q=0;else{switch(Te.Oc|=1<<Ve,Ue.hc=Ve,Ue.Ea=ie[0],Ue.nc=be[0],Ue.K=[null],++Te.ab,e(4>=Te.ab),Ve){case 0:case 1:Ue.b=he(Ce,3)+2,je=ss(Je(Ue.Ea,Ue.b),Je(Ue.nc,Ue.b),0,Te,Ue.K),Ue.K=Ue.K[0];break;case 3:var Xe,We=he(Ce,8)+1,vt=16<We?0:4<We?1:2<We?2:3;if(ie[0]=Je(Ue.Ea,vt),Ue.b=vt,Xe=je=ss(We,1,0,Te,Ue.K)){var ot,Gt=We,ut=Ue,dn=1<<(8>>ut.b),zr=o(dn);if(zr==null)Xe=0;else{var zt=ut.K[0],ft=ut.w;for(zr[0]=ut.K[0][0],ot=1;ot<1*Gt;++ot)zr[ot]=yt(zt[ft+ot],zr[ot-1]);for(;ot<4*dn;++ot)zr[ot]=0;ut.K[0]=null,ut.K[0]=zr,Xe=1}}je=Xe;break;case 2:break;default:e(0)}q=je}}if(G=G[0],Y=Y[0],q&&he(Z,1)&&!(q=1<=(Ie=he(Z,4))&&11>=Ie)){T.a=3;break e}var et;if(et=q)t:{var vr,$t,Jt,dt=T,Kt=G,wn=Y,or=Ie,kr=S,Pr=dt.m,Sr=dt.s,hn=[null],An=1,xr=0,Ot=dl[or];n:for(;;){if(kr&&he(Pr,1)){var Qr=he(Pr,3)+2,Ps=Je(Kt,Qr),Er=Je(wn,Qr),Yi=Ps*Er;if(!ss(Ps,Er,0,dt,hn))break n;for(hn=hn[0],Sr.xc=Qr,vr=0;vr<Yi;++vr){var Yn=hn[vr]>>8&65535;hn[vr]=Yn,Yn>=An&&(An=Yn+1)}}if(Pr.h)break n;for($t=0;5>$t;++$t){var Dr=Ls[$t];!$t&&0<or&&(Dr+=1<<or),xr<Dr&&(xr=Dr)}var Ki=u(An*Ot,k),vi=An,tr=u(vi,we);if(tr==null)var In=null;else e(65536>=vi),In=tr;var Li=o(xr);if(In==null||Li==null||Ki==null){dt.a=1;break n}var _i=Ki;for(vr=Jt=0;vr<An;++vr){var Fn=In[vr],Qi=Fn.G,Xr=Fn.H,Ua=0,sa=1,Zr=0;for($t=0;5>$t;++$t){Dr=Ls[$t],Qi[$t]=_i,Xr[$t]=Jt,!$t&&0<or&&(Dr+=1<<or);i:{var sc,$c=Dr,ac=dt,tu=Li,Zd=_i,Jd=Jt,oc=0,co=ac.m,xg=he(co,1);if(a(tu,0,0,$c),xg){var ep=he(co,1)+1,tp=he(co,1),af=he(co,tp==0?1:8);tu[af]=1,ep==2&&(tu[af=he(co,8)]=1);var nu=1}else{var of=o(19),lf=he(co,4)+4;if(19<lf){ac.a=3;var lc=0;break i}for(sc=0;sc<lf;++sc)of[so[sc]]=he(co,3);var Wc=void 0,ru=void 0,np=ac,rp=of,ho=$c,uc=tu,Yc=0,aa=np.m,iu=8,uf=u(128,k);r:for(;I(uf,0,7,rp,19);){if(he(aa,1)){var ip=2+2*he(aa,3);if((Wc=2+he(aa,ip))>ho)break r}else Wc=ho;for(ru=0;ru<ho&&Wc--;){ge(aa);var cf=uf[0+(127&J(aa))];fe(aa,aa.u+cf.g);var gl=cf.value;if(16>gl)uc[ru++]=gl,gl!=0&&(iu=gl);else{var sp=gl==16,hf=gl-16,ff=$s[hf],df=he(aa,Bc[hf])+ff;if(ru+df>ho)break r;for(var ap=sp?iu:0;0<df--;)uc[ru++]=ap}}Yc=1;break r}Yc||(np.a=3),nu=Yc}(nu=nu&&!co.h)&&(oc=I(Zd,Jd,8,tu,$c)),nu&&oc!=0?lc=oc:(ac.a=3,lc=0)}if(lc==0)break n;if(sa&&fl[$t]==1&&(sa=_i[Jt].g==0),Ua+=_i[Jt].g,Jt+=lc,3>=$t){var yl,Kc=Li[0];for(yl=1;yl<Dr;++yl)Li[yl]>Kc&&(Kc=Li[yl]);Zr+=Kc}}if(Fn.nd=sa,Fn.Qb=0,sa&&(Fn.qb=(Qi[3][Xr[3]+0].value<<24|Qi[1][Xr[1]+0].value<<16|Qi[2][Xr[2]+0].value)>>>0,Ua==0&&256>Qi[0][Xr[0]+0].value&&(Fn.Qb=1,Fn.qb+=Qi[0][Xr[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Zr,Fn.jc){var cc,fo=Fn;for(cc=0;cc<qs;++cc){var Fa=cc,po=fo.pd[Fa],hc=fo.G[0][fo.H[0]+Fa];256<=hc.value?(po.g=hc.g+256,po.value=hc.value):(po.g=0,po.value=0,Fa>>=jr(hc,8,po),Fa>>=jr(fo.G[1][fo.H[1]+Fa],16,po),Fa>>=jr(fo.G[2][fo.H[2]+Fa],0,po),jr(fo.G[3][fo.H[3]+Fa],24,po))}}}Sr.vc=hn,Sr.Wb=An,Sr.Ya=In,Sr.yc=Ki,et=1;break t}et=0}if(!(q=et)){T.a=3;break e}if(0<Ie){if(ae.ua=1<<Ie,!ce(ae.Wa,Ie)){T.a=1,q=0;break e}}else ae.ua=0;var fc=T,pf=G,op=Y,mf=fc.s,gf=mf.xc;if(fc.c=pf,fc.i=op,mf.md=Je(pf,gf),mf.wc=gf==0?-1:(1<<gf)-1,S){T.xb=Yd;break e}if((ye=o(G*Y))==null){T.a=1,q=0;break e}q=(q=Ur(T,ye,0,G,Y,Y,null))&&!Z.h;break e}return q?(V!=null?V[0]=ye:(e(ye==null),e(S)),T.$=0,S||Jn(ae)):Jn(ae),q}function Ms(p,v){var S=p.c*p.i,T=S+v+16*v;return e(p.c<=v),p.V=o(T),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Ei(p,v){var S=p.C,T=v-S,V=p.V,q=p.Ba+p.c*S;for(e(v<=p.l.o);0<T;){var G=16<T?16:T,Y=p.l.ma,Z=p.l.width,ae=Z*G,ye=Y.ca,Ie=Y.tb+Z*S,ie=p.Ta,be=p.Ua;ga(p,G,V,q),ll(ie,be,ye,Ie,ae),ai(Y,S,S+G,ye,Ie,Z),T-=G,V+=G*p.c,S+=G}e(S==v),p.C=p.Ma=v}function as(){this.ub=this.yd=this.td=this.Rb=0}function Ya(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zl(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Js(){this.Yb=(function(){var p=[];return(function v(S,T,V){for(var q=V[T],G=0;G<q&&(S.push(V.length>T+1?[]:0),!(V.length<T+1));G++)v(S[G],T+1,V)})(p,0,[3,11]),p})()}function rl(){this.jb=o(3),this.Wc=c([4,8],Js),this.Xc=c([4,17],Js)}function ea(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Cr(){this.ld=this.La=this.dd=this.tc=0}function Ir(){this.Na=this.la=0}function ya(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function js(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cr),this.Y=0,this.ya=Array(new xo),this.aa=0,this.l=new va}function Ka(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Qa(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new as,this.Kc=new Ya,this.ed=new ea,this.Qa=new zl,this.Ic=this.$c=this.Aa=0,this.D=new js,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,R),this.ia=0,this.pb=u(4,ya),this.Pa=new rl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ka),this.Hd=0,this.rb=Array(new Ir),this.sb=0,this.wa=Array(new Cr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xo),this.L=this.aa=0,this.gd=c([4,2],Cr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Eo(){var p=new Qa;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Wr||(Wr=os)),p}function _n(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function To(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Hl(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return _n(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,T=v.w,V=v.ha;if(4>V)return _n(p,7,"Truncated header.");var q=S[T+0]|S[T+1]<<8|S[T+2]<<16,G=p.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return _n(p,3,"Incorrect keyframe parameters.");if(!G.yd)return _n(p,4,"Frame not displayable.");T+=3,V-=3;var Y=p.Kc;if(G.Rb){if(7>V)return _n(p,7,"cannot parse picture header");if(!To(S,T,V))return _n(p,3,"Bad code word");Y.c=16383&(S[T+4]<<8|S[T+3]),Y.Td=S[T+4]>>6,Y.i=16383&(S[T+6]<<8|S[T+5]),Y.Ud=S[T+6]>>6,T+=7,V-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(G.ub>V)return _n(p,7,"bad partition length");le(q=p.m,S,T,G.ub),T+=G.ub,V-=G.ub,G.Rb&&(Y.Ld=ke(q),Y.Kd=ke(q)),Y=p.Qa;var Z,ae=p.Pa;if(e(q!=null),e(Y!=null),Y.Cb=ke(q),Y.Cb){if(Y.Bb=ke(q),ke(q)){for(Y.Fb=ke(q),Z=0;4>Z;++Z)Y.Zb[Z]=ke(q)?re(q,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=ke(q)?re(q,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)ae.jb[Z]=ke(q)?me(q,8):255}else Y.Bb=0;if(q.Ka)return _n(p,3,"cannot parse segment header");if((Y=p.ed).zd=ke(q),Y.Tb=me(q,6),Y.wb=me(q,3),Y.Pc=ke(q),Y.Pc&&ke(q)){for(ae=0;4>ae;++ae)ke(q)&&(Y.vd[ae]=re(q,6));for(ae=0;4>ae;++ae)ke(q)&&(Y.od[ae]=re(q,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,q.Ka)return _n(p,3,"cannot parse filter header");var ye=V;if(V=Z=T,T=Z+ye,Y=ye,p.Xb=(1<<me(p.m,2))-1,ye<3*(ae=p.Xb))S=7;else{for(Z+=3*ae,Y-=3*ae,ye=0;ye<ae;++ye){var Ie=S[V+0]|S[V+1]<<8|S[V+2]<<16;Ie>Y&&(Ie=Y),le(p.Jc[+ye],S,Z,Ie),Z+=Ie,Y-=Ie,V+=3}le(p.Jc[+ae],S,Z,Y),S=Z<T?0:5}if(S!=0)return _n(p,S,"cannot parse partitions");for(S=me(Z=p.m,7),V=ke(Z)?re(Z,4):0,T=ke(Z)?re(Z,4):0,Y=ke(Z)?re(Z,4):0,ae=ke(Z)?re(Z,4):0,Z=ke(Z)?re(Z,4):0,ye=p.Qa,Ie=0;4>Ie;++Ie){if(ye.Cb){var ie=ye.Zb[Ie];ye.Fb||(ie+=S)}else{if(0<Ie){p.pb[Ie]=p.pb[0];continue}ie=S}var be=p.pb[Ie];be.Sc[0]=tc[fn(ie+V,127)],be.Sc[1]=nc[fn(ie+0,127)],be.Eb[0]=2*tc[fn(ie+T,127)],be.Eb[1]=101581*nc[fn(ie+Y,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=tc[fn(ie+ae,117)],be.Qc[1]=nc[fn(ie+Z,127)],be.lc=ie+Z}if(!G.Rb)return _n(p,4,"Not a key frame.");for(ke(q),G=p.Pa,S=0;4>S;++S){for(V=0;8>V;++V)for(T=0;3>T;++T)for(Y=0;11>Y;++Y)ae=Fe(q,pl[S][V][T][Y])?me(q,8):Oa[S][V][T][Y],G.Wc[S][V].Yb[T][Y]=ae;for(V=0;17>V;++V)G.Xc[S][V]=G.Wc[S][Wd[V]]}return p.kc=ke(q),p.kc&&(p.Bd=me(q,8)),p.cb=1}function os(p,v,S,T,V,q,G){var Y=v[V].Yb[S];for(S=0;16>V;++V){if(!Fe(p,Y[S+0]))return V;for(;!Fe(p,Y[S+1]);)if(Y=v[++V].Yb[0],S=0,V==16)return 16;var Z=v[V+1].Yb;if(Fe(p,Y[S+2])){var ae=p,ye=0;if(Fe(ae,(ie=Y)[(Ie=S)+3]))if(Fe(ae,ie[Ie+6])){for(Y=0,Ie=2*(ye=Fe(ae,ie[Ie+8]))+(ie=Fe(ae,ie[Ie+9+ye])),ye=0,ie=Ar[Ie];ie[Y];++Y)ye+=ye+Fe(ae,ie[Y]);ye+=3+(8<<Ie)}else Fe(ae,ie[Ie+7])?(ye=7+2*Fe(ae,165),ye+=Fe(ae,145)):ye=5+Fe(ae,159);else ye=Fe(ae,ie[Ie+4])?3+Fe(ae,ie[Ie+5]):2;Y=Z[2]}else ye=1,Y=Z[1];Z=G+Mn[V],0>(ae=p).b&&Le(ae);var Ie,ie=ae.b,be=(Ie=ae.Ca>>1)-(ae.I>>ie)>>31;--ae.b,ae.Ca+=be,ae.Ca|=1,ae.I-=(Ie+1&be)<<ie,q[Z]=((ye^be)-be)*T[(0<V)+0]}return 16}function ta(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function pi(p,v,S,T,V){V=p[v+S+32*T]+(V>>3),p[v+S+32*T]=-256&V?0>V?0:255:V}function Xa(p,v,S,T,V,q){pi(p,v,0,S,T+V),pi(p,v,1,S,T+q),pi(p,v,2,S,T-q),pi(p,v,3,S,T-V)}function en(p){return(20091*p>>16)+p}function mi(p,v,S,T){var V,q=0,G=o(16);for(V=0;4>V;++V){var Y=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],ae=(35468*p[v+4]>>16)-en(p[v+12]),ye=en(p[v+4])+(35468*p[v+12]>>16);G[q+0]=Y+ye,G[q+1]=Z+ae,G[q+2]=Z-ae,G[q+3]=Y-ye,q+=4,v++}for(V=q=0;4>V;++V)Y=(p=G[q+0]+4)+G[q+8],Z=p-G[q+8],ae=(35468*G[q+4]>>16)-en(G[q+12]),pi(S,T,0,0,Y+(ye=en(G[q+4])+(35468*G[q+12]>>16))),pi(S,T,1,0,Z+ae),pi(S,T,2,0,Z-ae),pi(S,T,3,0,Y-ye),q++,T+=32}function Za(p,v,S,T){var V=p[v+0]+4,q=35468*p[v+4]>>16,G=en(p[v+4]),Y=35468*p[v+1]>>16;Xa(S,T,0,V+G,p=en(p[v+1]),Y),Xa(S,T,1,V+q,p,Y),Xa(S,T,2,V-q,p,Y),Xa(S,T,3,V-G,p,Y)}function _a(p,v,S,T,V){mi(p,v,S,T),V&&mi(p,v+16,S,T+4)}function na(p,v,S,T){yr(p,v+0,S,T,1),yr(p,v+32,S,T+128,1)}function on(p,v,S,T){var V;for(p=p[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)pi(S,T,v,V,p)}function ba(p,v,S,T){p[v+0]&&$i(p,v+0,S,T),p[v+16]&&$i(p,v+16,S,T+4),p[v+32]&&$i(p,v+32,S,T+128),p[v+48]&&$i(p,v+48,S,T+128+4)}function Vi(p,v,S,T){var V,q=o(16);for(V=0;4>V;++V){var G=p[v+0+V]+p[v+12+V],Y=p[v+4+V]+p[v+8+V],Z=p[v+4+V]-p[v+8+V],ae=p[v+0+V]-p[v+12+V];q[0+V]=G+Y,q[8+V]=G-Y,q[4+V]=ae+Z,q[12+V]=ae-Z}for(V=0;4>V;++V)G=(p=q[0+4*V]+3)+q[3+4*V],Y=q[1+4*V]+q[2+4*V],Z=q[1+4*V]-q[2+4*V],ae=p-q[3+4*V],S[T+0]=G+Y>>3,S[T+16]=ae+Z>>3,S[T+32]=G-Y>>3,S[T+48]=ae-Z>>3,T+=64}function ls(p,v,S){var T,V=v-32,q=li,G=255-p[V-1];for(T=0;T<S;++T){var Y,Z=q,ae=G+p[v-1];for(Y=0;Y<S;++Y)p[v+Y]=Z[ae+p[V+Y]];v+=32}}function No(p,v){ls(p,v,4)}function il(p,v){ls(p,v,8)}function sl(p,v){ls(p,v,16)}function Ku(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function al(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Vs(p,v,S){var T;for(T=0;16>T;++T)a(v,S+32*T,p,16)}function Ti(p,v){var S,T=16;for(S=0;16>S;++S)T+=p[v-1+32*S]+p[v+S-32];Vs(T>>5,p,v)}function us(p,v){var S,T=8;for(S=0;16>S;++S)T+=p[v-1+32*S];Vs(T>>4,p,v)}function Ui(p,v){var S,T=8;for(S=0;16>S;++S)T+=p[v+S-32];Vs(T>>4,p,v)}function xs(p,v){Vs(128,p,v)}function Dt(p,v,S){return p+2*v+S+2>>2}function Us(p,v){var S,T=v-32;for(T=new Uint8Array([Dt(p[T-1],p[T+0],p[T+1]),Dt(p[T+0],p[T+1],p[T+2]),Dt(p[T+1],p[T+2],p[T+3]),Dt(p[T+2],p[T+3],p[T+4])]),S=0;4>S;++S)r(p,v+32*S,T,0,T.length)}function Gl(p,v){var S=p[v-1],T=p[v-1+32],V=p[v-1+64],q=p[v-1+96];qe(p,v+0,16843009*Dt(p[v-1-32],S,T)),qe(p,v+32,16843009*Dt(S,T,V)),qe(p,v+64,16843009*Dt(T,V,q)),qe(p,v+96,16843009*Dt(V,q,q))}function Ja(p,v){var S,T=4;for(S=0;4>S;++S)T+=p[v+S-32]+p[v-1+32*S];for(T>>=3,S=0;4>S;++S)a(p,v+32*S,T,4)}function Es(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1-32],G=p[v+0-32],Y=p[v+1-32],Z=p[v+2-32],ae=p[v+3-32];p[v+0+96]=Dt(T,V,p[v-1+96]),p[v+1+96]=p[v+0+64]=Dt(S,T,V),p[v+2+96]=p[v+1+64]=p[v+0+32]=Dt(q,S,T),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Dt(G,q,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Dt(Y,G,q),p[v+3+32]=p[v+2+0]=Dt(Z,Y,G),p[v+3+0]=Dt(ae,Z,Y)}function Fr(p,v){var S=p[v+1-32],T=p[v+2-32],V=p[v+3-32],q=p[v+4-32],G=p[v+5-32],Y=p[v+6-32],Z=p[v+7-32];p[v+0+0]=Dt(p[v+0-32],S,T),p[v+1+0]=p[v+0+32]=Dt(S,T,V),p[v+2+0]=p[v+1+32]=p[v+0+64]=Dt(T,V,q),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Dt(V,q,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Dt(q,G,Y),p[v+3+64]=p[v+2+96]=Dt(G,Y,Z),p[v+3+96]=Dt(Y,Z,Z)}function Fi(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1-32],G=p[v+0-32],Y=p[v+1-32],Z=p[v+2-32],ae=p[v+3-32];p[v+0+0]=p[v+1+64]=q+G+1>>1,p[v+1+0]=p[v+2+64]=G+Y+1>>1,p[v+2+0]=p[v+3+64]=Y+Z+1>>1,p[v+3+0]=Z+ae+1>>1,p[v+0+96]=Dt(V,T,S),p[v+0+64]=Dt(T,S,q),p[v+0+32]=p[v+1+96]=Dt(S,q,G),p[v+1+32]=p[v+2+96]=Dt(q,G,Y),p[v+2+32]=p[v+3+96]=Dt(G,Y,Z),p[v+3+32]=Dt(Y,Z,ae)}function Fs(p,v){var S=p[v+0-32],T=p[v+1-32],V=p[v+2-32],q=p[v+3-32],G=p[v+4-32],Y=p[v+5-32],Z=p[v+6-32],ae=p[v+7-32];p[v+0+0]=S+T+1>>1,p[v+1+0]=p[v+0+64]=T+V+1>>1,p[v+2+0]=p[v+1+64]=V+q+1>>1,p[v+3+0]=p[v+2+64]=q+G+1>>1,p[v+0+32]=Dt(S,T,V),p[v+1+32]=p[v+0+96]=Dt(T,V,q),p[v+2+32]=p[v+1+96]=Dt(V,q,G),p[v+3+32]=p[v+2+96]=Dt(q,G,Y),p[v+3+64]=Dt(G,Y,Z),p[v+3+96]=Dt(Y,Z,ae)}function wa(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1+96];p[v+0+0]=S+T+1>>1,p[v+2+0]=p[v+0+32]=T+V+1>>1,p[v+2+32]=p[v+0+64]=V+q+1>>1,p[v+1+0]=Dt(S,T,V),p[v+3+0]=p[v+1+32]=Dt(T,V,q),p[v+3+32]=p[v+1+64]=Dt(V,q,q),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=q}function cs(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1+96],G=p[v-1-32],Y=p[v+0-32],Z=p[v+1-32],ae=p[v+2-32];p[v+0+0]=p[v+2+32]=S+G+1>>1,p[v+0+32]=p[v+2+64]=T+S+1>>1,p[v+0+64]=p[v+2+96]=V+T+1>>1,p[v+0+96]=q+V+1>>1,p[v+3+0]=Dt(Y,Z,ae),p[v+2+0]=Dt(G,Y,Z),p[v+1+0]=p[v+3+32]=Dt(S,G,Y),p[v+1+32]=p[v+3+64]=Dt(T,S,G),p[v+1+64]=p[v+3+96]=Dt(V,T,S),p[v+1+96]=Dt(q,V,T)}function eo(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function Ni(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function Bi(p,v,S){var T;for(T=0;8>T;++T)a(v,S+32*T,p,8)}function Aa(p,v){var S,T=8;for(S=0;8>S;++S)T+=p[v+S-32]+p[v-1+32*S];Bi(T>>4,p,v)}function Br(p,v){var S,T=4;for(S=0;8>S;++S)T+=p[v+S-32];Bi(T>>3,p,v)}function bn(p,v){var S,T=4;for(S=0;8>S;++S)T+=p[v-1+32*S];Bi(T>>3,p,v)}function Sa(p,v){Bi(128,p,v)}function Ts(p,v,S){var T=p[v-S],V=p[v+0],q=3*(V-T)+Uc[1020+p[v-2*S]-p[v+S]],G=cl[112+(q+4>>3)];p[v-S]=li[255+T+cl[112+(q+3>>3)]],p[v+0]=li[255+V-G]}function xa(p,v,S,T){var V=p[v+0],q=p[v+S];return Gs[255+p[v-2*S]-p[v-S]]>T||Gs[255+q-V]>T}function Ea(p,v,S,T){return 4*Gs[255+p[v-S]-p[v+0]]+Gs[255+p[v-2*S]-p[v+S]]<=T}function ra(p,v,S,T,V){var q=p[v-3*S],G=p[v-2*S],Y=p[v-S],Z=p[v+0],ae=p[v+S],ye=p[v+2*S],Ie=p[v+3*S];return 4*Gs[255+Y-Z]+Gs[255+G-ae]>T?0:Gs[255+p[v-4*S]-q]<=V&&Gs[255+q-G]<=V&&Gs[255+G-Y]<=V&&Gs[255+Ie-ye]<=V&&Gs[255+ye-ae]<=V&&Gs[255+ae-Z]<=V}function hs(p,v,S,T){var V=2*T+1;for(T=0;16>T;++T)Ea(p,v+T,S,V)&&Ts(p,v+T,S)}function Ns(p,v,S,T){var V=2*T+1;for(T=0;16>T;++T)Ea(p,v+T*S,1,V)&&Ts(p,v+T*S,1)}function Ci(p,v,S,T){var V;for(V=3;0<V;--V)hs(p,v+=4*S,S,T)}function Co(p,v,S,T){var V;for(V=3;0<V;--V)Ns(p,v+=4,S,T)}function qi(p,v,S,T,V,q,G,Y){for(q=2*q+1;0<V--;){if(ra(p,v,S,q,G))if(xa(p,v,S,Y))Ts(p,v,S);else{var Z=p,ae=v,ye=S,Ie=Z[ae-2*ye],ie=Z[ae-ye],be=Z[ae+0],Te=Z[ae+ye],je=Z[ae+2*ye],Ce=27*(Ve=Uc[1020+3*(be-ie)+Uc[1020+Ie-Te]])+63>>7,Ue=18*Ve+63>>7,Ve=9*Ve+63>>7;Z[ae-3*ye]=li[255+Z[ae-3*ye]+Ve],Z[ae-2*ye]=li[255+Ie+Ue],Z[ae-ye]=li[255+ie+Ce],Z[ae+0]=li[255+be-Ce],Z[ae+ye]=li[255+Te-Ue],Z[ae+2*ye]=li[255+je-Ve]}v+=T}}function Ii(p,v,S,T,V,q,G,Y){for(q=2*q+1;0<V--;){if(ra(p,v,S,q,G))if(xa(p,v,S,Y))Ts(p,v,S);else{var Z=p,ae=v,ye=S,Ie=Z[ae-ye],ie=Z[ae+0],be=Z[ae+ye],Te=cl[112+(4+(je=3*(ie-Ie))>>3)],je=cl[112+(je+3>>3)],Ce=Te+1>>1;Z[ae-2*ye]=li[255+Z[ae-2*ye]+Ce],Z[ae-ye]=li[255+Ie+je],Z[ae+0]=li[255+ie-Te],Z[ae+ye]=li[255+be-Ce]}v+=T}}function A(p,v,S,T,V,q){qi(p,v,S,1,16,T,V,q)}function j(p,v,S,T,V,q){qi(p,v,1,S,16,T,V,q)}function se(p,v,S,T,V,q){var G;for(G=3;0<G;--G)Ii(p,v+=4*S,S,1,16,T,V,q)}function pe(p,v,S,T,V,q){var G;for(G=3;0<G;--G)Ii(p,v+=4,1,S,16,T,V,q)}function Ae(p,v,S,T,V,q,G,Y){qi(p,v,V,1,8,q,G,Y),qi(S,T,V,1,8,q,G,Y)}function Be(p,v,S,T,V,q,G,Y){qi(p,v,1,V,8,q,G,Y),qi(S,T,1,V,8,q,G,Y)}function Ke(p,v,S,T,V,q,G,Y){Ii(p,v+4*V,V,1,8,q,G,Y),Ii(S,T+4*V,V,1,8,q,G,Y)}function at(p,v,S,T,V,q,G,Y){Ii(p,v+4,1,V,8,q,G,Y),Ii(S,T+4,1,V,8,q,G,Y)}function pt(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ln(){this.ua=0,this.Wa=new Nt,this.vb=new Nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new k}function er(){this.xb=this.a=0,this.l=new va,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ln,this.ab=0,this.gc=u(4,qt),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dn(p,v,S,T,V,q,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)V[q+v]=p+S[T+v]&255,p=V[q+v]}function gr(p,v,S,T,V,q,G){var Y;if(p==null)Dn(null,null,S,T,V,q,G);else for(Y=0;Y<G;++Y)V[q+Y]=p[v+Y]+S[T+Y]&255}function Bn(p,v,S,T,V,q,G){if(p==null)Dn(null,null,S,T,V,q,G);else{var Y,Z=p[v+0],ae=Z,ye=Z;for(Y=0;Y<G;++Y)ae=ye+(Z=p[v+Y])-ae,ye=S[T+Y]+(-256&ae?0>ae?0:255:ae)&255,ae=Z,V[q+Y]=ye}}function qr(p,v,S,T){var V=v.width,q=v.o;if(e(p!=null&&v!=null),0>S||0>=T||S+T>q)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new sr,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var Y=p.Fa,Z=p.P,ae=p.qc,ye=p.mb,Ie=p.nb,ie=Z+1,be=ae-1,Te=G.l;if(e(Y!=null&&ye!=null&&v!=null),Ma[0]=null,Ma[1]=Dn,Ma[2]=gr,Ma[3]=Bn,G.ca=ye,G.tb=Ie,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=ae)v=0;else if(G.$a=3&Y[Z+0],G.Z=Y[Z+0]>>2&3,G.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)v=0;else if(Te.put=It,Te.ac=di,Te.bc=Cn,Te.ma=G,Te.width=v.width,Te.height=v.height,Te.Da=v.Da,Te.v=v.v,Te.va=v.va,Te.j=v.j,Te.o=v.o,G.$a)e:{e(G.$a==1),v=Wn();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,ve(v.m,Y,ie,be),!ss(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&si(v.s)?(G.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Ms(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=be>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:T=q-S}e(p.ga!=null),e(S+T<=q);e:{if(v=(Y=p.ga).c,q=Y.l.o,Y.$a==0){if(ie=p.rc,be=p.Vc,Te=p.Fa,Z=p.P+1+S*v,ae=p.mb,ye=p.nb+S*v,e(Z<=p.P+p.qc),Y.Z!=0)for(e(Ma[Y.Z]!=null),G=0;G<T;++G)Ma[Y.Z](ie,be,Te,Z,ae,ye,v),ie=ae,be=ye,ye+=v,Z+=v;else for(G=0;G<T;++G)r(ae,ye,Te,Z,v),ie=ae,be=ye,ye+=v,Z+=v;p.rc=ie,p.Vc=be}else{if(e(Y.mc!=null),v=S+T,e((G=Y.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(Y.ic||Rr(),Y.ic){Y=G.V,ie=G.Ba,be=G.c;var je=G.i,Ce=(Te=1,Z=G.$/be,ae=G.$%be,ye=G.m,Ie=G.s,G.$),Ue=be*je,Ve=be*v,Xe=Ie.wc,We=Ce<Ve?cr(Ie,ae,Z):null;e(Ce<=Ue),e(v<=je),e(si(Ie));t:for(;;){for(;!ye.h&&Ce<Ve;){if(ae&Xe||(We=cr(Ie,ae,Z)),e(We!=null),ge(ye),256>(je=Zn(We.G[0],We.H[0],ye)))Y[ie+Ce]=je,++Ce,++ae>=be&&(ae=0,++Z<=v&&!(Z%16)&&Vr(G,Z));else{if(!(280>je)){Te=0;break t}je=Pn(je-256,ye);var vt,ot=Zn(We.G[4],We.H[4],ye);if(ge(ye),!(Ce>=(ot=mr(be,ot=Pn(ot,ye)))&&Ue-Ce>=je)){Te=0;break t}for(vt=0;vt<je;++vt)Y[ie+Ce+vt]=Y[ie+Ce+vt-ot];for(Ce+=je,ae+=je;ae>=be;)ae-=be,++Z<=v&&!(Z%16)&&Vr(G,Z);Ce<Ve&&ae&Xe&&(We=cr(Ie,ae,Z))}e(ye.h==ue(ye))}Vr(G,Z>v?v:Z);break t}!Te||ye.h&&Ce<Ue?(Te=0,G.a=ye.h?5:3):G.$=Ce,v=Te}else v=Ur(G,G.V,G.Ba,G.c,G.i,v,Ei);if(!v){T=0;break e}}S+T>=q&&(p.Cc=1),T=1}if(!T)return null;if(p.Cc&&((T=p.ga)!=null&&(T.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*V}function Bs(p,v,S,T,V,q){for(;0<V--;){var G,Y=p,Z=v+(S?1:0),ae=p,ye=v+(S?0:3);for(G=0;G<T;++G){var Ie=ae[ye+4*G];Ie!=255&&(Ie*=32897,Y[Z+4*G+0]=Y[Z+4*G+0]*Ie>>23,Y[Z+4*G+1]=Y[Z+4*G+1]*Ie>>23,Y[Z+4*G+2]=Y[Z+4*G+2]*Ie>>23)}v+=q}}function ia(p,v,S,T,V){for(;0<T--;){var q;for(q=0;q<S;++q){var G=p[v+2*q+0],Y=15&(ae=p[v+2*q+1]),Z=4369*Y,ae=(240&ae|ae>>4)*Z>>16;p[v+2*q+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,p[v+2*q+1]=240&ae|Y}v+=V}}function $l(p,v,S,T,V,q,G,Y){var Z,ae,ye=255;for(ae=0;ae<V;++ae){for(Z=0;Z<T;++Z){var Ie=p[v+Z];q[G+4*Z]=Ie,ye&=Ie}v+=S,G+=Y}return ye!=255}function to(p,v,S,T,V){var q;for(q=0;q<V;++q)S[T+q]=p[v+q]>>8}function Rr(){Ql=Bs,Is=ia,Rs=$l,ll=to}function fs(p,v,S){P[p]=function(T,V,q,G,Y,Z,ae,ye,Ie,ie,be,Te,je,Ce,Ue,Ve,Xe){var We,vt=Xe-1>>1,ot=Y[Z+0]|ae[ye+0]<<16,Gt=Ie[ie+0]|be[Te+0]<<16;e(T!=null);var ut=3*ot+Gt+131074>>2;for(v(T[V+0],255&ut,ut>>16,je,Ce),q!=null&&(ut=3*Gt+ot+131074>>2,v(q[G+0],255&ut,ut>>16,Ue,Ve)),We=1;We<=vt;++We){var dn=Y[Z+We]|ae[ye+We]<<16,zr=Ie[ie+We]|be[Te+We]<<16,zt=ot+dn+Gt+zr+524296,ft=zt+2*(dn+Gt)>>3;ut=ft+ot>>1,ot=(zt=zt+2*(ot+zr)>>3)+dn>>1,v(T[V+2*We-1],255&ut,ut>>16,je,Ce+(2*We-1)*S),v(T[V+2*We-0],255&ot,ot>>16,je,Ce+(2*We-0)*S),q!=null&&(ut=zt+Gt>>1,ot=ft+zr>>1,v(q[G+2*We-1],255&ut,ut>>16,Ue,Ve+(2*We-1)*S),v(q[G+2*We+0],255&ot,ot>>16,Ue,Ve+(2*We+0)*S)),ot=dn,Gt=zr}1&Xe||(ut=3*ot+Gt+131074>>2,v(T[V+Xe-1],255&ut,ut>>16,je,Ce+(Xe-1)*S),q!=null&&(ut=3*Gt+ot+131074>>2,v(q[G+Xe-1],255&ut,ut>>16,Ue,Ve+(Xe-1)*S)))}}function Io(){ui[Ri]=lo,ui[Xl]=ja,ui[Da]=Mo,ui[Ju]=qc,ui[hl]=zc,ui[ro]=eu,ui[Fc]=Hc,ui[ec]=ja,ui[Do]=qc,ui[io]=zc,ui[Zl]=eu}function zi(p){return p&-16384?0>p?0:255:p>>wg}function m(p,v){return zi((19077*p>>8)+(26149*v>>8)-14234)}function E(p,v,S){return zi((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function L(p,v){return zi((19077*p>>8)+(33050*v>>8)-17685)}function K(p,v,S,T,V){T[V+0]=m(p,S),T[V+1]=E(p,v,S),T[V+2]=L(p,v)}function Ee(p,v,S,T,V){T[V+0]=L(p,v),T[V+1]=E(p,v,S),T[V+2]=m(p,S)}function Oe(p,v,S,T,V){var q=E(p,v,S);v=q<<3&224|L(p,v)>>3,T[V+0]=248&m(p,S)|q>>5,T[V+1]=v}function Ze(p,v,S,T,V){var q=240&L(p,v)|15;T[V+0]=240&m(p,S)|E(p,v,S)>>4,T[V+1]=q}function un(p,v,S,T,V){T[V+0]=255,K(p,v,S,T,V+1)}function hr(p,v,S,T,V){Ee(p,v,S,T,V),T[V+3]=255}function cn(p,v,S,T,V){K(p,v,S,T,V),T[V+3]=255}function fn(p,v){return 0>p?0:p>v?v:p}function jn(p,v,S){P[p]=function(T,V,q,G,Y,Z,ae,ye,Ie){for(var ie=ye+(-2&Ie)*S;ye!=ie;)v(T[V+0],q[G+0],Y[Z+0],ae,ye),v(T[V+1],q[G+0],Y[Z+0],ae,ye+S),V+=2,++G,++Z,ye+=2*S;1&Ie&&v(T[V+0],q[G+0],Y[Z+0],ae,ye)}}function Cs(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Lr(p,v,S,T,V){switch(p>>>30){case 3:yr(v,S,T,V,0);break;case 2:Pa(v,S,T,V);break;case 1:$i(v,S,T,V)}}function gi(p,v){var S,T,V=v.M,q=v.Nb,G=p.oc,Y=p.pc+40,Z=p.oc,ae=p.pc+584,ye=p.oc,Ie=p.pc+600;for(S=0;16>S;++S)G[Y+32*S-1]=129;for(S=0;8>S;++S)Z[ae+32*S-1]=129,ye[Ie+32*S-1]=129;for(0<V?G[Y-1-32]=Z[ae-1-32]=ye[Ie-1-32]=129:(a(G,Y-32-1,127,21),a(Z,ae-32-1,127,9),a(ye,Ie-32-1,127,9)),T=0;T<p.za;++T){var ie=v.ya[v.aa+T];if(0<T){for(S=-1;16>S;++S)r(G,Y+32*S-4,G,Y+32*S+12,4);for(S=-1;8>S;++S)r(Z,ae+32*S-4,Z,ae+32*S+4,4),r(ye,Ie+32*S-4,ye,Ie+32*S+4,4)}var be=p.Gd,Te=p.Hd+T,je=ie.ad,Ce=ie.Hc;if(0<V&&(r(G,Y-32,be[Te].y,0,16),r(Z,ae-32,be[Te].f,0,8),r(ye,Ie-32,be[Te].ea,0,8)),ie.Za){var Ue=G,Ve=Y-32+16;for(0<V&&(T>=p.za-1?a(Ue,Ve,be[Te].y[15],4):r(Ue,Ve,be[Te+1].y,0,4)),S=0;4>S;S++)Ue[Ve+128+S]=Ue[Ve+256+S]=Ue[Ve+384+S]=Ue[Ve+0+S];for(S=0;16>S;++S,Ce<<=2)Ue=G,Ve=Y+ml[S],Wi[ie.Ob[S]](Ue,Ve),Lr(Ce,je,16*+S,Ue,Ve)}else if(Ue=Cs(T,V,ie.Ob[0]),oo[Ue](G,Y),Ce!=0)for(S=0;16>S;++S,Ce<<=2)Lr(Ce,je,16*+S,G,Y+ml[S]);for(S=ie.Gc,Ue=Cs(T,V,ie.Dd),ks[Ue](Z,ae),ks[Ue](ye,Ie),Ce=je,Ue=Z,Ve=ae,255&(ie=0|S)&&(170&ie?zs(Ce,256,Ue,Ve):ol(Ce,256,Ue,Ve)),ie=ye,Ce=Ie,255&(S>>=8)&&(170&S?zs(je,320,ie,Ce):ol(je,320,ie,Ce)),V<p.Ub-1&&(r(be[Te].y,0,G,Y+480,16),r(be[Te].f,0,Z,ae+224,8),r(be[Te].ea,0,ye,Ie+224,8)),S=8*q*p.B,be=p.sa,Te=p.ta+16*T+16*q*p.R,je=p.qa,ie=p.ra+8*T+S,Ce=p.Ha,Ue=p.Ia+8*T+S,S=0;16>S;++S)r(be,Te+S*p.R,G,Y+32*S,16);for(S=0;8>S;++S)r(je,ie+S*p.B,Z,ae+32*S,8),r(Ce,Ue+S*p.B,ye,Ie+32*S,8)}}function Ta(p,v,S,T,V,q,G,Y,Z){var ae=[0],ye=[0],Ie=0,ie=Z!=null?Z.kd:0,be=Z??new kt;if(p==null||12>S)return 7;be.data=p,be.w=v,be.ha=S,v=[v],S=[S],be.gb=[be.gb];e:{var Te=v,je=S,Ce=be.gb;if(e(p!=null),e(je!=null),e(Ce!=null),Ce[0]=0,12<=je[0]&&!t(p,Te[0],"RIFF")){if(t(p,Te[0]+8,"WEBP")){Ce=3;break e}var Ue=Me(p,Te[0]+4);if(12>Ue||4294967286<Ue){Ce=3;break e}if(ie&&Ue>je[0]-8){Ce=7;break e}Ce[0]=Ue,Te[0]+=12,je[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Ue=0<be.gb[0],S=S[0];;){e:{var Ve=p;je=v,Ce=S;var Xe=ae,We=ye,vt=Te=[0];if((ut=Ie=[Ie])[0]=0,8>Ce[0])Ce=7;else{if(!t(Ve,je[0],"VP8X")){if(Me(Ve,je[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ot=Me(Ve,je[0]+8),Gt=1+rt(Ve,je[0]+12);if(2147483648<=Gt*(Ve=1+rt(Ve,je[0]+15))){Ce=3;break e}vt!=null&&(vt[0]=ot),Xe!=null&&(Xe[0]=Gt),We!=null&&(We[0]=Ve),je[0]+=18,Ce[0]-=18,ut[0]=1}Ce=0}}if(Ie=Ie[0],Te=Te[0],Ce!=0)return Ce;if(je=!!(2&Te),!Ue&&Ie)return 3;if(q!=null&&(q[0]=!!(16&Te)),G!=null&&(G[0]=je),Y!=null&&(Y[0]=0),G=ae[0],Te=ye[0],Ie&&je&&Z==null){Ce=0;break}if(4>S){Ce=7;break}if(Ue&&Ie||!Ue&&!Ie&&!t(p,v[0],"ALPH")){S=[S],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{ot=p,Ce=v,Ue=S;var ut=be.gb;Xe=be.na,We=be.P,vt=be.Sa,Gt=22,e(ot!=null),e(Ue!=null),Ve=Ce[0];var dn=Ue[0];for(e(Xe!=null),e(vt!=null),Xe[0]=null,We[0]=null,vt[0]=0;;){if(Ce[0]=Ve,Ue[0]=dn,8>dn){Ce=7;break e}var zr=Me(ot,Ve+4);if(4294967286<zr){Ce=3;break e}var zt=8+zr+1&-2;if(Gt+=zt,0<ut&&Gt>ut){Ce=3;break e}if(!t(ot,Ve,"VP8 ")||!t(ot,Ve,"VP8L")){Ce=0;break e}if(dn[0]<zt){Ce=7;break e}t(ot,Ve,"ALPH")||(Xe[0]=ot,We[0]=Ve+8,vt[0]=zr),Ve+=zt,dn-=zt}}if(S=S[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ce!=0)break}S=[S],be.Ja=[be.Ja],be.xa=[be.xa];e:if(ut=p,Ce=v,Ue=S,Xe=be.gb[0],We=be.Ja,vt=be.xa,ot=Ce[0],Ve=!t(ut,ot,"VP8 "),Gt=!t(ut,ot,"VP8L"),e(ut!=null),e(Ue!=null),e(We!=null),e(vt!=null),8>Ue[0])Ce=7;else{if(Ve||Gt){if(ut=Me(ut,ot+4),12<=Xe&&ut>Xe-12){Ce=3;break e}if(ie&&ut>Ue[0]-8){Ce=7;break e}We[0]=ut,Ce[0]+=8,Ue[0]-=8,vt[0]=Gt}else vt[0]=5<=Ue[0]&&ut[ot+0]==47&&!(ut[ot+4]>>5),We[0]=Ue[0];Ce=0}if(S=S[0],be.Ja=be.Ja[0],be.xa=be.xa[0],v=v[0],Ce!=0)break;if(4294967286<be.Ja)return 3;if(Y==null||je||(Y[0]=be.xa?2:1),G=[G],Te=[Te],be.xa){if(5>S){Ce=7;break}Y=G,ie=Te,je=q,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ue=[0],ut=[0],Xe=[0],ve(We=new z,p,v,S),$n(We,Ue,ut,Xe)?(Y!=null&&(Y[0]=Ue[0]),ie!=null&&(ie[0]=ut[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>S){Ce=7;break}Y=Te,p==null||10>S||!To(p,v+3,S-3)?p=0:(ie=p[v+0]|p[v+1]<<8|p[v+2]<<16,je=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=be.Ja||!je||!p?p=0:(G&&(G[0]=je),Y&&(Y[0]=p),p=1))}if(!p||(G=G[0],Te=Te[0],Ie&&(ae[0]!=G||ye[0]!=Te)))return 3;Z!=null&&(Z[0]=be,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return Ce==0||Ce==7&&Ie&&Z==null?(q!=null&&(q[0]|=be.na!=null&&0<be.na.length),T!=null&&(T[0]=G),V!=null&&(V[0]=Te),0):Ce}function yi(p,v,S){var T=v.width,V=v.height,q=0,G=0,Y=T,Z=V;if(v.Da=p!=null&&0<p.Da,v.Da&&(Y=p.cd,Z=p.bd,q=p.v,G=p.j,11>S||(q&=-2,G&=-2),0>q||0>G||0>=Y||0>=Z||q+Y>T||G+Z>V))return 0;if(v.v=q,v.j=G,v.va=q+Y,v.o=G+Z,v.U=Y,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!Et(Y,Z,S=[p.ib],q=[p.hb]))return 0;v.ib=S[0],v.hb=q[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*T/4&&v.hb<3*V/4,v.Kb=0),1}function Hi(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ro(p,v,S,T){if(T==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var V=S.cd,q=S.bd,G=-2&S.v,Y=-2&S.j;if(0>G||0>Y||0>=V||0>=q||G+V>p||Y+q>v)return 2;p=V,v=q}if(S.da){if(!Et(p,v,V=[S.ib],q=[S.hb]))return 2;p=V[0],v=q[0]}}T.width=p,T.height=v;e:{var Z=T.width,ae=T.height;if(p=T.S,0>=Z||0>=ae||!(p>=Ri&&13>p))p=2;else{if(0>=T.Rd&&T.sd==null){G=q=V=v=0;var ye=(Y=Z*Xd[p])*ae;if(11>p||(q=(ae+1)/2*(v=(Z+1)/2),p==12&&(G=(V=Z)*ae)),(ae=o(ye+2*q+G))==null){p=1;break e}T.sd=ae,11>p?((Z=T.f.RGBA).eb=ae,Z.fb=0,Z.A=Y,Z.size=ye):((Z=T.f.kb).y=ae,Z.O=0,Z.fa=Y,Z.Fd=ye,Z.f=ae,Z.N=0+ye,Z.Ab=v,Z.Cd=q,Z.ea=ae,Z.W=0+ye+q,Z.Db=v,Z.Ed=q,p==12&&(Z.F=ae,Z.J=0+ye+2*q),Z.Tc=G,Z.lb=V)}if(v=1,V=T.S,q=T.width,G=T.height,V>=Ri&&13>V)if(11>V)p=T.f.RGBA,v&=(Y=Math.abs(p.A))*(G-1)+q<=p.size,v&=Y>=q*Xd[V],v&=p.eb!=null;else{p=T.f.kb,Y=(q+1)/2,ye=(G+1)/2,Z=Math.abs(p.fa),ae=Math.abs(p.Ab);var Ie=Math.abs(p.Db),ie=Math.abs(p.lb),be=ie*(G-1)+q;v&=Z*(G-1)+q<=p.Fd,v&=ae*(ye-1)+Y<=p.Cd,v=(v&=Ie*(ye-1)+Y<=p.Ed)&Z>=q&ae>=Y&Ie>=Y,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,V==12&&(v&=ie>=q,v&=be<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Hi(T)),p}var qs=64,Na=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wl=24,no=32,wr=8,Kh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,v,S){return v[S+0]},P.Predictor3=function(p,v,S){return v[S+1]},P.Predictor4=function(p,v,S){return v[S-1]},P.Predictor5=function(p,v,S){return _t(_t(p,v[S+1]),v[S+0])},P.Predictor6=function(p,v,S){return _t(p,v[S-1])},P.Predictor7=function(p,v,S){return _t(p,v[S+0])},P.Predictor8=function(p,v,S){return _t(v[S-1],v[S+0])},P.Predictor9=function(p,v,S){return _t(v[S+0],v[S+1])},P.Predictor10=function(p,v,S){return _t(_t(p,v[S-1]),_t(v[S+0],v[S+1]))},P.Predictor11=function(p,v,S){var T=v[S+0];return 0>=ct(T>>24&255,p>>24&255,(v=v[S-1])>>24&255)+ct(T>>16&255,p>>16&255,v>>16&255)+ct(T>>8&255,p>>8&255,v>>8&255)+ct(255&T,255&p,255&v)?T:p},P.Predictor12=function(p,v,S){var T=v[S+0];return(mn((p>>24&255)+(T>>24&255)-((v=v[S-1])>>24&255))<<24|mn((p>>16&255)+(T>>16&255)-(v>>16&255))<<16|mn((p>>8&255)+(T>>8&255)-(v>>8&255))<<8|mn((255&p)+(255&T)-(255&v)))>>>0},P.Predictor13=function(p,v,S){var T=v[S-1];return(Bt((p=_t(p,v[S+0]))>>24&255,T>>24&255)<<24|Bt(p>>16&255,T>>16&255)<<16|Bt(p>>8&255,T>>8&255)<<8|Bt(255&p,255&T))>>>0};var Ca=P.PredictorAdd0;P.PredictorAdd1=wt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var Ia=P.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Yl,Qu=P.ColorIndexInverseTransform,oi=P.MapARGB,Ra=P.VP8LColorIndexInverseTransformAlpha,Lo=P.MapAlpha,ko=P.VP8LPredictorsAdd=[];ko.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var La,Kl,Gi,ka,On,qn,ar,yr,Pa,zs,$i,ol,Qh,Po,Xh,Zh,Jh,zd,Hd,Gd,ef,tf,Mc,Hs,Ql,Is,Rs,ll,jc=o(511),Xu=o(2041),Zu=o(225),Vc=o(767),ul=0,Uc=Xu,cl=Zu,li=Vc,Gs=jc,Ri=0,Xl=1,Da=2,Ju=3,hl=4,ro=5,Fc=6,ec=7,Do=8,io=9,Zl=10,Bc=[2,3,7],$s=[3,3,11],Ls=[280,256,256,256,40],fl=[0,1,1,1,0],so=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ao=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$d=8,tc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wr=null,Ar=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oo=[],Wi=[],ks=[],Yd=1,Jl=2,Ma=[],ui=[];fs("UpsampleRgbLinePair",K,3),fs("UpsampleBgrLinePair",Ee,3),fs("UpsampleRgbaLinePair",cn,4),fs("UpsampleBgraLinePair",hr,4),fs("UpsampleArgbLinePair",un,4),fs("UpsampleRgba4444LinePair",Ze,2),fs("UpsampleRgb565LinePair",Oe,2);var lo=P.UpsampleRgbLinePair,Mo=P.UpsampleBgrLinePair,ja=P.UpsampleRgbaLinePair,qc=P.UpsampleBgraLinePair,zc=P.UpsampleArgbLinePair,eu=P.UpsampleRgba4444LinePair,Hc=P.UpsampleRgb565LinePair,Va=16,Yr=1<<Va-1,jo=-227,Gc=482,wg=6,Kd=0,Ag=o(256),Kr=o(256),rf=o(256),rc=o(256),ic=o(Gc-jo),sf=o(Gc-jo);jn("YuvToRgbRow",K,3),jn("YuvToBgrRow",Ee,3),jn("YuvToRgbaRow",cn,4),jn("YuvToBgraRow",hr,4),jn("YuvToArgbRow",un,4),jn("YuvToRgba4444Row",Ze,2),jn("YuvToRgb565Row",Oe,2);var ml=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uo=[0,2,8],Sg=[8,7,6,4,4,2,2,2,1,1,1,1],Qd=1;this.WebPDecodeRGBA=function(p,v,S,T,V){var q=Xl,G=new pt,Y=new gn;G.ba=Y,Y.S=q,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,ae=Y.height,ye=new Pt;if(ye==null||p==null)var Ie=2;else e(ye!=null),Ie=Ta(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Ie!=0?Z=0:(Z!=null&&(Z[0]=ye.width[0]),ae!=null&&(ae[0]=ye.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],T!=null&&(T[0]=Y.width),V!=null&&(V[0]=Y.height);e:{if(T=new va,(V=new kt).data=p,V.w=v,V.ha=S,V.kd=1,v=[0],e(V!=null),((p=Ta(V.data,V.w,V.ha,null,null,null,v,null,V))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),T.data=V.data,T.w=V.w+V.offset,T.ha=V.ha-V.offset,T.put=It,T.ac=di,T.bc=Cn,T.ma=G,V.xa){if((p=Wn())==null){G=1;break e}if((function(ie,be){var Te=[0],je=[0],Ce=[0];t:for(;;){if(ie==null)return 0;if(be==null)return ie.a=2,0;if(ie.l=be,ie.a=0,ve(ie.m,be.data,be.w,be.ha),!$n(ie.m,Te,je,Ce)){ie.a=3;break t}if(ie.xb=Jl,be.width=Te[0],be.height=je[0],!ss(Te[0],je[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(p,T)){if(T=(v=Ro(T.width,T.height,G.Oa,G.ba))==0){t:{T=p;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((S=T.l)!=null),e((V=S.ma)!=null),T.xb!=0){if(T.ca=V.ba,T.tb=V.tb,e(T.ca!=null),!yi(V.Oa,S,Ju)){T.a=2;break n}if(!Ms(T,S.width)||S.da)break n;if((S.da||Vt(T.ca.S))&&Rr(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Rr()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!ce(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Ur(T,T.V,T.Ba,T.c,T.i,S.o,is))break n;V.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(v=p.a)}else v=p.a}else{if((p=new Eo)==null){G=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,Hl(p,T)){if((v=Ro(T.width,T.height,G.Oa,G.ba))==0){if(p.Aa=0,S=G.Oa,e((V=p)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(ae=ye=0;4>ae;++ae)12>(Ie=V.pb[ae]).lc&&(Ie.ia=Z*Sg[0>Ie.lc?0:Ie.lc]>>3),ye|=Ie.ia;ye&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=S.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ie,be){if(ie==null)return 0;if(be==null)return _n(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Hl(ie,be))return 0;if(e(ie.cb),be.ac==null||be.ac(be)){be.ob&&(ie.L=0);var Te=uo[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=be.v-Te>>4,ie.zb=be.j-Te>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=be.o+15+Te>>4,ie.Hb=be.va+15+Te>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var je=ie.ed;for(Te=0;4>Te;++Te){var Ce;if(ie.Qa.Cb){var Ue=ie.Qa.Lb[Te];ie.Qa.Fb||(Ue+=je.Tb)}else Ue=je.Tb;for(Ce=0;1>=Ce;++Ce){var Ve=ie.gd[Te][Ce],Xe=Ue;if(je.Pc&&(Xe+=je.vd[0],Ce&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<je.wb&&(We=4<je.wb?We>>2:We>>1)>9-je.wb&&(We=9-je.wb),1>We&&(We=1),Ve.dd=We,Ve.tc=2*Xe+We,Ve.ld=40<=Xe?2:15<=Xe?1:0}else Ve.tc=0;Ve.La=Ce}}}Te=0}else _n(ie,6,"Frame setup failed"),Te=ie.a;if(Te=Te==0){if(Te){ie.$c=0,0<ie.Aa||(ie.Ic=Qd);t:{Te=ie.Ic,je=4*(We=ie.za);var vt=32*We,ot=We+1,Gt=0<ie.L?We*(0<ie.Aa?2:1):0,ut=(ie.Aa==2?2:1)*We;if((Ve=je+832+(Ce=3*(16*Te+uo[ie.L])/2*vt)+(Ue=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ve)Te=0;else{if(Ve>ie.Vb){if(ie.Vb=0,ie.Ec=o(Ve),ie.Fc=0,ie.Ec==null){Te=_n(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ve}Ve=ie.Ec,Xe=ie.Fc,ie.Ac=Ve,ie.Bc=Xe,Xe+=je,ie.Gd=u(vt,Ka),ie.Hd=0,ie.rb=u(ot+1,Ir),ie.sb=1,ie.wa=Gt?u(Gt,Cr):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=We),e(!0),ie.oc=Ve,ie.pc=Xe,Xe+=832,ie.ya=u(ut,xo),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=We),ie.R=16*We,ie.B=8*We,We=(vt=uo[ie.L])*ie.R,vt=vt/2*ie.B,ie.sa=Ve,ie.ta=Xe+We,ie.qa=ie.sa,ie.ra=ie.ta+16*Te*ie.R+vt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Te*ie.B+vt,ie.$c=0,Xe+=Ce,ie.mb=Ue?Ve:null,ie.nb=Ue?Xe:null,e(Xe+Ue<=ie.Fc+ie.Vb),ta(ie),a(ie.Ac,ie.Bc,0,je),Te=1}}if(Te){if(be.ka=0,be.y=ie.sa,be.O=ie.ta,be.f=ie.qa,be.N=ie.ra,be.ea=ie.Ha,be.Vd=ie.Ia,be.fa=ie.R,be.Rc=ie.B,be.F=null,be.J=0,!ul){for(Te=-255;255>=Te;++Te)jc[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)Xu[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)Zu[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)Vc[255+Te]=0>Te?0:255<Te?255:Te;ul=1}ar=Vi,yr=_a,zs=na,$i=on,ol=ba,Pa=Za,Qh=A,Po=j,Xh=Ae,Zh=Be,Jh=se,zd=pe,Hd=Ke,Gd=at,ef=hs,tf=Ns,Mc=Ci,Hs=Co,Wi[0]=Ja,Wi[1]=No,Wi[2]=Us,Wi[3]=Gl,Wi[4]=Es,Wi[5]=Fi,Wi[6]=Fr,Wi[7]=Fs,Wi[8]=cs,Wi[9]=wa,oo[0]=Ti,oo[1]=sl,oo[2]=Ku,oo[3]=al,oo[4]=us,oo[5]=Ui,oo[6]=xs,ks[0]=Aa,ks[1]=il,ks[2]=eo,ks[3]=Ni,ks[4]=bn,ks[5]=Br,ks[6]=Sa,Te=1}else Te=0}Te&&(Te=(function(dn,zr){for(dn.M=0;dn.M<dn.Va;++dn.M){var zt,ft=dn.Jc[dn.M&dn.Xb],et=dn.m,vr=dn;for(zt=0;zt<vr.za;++zt){var $t=et,Jt=vr,dt=Jt.Ac,Kt=Jt.Bc+4*zt,wn=Jt.zc,or=Jt.ya[Jt.aa+zt];if(Jt.Qa.Bb?or.$b=Fe($t,Jt.Pa.jb[0])?2+Fe($t,Jt.Pa.jb[2]):Fe($t,Jt.Pa.jb[1]):or.$b=0,Jt.kc&&(or.Ad=Fe($t,Jt.Bd)),or.Za=!Fe($t,145)+0,or.Za){var kr=or.Ob,Pr=0;for(Jt=0;4>Jt;++Jt){var Sr,hn=wn[0+Jt];for(Sr=0;4>Sr;++Sr){hn=nf[dt[Kt+Sr]][hn];for(var An=Oo[Fe($t,hn[0])];0<An;)An=Oo[2*An+Fe($t,hn[An])];hn=-An,dt[Kt+Sr]=hn}r(kr,Pr,dt,Kt,4),Pr+=4,wn[0+Jt]=hn}}else hn=Fe($t,156)?Fe($t,128)?1:3:Fe($t,163)?2:0,or.Ob[0]=hn,a(dt,Kt,hn,4),a(wn,0,hn,4);or.Dd=Fe($t,142)?Fe($t,114)?Fe($t,183)?1:3:2:0}if(vr.m.Ka)return _n(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(vr=ft,$t=(et=dn).rb[et.sb-1],dt=et.rb[et.sb+et.ja],zt=et.ya[et.aa+et.ja],Kt=et.kc?zt.Ad:0)$t.la=dt.la=0,zt.Za||($t.Na=dt.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var xr,Ot;if($t=dt,dt=vr,Kt=et.Pa.Xc,wn=et.ya[et.aa+et.ja],or=et.pb[wn.$b],Jt=wn.ad,kr=0,Pr=et.rb[et.sb-1],hn=Sr=0,a(Jt,kr,0,384),wn.Za)var Qr=0,Ps=Kt[3];else{An=o(16);var Er=$t.Na+Pr.Na;if(Er=Wr(dt,Kt[1],Er,or.Eb,0,An,0),$t.Na=Pr.Na=(0<Er)+0,1<Er)ar(An,0,Jt,kr);else{var Yi=An[0]+3>>3;for(An=0;256>An;An+=16)Jt[kr+An]=Yi}Qr=1,Ps=Kt[0]}var Yn=15&$t.la,Dr=15&Pr.la;for(An=0;4>An;++An){var Ki=1&Dr;for(Yi=Ot=0;4>Yi;++Yi)Yn=Yn>>1|(Ki=(Er=Wr(dt,Ps,Er=Ki+(1&Yn),or.Sc,Qr,Jt,kr))>Qr)<<7,Ot=Ot<<2|(3<Er?3:1<Er?2:Jt[kr+0]!=0),kr+=16;Yn>>=4,Dr=Dr>>1|Ki<<7,Sr=(Sr<<8|Ot)>>>0}for(Ps=Yn,Qr=Dr>>4,xr=0;4>xr;xr+=2){for(Ot=0,Yn=$t.la>>4+xr,Dr=Pr.la>>4+xr,An=0;2>An;++An){for(Ki=1&Dr,Yi=0;2>Yi;++Yi)Er=Ki+(1&Yn),Yn=Yn>>1|(Ki=0<(Er=Wr(dt,Kt[2],Er,or.Qc,0,Jt,kr)))<<3,Ot=Ot<<2|(3<Er?3:1<Er?2:Jt[kr+0]!=0),kr+=16;Yn>>=2,Dr=Dr>>1|Ki<<5}hn|=Ot<<4*xr,Ps|=Yn<<4<<xr,Qr|=(240&Dr)<<xr}$t.la=Ps,Pr.la=Qr,wn.Hc=Sr,wn.Gc=hn,wn.ia=43690&hn?0:or.ia,Kt=!(Sr|hn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[zt.$b][zt.Za],et.wa[et.Y+et.ja].La|=!Kt),vr.Ka)return _n(dn,7,"Premature end-of-file encountered.")}if(ta(dn),et=zr,vr=1,zt=(ft=dn).D,$t=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(zt.M=ft.M,zt.uc=$t,gi(ft,zt),vr=1,zt=(Ot=ft.D).Nb,$t=(hn=uo[ft.L])*ft.R,dt=hn/2*ft.B,An=16*zt*ft.R,Yi=8*zt*ft.B,Kt=ft.sa,wn=ft.ta-$t+An,or=ft.qa,Jt=ft.ra-dt+Yi,kr=ft.Ha,Pr=ft.Ia-dt+Yi,Dr=(Yn=Ot.M)==0,Sr=Yn>=ft.Va-1,ft.Aa==2&&gi(ft,Ot),Ot.uc)for(Ki=(Er=ft).D.M,e(Er.D.uc),Ot=Er.yb;Ot<Er.Hb;++Ot){Qr=Ot,Ps=Ki;var vi=(tr=(Zr=Er).D).Nb;xr=Zr.R;var tr=tr.wa[tr.Y+Qr],In=Zr.sa,Li=Zr.ta+16*vi*xr+16*Qr,_i=tr.dd,Fn=tr.tc;if(Fn!=0)if(e(3<=Fn),Zr.L==1)0<Qr&&tf(In,Li,xr,Fn+4),tr.La&&Hs(In,Li,xr,Fn),0<Ps&&ef(In,Li,xr,Fn+4),tr.La&&Mc(In,Li,xr,Fn);else{var Qi=Zr.B,Xr=Zr.qa,Ua=Zr.ra+8*vi*Qi+8*Qr,sa=Zr.Ha,Zr=Zr.Ia+8*vi*Qi+8*Qr;vi=tr.ld,0<Qr&&(Po(In,Li,xr,Fn+4,_i,vi),Zh(Xr,Ua,sa,Zr,Qi,Fn+4,_i,vi)),tr.La&&(zd(In,Li,xr,Fn,_i,vi),Gd(Xr,Ua,sa,Zr,Qi,Fn,_i,vi)),0<Ps&&(Qh(In,Li,xr,Fn+4,_i,vi),Xh(Xr,Ua,sa,Zr,Qi,Fn+4,_i,vi)),tr.La&&(Jh(In,Li,xr,Fn,_i,vi),Hd(Xr,Ua,sa,Zr,Qi,Fn,_i,vi))}}if(ft.ia&&alert("todo:DitherRow"),et.put!=null){if(Ot=16*Yn,Yn=16*(Yn+1),Dr?(et.y=ft.sa,et.O=ft.ta+An,et.f=ft.qa,et.N=ft.ra+Yi,et.ea=ft.Ha,et.W=ft.Ia+Yi):(Ot-=hn,et.y=Kt,et.O=wn,et.f=or,et.N=Jt,et.ea=kr,et.W=Pr),Sr||(Yn-=hn),Yn>et.o&&(Yn=et.o),et.F=null,et.J=null,ft.Fa!=null&&0<ft.Fa.length&&Ot<Yn&&(et.J=qr(ft,et,Ot,Yn-Ot),et.F=ft.mb,et.F==null&&et.F.length==0)){vr=_n(ft,3,"Could not decode alpha data.");break t}Ot<et.j&&(hn=et.j-Ot,Ot=et.j,e(!(1&hn)),et.O+=ft.R*hn,et.N+=ft.B*(hn>>1),et.W+=ft.B*(hn>>1),et.F!=null&&(et.J+=et.width*hn)),Ot<Yn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=Ot-et.j,et.U=et.va-et.v,et.T=Yn-Ot,vr=et.put(et))}zt+1!=ft.Ic||Sr||(r(ft.sa,ft.ta-$t,Kt,wn+16*ft.R,$t),r(ft.qa,ft.ra-dt,or,Jt+8*ft.B,dt),r(ft.Ha,ft.Ia-dt,kr,Pr+8*ft.B,dt))}if(!vr)return _n(dn,6,"Output aborted.")}return 1})(ie,be)),be.bc!=null&&be.bc(be),Te&=1}return Te?(ie.cb=0,Te):0})(p,T)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Hi(G.ba))}G=v}q=G!=0?null:11>q?Y.f.RGBA.eb:Y.f.kb.y}else q=null;return q};var Xd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(P,H){for(var C="",I=0;I<4;I++)C+=String.fromCharCode(P[H++]);return C}function y(P,H){return P[H+0]|P[H+1]<<8}function w(P,H){return(P[H+0]|P[H+1]<<8|P[H+2]<<16)>>>0}function x(P,H){return(P[H+0]|P[H+1]<<8|P[H+2]<<16|P[H+3]<<24)>>>0}new f;var b=[0],M=[0],U=[],B=new f,F=n,ee=(function(P,H){var C={},I=0,k=!1,ne=0,we=0;if(C.frames=[],!(function(R,z){for(var J=0;J<4;J++)if(R[z+J]!="RIFF".charCodeAt(J))return!0;return!1})(P,H)){for(x(P,H+=4),H+=8;H<P.length;){var le=d(P,H),me=x(P,H+=4);H+=4;var re=me+(1&me);switch(le){case"VP8 ":case"VP8L":C.frames[I]===void 0&&(C.frames[I]={}),(he=C.frames[I]).src_off=k?we:H-8,he.src_size=ne+me+8,I++,k&&(k=!1,ne=0,we=0);break;case"VP8X":(he=C.header={}).feature_flags=P[H];var ve=H+4;he.canvas_width=1+w(P,ve),ve+=3,he.canvas_height=1+w(P,ve),ve+=3;break;case"ALPH":k=!0,ne=re+8,we=H-8;break;case"ANIM":(he=C.header).bgcolor=x(P,H),ve=H+4,he.loop_count=y(P,ve),ve+=2;break;case"ANMF":var X,he;(he=C.frames[I]={}).offset_x=2*w(P,H),H+=3,he.offset_y=2*w(P,H),H+=3,he.width=1+w(P,H),H+=3,he.height=1+w(P,H),H+=3,he.duration=w(P,H),H+=3,X=P[H++],he.dispose=1&X,he.blend=X>>1&1}le!="ANMF"&&(H+=re)}return C}})(F,0);ee.response=F,ee.rgbaoutput=!0,ee.dataurl=!1;var te=ee.header?ee.header:null,Q=ee.frames?ee.frames:null;if(te){te.loop_counter=te.loop_count,b=[te.canvas_height],M=[te.canvas_width];for(var oe=0;oe<Q.length&&Q[oe].blend!=0;oe++);}var Se=Q[0],$=B.WebPDecodeRGBA(F,Se.src_off,Se.src_size,M,b);Se.rgba=$,Se.imgwidth=M[0],Se.imgheight=b[0];for(var O=0;O<M[0]*b[0]*4;O++)U[O]=$[O];return this.width=M,this.height=b,this.data=U,this}(function(n){var e,t,r,a,o,u,c,f,d,y=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new f,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new u,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new u,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var w=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=R;Object.defineProperty(this,"pdf",{get:function(){return z}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Me){J=!!Me}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Me){ue=!!Me}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Me){isNaN(Me)||(fe=Me)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Me){isNaN(Me)||(ge=Me)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Me){var ce;typeof Me=="number"?ce=[Me,Me,Me,Me]:((ce=new Array(4))[0]=Me[0],ce[1]=Me.length>=2?Me[1]:ce[0],ce[2]=Me.length>=3?Me[2]:ce[0],ce[3]=Me.length>=4?Me[3]:ce[1]),d.margin=ce}});var Le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Le},set:function(Me){Le=Me}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Me){ke=Me}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Me){Fe=Me}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Me){Me instanceof y&&(d=Me)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Me){d.path=Me}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Me){qe=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var ce;ce=x(Me),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var ce=x(Me);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var nt=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(Me){nt=null,rt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var ce;if(this.ctx.font=Me,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var tn=ce[1];ce[2];var Nt=ce[3],Et=ce[4];ce[5];var Je=ce[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor(yt==="px"?parseFloat(Et)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var tt=(function(Lt){var bt,Tn,an=[],ht=Lt.trim();if(ht==="")return X1;if(ht in __)return[__[ht]];for(;ht!=="";){switch(Tn=null,bt=(ht=w_(ht)).charAt(0)){case'"':case"'":Tn=MT(ht.substring(1),bt);break;default:Tn=jT(ht)}if(Tn===null||(an.push(Tn[0]),(ht=w_(Tn[1]))!==""&&ht.charAt(0)!==","))return X1;ht=ht.replace(/^,/,"")}return an})(Je);if(this.fontFaces){var Yt=(function(Lt,bt){if(nt===null){var Tn=(function(an){var ht=[];return Object.keys(an).forEach(function(Ct){an[Ct].forEach(function(Nn){var At=null;switch(Nn){case"bold":At={family:Ct,weight:"bold"};break;case"italic":At={family:Ct,style:"italic"};break;case"bolditalic":At={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":At={family:Ct}}At!==null&&(At.ref={name:Ct,style:Nn},ht.push(At))})}),ht})(Lt.getFontList());nt=(function(an){for(var ht={},Ct=0;Ct<an.length;++Ct){var Nn=Q1(an[Ct]),At=Nn.family,nn=Nn.stretch,Vt=Nn.style,ir=Nn.weight;ht[At]=ht[At]||{},ht[At][nn]=ht[At][nn]||{},ht[At][nn][Vt]=ht[At][nn][Vt]||{},ht[At][nn][Vt][ir]=Nn}return ht})(Tn.concat(bt))}return nt})(this.pdf,this.fontFaces),_t=tt.map(function(Lt){return{family:Lt,stretch:"normal",weight:Nt,style:tn}}),mn=(function(Lt,bt,Tn){for(var an=(Tn=Tn||{}).defaultFontFamily||"times",ht=Object.assign({},OT,Tn.genericFontFamilies||{}),Ct=null,Nn=null,At=0;At<bt.length;++At)if(ht[(Ct=Q1(bt[At])).family]&&(Ct.family=ht[Ct.family]),Lt.hasOwnProperty(Ct.family)){Nn=Lt[Ct.family];break}if(!(Nn=Nn||Lt[an]))throw new Error("Could not find a font-family for the rule '"+b_(Ct)+"' and default family '"+an+"'.");if(Nn=(function(nn,Vt){if(Vt[nn])return Vt[nn];var ir=I0[nn],Gn=ir<=I0.normal?-1:1,gn=v_(Vt,p4,ir,Gn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+nn);return gn})(Ct.stretch,Nn),Nn=(function(nn,Vt){if(Vt[nn])return Vt[nn];for(var ir=d4[nn],Gn=0;Gn<ir.length;++Gn)if(Vt[ir[Gn]])return Vt[ir[Gn]];throw new Error("Could not find a matching font-style for "+nn)})(Ct.style,Nn),!(Nn=(function(nn,Vt){if(Vt[nn])return Vt[nn];if(nn===400&&Vt[500])return Vt[500];if(nn===500&&Vt[400])return Vt[400];var ir=DT[nn],Gn=v_(Vt,m4,ir,nn<400?-1:1);if(!Gn)throw new Error("Could not find a matching font-weight for value "+nn);return Gn})(Ct.weight,Nn)))throw new Error("Failed to resolve a font for the rule '"+b_(Ct)+"'.");return Nn})(Yt,_t);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var Bt="";(Nt==="bold"||parseInt(Nt,10)>=700||tn==="bold")&&(Bt="bold"),tn==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var ct="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<tt.length;Tt++){if(this.pdf.internal.getFont(tt[Tt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){ct=tt[Tt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(tt[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=tt[Tt],Bt="bold";else if(this.pdf.internal.getFont(tt[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=tt[Tt],Bt="normal";break}}if(ct===""){for(var st=0;st<tt.length;st++)if(wt[tt[st]]){ct=wt[tt[st]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};w.prototype.setLineDash=function(R){this.lineDash=R},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){Q.call(this,"fill",!1)},w.prototype.stroke=function(){Q.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(R,z){if(isNaN(R)||isNaN(z))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(R,z));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(R,z)},w.prototype.closePath=function(){var R=new u(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Xn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){R=new u(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(R.x,R.y)},w.prototype.lineTo=function(R,z){if(isNaN(R)||isNaN(z))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(R,z));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Q.call(this,null,!0)},w.prototype.quadraticCurveTo=function(R,z,J,ue){if(isNaN(J)||isNaN(ue)||isNaN(R)||isNaN(z))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new u(J,ue)),ge=this.ctx.transform.applyToPoint(new u(R,z));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new u(fe.x,fe.y)},w.prototype.bezierCurveTo=function(R,z,J,ue,fe,ge){if(isNaN(fe)||isNaN(ge)||isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Le=this.ctx.transform.applyToPoint(new u(fe,ge)),ke=this.ctx.transform.applyToPoint(new u(R,z)),Fe=this.ctx.transform.applyToPoint(new u(J,ue));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Fe.x,y2:Fe.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new u(Le.x,Le.y)},w.prototype.arc=function(R,z,J,ue,fe,ge){if(isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue)||isNaN(fe))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Le=this.ctx.transform.applyToPoint(new u(R,z));R=Le.x,z=Le.y;var ke=this.ctx.transform.applyToPoint(new u(0,J)),Fe=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(ke.x-Fe.x,2)+Math.pow(ke.y-Fe.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:R,y:z,radius:J,startAngle:ue,endAngle:fe,counterclockwise:ge})},w.prototype.arcTo=function(R,z,J,ue,fe){throw new Error("arcTo not implemented.")},w.prototype.rect=function(R,z,J,ue){if(isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,z),this.lineTo(R+J,z),this.lineTo(R+J,z+ue),this.lineTo(R,z+ue),this.lineTo(R,z),this.lineTo(R+J,z),this.lineTo(R,z)},w.prototype.fillRect=function(R,z,J,ue){if(isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,z,J,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},w.prototype.strokeRect=function(R,z,J,ue){if(isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(R,z,J,ue),this.stroke())},w.prototype.clearRect=function(R,z,J,ue){if(isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,z,J,ue))},w.prototype.save=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},w.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(z),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var z,J,ue,fe;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))z=0,J=0,ue=0,fe=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ge!==null)z=parseInt(ge[1]),J=parseInt(ge[2]),ue=parseInt(ge[3]),fe=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)z=parseInt(ge[1]),J=parseInt(ge[2]),ue=parseInt(ge[3]),fe=parseFloat(ge[4]);else{if(fe=1,typeof R=="string"&&R.charAt(0)!=="#"){var Le=new a4(R);R=Le.ok?Le.toHex():"#000000"}R.length===4?(z=R.substring(1,2),z+=z,J=R.substring(2,3),J+=J,ue=R.substring(3,4),ue+=ue):(z=R.substring(1,3),J=R.substring(3,5),ue=R.substring(5,7)),z=parseInt(z,16),J=parseInt(J,16),ue=parseInt(ue,16)}}return{r:z,g:J,b:ue,a:fe,style:R}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(R,z,J,ue){if(isNaN(z)||isNaN(J)||typeof R!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!b.call(this)){var fe=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:R,x:z,y:J,scale:ge,angle:fe,align:this.textAlign,maxWidth:ue})}},w.prototype.strokeText=function(R,z,J,ue){if(isNaN(z)||isNaN(J)||typeof R!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){ue=isNaN(ue)?void 0:ue;var fe=re(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:R,x:z,y:J,scale:ge,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},w.prototype.measureText=function(R){if(typeof R!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,J=this.pdf.internal.scaleFactor,ue=z.internal.getFontSize(),fe=z.getStringUnitWidth(R)*ue/z.internal.scaleFactor;return new function(ge){var Le=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this}({width:fe*=Math.round(96*J/72*1e4)/1e4})},w.prototype.scale=function(R,z){if(isNaN(R)||isNaN(z))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(R,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.rotate=function(R){if(isNaN(R))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.translate=function(R,z){if(isNaN(R)||isNaN(z))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,R,z);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.transform=function(R,z,J,ue,fe,ge){if(isNaN(R)||isNaN(z)||isNaN(J)||isNaN(ue)||isNaN(fe)||isNaN(ge))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Le=new f(R,z,J,ue,fe,ge);this.ctx.transform=this.ctx.transform.multiply(Le)},w.prototype.setTransform=function(R,z,J,ue,fe,ge){R=isNaN(R)?1:R,z=isNaN(z)?0:z,J=isNaN(J)?0:J,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,ge=isNaN(ge)?0:ge,this.ctx.transform=new f(R,z,J,ue,fe,ge)};var U=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(R,z,J,ue,fe,ge,Le,ke,Fe){var qe=this.pdf.getImageProperties(R),nt=1,rt=1,Me=1,ce=1;ue!==void 0&&ke!==void 0&&(Me=ke/ue,ce=Fe/fe,nt=qe.width/ue*ke/ue,rt=qe.height/fe*Fe/fe),ge===void 0&&(ge=z,Le=J,z=0,J=0),ue!==void 0&&ke===void 0&&(ke=ue,Fe=fe),ue===void 0&&ke===void 0&&(ke=qe.width,Fe=qe.height);for(var tn,Nt=this.ctx.transform.decompose(),Et=re(Nt.rotate.shx),Je=new f,yt=(Je=(Je=(Je=Je.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new c(ge-z*Me,Le-J*ce,ue*nt,fe*rt)),tt=B.call(this,yt),Yt=[],_t=0;_t<tt.length;_t+=1)Yt.indexOf(tt[_t])===-1&&Yt.push(tt[_t]);if(te(Yt),this.autoPaging)for(var mn=Yt[0],Bt=Yt[Yt.length-1],ct=mn;ct<Bt+1;ct++){this.pdf.setPage(ct);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=ct===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=ct===1?0:st+(ct-2)*Lt;if(this.ctx.clip_path.length!==0){var Tn=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ee(tn,this.posX+this.margin[3],-bt+Tt+this.ctx.prevPageLastElemOffset),oe.call(this,"fill",!0),this.path=Tn}var an=JSON.parse(JSON.stringify(yt));an=ee([an],this.posX+this.margin[3],-bt+Tt+this.ctx.prevPageLastElemOffset)[0];var ht=(ct>mn||ct<Bt)&&U.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Lt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",an.x,an.y,an.w,an.h,null,null,Et),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Et)};var B=function(R,z,J){var ue=[];z=z||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ue.push(Math.floor((R.y+fe)/J)+1);break;case"arc":ue.push(Math.floor((R.y+fe-R.radius)/J)+1),ue.push(Math.floor((R.y+fe+R.radius)/J)+1);break;case"qct":var ge=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ue.push(Math.floor((ge.y+fe)/J)+1),ue.push(Math.floor((ge.y+ge.h+fe)/J)+1);break;case"bct":var Le=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ue.push(Math.floor((Le.y+fe)/J)+1),ue.push(Math.floor((Le.y+Le.h+fe)/J)+1);break;case"rect":ue.push(Math.floor((R.y+fe)/J)+1),ue.push(Math.floor((R.y+R.h+fe)/J)+1)}for(var ke=0;ke<ue.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ke];)F.call(this);return ue},F=function(){var R=this.fillStyle,z=this.strokeStyle,J=this.font,ue=this.lineCap,fe=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=z,this.font=J,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=ge},ee=function(R,z,J){for(var ue=0;ue<R.length;ue++)switch(R[ue].type){case"bct":R[ue].x2+=z,R[ue].y2+=J;case"qct":R[ue].x1+=z,R[ue].y1+=J;default:R[ue].x+=z,R[ue].y+=J}return R},te=function(R){return R.sort(function(z,J){return z-J})},Q=function(R,z){for(var J,ue,fe=this.fillStyle,ge=this.strokeStyle,Le=this.lineCap,ke=this.lineWidth,Fe=Math.abs(ke*this.ctx.transform.scaleX),qe=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),Me=[],ce=0;ce<rt.length;ce++)if(rt[ce].x!==void 0)for(var tn=B.call(this,rt[ce]),Nt=0;Nt<tn.length;Nt+=1)Me.indexOf(tn[Nt])===-1&&Me.push(tn[Nt]);for(var Et=0;Et<Me.length;Et++)for(;this.pdf.internal.getNumberOfPages()<Me[Et];)F.call(this);if(te(Me),this.autoPaging)for(var Je=Me[0],yt=Me[Me.length-1],tt=Je;tt<yt+1;tt++){this.pdf.setPage(tt),this.fillStyle=fe,this.strokeStyle=ge,this.lineCap=Le,this.lineWidth=Fe,this.lineJoin=qe;var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=tt===1?this.posY+this.margin[0]:this.margin[0],mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=tt===1?0:mn+(tt-2)*Bt;if(this.ctx.clip_path.length!==0){var wt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ee(J,this.posX+this.margin[3],-ct+_t+this.ctx.prevPageLastElemOffset),oe.call(this,R,!0),this.path=wt}if(ue=JSON.parse(JSON.stringify(nt)),this.path=ee(ue,this.posX+this.margin[3],-ct+_t+this.ctx.prevPageLastElemOffset),z===!1||tt===0){var Tt=(tt>Je||tt<yt)&&U.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Bt,null).clip().discardPath()),oe.call(this,R,z),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=Fe,oe.call(this,R,z),this.lineWidth=ke;this.path=nt},oe=function(R,z){if((R!=="stroke"||z||!M.call(this))&&(R==="stroke"||z||!b.call(this))){for(var J,ue,fe=[],ge=this.path,Le=0;Le<ge.length;Le++){var ke=ge[Le];switch(ke.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ke,deltas:[],abs:[]});break;case"lt":var Fe=fe.length;if(ge[Le-1]&&!isNaN(ge[Le-1].x)&&(J=[ke.x-ge[Le-1].x,ke.y-ge[Le-1].y],Fe>0)){for(;Fe>=0;Fe--)if(fe[Fe-1].close!==!0&&fe[Fe-1].begin!==!0){fe[Fe-1].deltas.push(J),fe[Fe-1].abs.push(ke);break}}break;case"bct":J=[ke.x1-ge[Le-1].x,ke.y1-ge[Le-1].y,ke.x2-ge[Le-1].x,ke.y2-ge[Le-1].y,ke.x-ge[Le-1].x,ke.y-ge[Le-1].y],fe[fe.length-1].deltas.push(J);break;case"qct":var qe=ge[Le-1].x+2/3*(ke.x1-ge[Le-1].x),nt=ge[Le-1].y+2/3*(ke.y1-ge[Le-1].y),rt=ke.x+2/3*(ke.x1-ke.x),Me=ke.y+2/3*(ke.y1-ke.y),ce=ke.x,tn=ke.y;J=[qe-ge[Le-1].x,nt-ge[Le-1].y,rt-ge[Le-1].x,Me-ge[Le-1].y,ce-ge[Le-1].x,tn-ge[Le-1].y],fe[fe.length-1].deltas.push(J);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ke)}}ue=z?null:R==="stroke"?"stroke":"fill";for(var Nt=!1,Et=0;Et<fe.length;Et++)if(fe[Et].arc)for(var Je=fe[Et].abs,yt=0;yt<Je.length;yt++){var tt=Je[yt];tt.type==="arc"?O.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,z,!Nt):k.call(this,tt.x,tt.y),Nt=!0}else if(fe[Et].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(fe[Et].begin!==!0){var Yt=fe[Et].start.x,_t=fe[Et].start.y;ne.call(this,fe[Et].deltas,Yt,_t),Nt=!0}ue&&P.call(this,ue),z&&H.call(this)}},Se=function(R){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-J;case"top":return R+z-J;case"hanging":return R+z-2*J;case"middle":return R+z/2-J;default:return R}},$=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(z,J){this.colorStops.push([z,J])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(R,z,J,ue,fe,ge,Le,ke,Fe){for(var qe=le.call(this,J,ue,fe,ge),nt=0;nt<qe.length;nt++){var rt=qe[nt];nt===0&&(Fe?C.call(this,rt.x1+R,rt.y1+z):k.call(this,rt.x1+R,rt.y1+z)),we.call(this,R,z,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}ke?H.call(this):P.call(this,Le)},P=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(R,z){this.pdf.internal.out(t(R)+" "+r(z)+" m")},I=function(R){var z;switch(R.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var J=this.pdf.getTextDimensions(R.text),ue=Se.call(this,R.y),fe=$.call(this,ue)-J.h,ge=this.ctx.transform.applyToPoint(new u(R.x,ue)),Le=this.ctx.transform.decompose(),ke=new f;ke=(ke=(ke=ke.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var Fe,qe,nt,rt=this.ctx.transform.applyToRectangle(new c(R.x,ue,J.w,J.h)),Me=ke.applyToRectangle(new c(R.x,fe,J.w,J.h)),ce=B.call(this,Me),tn=[],Nt=0;Nt<ce.length;Nt+=1)tn.indexOf(ce[Nt])===-1&&tn.push(ce[Nt]);if(te(tn),this.autoPaging)for(var Et=tn[0],Je=tn[tn.length-1],yt=Et;yt<Je+1;yt++){this.pdf.setPage(yt);var tt=yt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],mn=_t-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],ct=Bt-this.margin[3],wt=yt===1?0:Yt+(yt-2)*mn;if(this.ctx.clip_path.length!==0){var Tt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ee(Fe,this.posX+this.margin[3],-1*wt+tt),oe.call(this,"fill",!0),this.path=Tt}var st=ee([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*R.scale),nt=this.lineWidth,this.lineWidth=nt*R.scale);var Lt=this.autoPaging!=="text";if(Lt||st.y+st.h<=_t){if(Lt||st.y>=tt&&st.x<=Bt){var bt=Lt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Bt-st.x)[0],Tn=ee([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0],an=Lt&&(yt>Et||yt<Je)&&U.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,mn,null).clip().discardPath()),this.pdf.text(bt,Tn.x,Tn.y,{angle:R.angle,align:z,renderingMode:R.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else st.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-st.y);R.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=nt)}else R.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*R.scale),nt=this.lineWidth,this.lineWidth=nt*R.scale),this.pdf.text(R.text,ge.x+this.posX,ge.y+this.posY,{angle:R.angle,align:z,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=nt)},k=function(R,z,J,ue){J=J||0,ue=ue||0,this.pdf.internal.out(t(R+J)+" "+r(z+ue)+" l")},ne=function(R,z,J){return this.pdf.lines(R,z,J,null,null)},we=function(R,z,J,ue,fe,ge,Le,ke){this.pdf.internal.out([e(a(J+R)),e(o(ue+z)),e(a(fe+R)),e(o(ge+z)),e(a(Le+R)),e(o(ke+z)),"c"].join(" "))},le=function(R,z,J,ue){for(var fe=2*Math.PI,ge=Math.PI/2;z>J;)z-=fe;var Le=Math.abs(J-z);Le<fe&&ue&&(Le=fe-Le);for(var ke=[],Fe=ue?-1:1,qe=z;Le>1e-5;){var nt=qe+Fe*Math.min(Le,ge);ke.push(me.call(this,R,qe,nt)),Le-=Math.abs(nt-qe),qe=nt}return ke},me=function(R,z,J){var ue=(J-z)/2,fe=R*Math.cos(ue),ge=R*Math.sin(ue),Le=fe,ke=-ge,Fe=Le*Le+ke*ke,qe=Fe+Le*fe+ke*ge,nt=4/3*(Math.sqrt(2*Fe*qe)-qe)/(Le*ge-ke*fe),rt=Le-nt*ke,Me=ke+nt*Le,ce=rt,tn=-Me,Nt=ue+z,Et=Math.cos(Nt),Je=Math.sin(Nt);return{x1:R*Math.cos(z),y1:R*Math.sin(z),x2:rt*Et-Me*Je,y2:rt*Je+Me*Et,x3:ce*Et-tn*Je,y3:ce*Je+tn*Et,x4:R*Math.cos(J),y4:R*Math.sin(J)}},re=function(R){return 180*R/Math.PI},ve=function(R,z,J,ue,fe,ge){var Le=R+.5*(J-R),ke=z+.5*(ue-z),Fe=fe+.5*(J-fe),qe=ge+.5*(ue-ge),nt=Math.min(R,fe,Le,Fe),rt=Math.max(R,fe,Le,Fe),Me=Math.min(z,ge,ke,qe),ce=Math.max(z,ge,ke,qe);return new c(nt,Me,rt-nt,ce-Me)},X=function(R,z,J,ue,fe,ge,Le,ke){var Fe,qe,nt,rt,Me,ce,tn,Nt,Et,Je,yt,tt,Yt,_t,mn=J-R,Bt=ue-z,ct=fe-J,wt=ge-ue,Tt=Le-fe,st=ke-ge;for(qe=0;qe<41;qe++)Et=(tn=(nt=R+(Fe=qe/40)*mn)+Fe*((Me=J+Fe*ct)-nt))+Fe*(Me+Fe*(fe+Fe*Tt-Me)-tn),Je=(Nt=(rt=z+Fe*Bt)+Fe*((ce=ue+Fe*wt)-rt))+Fe*(ce+Fe*(ge+Fe*st-ce)-Nt),qe==0?(yt=Et,tt=Je,Yt=Et,_t=Je):(yt=Math.min(yt,Et),tt=Math.min(tt,Je),Yt=Math.max(Yt,Et),_t=Math.max(_t,Je));return new c(Math.round(yt),Math.round(tt),Math.round(Yt-yt),Math.round(_t-tt))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,z,J=(R=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:z}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(St.API),(function(n){var e=function(u){var c,f,d,y,w,x,b,M,U,B;for(f=[],d=0,y=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;y>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(x=(w=((w=((w=((w=(w-(B=w%85))/85)-(U=w%85))/85)-(M=w%85))/85)-(b=w%85))/85)%85,f.push(x+33,b+33,M+33,U+33,B+33)):f.push(122);return(function(F,ee){for(var te=ee;te>0;te--)F.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,y,w,x=String,b="length",M=255,U="charCodeAt",B="slice",F="replace";for(u[B](-2),u=u[B](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),d=[],y=0,w=(u+=c="uuuuu"[B](u[b]%5||5))[b];w>y;y+=5)f=52200625*(u[U](y)-33)+614125*(u[U](y+1)-33)+7225*(u[U](y+2)-33)+85*(u[U](y+3)-33)+(u[U](y+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function(ee,te){for(var Q=te;Q>0;Q--)ee.pop()})(d,c[b]),x.fromCharCode.apply(x,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=A0(c)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(St.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,y){var w=new XMLHttpRequest,x=0,b=function(M){var U=M.length,B=[],F=String.fromCharCode;for(x=0;x<U;x+=1)B.push(F(255&M.charCodeAt(x)));return B.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?y(b(this.responseText)):y(void 0)}),w.send(null),d&&w.status===200)return b(w.responseText)})(a,o,u)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(St.API),(function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):k1(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):k1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Xn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var y in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[y]=f.style[y];return d},o=function c(f,d){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),d);return(y=y.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,y=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var b=0;b<y.length;++b){var M=y[b],U=M.src.find(function(B){return B.format==="truetype"});U&&d.addFont(U.url,M.ref.name,M.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(c=c||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,y){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,y){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(y,w){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,y),x}).then(y,w).then(function(x){return d.updateProgress(1),x})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var y=this;c&&(c=c.bind(y)),f&&(f=f.bind(y));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),x=d.call(w,c,f);return u.convert(x,y.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,St.getPageSize=function(c,f,d){if(Xn(c)==="object"){var y=c;c=y.orientation,f=y.unit||f,d=y.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,x=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var M,U=0,B=0;if(b.hasOwnProperty(x))U=b[x][1]/w,B=b[x][0]/w;else try{U=d[1],B=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",B>U&&(M=B,B=U,U=M);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",U>B&&(M=B,B=U,U=M)}return{width:B,height:U,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Q1):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(St.API),St.API.addJS=function(n){return S_=n,this.internal.events.subscribe("postPutResources",function(){Xp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),A_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+S_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xp!==void 0&&A_!==void 0&&this.internal.out("/Names <</JavaScript "+Xp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var w=t.internal.newObject();y.push(w);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(St.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,u,c){var f,d=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var x,b=256*w.charCodeAt(4)+w.charCodeAt(5),M=w.length,U={width:0,height:0,numcomponents:1},B=4;B<M;B+=2){if(B+=b,e.indexOf(w.charCodeAt(B+1))!==-1){x=256*w.charCodeAt(B+5)+w.charCodeAt(B+6),U={width:256*w.charCodeAt(B+7)+w.charCodeAt(B+8),height:x,numcomponents:w.charCodeAt(B+9)};break}b=256*w.charCodeAt(B+2)+w.charCodeAt(B+3)}return U})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return y}})(St.API),St.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=bT(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,y=o.depth;a=d&&f===1?(function($){for(var O=$.width,P=$.height,H=$.data,C=$.palette,I=$.depth,k=!1,ne=[],we=[],le=void 0,me=!1,re=0,ve=0;ve<C.length;ve++){var X=N5(C[ve],4),he=X[0],R=X[1],z=X[2],J=X[3];ne.push(he,R,z),J!=null&&(J===0?(re++,we.length<1&&we.push(ve)):J<255&&(me=!0))}if(me||re>1){k=!0,we=void 0;var ue=O*P;le=new Uint8Array(ue);for(var fe=new DataView(H.buffer),ge=0;ge<ue;ge++){var Le=Z1(fe,ge,I),ke=N5(C[Le],4)[3];le[ge]=ke}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:H,alphaBytes:le,needSMask:k,palette:ne,mask:we}})(o):f===2||f===4?(function($){for(var O=$.data,P=$.width,H=$.height,C=$.channels,I=$.depth,k=C===2?"DeviceGray":"DeviceRGB",ne=C-1,we=P*H,le=ne,me=we*le,re=1*we,ve=Math.ceil(me*I/8),X=Math.ceil(re*I/8),he=new Uint8Array(ve),R=new Uint8Array(X),z=new DataView(O.buffer),J=new DataView(he.buffer),ue=new DataView(R.buffer),fe=!1,ge=0;ge<we;ge++){for(var Le=ge*C,ke=0;ke<le;ke++)k_(J,Z1(z,Le+ke,I),ge*le+ke,I);var Fe=Z1(z,Le+le,I);Fe<(1<<I)-1&&(fe=!0),k_(ue,Fe,1*ge,I)}return{colorSpace:k,colorsPerPixel:ne,colorBytes:he,alphaBytes:R,needSMask:fe}})(o):(function($){var O=$.data,P=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:O instanceof Uint8Array?O:new Uint8Array(O.buffer),needSMask:!1}})(o);var w,x,b,M=a,U=M.colorSpace,B=M.colorsPerPixel,F=M.colorBytes,ee=M.alphaBytes,te=M.needSMask,Q=M.palette,oe=M.mask,Se=null;return r!==St.API.image_compression.NONE&&typeof A0=="function"?(Se=(function($){var O;switch($){case St.API.image_compression.FAST:O=11;break;case St.API.image_compression.MEDIUM:O=13;break;case St.API.image_compression.SLOW:O=14;break;default:O=12}return O})(r),w=this.decode.FLATE_DECODE,x="/Predictor ".concat(Se," "),n=N_(F,u*B,B,r),te&&(b=N_(ee,u,1,r))):(w=void 0,x="",n=F,te&&(b=ee)),x+="/Colors ".concat(B," /BitsPerComponent ").concat(y," /Columns ").concat(u),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:w,decodeParameters:x,transparency:oe,palette:Q,sMask:b,predictor:Se,width:u,height:c,bitsPerComponent:y,colorSpace:U}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new BT(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},y=new J1(100).encode(d,100);return n.processJPEG.call(this,y,t,r,a)},n.processGIF87A=n.processGIF89A})(St.API),yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ur.log("bit decode error:"+t)}},yo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},yo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},yo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},yo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,y=r*this.width*4+4*a;this.data[y]=f,this.data[y+1]=c,this.data[y+2]=u,this.data[y+3]=d}this.pos+=n}},yo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,y=a*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=255}this.pos+=n}},yo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},yo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=u}},yo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new yo(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new J1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(St.API),D_.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new D_(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new J1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(St.API),St.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var y=r[d],w=r[d+1],x=r[d+2],b=r[d+3];o[c++]=y,o[c++]=w,o[c++]=x,u[f++]=b}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dh=St.API,Zp=dh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,y=d.fof?d.fof:1,w=e.doKerning!==!1,x=0,b=n.length,M=0,U=c[0]||f,B=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?B.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(x=w&&Xn(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/y:0,B.push((c[r]||U)/f+x)),M=r;return B},x_=dh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return dh.processArabic&&(n=dh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:Zp.apply(this,arguments).reduce(function(o,u){return o+u},0)},E_=function(n,e,t,r){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},T_=function(n,e,t){t||(t={});var r,a,o,u,c,f,d,y=[],w=[y],x=t.textIndent||0,b=0,M=0,U=n.split(" "),B=Zp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?U[0].length+2:t.lineIndent||0){var F=Array(f).join(" "),ee=[];U.map(function(Q){(Q=Q.split(/\s*\n/)).length>1?ee=ee.concat(Q.map(function(oe,Se){return(Se&&oe.length?`
`:"")+oe})):ee.push(Q[0])}),U=ee,f=x_.apply(this,[F,t])}for(o=0,u=U.length;o<u;o++){var te=0;if(r=U[o],f&&r[0]==`
`&&(r=r.substr(1),te=1),x+b+(M=(a=Zp.apply(this,[r,t])).reduce(function(Q,oe){return Q+oe},0))>e||te){if(M>e){for(c=E_.apply(this,[r,a,e-(x+b),e]),y.push(c.shift()),y=[c.pop()];c.length;)w.push([c.shift()]);M=a.slice(r.length-(y[0]?y[0].length:0)).reduce(function(Q,oe){return Q+oe},0)}else y=[r];w.push(y),x=M+f,b=B}else y.push(r),x+=b+M,b=B}return d=f?function(Q,oe){return(oe?F:"")+Q.join(" ")}:function(Q){return Q.join(" ")},w.map(d)},dh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle),x="Unicode";return w.metadata[x]?{widths:w.metadata[x].widths||{0:1},kerning:w.metadata[x].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(T_.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var u=function(x){return"0x"+parseInt(x,10).toString(16)},c=n.__fontmetrics__.compress=function(x){var b,M,U,B,F=["{"];for(var ee in x){if(b=x[ee],isNaN(parseInt(ee,10))?M="'"+ee+"'":(ee=parseInt(ee,10),M=(M=u(ee).slice(2)).slice(0,-1)+a[M.slice(-1)]),typeof b=="number")b<0?(U=u(b).slice(3),B="-"):(U=u(b).slice(2),B=""),U=B+U.slice(0,-1)+a[U.slice(-1)];else{if(Xn(b)!=="object")throw new Error("Don't know what to do with value type "+Xn(b)+".");U=c(b)}F.push(M+U)}return F.push("}"),F.join("")},f=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,M,U,B,F={},ee=1,te=F,Q=[],oe="",Se="",$=x.length-1,O=1;O<$;O+=1)(B=x[O])=="'"?b?(U=b.join(""),b=void 0):b=[]:b?b.push(B):B=="{"?(Q.push([te,U]),te={},U=void 0):B=="}"?((M=Q.pop())[0][M[1]]=te,U=void 0,te=M[0]):B=="-"?ee=-1:U===void 0?r.hasOwnProperty(B)?(oe+=r[B],U=parseInt(oe,16)*ee,ee=1,oe=""):oe+=B:r.hasOwnProperty(B)?(Se+=r[B],te[U]=parseInt(Se,16)*ee,ee=1,U=void 0,Se=""):Se+=B;return F},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var b=x.font,M=w.Unicode[b.postScriptName];M&&(b.metadata.Unicode={},b.metadata.Unicode.widths=M.widths,b.metadata.Unicode.kerning=M.kerning);var U=y.Unicode[b.postScriptName];U&&(b.metadata.Unicode.encoding=U,b.encoding=U.codePages[0])}])})(St.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(om(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])})(St),St.API.addSvgAsImage=function(n,e,t,r,a,o,u,c){if(isNaN(e)||isNaN(t))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Wt.canvg?Promise.resolve(Wt.canvg):k1(()=>import("./index.es-F4bHKOLC.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,u,c)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,y=0,w=0;function x(M,U){var B,F=!1;for(B=0;B<M.length;B+=1)M[B]===U&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(Xn(n)==="object"){for(a in n)if(o=n[a],x(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&x(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,U=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?U.push("/"+M+" /"+t[M].value):U.push("/"+M+" "+t[M].value));U.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+U.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(St.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],w=0,x=o.length;w<x;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(d[4-c.length],c)}return y.join("")},r=function(o){var u,c,f,d,y,w,x;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,x=(c=Object.keys(o).sort(function(b,M){return b-M})).length;w<x;w++)u=c[w],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",M=0;M<x.length;M++)b+=String.fromCharCode(x[M]);var U=d();y({data:b,addLength1:!0,objectId:U}),f("endobj");var B=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var F=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+mh(c.fontName)),f("/FontFile2 "+U+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var ee=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+mh(c.fontName)),f("/FontDescriptor "+F+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+B+" 0 R"),f("/BaseFont /"+mh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+ee+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,x="",b=0;b<w.length;b++)x+=String.fromCharCode(w[b]);var M=d();y({data:x,addLength1:!0,objectId:M}),f("endobj");var U=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var B=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+mh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var F=0;F<c.metadata.hmtx.widths.length;F++)c.metadata.hmtx.widths[F]=parseInt(c.metadata.hmtx.widths[F]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+U+" 0 R/BaseFont/"+mh(c.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,y=o.options||{},w=o.mutex||{},x=w.pdfEscape,b=w.activeFontKey,M=w.fonts,U=b,B="",F=0,ee="",te=M[U].encoding;if(M[U].encoding!=="Identity-H")return{text:c,x:f,y:d,options:y,mutex:w};for(ee=c,U=b,Array.isArray(c)&&(ee=c[0]),F=0;F<ee.length;F+=1)M[U].metadata.hasOwnProperty("cmap")&&(u=M[U].metadata.cmap.unicode.codeMap[ee[F].charCodeAt(0)]),u||ee[F].charCodeAt(0)<256&&M[U].metadata.hasOwnProperty("Unicode")?B+=ee[F]:B+="";var Q="";return parseInt(U.slice(1))<14||te==="WinAnsiEncoding"?Q=x(B,U).split("").map(function(oe){return oe.charCodeAt(0).toString(16)}).join(""):te==="Identity-H"&&(Q=t(B,M[U])),w.isHex=!0,{text:Q,x:f,y:d,options:y,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(St),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(St.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,c,f,d,y,w=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},U={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ee=!1,te=0;this.__bidiEngine__={};var Q=function(C){var I=C.charCodeAt(),k=I>>8,ne=U[k];return ne!==void 0?w[256*ne+(255&I)]:k===252||k===253?"AL":F.test(k)?"L":k===8?"R":"N"},oe=function(C){for(var I,k=0;k<C.length;k++){if((I=Q(C.charAt(k)))==="L")return!1;if(I==="R")return!0}return!1},Se=function(C,I,k,ne){var we,le,me,re,ve=I[ne];switch(ve){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ee=!1;break;case"N":case"AN":break;case"EN":ee&&(ve="AN");break;case"AL":ee=!0,ve="R";break;case"WS":case"BN":ve="N";break;case"CS":ne<1||ne+1>=I.length||(we=k[ne-1])!=="EN"&&we!=="AN"||(le=I[ne+1])!=="EN"&&le!=="AN"?ve="N":ee&&(le="AN"),ve=le===we?le:"N";break;case"ES":ve=(we=ne>0?k[ne-1]:"B")==="EN"&&ne+1<I.length&&I[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&k[ne-1]==="EN"){ve="EN";break}if(ee){ve="N";break}for(me=ne+1,re=I.length;me<re&&I[me]==="ET";)me++;ve=me<re&&I[me]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(re=I.length,me=ne+1;me<re&&I[me]==="NSM";)me++;if(me<re){var X=C[ne],he=X>=1425&&X<=2303||X===64286;if(we=I[me],he&&(we==="R"||we==="AL")){ve="R";break}}}ve=ne<1||(we=I[ne-1])==="B"?"N":k[ne-1];break;case"B":ee=!1,a=!0,ve=te;break;case"S":o=!0,ve="N"}return ve},$=function(C,I,k){var ne=C.split("");return k&&O(ne,k,{hiLevel:te}),ne.reverse(),I&&I.reverse(),ne.join("")},O=function(C,I,k){var ne,we,le,me,re,ve=-1,X=C.length,he=0,R=[],z=te?b:x,J=[];for(ee=!1,a=!1,o=!1,we=0;we<X;we++)J[we]=Q(C[we]);for(le=0;le<X;le++){if(re=he,R[le]=Se(C,J,R,le),ne=240&(he=z[re][M[R[le]]]),he&=15,I[le]=me=z[he][5],ne>0)if(ne===16){for(we=ve;we<le;we++)I[we]=1;ve=-1}else ve=-1;if(z[he][6])ve===-1&&(ve=le);else if(ve>-1){for(we=ve;we<le;we++)I[we]=me;ve=-1}J[le]==="B"&&(I[le]=0),k.hiLevel|=me}o&&(function(ue,fe,ge){for(var Le=0;Le<ge;Le++)if(ue[Le]==="S"){fe[Le]=te;for(var ke=Le-1;ke>=0&&ue[ke]==="WS";ke--)fe[ke]=te}})(J,I,X)},P=function(C,I,k,ne,we){if(!(we.hiLevel<C)){if(C===1&&te===1&&!a)return I.reverse(),void(k&&k.reverse());for(var le,me,re,ve,X=I.length,he=0;he<X;){if(ne[he]>=C){for(re=he+1;re<X&&ne[re]>=C;)re++;for(ve=he,me=re-1;ve<me;ve++,me--)le=I[ve],I[ve]=I[me],I[me]=le,k&&(le=k[ve],k[ve]=k[me],k[me]=le);he=re}he++}}},H=function(C,I,k){var ne=C.split(""),we={hiLevel:te};return k||(k=[]),O(ne,k,we),(function(le,me,re){if(re.hiLevel!==0&&y)for(var ve,X=0;X<le.length;X++)me[X]===1&&(ve=B.indexOf(le[X]))>=0&&(le[X]=B[ve+1])})(ne,k,we),P(2,ne,I,k,we),P(1,ne,I,k,we),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(C,I,k){if((function(we,le){if(le)for(var me=0;me<we.length;me++)le[me]=me;c===void 0&&(c=oe(we)),d===void 0&&(d=oe(we))})(C,I),u||!f||d)if(u&&f&&c^d)te=c?1:0,C=$(C,I,k);else if(!u&&f&&d)te=c?1:0,C=H(C,I,k),C=$(C,I);else if(!u||c||f||d){if(u&&!f&&c^d)C=$(C,I),c?(te=0,C=H(C,I,k)):(te=1,C=H(C,I,k),C=$(C,I));else if(u&&c&&!f&&d)te=1,C=H(C,I,k),C=$(C,I);else if(!u&&!f&&c^d){var ne=y;c?(te=1,C=H(C,I,k),te=0,y=!1,C=H(C,I,k),y=ne):(te=0,C=H(C,I,k),C=$(C,I),te=1,y=!1,C=H(C,I,k),y=ne,C=$(C,I))}}else te=0,C=H(C,I,k);else te=c?1:0,C=H(C,I,k);return C},this.__bidiEngine__.setOptions=function(C){C&&(u=C.isInputVisual,f=C.isOutputVisual,c=C.isInputRtl,d=C.isOutputRtl,y=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);r.text=u}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(St),St.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Mu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nN(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new qT(this.contents),this.head=new HT(this),this.name=new KT(this),this.cmap=new y4(this),this.toUnicode={},this.hhea=new GT(this),this.maxp=new QT(this),this.hmtx=new XT(this),this.post=new WT(this),this.os2=new $T(this),this.loca=new tN(this),this.glyf=new ZT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var So,Mu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),qT=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,u,c,f,d,y,w,x,b,M,U;for(U in b=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),u=Math.floor(w/f),y=16*b-w,(a=new Mu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(w),a.writeShort(u),a.writeShort(y),o=16*b,d=a.pos+o,c=null,M=[],t)for(x=t[U],a.writeString(U),a.writeInt(n(x)),a.writeInt(d),a.writeInt(x.length),M=M.concat(x),U==="head"&&(c=d),d+=x.length;d%4;)M.push(0),d++;return a.write(M),r=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,u;for(t=v4.call(t);t.length%4;)t.push(0);for(o=new Mu(t),a=0,r=0,u=t.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),zT={}.hasOwnProperty,nl=function(n,e){for(var t in e)zT.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};So=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var HT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Mu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),O_=(function(){function n(e,t){var r,a,o,u,c,f,d,y,w,x,b,M,U,B,F,ee,te;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),x=b/2,e.pos+=6,o=(function(){var Q,oe;for(oe=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)oe.push(e.readUInt16());return oe})(),e.pos+=2,U=(function(){var Q,oe;for(oe=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)oe.push(e.readUInt16());return oe})(),d=(function(){var Q,oe;for(oe=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)oe.push(e.readUInt16());return oe})(),y=(function(){var Q,oe;for(oe=[],f=Q=0;0<=x?Q<x:Q>x;f=0<=x?++Q:--Q)oe.push(e.readUInt16());return oe})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var Q,oe;for(oe=[],f=Q=0;0<=a?Q<a:Q>a;f=0<=a?++Q:--Q)oe.push(e.readUInt16());return oe})(),f=F=0,te=o.length;F<te;f=++F)for(B=o[f],r=ee=M=U[f];M<=B?ee<=B:ee>=B;r=M<=B?++ee:--ee)y[f]===0?u=r+d[f]:(u=c[y[f]/2+(r-M)-(x-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,a,o,u,c,f,d,y,w,x,b,M,U,B,F,ee,te,Q,oe,Se,$,O,P,H,C,I,k,ne,we,le,me,re,ve,X,he,R,z,J,ue,fe,ge,Le,ke,Fe,qe,nt;switch(ne=new Mu,u=Object.keys(e).sort(function(rt,Me){return rt-Me}),t){case"macroman":for(U=0,B=(function(){var rt=[];for(M=0;M<256;++M)rt.push(0);return rt})(),ee={0:0},o={},we=0,ve=u.length;we<ve;we++)ee[ke=e[a=u[we]]]==null&&(ee[ke]=++U),o[a]={old:e[a],new:ee[e[a]]},B[a]=ee[e[a]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(B),{charMap:o,subtable:ne.data,maxGlyphID:U+1};case"unicode":for(I=[],w=[],te=0,ee={},r={},F=d=null,le=0,X=u.length;le<X;le++)ee[oe=e[a=u[le]]]==null&&(ee[oe]=++te),r[a]={old:oe,new:ee[oe]},c=ee[oe]-a,F!=null&&c===d||(F&&w.push(F),I.push(a),d=c),F=a;for(F&&w.push(F),w.push(65535),I.push(65535),H=2*(P=I.length),O=2*Math.pow(Math.log(P)/Math.LN2,2),x=Math.log(O/2)/Math.LN2,$=2*P-O,f=[],Se=[],b=[],M=me=0,he=I.length;me<he;M=++me){if(C=I[M],y=w[M],C===65535){f.push(0),Se.push(0);break}if(C-(k=r[C].new)>=32768)for(f.push(0),Se.push(2*(b.length+P-M)),a=re=C;C<=y?re<=y:re>=y;a=C<=y?++re:--re)b.push(r[a].new);else f.push(k-C),Se.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*P+2*b.length),ne.writeUInt16(0),ne.writeUInt16(H),ne.writeUInt16(O),ne.writeUInt16(x),ne.writeUInt16($),ge=0,R=w.length;ge<R;ge++)a=w[ge],ne.writeUInt16(a);for(ne.writeUInt16(0),Le=0,z=I.length;Le<z;Le++)a=I[Le],ne.writeUInt16(a);for(Fe=0,J=f.length;Fe<J;Fe++)c=f[Fe],ne.writeUInt16(c);for(qe=0,ue=Se.length;qe<ue;qe++)Q=Se[qe],ne.writeUInt16(Q);for(nt=0,fe=b.length;nt<fe;nt++)U=b[nt],ne.writeUInt16(U);return{charMap:r,subtable:ne.data,maxGlyphID:te+1}}},n})(),y4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new O_(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=O_.encode(e,t),(a=new Mu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),GT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),$T=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),WT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),YT=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},KT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,u,c,f,d,y,w,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=y=0,w=r.length;y<w;o=++y)a=r[o],e.pos=a.offset,d=e.readString(a.length),u=new YT(d,a),f[x=a.nameID]==null&&(f[x]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),QT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),XT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)y.push(e.readInt16());return y})(),this.widths=(function(){var d,y,w,x;for(x=[],d=0,y=(w=this.metrics).length;d<y;d++)o=w[d],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),v4=[].slice,ZT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,u,c,f,d,y,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Mu(t.read(a))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[e]=u===-1?new eN(c,d,w,f,y):new JT(c,u,d,w,f,y),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),JT=(function(){function n(e,t,r,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),eN=(function(){function n(e,t,r,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Mu(v4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),tN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,So),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<r.length;++u)if(r[u]=a,o<t.length&&t[o]==u){++o,r[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),y=0;y<r.length;++y)d[4*y+3]=255&r[y],d[4*y+2]=(65280&r[y])>>8,d[4*y+1]=(16711680&r[y])>>16,d[4*y]=(4278190080&r[y])>>24;return d},n})(),nN=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,u,c,f,d,y,w,x,b,M,U,B,F;for(a in r=y4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},F=r.charMap)b[(f=F[a]).old]=f.new;for(M in x=r.maxGlyphID,u)M in b||(b[M]=x++);return y=(function(ee){var te,Q;for(te in Q={},ee)Q[ee[te]]=te;return Q})(b),w=Object.keys(y).sort(function(ee,te){return ee-te}),U=(function(){var ee,te,Q;for(Q=[],ee=0,te=w.length;ee<te;ee++)c=w[ee],Q.push(y[c]);return Q})(),o=this.font.glyf.encode(u,U,b),d=this.font.loca.encode(o.offsets,U),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},n})();St.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function _4(n,e,t,r,a){r=r||{};var o=1.15,u=a.internal.scaleFactor,c=a.internal.getFontSize()/u,f=a.getLineHeightFactor?a.getLineHeightFactor():o,d=c*f,y=/\r\n|\r|\n/g,w="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(w=typeof n=="string"?n.split(y):n,x=w.length||1),t+=c*(2-o),r.valign==="middle"?t-=x/2*d:r.valign==="bottom"&&(t-=x*d),r.halign==="center"||r.halign==="right"){var b=c;if(r.halign==="center"&&(b*=.5),w&&x>=1){for(var M=0;M<w.length;M++)a.text(w[M],e-a.getStringUnitWidth(w[M])*b,t),t+=d;return a}e-=a.getStringUnitWidth(n)*b}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var M_={},Th=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:M_=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var y=n.unifyColor(e.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(e.textColor),y&&(a=this.jsPDFDocument).setTextColor.apply(a,y),y=n.unifyColor(e.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,o){return this.jsPDFDocument.rect(e,t,r,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return M_||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),R0=function(n,e){return R0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},R0(n,e)};function b4(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");R0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var w4=(function(n){b4(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function rN(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function iN(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Nm(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return a}function A4(n,e,t,r){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var u=S4(a,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function S4(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Zm(n,e){var t,r,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function x4(n,e){var t=Zm(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function sN(n,e,t,r,a){var o={},u=1.3333333333333333,c=e0(e,function(te){return a.getComputedStyle(te).backgroundColor});c!=null&&(o.fillColor=c);var f=e0(e,function(te){return a.getComputedStyle(te).color});f!=null&&(o.textColor=f);var d=oN(r,t);d&&(o.cellPadding=d);var y="borderTopColor",w=u*t,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var b=(parseFloat(x)||0)/w;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/w,right:(parseFloat(r.borderRightWidth)||0)/w,bottom:(parseFloat(r.borderBottomWidth)||0)/w,left:(parseFloat(r.borderLeftWidth)||0)/w},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var M=e0(e,function(te){return a.getComputedStyle(te)[y]});M!=null&&(o.lineColor=M);var U=["left","right","center","justify"];U.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),U=["middle","bottom","top"],U.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var B=parseInt(r.fontSize||"");isNaN(B)||(o.fontSize=B/u);var F=aN(r);F&&(o.fontStyle=F);var ee=(r.fontFamily||"").toLowerCase();return n.indexOf(ee)!==-1&&(o.font=ee),o}function aN(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function e0(n,e){var t=E4(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function E4(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:E4(n.parentElement,e):t}function oN(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),u=Zm(o,0);return a>u.top&&(u.top=a),a>u.bottom&&(u.bottom=a),u}function T4(n,e,t,r,a){var o,u;r===void 0&&(r=!1),a===void 0&&(a=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],w=[],x=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:y,body:w,foot:x};for(var b=0;b<c.rows.length;b++){var M=c.rows[b],U=(u=(o=M?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),B=lN(f,d,t,M,r,a);B&&(U==="thead"?y.push(B):U==="tfoot"?x.push(B):w.push(B))}return{head:y,body:w,foot:x}}function lN(n,e,t,r,a,o){for(var u=new w4(r),c=0;c<r.cells.length;c++){var f=r.cells[c],d=t.getComputedStyle(f);if(a||d.display!=="none"){var y=void 0;o&&(y=sN(n,f,e,d,t)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:uN(f)})}}var w=t.getComputedStyle(r);if(u.length>0&&(a||w.display!=="none"))return u}function uN(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function cN(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var o=a[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Il(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function hN(n,e){var t=new Th(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();cN(a,r,e);var o=Il({},a,r,e),u;typeof window<"u"&&(u=window);var c=fN(a,r,e),f=dN(a,r,e),d=pN(t,o),y=gN(t,o,u);return{id:e.tableId,content:y,hooks:f,styles:c,settings:d}}function fN(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(f){if(f==="columnStyles"){var d=n[f],y=e[f],w=t[f];r.columnStyles=Il({},d,y,w)}else{var x=[n,e,t],b=x.map(function(M){return M[f]||{}});r[f]=Il({},b[0],b[1],b[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];a(c)}return r}function dN(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function pN(n,e){var t,r,a,o,u,c,f,d,y,w,x,b,M=Zm(e.margin,40/n.scaleFactor()),U=(t=mN(n,e.startY))!==null&&t!==void 0?t:M.top,B;e.showFoot===!0?B="everyPage":e.showFoot===!1?B="never":B=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var F;e.showHead===!0?F="everyPage":e.showHead===!1?F="never":F=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var ee=(o=e.useCss)!==null&&o!==void 0?o:!1,te=e.theme||(ee?"plain":"striped"),Q=!!e.horizontalPageBreak,oe=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:ee,theme:te,startY:U,margin:M,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=e.tableWidth)!==null&&y!==void 0?y:"auto",showHead:F,showFoot:B,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:Q,horizontalPageBreakRepeat:oe,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function mN(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;o=u===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function gN(n,e,t){var r=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var c=T4(n,e.html,t,u,e.useCss)||{};r=c.head||r,a=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||yN(r,a,o);return{columns:f,head:r,body:a,foot:o}}function yN(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=a.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};a.push(y)}}),a}var L0=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),vN=(function(n){b4(e,n);function e(t,r,a,o,u,c){var f=n.call(this,t,r,c)||this;return f.cell=a,f.row=o,f.column=u,f.section=o.section,f}return e})(L0),_N=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,o,u){for(var c=0,f=t;c<f.length;c++){var d=f[c],y=new vN(e,this,r,a,o,u),w=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],w)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var o=a[r];o(new L0(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var o=a[r];o(new L0(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),N4=(function(){function n(e,t,r,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof w4&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var o;return Math.max(r,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,o){var u=r.cells[o.index];if(!u)return 0;var c=t.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+c;return d>a?d:a},0)},n})(),C4=(function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=r*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Zm(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),bN=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var o=a[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n})();function wN(n,e){AN(n,e);var t=[],r=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=k0(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=k0(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),xN(e),EN(e,n),SN(e)}function AN(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=x4(n,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){var y=e.hooks.didParseCell;e.callCellHooks(n,y,d,o,f,null);var w=d.padding("horizontal");d.contentWidth=Nm(d.text,d.styles,n)+w;var x=Nm(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var b=10/t;d.minWidth=d.styles.minCellWidth||b,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},w=y.cellWidth||y.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function k0(n,e,t){for(var r=e,a=n.reduce(function(b,M){return b+M.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/a,f=r*c,d=u.width+f,y=t(u),w=d<y?y:d;e-=w-u.width,u.width=w}if(e=Math.round(e*1e10)/1e10,e){var x=n.filter(function(b){return e<0?b.width>t(b):!0});x.length&&(e=k0(x,e,t))}return e}function SN(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var o=r[a],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var w=r.length-a,x=y.rowSpan>w?w:y.rowSpan;e[f.index]={cell:y,left:x,row:o}}}}}function xN(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,o=0,u=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=f.width,delete r.cells[f.index];else if(a){var d=a;delete r.cells[f.index],a=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){a=d,o+=f.width;continue}d.width=f.width+o}}}function EN(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var o=a[r],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,y+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=j_(d.text,y,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=j_(d.text,y,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,y);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<x*d.rowSpan?t={height:x,count:d.rowSpan}:t&&t.count>0&&t.height>x&&(x=t.height),x>o.height&&(o.height=x)}}t.count--}}function j_(n,e,t,r,a){return n.map(function(o){return TN(o,e,t,r,a)})}function TN(n,e,t,r,a){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Nm(n,t,r))return n;for(;e<Nm(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function NN(n,e){var t=new Th(n),r=CN(e,t.scaleFactor()),a=new _N(e,r);return wN(t,a),t.applyStyles(t.userStyles),a}function CN(n,e){var t=n.content,r=RN(t.columns);if(t.head.length===0){var a=V_(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=V_(r,"foot");a&&t.foot.push(a)}var o=n.settings.theme,u=n.styles;return{columns:r,head:t0("head",t.head,r,u,o,e),body:t0("body",t.body,r,u,o,e),foot:t0("foot",t.foot,r,u,o,e)}}function t0(n,e,t,r,a,o){var u={},c=e.map(function(f,d){for(var y=0,w={},x=0,b=0,M=0,U=t;M<U.length;M++){var B=U[M];if(u[B.index]==null||u[B.index].left===0)if(b===0){var F=void 0;Array.isArray(f)?F=f[B.index-x-y]:F=f[B.dataKey];var ee={};typeof F=="object"&&!Array.isArray(F)&&(ee=F?.styles||{});var te=LN(n,B,d,a,r,o,ee),Q=new C4(F,te,n);w[B.dataKey]=Q,w[B.index]=Q,b=Q.colSpan-1,u[B.index]={left:Q.rowSpan-1,times:b}}else b--,x++;else u[B.index].left--,b=u[B.index].times,y++}return new N4(f,d,n,w)});return c}function V_(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=IN(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function IN(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function RN(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new bN(a,e,t)})}function LN(n,e,t,r,a,o,u){var c=iN(r),f;n==="head"?f=a.headStyles:n==="body"?f=a.bodyStyles:n==="foot"&&(f=a.footStyles);var d=Il({},c.table,c[n],a.styles,f),y=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},w=n==="body"?y:{},x=n==="body"&&t%2===0?Il({},c.alternateRow,a.alternateRowStyles):{},b=rN(o),M=Il({},b,d,x,w);return Il(M,u)}function kN(n,e,t){var r;t===void 0&&(t={});var a=x4(n,e),o=new Map,u=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(x){var b=e.columns.find(function(M){return M.dataKey===x||M.index===x});b&&!o.has(b.index)&&(o.set(b.index,!0),u.push(b.index),c.push(e.columns[b.index]),a-=b.wrappedWidth)});for(var d=!0,y=(r=t?.start)!==null&&r!==void 0?r:0;y<e.columns.length;){if(o.has(y)){y++;continue}var w=e.columns[y].wrappedWidth;if(d||a>=w)d=!1,u.push(y),c.push(e.columns[y]),a-=w;else break;y++}return{colIndexes:u,columns:c,lastIndex:y-1}}function PN(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=kN(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function DN(n,e){var t=e.settings,r=t.startY,a=t.margin,o={x:a.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+a.bottom+u;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(x,b){return x+b.height},0);c+=d}var y=new Th(n);(t.pageBreak==="always"||t.startY!=null&&c>y.pageSize().height)&&(R4(y),o.y=a.top),e.callWillDrawPageHooks(y,o);var w=Il({},o);e.startPageNumber=y.pageNumber(),t.horizontalPageBreak?ON(y,e,w,o):(y.applyStyles(y.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(x){return Ol(y,e,x,o,e.columns)}),y.applyStyles(y.userStyles),e.body.forEach(function(x,b){var M=b===e.body.length-1;Cm(y,e,x,M,w,o,e.columns)}),y.applyStyles(y.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(x){return Ol(y,e,x,o,e.columns)})),A4(y,e,w,o),e.callEndPageHooks(y,o),e.finalY=o.y,n.lastAutoTable=e,y.applyStyles(y.userStyles)}function ON(n,e,t,r){var a=PN(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?Zf(n,e,t,r,d.columns,!0):U_(n,e,r,d.columns),MN(n,e,t,r,d.columns),n0(n,e,r,d.columns)});else for(var u=-1,c=a[0],f=function(){var d=u;if(c){n.applyStyles(n.userStyles);var y=c.columns;u>=0?Zf(n,e,t,r,y,!0):U_(n,e,r,y),d=F_(n,e,u+1,r,y),n0(n,e,r,y)}var w=d-u;a.slice(1).forEach(function(x){n.applyStyles(n.userStyles),Zf(n,e,t,r,x.columns,!0),F_(n,e,u+1,r,x.columns,w),n0(n,e,r,x.columns)}),u=d};u<e.body.length-1;)f()}function U_(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Ol(n,e,o,t,r)})}function MN(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;Cm(n,e,o,c,t,r,a)})}function F_(n,e,t,r,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var u=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,u).forEach(function(f,d){var y=t+d===e.body.length-1,w=I4(n,e,y,r);f.canEntireRowFit(w,a)&&(Ol(n,e,f,r,a),c=t+d)}),c}function n0(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Ol(n,e,o,t,r)})}function jN(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/r);return Math.max(0,o)}function VN(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=t.columns;u<c.length;u++){var f=c[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new C4(d.raw,d.styles,d.section);y=Il(y,d),y.text=[];var w=jN(d,e,r);d.text.length>w&&(y.text=d.text.splice(w,d.text.length));var x=r.scaleFactor(),b=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,b),d.contentHeight>=e&&(d.contentHeight=e,y.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(x,b),y.contentHeight>o&&(o=y.contentHeight),a[f.index]=y}}var M=new N4(n.raw,-1,n.section,a,!0);M.height=o;for(var U=0,B=t.columns;U<B.length;U++){var f=B[U],y=M.cells[f.index];y&&(y.height=M.height);var d=n.cells[f.index];d&&(d.height=n.height)}return M}function UN(n,e,t,r){var a=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=a-u;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=e.hasRowSpan(r.columns),w=e.getMaxCellHeight(r.columns)>c;return w?(y&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function Cm(n,e,t,r,a,o,u){var c=I4(n,e,r,o);if(t.canEntireRowFit(c,u))Ol(n,e,t,o,u);else if(UN(n,t,c,e)){var f=VN(t,c,e,n);Ol(n,e,t,o,u),Zf(n,e,a,o,u),Cm(n,e,f,r,a,o,u)}else Zf(n,e,a,o,u),Cm(n,e,t,r,a,o,u)}function Ol(n,e,t,r,a){r.x=e.settings.margin.left;for(var o=0,u=a;o<u.length;o++){var c=u[o],f=t.cells[c.index];if(!f){r.x+=c.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,c,r);if(d===!1){r.x+=c.width;continue}FN(n,f,r);var y=f.getTextPos();_4(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,c,r),r.x+=c.width}r.y+=t.height}function FN(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=S4(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),BN(n,e,t,r.lineWidth))}function BN(n,e,t,r){var a,o,u,c;r.top&&(a=t.x,o=t.y,u=t.x+e.width,c=t.y,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.top,a,o,u,c)),r.bottom&&(a=t.x,o=t.y+e.height,u=t.x+e.width,c=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.bottom,a,o,u,c)),r.left&&(a=t.x,o=t.y,u=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.left,a,o,u,c)),r.right&&(a=t.x+e.width,o=t.y,u=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.right,a,o,u,c));function f(d,y,w,x,b){n.getDocument().setLineWidth(d),n.getDocument().line(y,w,x,b,"S")}}function I4(n,e,t,r){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function Zf(n,e,t,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return Ol(n,e,c,r,a)}),e.callEndPageHooks(n,r);var u=e.settings.margin;A4(n,e,t,r),R4(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Ol(n,e,c,r,a)}),n.applyStyles(n.userStyles))}function R4(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function qN(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=hN(this,r),o=NN(this,a);return DN(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){_4(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return Th.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Th.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Th(this),o=T4(a,e,window,t,!1),u=o.head,c=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var r0;try{if(typeof window<"u"&&window){var B_=window,q_=B_.jsPDF||((r0=B_.jspdf)===null||r0===void 0?void 0:r0.jsPDF);q_&&qN(q_)}}catch(n){console.error("Could not apply autoTable plugin",n)}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),z_=n=>{const e=HN(n);return e.charAt(0).toUpperCase()+e.slice(1)},L4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),GN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ze.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...c},f)=>ze.createElement("svg",{ref:f,...$N,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:L4("lucide",a),...!o&&!GN(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,y])=>ze.createElement(d,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=(n,e)=>{const t=ze.forwardRef(({className:r,...a},o)=>ze.createElement(WN,{ref:o,iconNode:e,className:L4(`lucide-${zN(z_(n))}`,`lucide-${n}`,r),...a}));return t.displayName=z_(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KN=k4("chevron-left",YN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XN=k4("chevron-right",QN),ZN=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},JN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],c=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},D4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,y=o>>2,w=(o&3)<<4|c>>4;let x=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(x=64)),r.push(t[y],t[w],t[x],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(P4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||c==null||d==null||w==null)throw new eC;const x=o<<2|c>>4;if(r.push(x),d!==64){const b=c<<4&240|d>>2;if(r.push(b),w!==64){const M=d<<6&192|w;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tC=function(n){const e=P4(n);return D4.encodeByteArray(e,!0)},Im=function(n){return tC(n).replace(/\./g,"")},O4=function(n){try{return D4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=()=>nC().__FIREBASE_DEFAULTS__,iC=()=>{if(typeof process>"u"||typeof H_>"u")return;const n=H_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&O4(n[1]);return e&&JSON.parse(e)},Jm=()=>{try{return ZN()||rC()||iC()||sC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},M4=n=>Jm()?.emulatorHosts?.[n],aC=n=>{const e=M4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},j4=()=>Jm()?.config,V4=n=>Jm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Im(JSON.stringify(t)),Im(JSON.stringify(u)),""].join(".")}const Jf={};function uC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Jf))Jf[e]?n.emulator.push(e):n.prod.push(e);return n}function cC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let G_=!1;function F4(n,e){if(typeof window>"u"||typeof document>"u"||!Bh(window.location.host)||Jf[n]===e||Jf[n]||G_)return;Jf[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=uC().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{G_=!0,u()},x}function y(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=cC(r),b=t("text"),M=document.getElementById(b)||document.createElement("span"),U=t("learnmore"),B=document.getElementById(U)||document.createElement("a"),F=t("preprendIcon"),ee=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const te=x.element;c(te),y(B,U);const Q=d();f(ee,F),te.append(ee,M,B,Q),document.body.appendChild(te)}o?(M.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ss())}function fC(){const n=Jm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){const n=Ss();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yC(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="FirebaseError";class Fl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bC,Object.setPrototypeOf(this,Fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sd.prototype.create)}}class Sd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?wC(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new Fl(a,c,r)}}function wC(n,e){return n.replace(AC,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const AC=/\{\$([^}]+)}/g;function SC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if($_(o)&&$_(u)){if(!Tc(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function $_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Gf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xC(n,e){const t=new EC(n,e);return t.subscribe.bind(t)}class EC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=i0),a.error===void 0&&(a.error=i0),a.complete===void 0&&(a.complete=i0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function i0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n){return n&&n._delegate?n._delegate:n}class Nc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new oC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IC(e))try{this.getOrInitializeService({instanceIdentifier:vc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vc){return this.instances.has(e)}getOptions(e=vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vc){return this.component?this.component.multipleInstances?e:vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(n){return n===vc?void 0:n}function IC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const LC={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},kC=Sn.INFO,PC={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},DC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=PC[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f2{constructor(e){this.name=e,this._logLevel=kC,this._logHandler=DC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const OC=(n,e)=>e.some(t=>n instanceof t);let W_,Y_;function MC(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B4=new WeakMap,P0=new WeakMap,q4=new WeakMap,s0=new WeakMap,d2=new WeakMap;function VC(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Lu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&B4.set(t,n)}).catch(()=>{}),d2.set(e,n),e}function UC(n){if(P0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});P0.set(n,e)}let D0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return P0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||q4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FC(n){D0=n(D0)}function BC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(a0(this),e,...t);return q4.set(r,e.sort?e.sort():[e]),Lu(r)}:jC().includes(n)?function(...e){return n.apply(a0(this),e),Lu(B4.get(this))}:function(...e){return Lu(n.apply(a0(this),e))}}function qC(n){return typeof n=="function"?BC(n):(n instanceof IDBTransaction&&UC(n),OC(n,MC())?new Proxy(n,D0):n)}function Lu(n){if(n instanceof IDBRequest)return VC(n);if(s0.has(n))return s0.get(n);const e=qC(n);return e!==n&&(s0.set(n,e),d2.set(e,n)),e}const a0=n=>d2.get(n);function zC(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),c=Lu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Lu(u.result),f.oldVersion,f.newVersion,Lu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const HC=["get","getKey","getAll","getAllKeys","count"],GC=["put","add","delete","clear"],o0=new Map;function K_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(o0.get(e))return o0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=GC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||HC.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return o0.set(e,o),o}FC(n=>({...n,get:(e,t,r)=>K_(e,t)||n.get(e,t,r),has:(e,t)=>!!K_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WC(n){return n.getComponent()?.type==="VERSION"}const O0="@firebase/app",Q_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new f2("@firebase/app"),YC="@firebase/app-compat",KC="@firebase/analytics-compat",QC="@firebase/analytics",XC="@firebase/app-check-compat",ZC="@firebase/app-check",JC="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/data-connect",rI="@firebase/database-compat",iI="@firebase/functions",sI="@firebase/functions-compat",aI="@firebase/installations",oI="@firebase/installations-compat",lI="@firebase/messaging",uI="@firebase/messaging-compat",cI="@firebase/performance",hI="@firebase/performance-compat",fI="@firebase/remote-config",dI="@firebase/remote-config-compat",pI="@firebase/storage",mI="@firebase/storage-compat",gI="@firebase/firestore",yI="@firebase/ai",vI="@firebase/firestore-compat",_I="firebase",bI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="[DEFAULT]",wI={[O0]:"fire-core",[YC]:"fire-core-compat",[QC]:"fire-analytics",[KC]:"fire-analytics-compat",[ZC]:"fire-app-check",[XC]:"fire-app-check-compat",[JC]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-data-connect",[rI]:"fire-rtdb-compat",[iI]:"fire-fn",[sI]:"fire-fn-compat",[aI]:"fire-iid",[oI]:"fire-iid-compat",[lI]:"fire-fcm",[uI]:"fire-fcm-compat",[cI]:"fire-perf",[hI]:"fire-perf-compat",[fI]:"fire-rc",[dI]:"fire-rc-compat",[pI]:"fire-gcs",[mI]:"fire-gcs-compat",[gI]:"fire-fst",[vI]:"fire-fst-compat",[yI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map,AI=new Map,j0=new Map;function X_(n,e){try{n.container.addComponent(e)}catch(t){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lh(n){const e=n.name;if(j0.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;j0.set(e,n);for(const t of Rm.values())X_(t,n);for(const t of AI.values())X_(t,n);return!0}function p2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ha(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ku=new Sd("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ku.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=bI;function z4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:M0,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ku.create("bad-app-name",{appName:String(a)});if(t||(t=j4()),!t)throw ku.create("no-options");const o=Rm.get(a);if(o){if(Tc(t,o.options)&&Tc(r,o.config))return o;throw ku.create("duplicate-app",{appName:a})}const u=new RC(a);for(const f of j0.values())u.addComponent(f);const c=new xI(t,r,u);return Rm.set(a,c),c}function H4(n=M0){const e=Rm.get(n);if(!e&&n===M0&&j4())return z4();if(!e)throw ku.create("no-app",{appName:n});return e}function Pu(n,e,t){let r=wI[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(u.join(" "));return}Lh(new Nc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebase-heartbeat-database",TI=1,od="firebase-heartbeat-store";let l0=null;function G4(){return l0||(l0=zC(EI,TI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(od)}catch(t){console.warn(t)}}}}).catch(n=>{throw ku.create("idb-open",{originalErrorMessage:n.message})})),l0}async function NI(n){try{const t=(await G4()).transaction(od),r=await t.objectStore(od).get($4(n));return await t.done,r}catch(e){if(e instanceof Fl)Ml.warn(e.message);else{const t=ku.create("idb-get",{originalErrorMessage:e?.message});Ml.warn(t.message)}}}async function Z_(n,e){try{const r=(await G4()).transaction(od,"readwrite");await r.objectStore(od).put(e,$4(n)),await r.done}catch(t){if(t instanceof Fl)Ml.warn(t.message);else{const r=ku.create("idb-set",{originalErrorMessage:t?.message});Ml.warn(r.message)}}}function $4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1024,II=30;class RI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>II){const a=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ml.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J_(),{heartbeatsToSend:t,unsentEntries:r}=LI(this._heartbeatsCache.heartbeats),a=Im(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ml.warn(e),""}}}function J_(){return new Date().toISOString().substring(0,10)}function LI(n,e=CI){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),eb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),eb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?_C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eb(n){return Im(JSON.stringify({version:2,heartbeats:n})).length}function PI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){Lh(new Nc("platform-logger",e=>new $C(e),"PRIVATE")),Lh(new Nc("heartbeat",e=>new RI(e),"PRIVATE")),Pu(O0,Q_,n),Pu(O0,Q_,"esm2020"),Pu("fire-js","")}DI("");var OI="firebase",MI="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pu(OI,MI,"app");function W4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=W4,Y4=new Sd("auth","Firebase",W4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new f2("@firebase/auth");function VI(n,...e){Lm.logLevel<=Sn.WARN&&Lm.warn(`Auth (${qh}): ${n}`,...e)}function fm(n,...e){Lm.logLevel<=Sn.ERROR&&Lm.error(`Auth (${qh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(n,...e){throw m2(n,...e)}function Wo(n,...e){return m2(n,...e)}function K4(n,e,t){const r={...jI(),[e]:t};return new Sd("auth","Firebase",r).create(e,{appName:n.name})}function kl(n){return K4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Y4.create(n,...e)}function Ut(n,e,...t){if(!n)throw m2(e,...t)}function Rl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fm(e),new Error(e)}function jl(n,e){n||Rl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof self<"u"&&self.location?.href||""}function UI(){return tb()==="http:"||tb()==="https:"}function tb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UI()||pC()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,jl(t>e,"Short delay should be less than long delay!"),this.isMobile=hC()||mC()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,e){jl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new Ed(3e4,6e4);function Gu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $u(n,e,t,r,a={}){return X4(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=xd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return dC()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Bh(n.emulatorConfig.host)&&(d.credentials="include"),Q4.fetch()(await Z4(n,n.config.apiHost,t,c),d)})}async function X4(n,e,t){n._canInitEmulator=!1;const r={...qI,...e};try{const a=new $I(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Jp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Jp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Jp(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw K4(n,y,d);bo(n,y)}}catch(a){if(a instanceof Fl)throw a;bo(n,"network-request-failed",{message:String(a)})}}async function Td(n,e,t,r,a={}){const o=await $u(n,e,t,r,a);return"mfaPendingCredential"in o&&bo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Z4(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?g2(n.config,a):`${n.config.apiScheme}://${a}`;return zI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function GI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wo(this.auth,"network-request-failed")),HI.get())})}}function Jp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Wo(n,e,r);return a.customData._tokenResponse=t,a}function nb(n){return n!==void 0&&n.enterprise!==void 0}class WI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YI(n,e){return $u(n,"GET","/v2/recaptchaConfig",Gu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,e){return $u(n,"POST","/v1/accounts:delete",e)}async function km(n,e){return $u(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(n,e=!1){const t=ii(n),r=await t.getIdToken(e),a=y2(r);Ut(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:ed(u0(a.auth_time)),issuedAtTime:ed(u0(a.iat)),expirationTime:ed(u0(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function u0(n){return Number(n)*1e3}function y2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fm("JWT malformed, contained fewer than 3 sections"),null;try{const a=O4(t);return a?JSON.parse(a):(fm("Failed to decode base64 JWT payload"),null)}catch(a){return fm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rb(n){const e=y2(n);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fl&&XI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function XI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(n){const e=n.auth,t=await n.getIdToken(),r=await ld(n,km(e,{idToken:t}));Ut(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?J4(a.providerUserInfo):[],u=e8(n.providerData,o),c=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,d=c?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new U0(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function JI(n){const e=ii(n);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e8(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function J4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(n,e){const t=await X4(n,{},async()=>{const r=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await Z4(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&Bh(n.emulatorConfig.host)&&(f.credentials="include"),Q4.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function n8(n,e){return $u(n,"POST","/v2/accounts:revokeToken",Gu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const t=rb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await t8(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Nh;return r&&(Ut(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ut(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ut(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nh,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n,e){Ut(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vo{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new U0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ld(this,this.stsTokenManager.getToken(this.auth,e));return Ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QI(this,e)}reload(){return JI(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ha(this.auth.app))return Promise.reject(kl(this.auth));const e=await this.getIdToken();return await ld(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:b,providerData:M,stsTokenManager:U}=t;Ut(w&&U,e,"internal-error");const B=Nh.fromJSON(this.name,U);Ut(typeof w=="string",e,"internal-error"),Su(r,e.name),Su(a,e.name),Ut(typeof x=="boolean",e,"internal-error"),Ut(typeof b=="boolean",e,"internal-error"),Su(o,e.name),Su(u,e.name),Su(c,e.name),Su(f,e.name),Su(d,e.name),Su(y,e.name);const F=new vo({uid:w,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:B,createdAt:d,lastLoginAt:y});return M&&Array.isArray(M)&&(F.providerData=M.map(ee=>({...ee}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const a=new Nh;a.updateFromServerResponse(t);const o=new vo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Pm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ut(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?J4(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,c=new Nh;c.updateFromIdToken(r);const f=new vo({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new U0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function Ll(n){jl(n instanceof Function,"Expected a class definition");let e=ib.get(n);return e?(jl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ib.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}e3.type="NONE";const sb=e3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n,e,t){return`firebase:${n}:${e}:${t}`}class Ch{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=dm(this.userKey,a.apiKey,o),this.fullPersistenceKey=dm("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await km(this.auth,{idToken:e}).catch(()=>{});return t?vo._fromGetAccountInfoResponse(this.auth,t,e):null}return vo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ch(Ll(sb),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Ll(sb);const u=dm(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(u);if(y){let w;if(typeof y=="string"){const x=await km(e,{idToken:y}).catch(()=>{});if(!x)break;w=await vo._fromGetAccountInfoResponse(e,x,y)}else w=vo._fromJSON(e,y);d!==o&&(c=w),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ch(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Ch(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a3(e))return"Blackberry";if(o3(e))return"Webos";if(n3(e))return"Safari";if((e.includes("chrome/")||r3(e))&&!e.includes("edge/"))return"Chrome";if(s3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function t3(n=Ss()){return/firefox\//i.test(n)}function n3(n=Ss()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r3(n=Ss()){return/crios\//i.test(n)}function i3(n=Ss()){return/iemobile/i.test(n)}function s3(n=Ss()){return/android/i.test(n)}function a3(n=Ss()){return/blackberry/i.test(n)}function o3(n=Ss()){return/webos/i.test(n)}function v2(n=Ss()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r8(n=Ss()){return v2(n)&&!!window.navigator?.standalone}function i8(){return gC()&&document.documentMode===10}function l3(n=Ss()){return v2(n)||s3(n)||o3(n)||a3(n)||/windows phone/i.test(n)||i3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n,e=[]){let t;switch(n){case"Browser":t=ab(Ss());break;case"Worker":t=`${ab(Ss())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(n,e={}){return $u(n,"GET","/v2/passwordPolicy",Gu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=6;class l8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??o8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ob(this),this.idTokenSubscription=new ob(this),this.beforeStateQueue=new s8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ll(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ch.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await km(this,{idToken:e}),r=await vo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ha(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ha(this.app))return Promise.reject(kl(this));const t=e?ii(e):null;return t&&Ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ha(this.app)?Promise.reject(kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ha(this.app)?Promise.reject(kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ll(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a8(this),t=new l8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await n8(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ll(e)||this._popupRedirectResolver;Ut(t,this,"argument-error"),this.redirectPersistenceManager=await Ch.create(this,[Ll(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pc(n){return ii(n)}class ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(t=>this.observer=t)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c8(n){eg=n}function c3(n){return eg.loadJS(n)}function h8(){return eg.recaptchaEnterpriseScript}function f8(){return eg.gapiScript}function d8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class p8{constructor(){this.enterprise=new m8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class m8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const g8="recaptcha-enterprise",h3="NO_RECAPTCHA";class y8{constructor(e){this.type=g8,this.auth=Pc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{YI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new WI(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function a(o,u,c){const f=window.grecaptcha;nb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(h3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p8().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&nb(window.grecaptcha))a(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=h8();f.length!==0&&(f+=c),c3(f).then(()=>{a(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function lb(n,e,t,r=!1,a=!1){const o=new y8(n);let u;if(a)u=h3;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function F0(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await lb(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lb(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(n,e){const t=p2(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Tc(o,e??{}))return a;bo(a,"already-initialized")}return t.initialize({options:e})}function _8(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ll);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function b8(n,e,t){const r=Pc(n);Ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=f3(e),{host:u,port:c}=w8(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ut(Tc(d,r.config.emulator)&&Tc(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Bh(u)?(U4(`${o}//${u}${f}`),F4("Auth",!0)):A8()}function f3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function w8(n){const e=f3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:ub(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:ub(u)}}}function ub(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function A8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rl("not implemented")}_getIdTokenResponse(e){return Rl("not implemented")}_linkToIdToken(e,t){return Rl("not implemented")}_getReauthenticationResolver(e){return Rl("not implemented")}}async function S8(n,e){return $u(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(n,e){return Td(n,"POST","/v1/accounts:signInWithPassword",Gu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(n,e){return Td(n,"POST","/v1/accounts:signInWithEmailLink",Gu(n,e))}async function T8(n,e){return Td(n,"POST","/v1/accounts:signInWithEmailLink",Gu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends _2{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new ud(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ud(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F0(e,t,"signInWithPassword",x8);case"emailLink":return E8(e,{email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F0(e,r,"signUpPassword",S8);case"emailLink":return T8(e,{idToken:t,email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n,e){return Td(n,"POST","/v1/accounts:signInWithIdp",Gu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="http://localhost";class Cc extends _2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const u=new Cc(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ih(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ih(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ih(e,t)}buildRequest(){const e={requestUri:N8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I8(n){const e=Hf(Gf(n)).link,t=e?Hf(Gf(e)).deep_link_id:null,r=Hf(Gf(n)).deep_link_id;return(r?Hf(Gf(r)).link:null)||r||t||e||n}class b2{constructor(e){const t=Hf(Gf(e)),r=t.apiKey??null,a=t.oobCode??null,o=C8(t.mode??null);Ut(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=I8(e);try{return new b2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.providerId=zh.PROVIDER_ID}static credential(e,t){return ud._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=b2.parseLink(t);return Ut(r,"argument-error"),ud._fromEmailAndCode(e,r.code,r.tenantId)}}zh.PROVIDER_ID="password";zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends d3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Nd{constructor(){super("facebook.com")}static credential(e){return Cc._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eu.credentialFromTaggedObject(e)}static credentialFromError(e){return Eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eu.credential(e.oauthAccessToken)}catch{return null}}}Eu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cc._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Tu.credential(t,r)}catch{return null}}}Tu.GOOGLE_SIGN_IN_METHOD="google.com";Tu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Nd{constructor(){super("github.com")}static credential(e){return Cc._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nu.credentialFromTaggedObject(e)}static credentialFromError(e){return Nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nu.credential(e.oauthAccessToken)}catch{return null}}}Nu.GITHUB_SIGN_IN_METHOD="github.com";Nu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Nd{constructor(){super("twitter.com")}static credential(e,t){return Cc._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Cu.credential(t,r)}catch{return null}}}Cu.TWITTER_SIGN_IN_METHOD="twitter.com";Cu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(n,e){return Td(n,"POST","/v1/accounts:signUp",Gu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await vo._fromIdTokenResponse(e,r,a),u=cb(r);return new Ic({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=cb(r);return new Ic({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function cb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends Fl{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Dm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Dm(e,t,r,a)}}function p3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dm._fromErrorAndOperation(n,o,e,r):o})}async function L8(n,e,t=!1){const r=await ld(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ic._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(n,e,t=!1){const{auth:r}=n;if(Ha(r.app))return Promise.reject(kl(r));const a="reauthenticate";try{const o=await ld(n,p3(r,a,e,n),t);Ut(o.idToken,r,"internal-error");const u=y2(o.idToken);Ut(u,r,"internal-error");const{sub:c}=u;return Ut(n.uid===c,r,"user-mismatch"),Ic._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&bo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(n,e,t=!1){if(Ha(n.app))return Promise.reject(kl(n));const r="signIn",a=await p3(n,r,e),o=await Ic._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function P8(n,e){return m3(Pc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(n){const e=Pc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D8(n,e,t){if(Ha(n.app))return Promise.reject(kl(n));const r=Pc(n),u=await F0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R8).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&g3(n),f}),c=await Ic._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function O8(n,e,t){return Ha(n.app)?Promise.reject(kl(n)):P8(ii(n),zh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g3(n),r})}function M8(n,e,t,r){return ii(n).onIdTokenChanged(e,t,r)}function j8(n,e,t){return ii(n).beforeAuthStateChanged(e,t)}function V8(n,e,t,r){return ii(n).onAuthStateChanged(e,t,r)}function y3(n){return ii(n).signOut()}const Om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Om,"1"),this.storage.removeItem(Om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=1e3,F8=10;class _3 extends v3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);i8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,F8):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},U8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_3.type="LOCAL";const B8=_3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3 extends v3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}b3.type="SESSION";const w3=b3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await q8(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=w2("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(w){const x=w;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(){return window}function H8(n){Yo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof Yo().WorkerGlobalScope<"u"&&typeof Yo().importScripts=="function"}async function G8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $8(){return navigator?.serviceWorker?.controller||null}function W8(){return A3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebaseLocalStorageDb",Y8=1,Mm="firebaseLocalStorage",x3="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ng(n,e){return n.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function K8(){const n=indexedDB.deleteDatabase(S3);return new Cd(n).toPromise()}function B0(){const n=indexedDB.open(S3,Y8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mm,{keyPath:x3})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Mm)?e(r):(r.close(),await K8(),e(await B0()))})})}async function hb(n,e,t){const r=ng(n,!0).put({[x3]:e,value:t});return new Cd(r).toPromise()}async function Q8(n,e){const t=ng(n,!1).get(e),r=await new Cd(t).toPromise();return r===void 0?null:r.value}function fb(n,e){const t=ng(n,!0).delete(e);return new Cd(t).toPromise()}const X8=800,Z8=3;class E3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Z8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tg._getInstance(W8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await G8(),!this.activeServiceWorker)return;this.sender=new z8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B0();return await hb(e,Om,"1"),await fb(e,Om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Q8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ng(a,!1).getAll();return new Cd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E3.type="LOCAL";const J8=E3;new Ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e){return e?Ll(e):(Ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends _2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ih(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ih(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tR(n){return m3(n.auth,new A2(n),n.bypassAuthState)}function nR(n){const{auth:e,user:t}=n;return Ut(t,e,"internal-error"),k8(t,new A2(n),n.bypassAuthState)}async function rR(n){const{auth:e,user:t}=n;return Ut(t,e,"internal-error"),L8(t,new A2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tR;case"linkViaPopup":case"linkViaRedirect":return rR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:bo(this.auth,"internal-error")}}resolve(e){jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Ed(2e3,1e4);class wh extends T3{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,wh.currentPopupAction&&wh.currentPopupAction.cancel(),wh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){jl(this.filter.length===1,"Popup operations only handle one event");const e=w2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iR.get())};e()}}wh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="pendingRedirect",pm=new Map;class aR extends T3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pm.get(this.auth._key());if(!e){try{const r=await oR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pm.set(this.auth._key(),e)}return this.bypassAuthState||pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oR(n,e){const t=cR(e),r=uR(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function lR(n,e){pm.set(n._key(),e)}function uR(n){return Ll(n._redirectPersistence)}function cR(n){return dm(sR,n.config.apiKey,n.name)}async function hR(n,e,t=!1){if(Ha(n.app))return Promise.reject(kl(n));const r=Pc(n),a=eR(r,e),u=await new aR(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=600*1e3;class dR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!N3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(e))}saveEventToCache(e){this.cachedEventUids.add(db(e)),this.lastProcessedEventTime=Date.now()}}function db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function N3({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function pR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,e={}){return $u(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yR=/^https?/;async function vR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mR(n);for(const t of e)try{if(_R(t))return}catch{}bo(n,"unauthorized-domain")}function _R(n){const e=V0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!yR.test(t))return!1;if(gR.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Ed(3e4,6e4);function pb(){const n=Yo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wR(n){return new Promise((e,t)=>{function r(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),t(Wo(n,"network-request-failed"))},timeout:bR.get()})}if(Yo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yo().gapi?.load)r();else{const a=d8("iframefcb");return Yo()[a]=()=>{gapi.load?r():t(Wo(n,"network-request-failed"))},c3(`${f8()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw mm=null,e})}let mm=null;function AR(n){return mm=mm||wR(n),mm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Ed(5e3,15e3),xR="__/auth/iframe",ER="emulator/auth/iframe",TR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CR(n){const e=n.config;Ut(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?g2(e,ER):`https://${n.config.authDomain}/${xR}`,r={apiKey:e.apiKey,appName:n.name,v:qh},a=NR.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${xd(r).slice(1)}`}async function IR(n){const e=await AR(n),t=Yo().gapi;return Ut(t,n,"internal-error"),e.open({where:document.body,url:CR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TR,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Wo(n,"network-request-failed"),c=Yo().setTimeout(()=>{o(u)},SR.get());function f(){Yo().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LR=500,kR=600,PR="_blank",DR="http://localhost";class mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(n,e,t,r=LR,a=kR){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...RR,width:r.toString(),height:a.toString(),top:o,left:u},d=Ss().toLowerCase();t&&(c=r3(d)?PR:t),t3(d)&&(e=e||DR,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[b,M])=>`${x}${b}=${M},`,"");if(r8(d)&&c!=="_self")return MR(e||"",c),new mb(null);const w=window.open(e||"",c,y);Ut(w,n,"popup-blocked");try{w.focus()}catch{}return new mb(w)}function MR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="__/auth/handler",VR="emulator/auth/handler",UR=encodeURIComponent("fac");async function gb(n,e,t,r,a,o){Ut(n.config.authDomain,n,"auth-domain-config-required"),Ut(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qh,eventId:a};if(e instanceof d3){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",SC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Nd){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const f=await n._getAppCheckToken(),d=f?`#${UR}=${encodeURIComponent(f)}`:"";return`${FR(n)}?${xd(c).slice(1)}${d}`}function FR({config:n}){return n.emulator?g2(n,VR):`https://${n.authDomain}/${jR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w3,this._completeRedirectFn=hR,this._overrideRedirectResult=lR}async _openPopup(e,t,r,a){jl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await gb(e,t,r,V0(),a);return OR(e,o,w2())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await gb(e,t,r,V0(),a);return H8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(jl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await IR(e),r=new dR(e);return t.register("authEvent",a=>(Ut(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(c0,{type:c0},a=>{const o=a?.[0]?.[c0];o!==void 0&&t(!!o),bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l3()||n3()||v2()}}const qR=BR;var yb="@firebase/auth",vb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(n){Lh(new Nc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ut(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u3(n)},d=new u8(r,a,o,f);return _8(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lh(new Nc("auth-internal",e=>{const t=Pc(e.getProvider("auth").getImmediate());return(r=>new zR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pu(yb,vb,HR(n)),Pu(yb,vb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=300,WR=V4("authIdTokenMaxAge")||$R;let _b=null;const YR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>WR)return;const a=t?.token;_b!==a&&(_b=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function KR(n=H4()){const e=p2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=v8(n,{popupRedirectResolver:qR,persistence:[J8,B8,w3]}),r=V4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=YR(o.toString());j8(t,u,()=>u(t.currentUser)),M8(t,c=>u(c))}}const a=M4("auth");return a&&b8(t,`http://${a}`),t}function QR(){return document.getElementsByTagName("head")?.[0]??document}c8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Wo("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",QR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Du,C3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,O){function P(){}P.prototype=O.prototype,$.D=O.prototype,$.prototype=new P,$.prototype.constructor=$,$.C=function(H,C,I){for(var k=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)k[ne-2]=arguments[ne];return O.prototype[C].apply(H,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a($,O,P){P||(P=0);var H=Array(16);if(typeof O=="string")for(var C=0;16>C;++C)H[C]=O.charCodeAt(P++)|O.charCodeAt(P++)<<8|O.charCodeAt(P++)<<16|O.charCodeAt(P++)<<24;else for(C=0;16>C;++C)H[C]=O[P++]|O[P++]<<8|O[P++]<<16|O[P++]<<24;O=$.g[0],P=$.g[1],C=$.g[2];var I=$.g[3],k=O+(I^P&(C^I))+H[0]+3614090360&4294967295;O=P+(k<<7&4294967295|k>>>25),k=I+(C^O&(P^C))+H[1]+3905402710&4294967295,I=O+(k<<12&4294967295|k>>>20),k=C+(P^I&(O^P))+H[2]+606105819&4294967295,C=I+(k<<17&4294967295|k>>>15),k=P+(O^C&(I^O))+H[3]+3250441966&4294967295,P=C+(k<<22&4294967295|k>>>10),k=O+(I^P&(C^I))+H[4]+4118548399&4294967295,O=P+(k<<7&4294967295|k>>>25),k=I+(C^O&(P^C))+H[5]+1200080426&4294967295,I=O+(k<<12&4294967295|k>>>20),k=C+(P^I&(O^P))+H[6]+2821735955&4294967295,C=I+(k<<17&4294967295|k>>>15),k=P+(O^C&(I^O))+H[7]+4249261313&4294967295,P=C+(k<<22&4294967295|k>>>10),k=O+(I^P&(C^I))+H[8]+1770035416&4294967295,O=P+(k<<7&4294967295|k>>>25),k=I+(C^O&(P^C))+H[9]+2336552879&4294967295,I=O+(k<<12&4294967295|k>>>20),k=C+(P^I&(O^P))+H[10]+4294925233&4294967295,C=I+(k<<17&4294967295|k>>>15),k=P+(O^C&(I^O))+H[11]+2304563134&4294967295,P=C+(k<<22&4294967295|k>>>10),k=O+(I^P&(C^I))+H[12]+1804603682&4294967295,O=P+(k<<7&4294967295|k>>>25),k=I+(C^O&(P^C))+H[13]+4254626195&4294967295,I=O+(k<<12&4294967295|k>>>20),k=C+(P^I&(O^P))+H[14]+2792965006&4294967295,C=I+(k<<17&4294967295|k>>>15),k=P+(O^C&(I^O))+H[15]+1236535329&4294967295,P=C+(k<<22&4294967295|k>>>10),k=O+(C^I&(P^C))+H[1]+4129170786&4294967295,O=P+(k<<5&4294967295|k>>>27),k=I+(P^C&(O^P))+H[6]+3225465664&4294967295,I=O+(k<<9&4294967295|k>>>23),k=C+(O^P&(I^O))+H[11]+643717713&4294967295,C=I+(k<<14&4294967295|k>>>18),k=P+(I^O&(C^I))+H[0]+3921069994&4294967295,P=C+(k<<20&4294967295|k>>>12),k=O+(C^I&(P^C))+H[5]+3593408605&4294967295,O=P+(k<<5&4294967295|k>>>27),k=I+(P^C&(O^P))+H[10]+38016083&4294967295,I=O+(k<<9&4294967295|k>>>23),k=C+(O^P&(I^O))+H[15]+3634488961&4294967295,C=I+(k<<14&4294967295|k>>>18),k=P+(I^O&(C^I))+H[4]+3889429448&4294967295,P=C+(k<<20&4294967295|k>>>12),k=O+(C^I&(P^C))+H[9]+568446438&4294967295,O=P+(k<<5&4294967295|k>>>27),k=I+(P^C&(O^P))+H[14]+3275163606&4294967295,I=O+(k<<9&4294967295|k>>>23),k=C+(O^P&(I^O))+H[3]+4107603335&4294967295,C=I+(k<<14&4294967295|k>>>18),k=P+(I^O&(C^I))+H[8]+1163531501&4294967295,P=C+(k<<20&4294967295|k>>>12),k=O+(C^I&(P^C))+H[13]+2850285829&4294967295,O=P+(k<<5&4294967295|k>>>27),k=I+(P^C&(O^P))+H[2]+4243563512&4294967295,I=O+(k<<9&4294967295|k>>>23),k=C+(O^P&(I^O))+H[7]+1735328473&4294967295,C=I+(k<<14&4294967295|k>>>18),k=P+(I^O&(C^I))+H[12]+2368359562&4294967295,P=C+(k<<20&4294967295|k>>>12),k=O+(P^C^I)+H[5]+4294588738&4294967295,O=P+(k<<4&4294967295|k>>>28),k=I+(O^P^C)+H[8]+2272392833&4294967295,I=O+(k<<11&4294967295|k>>>21),k=C+(I^O^P)+H[11]+1839030562&4294967295,C=I+(k<<16&4294967295|k>>>16),k=P+(C^I^O)+H[14]+4259657740&4294967295,P=C+(k<<23&4294967295|k>>>9),k=O+(P^C^I)+H[1]+2763975236&4294967295,O=P+(k<<4&4294967295|k>>>28),k=I+(O^P^C)+H[4]+1272893353&4294967295,I=O+(k<<11&4294967295|k>>>21),k=C+(I^O^P)+H[7]+4139469664&4294967295,C=I+(k<<16&4294967295|k>>>16),k=P+(C^I^O)+H[10]+3200236656&4294967295,P=C+(k<<23&4294967295|k>>>9),k=O+(P^C^I)+H[13]+681279174&4294967295,O=P+(k<<4&4294967295|k>>>28),k=I+(O^P^C)+H[0]+3936430074&4294967295,I=O+(k<<11&4294967295|k>>>21),k=C+(I^O^P)+H[3]+3572445317&4294967295,C=I+(k<<16&4294967295|k>>>16),k=P+(C^I^O)+H[6]+76029189&4294967295,P=C+(k<<23&4294967295|k>>>9),k=O+(P^C^I)+H[9]+3654602809&4294967295,O=P+(k<<4&4294967295|k>>>28),k=I+(O^P^C)+H[12]+3873151461&4294967295,I=O+(k<<11&4294967295|k>>>21),k=C+(I^O^P)+H[15]+530742520&4294967295,C=I+(k<<16&4294967295|k>>>16),k=P+(C^I^O)+H[2]+3299628645&4294967295,P=C+(k<<23&4294967295|k>>>9),k=O+(C^(P|~I))+H[0]+4096336452&4294967295,O=P+(k<<6&4294967295|k>>>26),k=I+(P^(O|~C))+H[7]+1126891415&4294967295,I=O+(k<<10&4294967295|k>>>22),k=C+(O^(I|~P))+H[14]+2878612391&4294967295,C=I+(k<<15&4294967295|k>>>17),k=P+(I^(C|~O))+H[5]+4237533241&4294967295,P=C+(k<<21&4294967295|k>>>11),k=O+(C^(P|~I))+H[12]+1700485571&4294967295,O=P+(k<<6&4294967295|k>>>26),k=I+(P^(O|~C))+H[3]+2399980690&4294967295,I=O+(k<<10&4294967295|k>>>22),k=C+(O^(I|~P))+H[10]+4293915773&4294967295,C=I+(k<<15&4294967295|k>>>17),k=P+(I^(C|~O))+H[1]+2240044497&4294967295,P=C+(k<<21&4294967295|k>>>11),k=O+(C^(P|~I))+H[8]+1873313359&4294967295,O=P+(k<<6&4294967295|k>>>26),k=I+(P^(O|~C))+H[15]+4264355552&4294967295,I=O+(k<<10&4294967295|k>>>22),k=C+(O^(I|~P))+H[6]+2734768916&4294967295,C=I+(k<<15&4294967295|k>>>17),k=P+(I^(C|~O))+H[13]+1309151649&4294967295,P=C+(k<<21&4294967295|k>>>11),k=O+(C^(P|~I))+H[4]+4149444226&4294967295,O=P+(k<<6&4294967295|k>>>26),k=I+(P^(O|~C))+H[11]+3174756917&4294967295,I=O+(k<<10&4294967295|k>>>22),k=C+(O^(I|~P))+H[2]+718787259&4294967295,C=I+(k<<15&4294967295|k>>>17),k=P+(I^(C|~O))+H[9]+3951481745&4294967295,$.g[0]=$.g[0]+O&4294967295,$.g[1]=$.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,$.g[2]=$.g[2]+C&4294967295,$.g[3]=$.g[3]+I&4294967295}r.prototype.u=function($,O){O===void 0&&(O=$.length);for(var P=O-this.blockSize,H=this.B,C=this.h,I=0;I<O;){if(C==0)for(;I<=P;)a(this,$,I),I+=this.blockSize;if(typeof $=="string"){for(;I<O;)if(H[C++]=$.charCodeAt(I++),C==this.blockSize){a(this,H),C=0;break}}else for(;I<O;)if(H[C++]=$[I++],C==this.blockSize){a(this,H),C=0;break}}this.h=C,this.o+=O},r.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var O=1;O<$.length-8;++O)$[O]=0;var P=8*this.o;for(O=$.length-8;O<$.length;++O)$[O]=P&255,P/=256;for(this.u($),$=Array(16),O=P=0;4>O;++O)for(var H=0;32>H;H+=8)$[P++]=this.g[O]>>>H&255;return $};function o($,O){var P=c;return Object.prototype.hasOwnProperty.call(P,$)?P[$]:P[$]=O($)}function u($,O){this.h=O;for(var P=[],H=!0,C=$.length-1;0<=C;C--){var I=$[C]|0;H&&I==O||(P[C]=I,H=!1)}this.g=P}var c={};function f($){return-128<=$&&128>$?o($,function(O){return new u([O|0],0>O?-1:0)}):new u([$|0],0>$?-1:0)}function d($){if(isNaN($)||!isFinite($))return w;if(0>$)return B(d(-$));for(var O=[],P=1,H=0;$>=P;H++)O[H]=$/P|0,P*=4294967296;return new u(O,0)}function y($,O){if($.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($.charAt(0)=="-")return B(y($.substring(1),O));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(O,8)),H=w,C=0;C<$.length;C+=8){var I=Math.min(8,$.length-C),k=parseInt($.substring(C,C+I),O);8>I?(I=d(Math.pow(O,I)),H=H.j(I).add(d(k))):(H=H.j(P),H=H.add(d(k)))}return H}var w=f(0),x=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(U(this))return-B(this).m();for(var $=0,O=1,P=0;P<this.g.length;P++){var H=this.i(P);$+=(0<=H?H:4294967296+H)*O,O*=4294967296}return $},n.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(M(this))return"0";if(U(this))return"-"+B(this).toString($);for(var O=d(Math.pow($,6)),P=this,H="";;){var C=Q(P,O).g;P=F(P,C.j(O));var I=((0<P.g.length?P.g[0]:P.h)>>>0).toString($);if(P=C,M(P))return I+H;for(;6>I.length;)I="0"+I;H=I+H}},n.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function M($){if($.h!=0)return!1;for(var O=0;O<$.g.length;O++)if($.g[O]!=0)return!1;return!0}function U($){return $.h==-1}n.l=function($){return $=F(this,$),U($)?-1:M($)?0:1};function B($){for(var O=$.g.length,P=[],H=0;H<O;H++)P[H]=~$.g[H];return new u(P,~$.h).add(x)}n.abs=function(){return U(this)?B(this):this},n.add=function($){for(var O=Math.max(this.g.length,$.g.length),P=[],H=0,C=0;C<=O;C++){var I=H+(this.i(C)&65535)+($.i(C)&65535),k=(I>>>16)+(this.i(C)>>>16)+($.i(C)>>>16);H=k>>>16,I&=65535,k&=65535,P[C]=k<<16|I}return new u(P,P[P.length-1]&-2147483648?-1:0)};function F($,O){return $.add(B(O))}n.j=function($){if(M(this)||M($))return w;if(U(this))return U($)?B(this).j(B($)):B(B(this).j($));if(U($))return B(this.j(B($)));if(0>this.l(b)&&0>$.l(b))return d(this.m()*$.m());for(var O=this.g.length+$.g.length,P=[],H=0;H<2*O;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(var C=0;C<$.g.length;C++){var I=this.i(H)>>>16,k=this.i(H)&65535,ne=$.i(C)>>>16,we=$.i(C)&65535;P[2*H+2*C]+=k*we,ee(P,2*H+2*C),P[2*H+2*C+1]+=I*we,ee(P,2*H+2*C+1),P[2*H+2*C+1]+=k*ne,ee(P,2*H+2*C+1),P[2*H+2*C+2]+=I*ne,ee(P,2*H+2*C+2)}for(H=0;H<O;H++)P[H]=P[2*H+1]<<16|P[2*H];for(H=O;H<2*O;H++)P[H]=0;return new u(P,0)};function ee($,O){for(;($[O]&65535)!=$[O];)$[O+1]+=$[O]>>>16,$[O]&=65535,O++}function te($,O){this.g=$,this.h=O}function Q($,O){if(M(O))throw Error("division by zero");if(M($))return new te(w,w);if(U($))return O=Q(B($),O),new te(B(O.g),B(O.h));if(U(O))return O=Q($,B(O)),new te(B(O.g),O.h);if(30<$.g.length){if(U($)||U(O))throw Error("slowDivide_ only works with positive integers.");for(var P=x,H=O;0>=H.l($);)P=oe(P),H=oe(H);var C=Se(P,1),I=Se(H,1);for(H=Se(H,2),P=Se(P,2);!M(H);){var k=I.add(H);0>=k.l($)&&(C=C.add(P),I=k),H=Se(H,1),P=Se(P,1)}return O=F($,C.j(O)),new te(C,O)}for(C=w;0<=$.l(O);){for(P=Math.max(1,Math.floor($.m()/O.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),I=d(P),k=I.j(O);U(k)||0<k.l($);)P-=H,I=d(P),k=I.j(O);M(I)&&(I=x),C=C.add(I),$=F($,k)}return new te(C,$)}n.A=function($){return Q(this,$).h},n.and=function($){for(var O=Math.max(this.g.length,$.g.length),P=[],H=0;H<O;H++)P[H]=this.i(H)&$.i(H);return new u(P,this.h&$.h)},n.or=function($){for(var O=Math.max(this.g.length,$.g.length),P=[],H=0;H<O;H++)P[H]=this.i(H)|$.i(H);return new u(P,this.h|$.h)},n.xor=function($){for(var O=Math.max(this.g.length,$.g.length),P=[],H=0;H<O;H++)P[H]=this.i(H)^$.i(H);return new u(P,this.h^$.h)};function oe($){for(var O=$.g.length+1,P=[],H=0;H<O;H++)P[H]=$.i(H)<<1|$.i(H-1)>>>31;return new u(P,$.h)}function Se($,O){var P=O>>5;O%=32;for(var H=$.g.length-P,C=[],I=0;I<H;I++)C[I]=0<O?$.i(I+P)>>>O|$.i(I+P+1)<<32-O:$.i(I+P);return new u(C,$.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Du=u}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I3,$f,R3,gm,q0,L3,k3,P3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,L){return m==Array.prototype||m==Object.prototype||(m[E]=L.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var E=0;E<m.length;++E){var L=m[E];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function a(m,E){if(E)e:{var L=r;m=m.split(".");for(var K=0;K<m.length-1;K++){var Ee=m[K];if(!(Ee in L))break e;L=L[Ee]}m=m[m.length-1],K=L[m],E=E(K),E!=K&&E!=null&&e(L,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var L=0,K=!1,Ee={next:function(){if(!K&&L<m.length){var Oe=L++;return{value:E(Oe,m[Oe]),done:!1}}return K=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}a("Array.prototype.values",function(m){return m||function(){return o(this,function(E,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,L){return m.call.apply(m.bind,arguments)}function w(m,E,L){if(!m)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,K),m.apply(E,Ee)}}return function(){return m.apply(E,arguments)}}function x(m,E,L){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,x.apply(null,arguments)}function b(m,E){var L=Array.prototype.slice.call(arguments,1);return function(){var K=L.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function M(m,E){function L(){}L.prototype=E.prototype,m.aa=E.prototype,m.prototype=new L,m.prototype.constructor=m,m.Qb=function(K,Ee,Oe){for(var Ze=Array(arguments.length-2),un=2;un<arguments.length;un++)Ze[un-2]=arguments[un];return E.prototype[Ee].apply(K,Ze)}}function U(m){const E=m.length;if(0<E){const L=Array(E);for(let K=0;K<E;K++)L[K]=m[K];return L}return[]}function B(m,E){for(let L=1;L<arguments.length;L++){const K=arguments[L];if(f(K)){const Ee=m.length||0,Oe=K.length||0;m.length=Ee+Oe;for(let Ze=0;Ze<Oe;Ze++)m[Ee+Ze]=K[Ze]}else m.push(K)}}class F{constructor(E,L){this.i=E,this.j=L,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function ee(m){return/^[\s\xa0]*$/.test(m)}function te(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function Q(m){return Q[" "](m),m}Q[" "]=function(){};var oe=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Se(m,E,L){for(const K in m)E.call(L,m[K],K,m)}function $(m,E){for(const L in m)E.call(void 0,m[L],L,m)}function O(m){const E={};for(const L in m)E[L]=m[L];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(m,E){let L,K;for(let Ee=1;Ee<arguments.length;Ee++){K=arguments[Ee];for(L in K)m[L]=K[L];for(let Oe=0;Oe<P.length;Oe++)L=P[Oe],Object.prototype.hasOwnProperty.call(K,L)&&(m[L]=K[L])}}function C(m){var E=1;m=m.split(":");const L=[];for(;0<E&&m.length;)L.push(m.shift()),E--;return m.length&&L.push(m.join(":")),L}function I(m){c.setTimeout(()=>{throw m},0)}function k(){var m=ve;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ne{constructor(){this.h=this.g=null}add(E,L){const K=we.get();K.set(E,L),this.h?this.h.next=K:this.g=K,this.h=K}}var we=new F(()=>new le,m=>m.reset());class le{constructor(){this.next=this.g=this.h=null}set(E,L){this.h=E,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let me,re=!1,ve=new ne,X=()=>{const m=c.Promise.resolve(void 0);me=()=>{m.then(he)}};var he=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(L){I(L)}var E=we;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}re=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};c.addEventListener("test",L,E),c.removeEventListener("test",L,E)}catch{}return m})();function ue(m,E){if(z.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var L=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(oe){e:{try{Q(E.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(E=null)}}else L=="mouseover"?E=m.fromElement:L=="mouseout"&&(E=m.toElement);this.relatedTarget=E,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:fe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}M(ue,z);var fe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Le=0;function ke(m,E,L,K,Ee){this.listener=m,this.proxy=null,this.src=E,this.type=L,this.capture=!!K,this.ha=Ee,this.key=++Le,this.da=this.fa=!1}function Fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function qe(m){this.src=m,this.g={},this.h=0}qe.prototype.add=function(m,E,L,K,Ee){var Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);var Ze=rt(m,E,K,Ee);return-1<Ze?(E=m[Ze],L||(E.fa=!1)):(E=new ke(E,this.src,Oe,!!K,Ee),E.fa=L,m.push(E)),E};function nt(m,E){var L=E.type;if(L in m.g){var K=m.g[L],Ee=Array.prototype.indexOf.call(K,E,void 0),Oe;(Oe=0<=Ee)&&Array.prototype.splice.call(K,Ee,1),Oe&&(Fe(E),m.g[L].length==0&&(delete m.g[L],m.h--))}}function rt(m,E,L,K){for(var Ee=0;Ee<m.length;++Ee){var Oe=m[Ee];if(!Oe.da&&Oe.listener==E&&Oe.capture==!!L&&Oe.ha==K)return Ee}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ce={};function tn(m,E,L,K,Ee){if(Array.isArray(E)){for(var Oe=0;Oe<E.length;Oe++)tn(m,E[Oe],L,K,Ee);return null}return L=Bt(L),m&&m[ge]?m.K(E,L,d(K)?!!K.capture:!1,Ee):Nt(m,E,L,!1,K,Ee)}function Nt(m,E,L,K,Ee,Oe){if(!E)throw Error("Invalid event type");var Ze=d(Ee)?!!Ee.capture:!!Ee,un=_t(m);if(un||(m[Me]=un=new qe(m)),L=un.add(E,L,K,Ze,Oe),L.proxy)return L;if(K=Et(),L.proxy=K,K.src=m,K.listener=L,m.addEventListener)J||(Ee=Ze),Ee===void 0&&(Ee=!1),m.addEventListener(E.toString(),K,Ee);else if(m.attachEvent)m.attachEvent(tt(E.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Et(){function m(L){return E.call(m.src,m.listener,L)}const E=Yt;return m}function Je(m,E,L,K,Ee){if(Array.isArray(E))for(var Oe=0;Oe<E.length;Oe++)Je(m,E[Oe],L,K,Ee);else K=d(K)?!!K.capture:!!K,L=Bt(L),m&&m[ge]?(m=m.i,E=String(E).toString(),E in m.g&&(Oe=m.g[E],L=rt(Oe,L,K,Ee),-1<L&&(Fe(Oe[L]),Array.prototype.splice.call(Oe,L,1),Oe.length==0&&(delete m.g[E],m.h--)))):m&&(m=_t(m))&&(E=m.g[E.toString()],m=-1,E&&(m=rt(E,L,K,Ee)),(L=-1<m?E[m]:null)&&yt(L))}function yt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ge])nt(E.i,m);else{var L=m.type,K=m.proxy;E.removeEventListener?E.removeEventListener(L,K,m.capture):E.detachEvent?E.detachEvent(tt(L),K):E.addListener&&E.removeListener&&E.removeListener(K),(L=_t(E))?(nt(L,m),L.h==0&&(L.src=null,E[Me]=null)):Fe(m)}}}function tt(m){return m in ce?ce[m]:ce[m]="on"+m}function Yt(m,E){if(m.da)m=!0;else{E=new ue(E,this);var L=m.listener,K=m.ha||m.src;m.fa&&yt(m),m=L.call(K,E)}return m}function _t(m){return m=m[Me],m instanceof qe?m:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(m){return typeof m=="function"?m:(m[mn]||(m[mn]=function(E){return m.handleEvent(E)}),m[mn])}function ct(){R.call(this),this.i=new qe(this),this.M=this,this.F=null}M(ct,R),ct.prototype[ge]=!0,ct.prototype.removeEventListener=function(m,E,L,K){Je(this,m,E,L,K)};function wt(m,E){var L,K=m.F;if(K)for(L=[];K;K=K.F)L.push(K);if(m=m.M,K=E.type||E,typeof E=="string")E=new z(E,m);else if(E instanceof z)E.target=E.target||m;else{var Ee=E;E=new z(K,m),H(E,Ee)}if(Ee=!0,L)for(var Oe=L.length-1;0<=Oe;Oe--){var Ze=E.g=L[Oe];Ee=Tt(Ze,K,!0,E)&&Ee}if(Ze=E.g=m,Ee=Tt(Ze,K,!0,E)&&Ee,Ee=Tt(Ze,K,!1,E)&&Ee,L)for(Oe=0;Oe<L.length;Oe++)Ze=E.g=L[Oe],Ee=Tt(Ze,K,!1,E)&&Ee}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var L=m.g[E],K=0;K<L.length;K++)Fe(L[K]);delete m.g[E],m.h--}}this.F=null},ct.prototype.K=function(m,E,L,K){return this.i.add(String(m),E,!1,L,K)},ct.prototype.L=function(m,E,L,K){return this.i.add(String(m),E,!0,L,K)};function Tt(m,E,L,K){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Ee=!0,Oe=0;Oe<E.length;++Oe){var Ze=E[Oe];if(Ze&&!Ze.da&&Ze.capture==L){var un=Ze.listener,hr=Ze.ha||Ze.src;Ze.fa&&nt(m.i,Ze),Ee=un.call(hr,K)!==!1&&Ee}}return Ee&&!K.defaultPrevented}function st(m,E,L){if(typeof m=="function")L&&(m=x(m,L));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function Lt(m){m.g=st(()=>{m.g=null,m.i&&(m.i=!1,Lt(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class bt extends R{constructor(E,L){super(),this.m=E,this.l=L,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(m){R.call(this),this.h=m,this.g={}}M(Tn,R);var an=[];function ht(m){Se(m.g,function(E,L){this.g.hasOwnProperty(L)&&yt(E)},m),m.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),ht(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=c.JSON.stringify,Nn=c.JSON.parse,At=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function nn(){}nn.prototype.h=null;function Vt(m){return m.h||(m.h=m.i())}function ir(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){z.call(this,"d")}M(gn,z);function Pt(){z.call(this,"c")}M(Pt,z);var rn={},Zs=null;function pr(){return Zs=Zs||new ct}rn.La="serverreachability";function rs(m){z.call(this,rn.La,m)}M(rs,z);function di(m){const E=pr();wt(E,new rs(E))}rn.STAT_EVENT="statevent";function It(m,E){z.call(this,rn.STAT_EVENT,m),this.stat=E}M(It,z);function Cn(m){const E=pr();wt(E,new It(E,m))}rn.Ma="timingevent";function $n(m,E){z.call(this,rn.Ma,m),this.size=E}M($n,z);function Pn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Zn(m,E,L,K,Ee,Oe){m.info(function(){if(m.g)if(Oe)for(var Ze="",un=Oe.split("&"),hr=0;hr<un.length;hr++){var cn=un[hr].split("=");if(1<cn.length){var fn=cn[0];cn=cn[1];var jn=fn.split("_");Ze=2<=jn.length&&jn[1]=="type"?Ze+(fn+"="+cn+"&"):Ze+(fn+"=redacted&")}}else Ze=null;else Ze=Oe;return"XMLHTTP REQ ("+K+") [attempt "+Ee+"]: "+E+`
`+L+`
`+Ze})}function jr(m,E,L,K,Ee,Oe,Ze){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+Ee+"]: "+E+`
`+L+`
`+Oe+" "+Ze})}function cr(m,E,L,K){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+is(m,L)+(K?" "+K:"")})}function ga(m,E){m.info(function(){return"TIMEOUT: "+E})}mr.prototype.info=function(){};function is(m,E){if(!m.g)return E;if(!E)return null;try{var L=JSON.parse(E);if(L){for(m=0;m<L.length;m++)if(Array.isArray(L[m])){var K=L[m];if(!(2>K.length)){var Ee=K[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var Oe=Ee[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Ze=1;Ze<Ee.length;Ze++)Ee[Ze]=""}}}}return Ct(L)}catch{return E}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function Ur(){}M(Ur,nn),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},Vr=new Ur;function Jn(m,E,L,K){this.j=m,this.i=E,this.l=L,this.R=K||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var ss={},Ms={};function Ei(m,E,L){m.L=1,m.v=ba(mi(E)),m.m=L,m.P=!0,as(m,null)}function as(m,E){m.F=Date.now(),Js(m),m.A=mi(m.v);var L=m.A,K=m.R;Array.isArray(K)||(K=[String(K)]),Dt(L.i,"t",K),m.C=0,L=m.j.J,m.h=new Wn,m.g=ia(m.j,L?E:null,!m.m),0<m.O&&(m.M=new bt(x(m.Y,m,m.g),m.O)),E=m.U,L=m.g,K=m.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(an[0]=Ee.toString()),Ee=an);for(var Oe=0;Oe<Ee.length;Oe++){var Ze=tn(L,Ee[Oe],K||E.handleEvent,!1,E.h||E);if(!Ze)break;E.g[Ze.key]=Ze}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),di(),Zn(m.i,m.u,m.A,m.l,m.R,m.m)}Jn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ci(m)==3?E.j():this.Y(m)},Jn.prototype.Y=function(m){try{if(m==this.g)e:{const jn=Ci(this.g);var E=this.g.Ba();const Cs=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||jn!=4||E==7||(E==8||0>=Cs?di(3):di(2)),ea(this);var L=this.g.Z();this.X=L;t:if(Ya(this)){var K=Co(this.g);m="";var Ee=K.length,Oe=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),Cr(this);var Ze="";break t}this.h.i=new c.TextDecoder}for(E=0;E<Ee;E++)this.h.h=!0,m+=this.h.i.decode(K[E],{stream:!(Oe&&E==Ee-1)});K.length=0,this.h.g+=m,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=L==200,jr(this.i,this.u,this.A,this.l,this.R,jn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var un,hr=this.g;if((un=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(un)){var cn=un;break t}}cn=null}if(L=cn)cr(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,L);else{this.o=!1,this.s=3,Cn(12),Ir(this),Cr(this);break e}}if(this.P){L=!0;let Lr;for(;!this.J&&this.C<Ze.length;)if(Lr=zl(this,Ze),Lr==Ms){jn==4&&(this.s=4,Cn(14),L=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lr==ss){this.s=4,Cn(15),cr(this.i,this.l,Ze,"[Invalid Chunk]"),L=!1;break}else cr(this.i,this.l,Lr,null),ya(this,Lr);if(Ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Ze.length!=0||this.h.h||(this.s=1,Cn(16),L=!1),this.o=this.o&&L,!L)cr(this.i,this.l,Ze,"[Invalid Chunked Response]"),Ir(this),Cr(this);else if(0<Ze.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),ln(fn),fn.M=!0,Cn(11))}}else cr(this.i,this.l,Ze,null),ya(this,Ze);jn==4&&Ir(this),this.o&&!this.J&&(jn==4?Dn(this.j,this):(this.o=!1,Js(this)))}else qi(this.g),L==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),Ir(this),Cr(this)}}}catch{}finally{}};function Ya(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function zl(m,E){var L=m.C,K=E.indexOf(`
`,L);return K==-1?Ms:(L=Number(E.substring(L,K)),isNaN(L)?ss:(K+=1,K+L>E.length?Ms:(E=E.slice(K,K+L),m.C=K+L,E)))}Jn.prototype.cancel=function(){this.J=!0,Ir(this)};function Js(m){m.S=Date.now()+m.I,rl(m,m.I)}function rl(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Pn(x(m.ba,m),E)}function ea(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Jn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ga(this.i,this.A),this.L!=2&&(di(),Cn(17)),Ir(this),this.s=2,Cr(this)):rl(this,this.S-m)};function Cr(m){m.j.G==0||m.J||Dn(m.j,m)}function Ir(m){ea(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,ht(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ya(m,E){try{var L=m.j;if(L.G!=0&&(L.g==m||va(L.h,m))){if(!m.K&&va(L.h,m)&&L.G==3){try{var K=L.Da.g.parse(E)}catch{K=null}if(Array.isArray(K)&&K.length==3){var Ee=K;if(Ee[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<m.F)sr(L),se(L);else break e;qt(L),Cn(18)}}else L.za=Ee[1],0<L.za-L.T&&37500>Ee[2]&&L.F&&L.v==0&&!L.C&&(L.C=Pn(x(L.Za,L),6e3));if(1>=Qa(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Bn(L,11)}else if((m.K||L.g==m)&&sr(L),!ee(E))for(Ee=L.Da.g.parse(E),E=0;E<Ee.length;E++){let cn=Ee[E];if(L.T=cn[0],cn=cn[1],L.G==2)if(cn[0]=="c"){L.K=cn[1],L.ia=cn[2];const fn=cn[3];fn!=null&&(L.la=fn,L.j.info("VER="+L.la));const jn=cn[4];jn!=null&&(L.Aa=jn,L.j.info("SVER="+L.Aa));const Cs=cn[5];Cs!=null&&typeof Cs=="number"&&0<Cs&&(K=1.5*Cs,L.L=K,L.j.info("backChannelRequestTimeoutMs_="+K)),K=L;const Lr=m.g;if(Lr){const gi=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Oe=K.h;Oe.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Eo(Oe,Oe.h),Oe.h=null))}if(K.D){const Ta=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(K.ya=Ta,on(K.I,K.D,Ta))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-m.F,L.j.info("Handshake RTT: "+L.R+"ms")),K=L;var Ze=m;if(K.qa=Bs(K,K.J?K.ia:null,K.W),Ze.K){_n(K.h,Ze);var un=Ze,hr=K.L;hr&&(un.I=hr),un.B&&(ea(un),Js(un)),K.g=Ze}else kt(K);0<L.i.length&&Ae(L)}else cn[0]!="stop"&&cn[0]!="close"||Bn(L,7);else L.G==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Bn(L,7):j(L):cn[0]!="noop"&&L.l&&L.l.ta(cn),L.v=0)}}di(4)}catch{}}var xo=class{constructor(m,E){this.g=m,this.map=E}};function js(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Qa(m){return m.h?1:m.g?m.g.size:0}function va(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Eo(m,E){m.g?m.g.add(E):m.h=E}function _n(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}js.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function To(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const L of m.g.values())E=E.concat(L.D);return E}return U(m.i)}function Hl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var E=[],L=m.length,K=0;K<L;K++)E.push(m[K]);return E}E=[],L=0;for(K in m)E[L++]=m[K];return E}function os(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var E=[];m=m.length;for(var L=0;L<m;L++)E.push(L);return E}E=[],L=0;for(const K in m)E[L++]=K;return E}}}function ta(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var L=os(m),K=Hl(m),Ee=K.length,Oe=0;Oe<Ee;Oe++)E.call(void 0,K[Oe],L&&L[Oe],m)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(m,E){if(m){m=m.split("&");for(var L=0;L<m.length;L++){var K=m[L].indexOf("="),Ee=null;if(0<=K){var Oe=m[L].substring(0,K);Ee=m[L].substring(K+1)}else Oe=m[L];E(Oe,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function en(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof en){this.h=m.h,Za(this,m.j),this.o=m.o,this.g=m.g,_a(this,m.s),this.l=m.l;var E=m.i,L=new Ti;L.i=E.i,E.g&&(L.g=new Map(E.g),L.h=E.h),na(this,L),this.m=m.m}else m&&(E=String(m).match(pi))?(this.h=!1,Za(this,E[1]||"",!0),this.o=Vi(E[2]||""),this.g=Vi(E[3]||"",!0),_a(this,E[4]),this.l=Vi(E[5]||"",!0),na(this,E[6]||"",!0),this.m=Vi(E[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}en.prototype.toString=function(){var m=[],E=this.j;E&&m.push(ls(E,il,!0),":");var L=this.g;return(L||E=="file")&&(m.push("//"),(E=this.o)&&m.push(ls(E,il,!0),"@"),m.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&m.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(ls(L,L.charAt(0)=="/"?Ku:sl,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",ls(L,Vs)),m.join("")};function mi(m){return new en(m)}function Za(m,E,L){m.j=L?Vi(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function _a(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function na(m,E,L){E instanceof Ti?(m.i=E,Gl(m.i,m.h)):(L||(E=ls(E,al)),m.i=new Ti(E,m.h))}function on(m,E,L){m.i.set(E,L)}function ba(m){return on(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Vi(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ls(m,E,L){return typeof m=="string"?(m=encodeURI(m).replace(E,No),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function No(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var il=/[#\/\?@]/g,sl=/[#\?:]/g,Ku=/[#\?]/g,al=/[#\?@]/g,Vs=/#/g;function Ti(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function us(m){m.g||(m.g=new Map,m.h=0,m.i&&Xa(m.i,function(E,L){m.add(decodeURIComponent(E.replace(/\+/g," ")),L)}))}n=Ti.prototype,n.add=function(m,E){us(this),this.i=null,m=Us(this,m);var L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(E),this.h+=1,this};function Ui(m,E){us(m),E=Us(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function xs(m,E){return us(m),E=Us(m,E),m.g.has(E)}n.forEach=function(m,E){us(this),this.g.forEach(function(L,K){L.forEach(function(Ee){m.call(E,Ee,K,this)},this)},this)},n.na=function(){us(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),L=[];for(let K=0;K<E.length;K++){const Ee=m[K];for(let Oe=0;Oe<Ee.length;Oe++)L.push(E[K])}return L},n.V=function(m){us(this);let E=[];if(typeof m=="string")xs(this,m)&&(E=E.concat(this.g.get(Us(this,m))));else{m=Array.from(this.g.values());for(let L=0;L<m.length;L++)E=E.concat(m[L])}return E},n.set=function(m,E){return us(this),this.i=null,m=Us(this,m),xs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Dt(m,E,L){Ui(m,E),0<L.length&&(m.i=null,m.g.set(Us(m,E),U(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var L=0;L<E.length;L++){var K=E[L];const Oe=encodeURIComponent(String(K)),Ze=this.V(K);for(K=0;K<Ze.length;K++){var Ee=Oe;Ze[K]!==""&&(Ee+="="+encodeURIComponent(String(Ze[K]))),m.push(Ee)}}return this.i=m.join("&")};function Us(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Gl(m,E){E&&!m.j&&(us(m),m.i=null,m.g.forEach(function(L,K){var Ee=K.toLowerCase();K!=Ee&&(Ui(this,K),Dt(this,Ee,L))},m)),m.j=E}function Ja(m,E){const L=new mr;if(c.Image){const K=new Image;K.onload=b(Fr,L,"TestLoadImage: loaded",!0,E,K),K.onerror=b(Fr,L,"TestLoadImage: error",!1,E,K),K.onabort=b(Fr,L,"TestLoadImage: abort",!1,E,K),K.ontimeout=b(Fr,L,"TestLoadImage: timeout",!1,E,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else E(!1)}function Es(m,E){const L=new mr,K=new AbortController,Ee=setTimeout(()=>{K.abort(),Fr(L,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:K.signal}).then(Oe=>{clearTimeout(Ee),Oe.ok?Fr(L,"TestPingServer: ok",!0,E):Fr(L,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Ee),Fr(L,"TestPingServer: error",!1,E)})}function Fr(m,E,L,K,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),K(L)}catch{}}function Fi(){this.g=new At}function Fs(m,E,L){const K=L||"";try{ta(m,function(Ee,Oe){let Ze=Ee;d(Ee)&&(Ze=Ct(Ee)),E.push(K+Oe+"="+encodeURIComponent(Ze))})}catch(Ee){throw E.push(K+"type="+encodeURIComponent("_badmap")),Ee}}function wa(m){this.l=m.Ub||null,this.j=m.eb||!1}M(wa,nn),wa.prototype.g=function(){return new cs(this.l,this.j)},wa.prototype.i=(function(m){return function(){return m}})({});function cs(m,E){ct.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(cs,ct),n=cs.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Bi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ni(this):Bi(this),this.readyState==3&&eo(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ni(this))},n.Qa=function(m){this.g&&(this.response=m,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Bi(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var L=E.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=E.next();return m.join(`\r
`)};function Bi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Aa(m){let E="";return Se(m,function(L,K){E+=K,E+=":",E+=L,E+=`\r
`}),E}function Br(m,E,L){e:{for(K in L){var K=!1;break e}K=!0}K||(L=Aa(L),typeof m=="string"?L!=null&&encodeURIComponent(String(L)):on(m,E,L))}function bn(m){ct.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(bn,ct);var Sa=/^https?$/i,Ts=["POST","PUT"];n=bn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,L,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?Vt(this.o):Vt(Vr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Oe){xa(this,Oe);return}if(m=L||"",L=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var Ee in K)L.set(Ee,K[Ee]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Oe of K.keys())L.set(Oe,K.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(L.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Ee=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ts,E,void 0))||K||Ee||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Ze]of L)this.g.setRequestHeader(Oe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(m),this.u=!1}catch(Oe){xa(this,Oe)}};function xa(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Ea(m),hs(m)}function Ea(m){m.A||(m.A=!0,wt(m,"complete"),wt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,wt(this,"complete"),wt(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},n.bb=function(){ra(this)};function ra(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Ci(m)!=4||m.Z()!=2)){if(m.u&&Ci(m)==4)st(m.Ea,0,m);else if(wt(m,"readystatechange"),Ci(m)==4){m.h=!1;try{const Ze=m.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var L;if(!(L=E)){var K;if(K=Ze===0){var Ee=String(m.D).match(pi)[1]||null;!Ee&&c.self&&c.self.location&&(Ee=c.self.location.protocol.slice(0,-1)),K=!Sa.test(Ee?Ee.toLowerCase():"")}L=K}if(L)wt(m,"complete"),wt(m,"success");else{m.m=6;try{var Oe=2<Ci(m)?m.g.statusText:""}catch{Oe=""}m.l=Oe+" ["+m.Z()+"]",Ea(m)}}finally{hs(m)}}}}function hs(m,E){if(m.g){Ns(m);const L=m.g,K=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||wt(m,"ready");try{L.onreadystatechange=K}catch{}}}function Ns(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ci(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Nn(E)}};function Co(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(m){const E={};m=(m.g&&2<=Ci(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if(ee(m[K]))continue;var L=C(m[K]);const Ee=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Oe=E[Ee]||[];E[Ee]=Oe,Oe.push(L)}$(E,function(K){return K.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(m,E,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||E}function A(m){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,m),this.cb=Ii("retryDelaySeedMs",1e4,m),this.Wa=Ii("forwardChannelMaxRetries",2,m),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new js(m&&m.concurrentRequestLimit),this.Da=new Fi,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=A.prototype,n.la=8,n.G=1,n.connect=function(m,E,L,K){Cn(0),this.W=m,this.H=E||{},L&&K!==void 0&&(this.H.OSID=L,this.H.OAID=K),this.F=this.X,this.I=Bs(this,null,this.W),Ae(this)};function j(m){if(pe(m),m.G==3){var E=m.U++,L=mi(m.I);if(on(L,"SID",m.K),on(L,"RID",E),on(L,"TYPE","terminate"),at(m,L),E=new Jn(m,m.j,E),E.L=2,E.v=ba(mi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!L&&c.Image&&(new Image().src=E.v,L=!0),L||(E.g=ia(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Js(E)}qr(m)}function se(m){m.g&&(ln(m),m.g.cancel(),m.g=null)}function pe(m){se(m),m.u&&(c.clearTimeout(m.u),m.u=null),sr(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Ae(m){if(!Ka(m.h)&&!m.s){m.s=!0;var E=m.Ga;me||X(),re||(me(),re=!0),ve.add(E,m),m.B=0}}function Be(m,E){return Qa(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Pn(x(m.Ga,m,E),gr(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Ee=new Jn(this,this.j,m);let Oe=this.o;if(this.S&&(Oe?(Oe=O(Oe),H(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Ee.H=Oe,Oe=null),this.P)e:{for(var E=0,L=0;L<this.i.length;L++){t:{var K=this.i[L];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(E+=K,4096<E){E=L;break e}if(E===4096||L===this.i.length-1){E=L+1;break e}}E=1e3}else E=1e3;E=pt(this,Ee,E),L=mi(this.I),on(L,"RID",m),on(L,"CVER",22),this.D&&on(L,"X-HTTP-Session-Id",this.D),at(this,L),Oe&&(this.O?E="headers="+encodeURIComponent(String(Aa(Oe)))+"&"+E:this.m&&Br(L,this.m,Oe)),Eo(this.h,Ee),this.Ua&&on(L,"TYPE","init"),this.P?(on(L,"$req",E),on(L,"SID","null"),Ee.T=!0,Ei(Ee,L,null)):Ei(Ee,L,E),this.G=2}}else this.G==3&&(m?Ke(this,m):this.i.length==0||Ka(this.h)||Ke(this))};function Ke(m,E){var L;E?L=E.l:L=m.U++;const K=mi(m.I);on(K,"SID",m.K),on(K,"RID",L),on(K,"AID",m.T),at(m,K),m.m&&m.o&&Br(K,m.m,m.o),L=new Jn(m,m.j,L,m.B+1),m.m===null&&(L.H=m.o),E&&(m.i=E.D.concat(m.i)),E=pt(m,L,1e3),L.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Eo(m.h,L),Ei(L,K,E)}function at(m,E){m.H&&Se(m.H,function(L,K){on(E,K,L)}),m.l&&ta({},function(L,K){on(E,K,L)})}function pt(m,E,L){L=Math.min(m.i.length,L);var K=m.l?x(m.l.Na,m.l,m):null;e:{var Ee=m.i;let Oe=-1;for(;;){const Ze=["count="+L];Oe==-1?0<L?(Oe=Ee[0].g,Ze.push("ofs="+Oe)):Oe=0:Ze.push("ofs="+Oe);let un=!0;for(let hr=0;hr<L;hr++){let cn=Ee[hr].g;const fn=Ee[hr].map;if(cn-=Oe,0>cn)Oe=Math.max(0,Ee[hr].g-100),un=!1;else try{Fs(fn,Ze,"req"+cn+"_")}catch{K&&K(fn)}}if(un){K=Ze.join("&");break e}}}return m=m.i.splice(0,L),E.D=m,K}function kt(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;me||X(),re||(me(),re=!0),ve.add(E,m),m.v=0}}function qt(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Pn(x(m.Fa,m),gr(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,er(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Pn(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),se(this),er(this))};function ln(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function er(m){m.g=new Jn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=mi(m.qa);on(E,"RID","rpc"),on(E,"SID",m.K),on(E,"AID",m.T),on(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&on(E,"TO",m.ja),on(E,"TYPE","xmlhttp"),at(m,E),m.m&&m.o&&Br(E,m.m,m.o),m.L&&(m.g.I=m.L);var L=m.g;m=m.ia,L.L=1,L.v=ba(mi(E)),L.m=null,L.P=!0,as(L,m)}n.Za=function(){this.C!=null&&(this.C=null,se(this),qt(this),Cn(19))};function sr(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Dn(m,E){var L=null;if(m.g==E){sr(m),ln(m),m.g=null;var K=2}else if(va(m.h,E))L=E.D,_n(m.h,E),K=1;else return;if(m.G!=0){if(E.o)if(K==1){L=E.m?E.m.length:0,E=Date.now()-E.F;var Ee=m.B;K=pr(),wt(K,new $n(K,L)),Ae(m)}else kt(m);else if(Ee=E.s,Ee==3||Ee==0&&0<E.X||!(K==1&&Be(m,E)||K==2&&qt(m)))switch(L&&0<L.length&&(E=m.h,E.i=E.i.concat(L)),Ee){case 1:Bn(m,5);break;case 4:Bn(m,10);break;case 3:Bn(m,6);break;default:Bn(m,2)}}}function gr(m,E){let L=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(L*=2),L*E}function Bn(m,E){if(m.j.info("Error code "+E),E==2){var L=x(m.fb,m),K=m.Xa;const Ee=!K;K=new en(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Za(K,"https"),ba(K),Ee?Ja(K.toString(),L):Es(K.toString(),L)}else Cn(2);m.G=0,m.l&&m.l.sa(E),qr(m),pe(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function qr(m){if(m.G=0,m.ka=[],m.l){const E=To(m.h);(E.length!=0||m.i.length!=0)&&(B(m.ka,E),B(m.ka,m.i),m.h.i.length=0,U(m.i),m.i.length=0),m.l.ra()}}function Bs(m,E,L){var K=L instanceof en?mi(L):new en(L);if(K.g!="")E&&(K.g=E+"."+K.g),_a(K,K.s);else{var Ee=c.location;K=Ee.protocol,E=E?E+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var Oe=new en(null);K&&Za(Oe,K),E&&(Oe.g=E),Ee&&_a(Oe,Ee),L&&(Oe.l=L),K=Oe}return L=m.D,E=m.ya,L&&E&&on(K,L,E),on(K,"VER",m.la),at(m,K),K}function ia(m,E,L){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new bn(new wa({eb:L})):new bn(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}n=$l.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(m,E){return new Rr(m,E)};function Rr(m,E){ct.call(this),this.g=new A(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!ee(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!ee(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new zi(this)}M(Rr,ct),Rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){j(this.g)},Rr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.u&&(L={},L.__data__=Ct(m),m=L);E.i.push(new xo(E.Ya++,m)),E.G==3&&Ae(E)},Rr.prototype.N=function(){this.g.l=null,delete this.j,j(this.g),delete this.g,Rr.aa.N.call(this)};function fs(m){gn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const L in E){m=L;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}M(fs,gn);function Io(){Pt.call(this),this.status=1}M(Io,Pt);function zi(m){this.g=m}M(zi,$l),zi.prototype.ua=function(){wt(this.g,"a")},zi.prototype.ta=function(m){wt(this.g,new fs(m))},zi.prototype.sa=function(m){wt(this.g,new Io)},zi.prototype.ra=function(){wt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,P3=function(){return new to},k3=function(){return pr()},L3=rn,q0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,gm=si,ai.COMPLETE="complete",R3=ai,ir.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,$f=ir,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,I3=bn}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",Ab="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new f2("@firebase/firestore");function gh(){return ju.logLevel}function XR(n){ju.setLogLevel(n)}function lt(n,...e){if(ju.logLevel<=Sn.DEBUG){const t=e.map(S2);ju.debug(`Firestore (${Hh}): ${n}`,...t)}}function Vl(n,...e){if(ju.logLevel<=Sn.ERROR){const t=e.map(S2);ju.error(`Firestore (${Hh}): ${n}`,...t)}}function kh(n,...e){if(ju.logLevel<=Sn.WARN){const t=e.map(S2);ju.warn(`Firestore (${Hh}): ${n}`,...t)}}function S2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,D3(n,r,t)}function D3(n,e,t){let r=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vl(r),new Error(r)}function Hn(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||D3(e,a,r)}function Zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Fl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_s.UNAUTHENTICATED)))}shutdown(){}}class JR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class e7{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pl,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},c=f=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new O3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new _s(e)}}class t7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new t7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ha(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Hn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=i7(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function xn(n,e){return n<e?-1:n>e?1:0}function z0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return h0(a)===h0(o)?xn(a,o):h0(a)?1:-1}return xn(n.length,e.length)}const s7=55296,a7=57343;function h0(n){const e=n.charCodeAt(0);return e>=s7&&e<=a7}function Ph(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__name__";class Ho{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ft(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ft(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ho.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ho?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ho.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return xn(e.length,t.length)}static compareSegments(e,t){const r=Ho.isNumericId(e),a=Ho.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ho.extractNumericId(e).compare(Ho.extractNumericId(t)):z0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Du.fromString(e.substring(4,e.length-2))}}class dr extends Ho{construct(e,t,r){return new dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new dr(t)}static emptyPath(){return new dr([])}}const o7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Ho{construct(e,t,r){return new ts(e,t,r)}static isValidIdentifier(e){return o7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xb}static keyField(){return new ts([xb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new it(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new it(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new it(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new it(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(dr.fromString(e))}static fromName(e){return new Rt(dr.fromString(e).popFirst(5))}static empty(){return new Rt(dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new dr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(n,e,t){if(!t)throw new it(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l7(n,e,t,r){if(e===!0&&r===!0)throw new it(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Eb(n){if(!Rt.isDocumentKey(n))throw new it(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tb(n){if(Rt.isDocumentKey(n))throw new it(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function j3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function Ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rg(n);throw new it(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Id(n,e){if(!j3(n))throw new it(Ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new it(Ge.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=-62135596800,Cb=1e6;class _r{static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Cb);return new _r(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nb)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cb}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_r._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Id(e,_r._jsonSchema))return new _r(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_r._jsonSchemaVersion="firestore/timestamp/1.0",_r._jsonSchema={type:fi("string",_r._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new _r(0,0))}static max(){return new Qt(new _r(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function u7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Qt.fromTimestamp(r===1e9?new _r(t+1,0):new _r(t,r));return new Vu(a,Rt.empty(),e)}function c7(n){return new Vu(n.readTime,n.key,cd)}class Vu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vu(Qt.min(),Rt.empty(),cd)}static max(){return new Vu(Qt.max(),Rt.empty(),cd)}}function h7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Rt.comparator(n.documentKey,e.documentKey),t!==0?t:xn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==f7)throw n;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.reject(t)}static resolve(e){return new Qe(((t,r)=>{t(e)}))}static reject(e){return new Qe(((t,r)=>{r(e)}))}static waitFor(e){return new Qe(((t,r)=>{let a=0,o=0,u=!1;e.forEach((c=>{++a,c.next((()=>{++o,u&&o===a&&t()}),(f=>r(f)))})),u=!0,o===a&&t()}))}static or(e){let t=Qe.resolve(!1);for(const r of e)t=t.next((a=>a?Qe.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new Qe(((r,a)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((y=>{u[d]=y,++c,c===o&&r(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new Qe(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function p7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $h(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ig.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=-1;function sg(n){return n==null}function jm(n){return n===0&&1/n==-1/0}function m7(n){return typeof n=="number"&&Number.isInteger(n)&&!jm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="";function g7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ib(e)),e=y7(n.get(t),e);return Ib(e)}function y7(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case V3:t+="";break;default:t+=o}}return t}function Ib(n){return n+V3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??es.RED,this.left=a??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new es(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return es.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lb(this.data.getIterator())}getIteratorFrom(e){return new Lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class Lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new ma([])}unionWith(e){let t=new Si(ts.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ph(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new F3("Invalid base64 string: "+o):o}})(e);return new ns(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const v7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uu(n){if(Hn(!!n,39018),typeof n=="string"){let e=0;const t=v7.exec(n);if(Hn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fu(n){return typeof n=="string"?ns.fromBase64String(n):ns.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="server_timestamp",q3="__type__",z3="__previous_value__",H3="__local_write_time__";function T2(n){return(n?.mapValue?.fields||{})[q3]?.stringValue===B3}function ag(n){const e=n.mapValue.fields[z3];return T2(e)?ag(e):e}function hd(n){const e=Uu(n.mapValue.fields[H3].timestampValue);return new _r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,t,r,a,o,u,c,f,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Vm="(default)";class fd{constructor(e,t){this.projectId=e,this.database=t||Vm}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===Vm}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="__type__",b7="__max__",nm={mapValue:{}},$3="__vector__",Um="value";function Bu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T2(n)?4:A7(n)?9007199254740991:w7(n)?10:11:Ft(28295,{value:n})}function Jo(n,e){if(n===e)return!0;const t=Bu(n);if(t!==Bu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hd(n).isEqual(hd(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Uu(a.timestampValue),c=Uu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Fu(a.bytesValue).isEqual(Fu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return ei(a.geoPointValue.latitude)===ei(o.geoPointValue.latitude)&&ei(a.geoPointValue.longitude)===ei(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return ei(a.integerValue)===ei(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=ei(a.doubleValue),c=ei(o.doubleValue);return u===c?jm(u)===jm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Ph(n.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(Rb(u)!==Rb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Jo(u[f],c[f])))return!1;return!0})(n,e);default:return Ft(52216,{left:n})}}function dd(n,e){return(n.values||[]).find((t=>Jo(t,e)))!==void 0}function Dh(n,e){if(n===e)return 0;const t=Bu(n),r=Bu(e);if(t!==r)return xn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xn(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=ei(o.integerValue||o.doubleValue),f=ei(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return kb(n.timestampValue,e.timestampValue);case 4:return kb(hd(n),hd(e));case 5:return z0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=Fu(o),f=Fu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const y=xn(c[d],f[d]);if(y!==0)return y}return xn(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=xn(ei(o.latitude),ei(u.latitude));return c!==0?c:xn(ei(o.longitude),ei(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Pb(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[Um]?.arrayValue,y=f[Um]?.arrayValue,w=xn(d?.values?.length||0,y?.values?.length||0);return w!==0?w:Pb(d,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===nm.mapValue&&u===nm.mapValue)return 0;if(o===nm.mapValue)return 1;if(u===nm.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const x=z0(f[w],y[w]);if(x!==0)return x;const b=Dh(c[f[w]],d[y[w]]);if(b!==0)return b}return xn(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Ft(23264,{he:t})}}function kb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xn(n,e);const t=Uu(n),r=Uu(e),a=xn(t.seconds,r.seconds);return a!==0?a:xn(t.nanos,r.nanos)}function Pb(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Dh(t[a],r[a]);if(o)return o}return xn(t.length,r.length)}function Oh(n){return H0(n)}function H0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Uu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Fu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Rt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=H0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${H0(t.fields[u])}`;return a+"}"})(n.mapValue):Ft(61005,{value:n})}function ym(n){switch(Bu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ag(n);return e?16+ym(e):16;case 5:return 2*n.stringValue.length;case 6:return Fu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+ym(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Wu(r.fields,((o,u)=>{a+=o.length+ym(u)})),a})(n.mapValue);default:throw Ft(13486,{value:n})}}function Db(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function G0(n){return!!n&&"integerValue"in n}function N2(n){return!!n&&"arrayValue"in n}function Ob(n){return!!n&&"nullValue"in n}function Mb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vm(n){return!!n&&"mapValue"in n}function w7(n){return(n?.mapValue?.fields||{})[G3]?.stringValue===$3}function td(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Wu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=td(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=td(n.arrayValue.values[t]);return e}return{...n}}function A7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===b7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(t)}setAll(e){let t=ts.emptyPath(),r={},a=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=td(u):a.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());vm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];vm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Wu(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Qs(td(this.value))}}function W3(n){const e=[];return Wu(n.fields,((t,r)=>{const a=new ts([t]);if(vm(r)){const o=W3(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new ma(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,r,a,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new bs(e,0,Qt.min(),Qt.min(),Qt.min(),Qs.empty(),0)}static newFoundDocument(e,t,r,a){return new bs(e,1,t,Qt.min(),r,a,0)}static newNoDocument(e,t){return new bs(e,2,t,Qt.min(),Qt.min(),Qs.empty(),0)}static newUnknownDocument(e,t){return new bs(e,3,t,Qt.min(),Qt.min(),Qs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){this.position=e,this.inclusive=t}}function jb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Rt.comparator(Rt.fromName(u.referenceValue),t.key):r=Dh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function S7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{}class hi extends Y3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new E7(e,t,r):t==="array-contains"?new C7(e,r):t==="in"?new I7(e,r):t==="not-in"?new R7(e,r):t==="array-contains-any"?new L7(e,r):new hi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new T7(e,r):new N7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Dh(t,this.value)):t!==null&&Bu(this.value)===Bu(t)&&this.matchesComparison(Dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wo extends Y3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wo(e,t)}matches(e){return K3(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function K3(n){return n.op==="and"}function Q3(n){return x7(n)&&K3(n)}function x7(n){for(const e of n.filters)if(e instanceof wo)return!1;return!0}function $0(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+Oh(n.value);if(Q3(n))return n.filters.map((e=>$0(e))).join(",");{const e=n.filters.map((t=>$0(t))).join(",");return`${n.op}(${e})`}}function X3(n,e){return n instanceof hi?(function(r,a){return a instanceof hi&&r.op===a.op&&r.field.isEqual(a.field)&&Jo(r.value,a.value)})(n,e):n instanceof wo?(function(r,a){return a instanceof wo&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,c)=>o&&X3(u,a.filters[c])),!0):!1})(n,e):void Ft(19439)}function Z3(n){return n instanceof hi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Oh(t.value)}`})(n):n instanceof wo?(function(t){return t.op.toString()+" {"+t.getFilters().map(Z3).join(" ,")+"}"})(n):"Filter"}class E7 extends hi{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class T7 extends hi{constructor(e,t){super(e,"in",t),this.keys=J3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class N7 extends hi{constructor(e,t){super(e,"not-in",t),this.keys=J3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function J3(n,e){return(e.arrayValue?.values||[]).map((t=>Rt.fromName(t.referenceValue)))}class C7 extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N2(t)&&dd(t.arrayValue,this.value)}}class I7 extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dd(this.value.arrayValue,t)}}class R7 extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dd(this.value.arrayValue,t)}}class L7 extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>dd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,t=null,r=[],a=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function Ub(n,e=null,t=[],r=[],a=null,o=null,u=null){return new k7(n,e,t,r,a,o,u)}function C2(n){const e=Zt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>$0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),sg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Oh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Oh(r))).join(",")),e.Te=t}return e.Te}function I2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!S7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!X3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vb(n.startAt,e.startAt)&&Vb(n.endAt,e.endAt)}function W0(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t=null,r=[],a=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P7(n,e,t,r,a,o,u,c){return new Wh(n,e,t,r,a,o,u,c)}function og(n){return new Wh(n)}function Fb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eA(n){return n.collectionGroup!==null}function nd(n){const e=Zt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Si(ts.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new pd(o,r))})),t.has(ts.keyField().canonicalString())||e.Ie.push(new pd(ts.keyField(),r))}return e.Ie}function Ko(n){const e=Zt(n);return e.Ee||(e.Ee=D7(e,nd(n))),e.Ee}function D7(n,e){if(n.limitType==="F")return Ub(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new pd(a.field,o)}));const t=n.endAt?new Fm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fm(n.startAt.position,n.startAt.inclusive):null;return Ub(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Y0(n,e){const t=n.filters.concat([e]);return new Wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bm(n,e,t){return new Wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lg(n,e){return I2(Ko(n),Ko(e))&&n.limitType===e.limitType}function tA(n){return`${C2(Ko(n))}|lt:${n.limitType}`}function yh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Z3(a))).join(", ")}]`),sg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Oh(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Oh(a))).join(",")),`Target(${r})`})(Ko(n))}; limitType=${n.limitType})`}function ug(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of nd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,c,f){const d=jb(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,nd(r),a)||r.endAt&&!(function(u,c,f){const d=jb(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,nd(r),a))})(n,e)}function O7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nA(n){return(e,t)=>{let r=!1;for(const a of nd(n)){const o=M7(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function M7(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Dh(f,d):Ft(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return U3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new Mr(Rt.comparator);function Ul(){return j7}const rA=new Mr(Rt.comparator);function Wf(...n){let e=rA;for(const t of n)e=e.insert(t.key,t);return e}function iA(n){let e=rA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function bc(){return rd()}function sA(){return rd()}function rd(){return new Dc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const V7=new Mr(Rt.comparator),U7=new Si(Rt.comparator);function En(...n){let e=U7;for(const t of n)e=e.add(t);return e}const F7=new Si(xn);function B7(){return F7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(e)?"-0":e}}function aA(n){return{integerValue:""+n}}function oA(n,e){return m7(e)?aA(e):R2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function q7(n,e,t){return n instanceof md?(function(a,o){const u={fields:{[q3]:{stringValue:B3},[H3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&T2(o)&&(o=ag(o)),o&&(u.fields[z3]=o),{mapValue:u}})(t,e):n instanceof gd?uA(n,e):n instanceof yd?cA(n,e):(function(a,o){const u=lA(a,o),c=Bb(u)+Bb(a.Ae);return G0(u)&&G0(a.Ae)?aA(c):R2(a.serializer,c)})(n,e)}function z7(n,e,t){return n instanceof gd?uA(n,e):n instanceof yd?cA(n,e):t}function lA(n,e){return n instanceof vd?(function(r){return G0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class md extends cg{}class gd extends cg{constructor(e){super(),this.elements=e}}function uA(n,e){const t=hA(e);for(const r of n.elements)t.some((a=>Jo(a,r)))||t.push(r);return{arrayValue:{values:t}}}class yd extends cg{constructor(e){super(),this.elements=e}}function cA(n,e){let t=hA(e);for(const r of n.elements)t=t.filter((a=>!Jo(a,r)));return{arrayValue:{values:t}}}class vd extends cg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Bb(n){return ei(n.integerValue||n.doubleValue)}function hA(n){return N2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this.field=e,this.transform=t}}function H7(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof gd&&a instanceof gd||r instanceof yd&&a instanceof yd?Ph(r.elements,a.elements,Jo):r instanceof vd&&a instanceof vd?Jo(r.Ae,a.Ae):r instanceof md&&a instanceof md})(n.transform,e.transform)}class G7{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _m(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hg{}function dA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fg(n.key,Os.none()):new Rd(n.key,n.data,Os.none());{const t=n.data,r=Qs.empty();let a=new Si(ts.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Yu(n.key,r,new ma(a.toArray()),Os.none())}}function $7(n,e,t){n instanceof Rd?(function(a,o,u){const c=a.value.clone(),f=zb(a.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Yu?(function(a,o,u){if(!_m(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=zb(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(pA(a)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function id(n,e,t,r){return n instanceof Rd?(function(o,u,c,f){if(!_m(o.precondition,u))return c;const d=o.value.clone(),y=Hb(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Yu?(function(o,u,c,f){if(!_m(o.precondition,u))return c;const d=Hb(o.fieldTransforms,f,u),y=u.data;return y.setAll(pA(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(o,u,c){return _m(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function W7(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=lA(r.transform,a||null);o!=null&&(t===null&&(t=Qs.empty()),t.set(r.field,o))}return t||null}function qb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ph(r,a,((o,u)=>H7(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Rd extends hg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yu extends hg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function zb(n,e,t){const r=new Map;Hn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,c=e.data.field(o.field);r.set(o.field,z7(u,c,t[a]))}return r}function Hb(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,q7(o,u,e))}return r}class fg extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y7 extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&$7(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=id(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=id(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sA();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(a.key)?null:c;const f=dA(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Qt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),En())}isEqual(e){return this.batchId===e.batchId&&Ph(this.mutations,e.mutations,((t,r)=>qb(t,r)))&&Ph(this.baseMutations,e.baseMutations,((t,r)=>qb(t,r)))}}class L2{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return V7})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new L2(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,Ln;function Z7(n){switch(n){case Ge.OK:return Ft(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function mA(n){if(n===void 0)return Vl("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case ci.OK:return Ge.OK;case ci.CANCELLED:return Ge.CANCELLED;case ci.UNKNOWN:return Ge.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Ge.INTERNAL;case ci.UNAVAILABLE:return Ge.UNAVAILABLE;case ci.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case ci.NOT_FOUND:return Ge.NOT_FOUND;case ci.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case ci.ABORTED:return Ge.ABORTED;case ci.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case ci.DATA_LOSS:return Ge.DATA_LOSS;default:return Ft(39323,{code:n})}}(Ln=ci||(ci={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new Du([4294967295,4294967295],0);function Gb(n){const e=J7().encode(n),t=new C3;return t.update(e),new Uint8Array(t.digest())}function $b(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Du([t,r],0),new Du([a,o],0)]}class k2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yf(`Invalid padding: ${t}`);if(r<0)throw new Yf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Du.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Du.fromNumber(r)));return a.compare(eL)===1&&(a=new Du([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Gb(e),[r,a]=$b(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new k2(o,a,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=Gb(e),[r,a]=$b(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Ld.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dg(Qt.min(),a,new Mr(xn),Ul(),En())}}class Ld{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ld(r,t,En(),En(),En())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class gA{constructor(e,t){this.targetId=e,this.Ce=t}}class yA{constructor(e,t,r=ns.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Wb{constructor(){this.ve=0,this.Fe=Yb(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=En(),t=En(),r=En();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ft(38017,{changeType:o})}})),new Ld(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Yb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ul(),this.Je=rm(),this.He=rm(),this.Ye=new Mr(xn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ft(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(W0(o))if(r===0){const u=new Rt(o.path);this.et(t,u,bs.newNoDocument(u,Qt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,c;try{u=Fu(r).toUint8Array()}catch(f){if(f instanceof F3)return kh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new k2(u,a,o)}catch(f){return kh(f instanceof Yf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&W0(c.target)){const f=new Rt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,bs.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=En();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new dg(e,t,this.Ye,this.je,r);return this.je=Ul(),this.Je=rm(),this.He=rm(),this.Ye=new Mr(xn),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Si(xn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Si(xn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||lt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rm(){return new Mr(Rt.comparator)}function Yb(){return new Mr(Rt.comparator)}const nL={asc:"ASCENDING",desc:"DESCENDING"},rL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iL={and:"AND",or:"OR"};class sL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function K0(n,e){return n.useProto3Json||sg(e)?e:{value:e}}function qm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aL(n,e){return qm(n,e.toTimestamp())}function Qo(n){return Hn(!!n,49232),Qt.fromTimestamp((function(t){const r=Uu(t);return new _r(r.seconds,r.nanos)})(n))}function P2(n,e){return Q0(n,e).canonicalString()}function Q0(n,e){const t=(function(a){return new dr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function _A(n){const e=dr.fromString(n);return Hn(xA(e),10190,{key:e.toString()}),e}function X0(n,e){return P2(n.databaseId,e.path)}function f0(n,e){const t=_A(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(wA(t))}function bA(n,e){return P2(n.databaseId,e)}function oL(n){const e=_A(n);return e.length===4?dr.emptyPath():wA(e)}function Z0(n){return new dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wA(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Kb(n,e,t){return{name:X0(n,e),fields:t.value.mapValue.fields}}function lL(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ft(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Hn(y===void 0||typeof y=="string",58123),ns.fromBase64String(y||"")):(Hn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ns.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const y=d.code===void 0?Ge.UNKNOWN:mA(d.code);return new it(y,d.message||"")})(u);t=new yA(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=f0(n,r.document.name),o=Qo(r.document.updateTime),u=r.document.createTime?Qo(r.document.createTime):Qt.min(),c=new Qs({mapValue:{fields:r.document.fields}}),f=bs.newFoundDocument(a,o,u,c),d=r.targetIds||[],y=r.removedTargetIds||[];t=new bm(d,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=f0(n,r.document),o=r.readTime?Qo(r.readTime):Qt.min(),u=bs.newNoDocument(a,o),c=r.removedTargetIds||[];t=new bm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=f0(n,r.document),o=r.removedTargetIds||[];t=new bm([],o,a,null)}else{if(!("filter"in e))return Ft(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new X7(a,o),c=r.targetId;t=new gA(c,u)}}return t}function uL(n,e){let t;if(e instanceof Rd)t={update:Kb(n,e.key,e.value)};else if(e instanceof fg)t={delete:X0(n,e.key)};else if(e instanceof Yu)t={update:Kb(n,e.key,e.data),updateMask:vL(e.fieldMask)};else{if(!(e instanceof Y7))return Ft(16599,{Vt:e.type});t={verify:X0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof md)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof vd)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Ft(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:aL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ft(27497)})(n,e.precondition)),t}function cL(n,e){return n&&n.length>0?(Hn(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?Qo(a.updateTime):Qo(o);return u.isEqual(Qt.min())&&(u=Qo(o)),new G7(u,a.transformResults||[])})(t,e)))):[]}function hL(n,e){return{documents:[bA(n,e.path)]}}function fL(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bA(n,a);const o=(function(d){if(d.length!==0)return SA(wo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(x){return{field:vh(x.field),direction:mL(x.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=K0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:a}}function dL(n){let e=oL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Hn(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(w){const x=AA(w);return x instanceof wo&&Q3(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((x=>(function(M){return new pd(_h(M.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(x)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let x;return x=typeof w=="object"?w.value:w,sg(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(w){const x=!!w.before,b=w.values||[];return new Fm(b,x)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const x=!w.before,b=w.values||[];return new Fm(b,x)})(t.endAt)),P7(e,a,u,o,c,"F",f,d)}function pL(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_h(t.unaryFilter.field);return hi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=_h(t.unaryFilter.field);return hi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_h(t.unaryFilter.field);return hi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_h(t.unaryFilter.field);return hi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}})(n):n.fieldFilter!==void 0?(function(t){return hi.create(_h(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return wo.create(t.compositeFilter.filters.map((r=>AA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}})(t.compositeFilter.op))})(n):Ft(30097,{filter:n})}function mL(n){return nL[n]}function gL(n){return rL[n]}function yL(n){return iL[n]}function vh(n){return{fieldPath:n.canonicalString()}}function _h(n){return ts.fromServerFormat(n.fieldPath)}function SA(n){return n instanceof hi?(function(t){if(t.op==="=="){if(Mb(t.value))return{unaryFilter:{field:vh(t.field),op:"IS_NAN"}};if(Ob(t.value))return{unaryFilter:{field:vh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Mb(t.value))return{unaryFilter:{field:vh(t.field),op:"IS_NOT_NAN"}};if(Ob(t.value))return{unaryFilter:{field:vh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(t.field),op:gL(t.op),value:t.value}}})(n):n instanceof wo?(function(t){const r=t.getFilters().map((a=>SA(a)));return r.length===1?r[0]:{compositeFilter:{op:yL(t.op),filters:r}}})(n):Ft(54877,{filter:n})}function vL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,r,a,o=Qt.min(),u=Qt.min(),c=ns.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.yt=e}}function bL(n){const e=dL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.Cn=new AL}addToCollectionParentIndex(e,t){return this.Cn.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(Vu.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(Vu.min())}updateCollectionGroup(e,t,r){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class AL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Si(dr.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Si(dr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class Ks{static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(EA,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mh(0)}static cr(){return new Mh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="LruGarbageCollector",SL=1048576;function Zb([n,e],[t,r]){const a=xn(n,t);return a===0?xn(e,r):a}class xL{constructor(e){this.Ir=e,this.buffer=new Si(Zb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(Xb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$h(t)?lt(Xb,"Ignoring IndexedDB error during garbage collection: ",t):await Gh(t)}await this.Vr(3e5)}))}}class TL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Qe.resolve(ig.ce);const r=new xL(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(Qb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,o,u,c,f,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),gh()<=Sn.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:w}))))}}function NL(n,e){return new TL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.changes=new Dc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Qe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&id(r.mutation,a,ma.empty(),_r.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,En()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=En()){const a=bc();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let u=Wf();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=bc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,En())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,a){let o=Ul();const u=rd(),c=(function(){return rd()})();return t.forEach(((f,d)=>{const y=r.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof Yu)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),id(y.mutation,d,y.mutation.getFieldMask(),_r.now())):u.set(d.key,ma.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,y)=>u.set(d,y))),t.forEach(((d,y)=>c.set(d,new IL(y,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=rd();let a=new Mr(((u,c)=>u-c)),o=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let y=r.get(f)||ma.empty();y=c.applyToLocalView(d,y),r.set(f,y);const w=(a.get(c.batchId)||En()).add(f);a=a.insert(c.batchId,w)}))})).next((()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,y=f.value,w=sA();y.forEach((x=>{if(!o.has(x)){const b=dA(t.get(x),r.get(x));b!==null&&w.set(x,b),o=o.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Qe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return Rt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):Qe.resolve(bc());let c=cd,f=o;return u.next((d=>Qe.forEach(d,((y,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(y)?Qe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{f=f.insert(y,x)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,En()))).next((y=>({batchId:c,changes:iA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next((r=>{let a=Wf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Wf();return this.indexManager.getCollectionParents(e,o).next((c=>Qe.forEach(c,(f=>{const d=(function(w,x){return new Wh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((y=>{y.forEach(((w,x)=>{u=u.insert(w,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((u=>{o.forEach(((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,bs.newInvalidDocument(y)))}));let c=Wf();return u.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&id(y.mutation,d,ma.empty(),_r.now()),ug(t,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Qe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Qo(a.createTime)}})(t)),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:bL(a.bundledQuery),readTime:Qo(a.readTime)}})(t)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.overlays=new Mr(Rt.comparator),this.qr=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bc();return Qe.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.St(e,t,o)})),Qe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Qe.resolve()}getOverlaysForCollection(e,t,r){const a=bc(),o=t.length+1,u=new Rt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Qe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Mr(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=bc(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=bc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>c.set(d,y))),!(c.size()>=a)););return Qe.resolve(c)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Q7(t,r));let o=this.qr.get(t);o===void 0&&(o=En(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.Qr=new Si(Mi.$r),this.Ur=new Si(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Mi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Rt(new dr([])),r=new Mi(t,e),a=new Mi(t,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Rt(new dr([])),r=new Mi(t,e),a=new Mi(t,e+1);let o=En();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Mi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Rt.comparator(e.key,t.key)||xn(e.Yr,t.Yr)}static Kr(e,t){return xn(e.Yr,t.Yr)||Rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Si(Mi.$r)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K7(o,t,r,a);this.mutationQueue.push(u);for(const c of a)this.Zr=this.Zr.add(new Mi(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Qe.resolve(u)}lookupMutationBatch(e,t){return Qe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),o=a<0?0:a;return Qe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?E2:this.tr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),a=new Mi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const c=this.Xr(u.Yr);o.push(c)})),Qe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Si(xn);return t.forEach((a=>{const o=new Mi(a,0),u=new Mi(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),Qe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Rt.isDocumentKey(o)||(o=o.child(""));const u=new Mi(new Rt(o),0);let c=new Si(xn);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Yr)),!0)}),u),Qe.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Hn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Qe.forEach(t.mutations,(a=>{const o=new Mi(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Mi(t,0),a=this.Zr.firstAfterOrEqual(r);return Qe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.ri=e,this.docs=(function(){return new Mr(Rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Qe.resolve(r?r.document.mutableCopy():bs.newInvalidDocument(t))}getEntries(e,t){let r=Ul();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():bs.newInvalidDocument(a))})),Qe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ul();const u=t.path,c=new Rt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||h7(c7(y),r)<=0||(a.has(y.key)||ug(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Qe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ft(9500)}ii(e,t){return Qe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new ML(this)}getSize(e){return Qe.resolve(this.size)}}class ML extends CL{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Qe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.persistence=e,this.si=new Dc((t=>C2(t)),I2),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.oi=0,this._i=new D2,this.targetCount=0,this.ai=Mh.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Qe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.Pr(t),Qe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),Qe.waitFor(o).next((()=>a))}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Qe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Qe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),Qe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Qe.resolve(r)}containsKey(e,t){return Qe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.ui={},this.overlays={},this.ci=new ig(0),this.li=!1,this.li=!0,this.hi=new PL,this.referenceDelegate=e(this),this.Pi=new jL(this),this.indexManager=new wL,this.remoteDocumentCache=(function(a){return new OL(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _L(t),this.Ii=new LL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new DL(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const a=new VL(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return Qe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class VL extends d7{constructor(e){super(),this.currentSequenceNumber=e}}class O2{constructor(e){this.persistence=e,this.Ri=new D2,this.Vi=null}static mi(e){return new O2(e)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Qe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.fi,(r=>{const a=Rt.fromPath(r);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Qt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Qe.or([()=>Qe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class zm{constructor(e,t){this.persistence=e,this.pi=new Dc((r=>g7(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=NL(this,t)}static mi(e,t){return new zm(e,t)}Ei(){}di(e){return Qe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Qe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?Qe.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((c=>{c||(r++,o.removeEntry(u,Qt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Qe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Qe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Qe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Qe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ym(e.data.value)),t}br(e,t,r){return Qe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Qe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=En(),a=En();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new M2(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yC()?8:p7(Ss())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new UL;return this.Ss(e,t,u).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,u,c.size)}))})).next((()=>o.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(gh()<=Sn.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",yh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Qe.resolve()):(gh()<=Sn.DEBUG&&lt("QueryEngine","Query:",yh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(gh()<=Sn.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",yh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ko(t))):Qe.resolve())}ys(e,t){if(Fb(t))return Qe.resolve(null);let r=Ko(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Bm(t,null,"F"),r=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=En(...o);return this.ps.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,c);return this.Cs(t,d,u,f.readTime)?this.ys(e,Bm(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,a){return Fb(t)||a.isEqual(Qt.min())?Qe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,a)?Qe.resolve(null):(gh()<=Sn.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yh(t)),this.vs(e,u,t,u7(a,cd)).next((c=>c)))}))}Ds(e,t){let r=new Si(nA(e));return t.forEach(((a,o)=>{ug(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,r){return gh()<=Sn.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",yh(t)),this.ps.getDocumentsMatchingQuery(e,t,Vu.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="LocalStore",BL=3e8;class qL{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Mr(xn),this.xs=new Dc((o=>C2(o)),I2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function zL(n,e,t,r){return new qL(n,e,t,r)}async function NA(n,e){const t=Zt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=En();for(const d of a){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function HL(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,y){const w=d.batch,x=w.keys();let b=Qe.resolve();return x.forEach((M=>{b=b.next((()=>y.getEntry(f,M))).next((U=>{const B=d.docVersions.get(M);Hn(B!==null,48541),U.version.compareTo(B)<0&&(w.applyToRemoteDocument(U,d),U.isValidDocument()&&(U.setReadTime(d.commitVersion),y.addEntry(U)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=En();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function CA(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function GL(n,e){const t=Zt(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const c=[];e.targetChanges.forEach(((y,w)=>{const x=a.get(w);if(!x)return;c.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,w))));let b=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(ns.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),a=a.insert(w,b),(function(U,B,F){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=BL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(x,b,y)&&c.push(t.Pi.updateTargetData(o,b))}));let f=Ul(),d=En();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),c.push($L(o,u,e.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!r.isEqual(Qt.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((w=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(y)}return Qe.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=a,o)))}function $L(n,e,t){let r=En(),a=En();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Ul();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(Qt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):lt(j2,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function WL(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=E2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function YL(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((o=>o?(a=o,Qe.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new Ru(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function J0(n,e,t){const r=Zt(n),a=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!$h(u))throw u;lt(j2,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Jb(n,e,t){const r=Zt(n);let a=Qt.min(),o=En();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,y){const w=Zt(f),x=w.xs.get(y);return x!==void 0?Qe.resolve(w.Ms.get(x)):w.Pi.getTargetData(d,y)})(r,u,Ko(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:Qt.min(),t?o:En()))).next((c=>(KL(r,O7(e),c),{documents:c,Qs:o})))))}function KL(n,e,t){let r=n.Os.get(e)||Qt.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class ew{constructor(){this.activeTargetIds=B7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QL{constructor(){this.Mo=new ew,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ew,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="ConnectivityMonitor";class nw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(tw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function e2(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="RestConnection",ZL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Vm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,o){const u=e2(),c=this.zo(e,t.toUriEncodedString());lt(d0,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:d}=new URL(c),y=Bh(d);return this.Jo(e,c,f,r,y).then((w=>(lt(d0,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw kh(d0,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",r),w}))}Ho(e,t,r,a,o,u){return this.Go(e,t,r,a,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const r=ZL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="WebChannelConnection";class tk extends JL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,o){const u=e2();return new Promise(((c,f)=>{const d=new I3;d.setWithCredentials(!0),d.listenOnce(R3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case gm.NO_ERROR:const w=d.getResponseJson();lt(vs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case gm.TIMEOUT:lt(vs,`RPC '${e}' ${u} timed out`),f(new it(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const x=d.getStatus();if(lt(vs,`RPC '${e}' ${u} failed with status:`,x,"response text:",d.getResponseText()),x>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b?.error;if(M&&M.status&&M.message){const U=(function(F){const ee=F.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(ee)>=0?ee:Ge.UNKNOWN})(M.status);f(new it(U,M.message))}else f(new it(Ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new it(Ge.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{lt(vs,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);lt(vs,`RPC '${e}' ${u} sending request:`,a),d.send(t,"POST",y,r,15)}))}T_(e,t,r){const a=e2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=P3(),c=k3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");lt(vs,`Creating RPC '${e}' stream ${a}: ${y}`,f);const w=u.createWebChannel(y,f);this.I_(w);let x=!1,b=!1;const M=new ek({Yo:B=>{b?lt(vs,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(x||(lt(vs,`Opening RPC '${e}' stream ${a} transport.`),w.open(),x=!0),lt(vs,`RPC '${e}' stream ${a} sending:`,B),w.send(B))},Zo:()=>w.close()}),U=(B,F,ee)=>{B.listen(F,(te=>{try{ee(te)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return U(w,$f.EventType.OPEN,(()=>{b||(lt(vs,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),U(w,$f.EventType.CLOSE,(()=>{b||(b=!0,lt(vs,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(w))})),U(w,$f.EventType.ERROR,(B=>{b||(b=!0,kh(vs,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),M.a_(new it(Ge.UNAVAILABLE,"The operation could not be completed")))})),U(w,$f.EventType.MESSAGE,(B=>{if(!b){const F=B.data[0];Hn(!!F,16349);const ee=F,te=ee?.error||ee[0]?.error;if(te){lt(vs,`RPC '${e}' stream ${a} received error:`,te);const Q=te.status;let oe=(function(O){const P=ci[O];if(P!==void 0)return mA(P)})(Q),Se=te.message;oe===void 0&&(oe=Ge.INTERNAL,Se="Unknown error status: "+Q+" with message "+te.message),b=!0,M.a_(new it(oe,Se)),w.close()}else lt(vs,`RPC '${e}' stream ${a} received:`,F),M.u_(F)}})),U(c,L3.STAT_EVENT,(B=>{B.stat===q0.PROXY?lt(vs,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===q0.NOPROXY&&lt(vs,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function p0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(n){return new sL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&lt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="PersistentStream";class RA{constructor(e,t,r,a,o,u,c,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(Vl(t.toString()),Vl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new it(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(rw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(lt(rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nk extends RA{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=lL(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Qt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Qt.min():u.readTime?Qo(u.readTime):Qt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Z0(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=W0(f)?{documents:hL(o,f)}:{query:fL(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=vA(o,u.resumeToken);const d=K0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Qt.min())>0){c.readTime=qm(o,u.snapshotVersion.toTimestamp());const d=K0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=pL(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Z0(this.serializer),t.removeTarget=e,this.q_(t)}}class rk extends RA{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=cL(e.writeResults,e.commitTime),r=Qo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Z0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>uL(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{}class sk extends ik{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Q0(t,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Ge.UNKNOWN,o.toString())}))}Ho(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(e,Q0(t,r),a,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Ge.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ak{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vl(t),this.aa=!1):lt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="RemoteStore";class ok{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Oc(this)&&(lt(Rc,"Restarting streams for network reachability change."),await(async function(f){const d=Zt(f);d.Ea.add(4),await kd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await mg(d)})(this))}))})),this.Ra=new ak(r,a)}}async function mg(n){if(Oc(n))for(const e of n.da)await e(!0)}async function kd(n){for(const e of n.da)await e(!1)}function LA(n,e){const t=Zt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),B2(t)?F2(t):Yh(t).O_()&&U2(t,e))}function V2(n,e){const t=Zt(n),r=Yh(t);t.Ia.delete(e),r.O_()&&kA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Oc(t)&&t.Ra.set("Unknown"))}function U2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yh(n).Y_(e)}function kA(n,e){n.Va.Ue(e),Yh(n).Z_(e)}function F2(n){n.Va=new tL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Yh(n).start(),n.Ra.ua()}function B2(n){return Oc(n)&&!Yh(n).x_()&&n.Ia.size>0}function Oc(n){return Zt(n).Ea.size===0}function PA(n){n.Va=void 0}async function lk(n){n.Ra.set("Online")}async function uk(n){n.Ia.forEach(((e,t)=>{U2(n,e)}))}async function ck(n,e){PA(n),B2(n)?(n.Ra.ha(e),F2(n)):n.Ra.set("Unknown")}async function hk(n,e,t){if(n.Ra.set("Online"),e instanceof yA&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.Va.removeTarget(c))})(n,e)}catch(r){lt(Rc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hm(n,r)}else if(e instanceof bm?n.Va.Ze(e):e instanceof gA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qt.min()))try{const r=await CA(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(ns.EMPTY_BYTE_STRING,y.snapshotVersion)),kA(o,f);const w=new Ru(y.target,f,d,y.sequenceNumber);U2(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){lt(Rc,"Failed to raise snapshot:",r),await Hm(n,r)}}async function Hm(n,e,t){if(!$h(e))throw e;n.Ea.add(1),await kd(n),n.Ra.set("Offline"),t||(t=()=>CA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{lt(Rc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await mg(n)}))}function DA(n,e){return e().catch((t=>Hm(n,t,e)))}async function gg(n){const e=Zt(n),t=qu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E2;for(;fk(e);)try{const a=await WL(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,dk(e,a)}catch(a){await Hm(e,a)}OA(e)&&MA(e)}function fk(n){return Oc(n)&&n.Ta.length<10}function dk(n,e){n.Ta.push(e);const t=qu(n);t.O_()&&t.X_&&t.ea(e.mutations)}function OA(n){return Oc(n)&&!qu(n).x_()&&n.Ta.length>0}function MA(n){qu(n).start()}async function pk(n){qu(n).ra()}async function mk(n){const e=qu(n);for(const t of n.Ta)e.ea(t.mutations)}async function gk(n,e,t){const r=n.Ta.shift(),a=L2.from(r,e,t);await DA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await gg(n)}async function yk(n,e){e&&qu(n).X_&&await(async function(r,a){if((function(u){return Z7(u)&&u!==Ge.ABORTED})(a.code)){const o=r.Ta.shift();qu(r).B_(),await DA(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await gg(r)}})(n,e),OA(n)&&MA(n)}async function iw(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),lt(Rc,"RemoteStore received new credentials");const r=Oc(t);t.Ea.add(3),await kd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await mg(t)}async function vk(n,e){const t=Zt(n);e?(t.Ea.delete(2),await mg(t)):e||(t.Ea.add(2),await kd(t),t.Ra.set("Unknown"))}function Yh(n){return n.ma||(n.ma=(function(t,r,a){const o=Zt(t);return o.sa(),new nk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:lk.bind(null,n),t_:uk.bind(null,n),r_:ck.bind(null,n),H_:hk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),B2(n)?F2(n):n.Ra.set("Unknown")):(await n.ma.stop(),PA(n))}))),n.ma}function qu(n){return n.fa||(n.fa=(function(t,r,a){const o=Zt(t);return o.sa(),new rk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:pk.bind(null,n),r_:yk.bind(null,n),ta:mk.bind(null,n),na:gk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await gg(n)):(await n.fa.stop(),n.Ta.length>0&&(lt(Rc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,c=new q2(e,t,u,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z2(n,e){if(Vl("AsyncQueue",`${e}: ${n}`),$h(n))return new it(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{static emptySet(e){return new Rh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=Wf(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Rh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.ga=new Mr(Rt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ft(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class jh{constructor(e,t,r,a,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new jh(e,t,Rh.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bk{constructor(){this.queries=aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Zt(t),o=a.queries;a.queries=aw(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new it(Ge.ABORTED,"Firestore shutting down"))}}function aw(){return new Dc((n=>tA(n)),lg)}async function H2(n,e){const t=Zt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new _k,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=z2(u,`Initialization of query '${yh(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&$2(t)}async function G2(n,e){const t=Zt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wk(n,e){const t=Zt(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const c of u.Sa)c.Fa(a)&&(r=!0);u.wa=a}}r&&$2(t)}function Ak(n,e,t){const r=Zt(n),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);r.queries.delete(e)}function $2(n){n.Ca.forEach((e=>{e.next()}))}var t2,ow;(ow=t2||(t2={})).Ma="default",ow.Cache="cache";class W2{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new jh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class Sk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=En(),this.mutatedKeys=En(),this.eu=nA(e),this.tu=new Rh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new sw,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,w)=>{const x=a.get(y),b=ug(this.query,w)?w:null,M=!!x&&this.mutatedKeys.has(x.key),U=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let B=!1;x&&b?x.data.isEqual(b.data)?M!==U&&(r.track({type:3,doc:b}),B=!0):this.su(x,b)||(r.track({type:2,doc:b}),B=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!x&&b?(r.track({type:0,doc:b}),B=!0):x&&!b&&(r.track({type:1,doc:x}),B=!0,(f||d)&&(c=!0)),B&&(b?(u=u.add(b),o=U?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,w)=>(function(b,M){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:B})}};return U(b)-U(M)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(r),a=a??!1;const c=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new jh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=En(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new VA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new jA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=En();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y2="SyncEngine";class xk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ek{constructor(e){this.key=e,this.hu=!1}}class Tk{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Dc((c=>tA(c)),lg),this.Iu=new Map,this.Eu=new Set,this.du=new Mr(Rt.comparator),this.Au=new Map,this.Ru=new D2,this.Vu={},this.mu=new Map,this.fu=Mh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nk(n,e,t=!0){const r=HA(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await UA(r,e,t,!0),a}async function Ck(n,e){const t=HA(n);await UA(t,e,!0,!1)}async function UA(n,e,t,r){const a=await YL(n.localStore,Ko(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await Ik(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&LA(n.remoteStore,a),c}async function Ik(n,e,t,r,a){n.pu=(w,x,b)=>(async function(U,B,F,ee){let te=B.view.ru(F);te.Cs&&(te=await Jb(U.localStore,B.query,!1).then((({documents:$})=>B.view.ru($,te))));const Q=ee&&ee.targetChanges.get(B.targetId),oe=ee&&ee.targetMismatches.get(B.targetId)!=null,Se=B.view.applyChanges(te,U.isPrimaryClient,Q,oe);return uw(U,B.targetId,Se.au),Se.snapshot})(n,w,x,b);const o=await Jb(n.localStore,e,!0),u=new Sk(e,o.Qs),c=u.ru(o.documents),f=Ld.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);uw(n,t,d.au);const y=new xk(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function Rk(n,e,t){const r=Zt(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!lg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await J0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&V2(r.remoteStore,a.targetId),n2(r,a.targetId)})).catch(Gh)):(n2(r,a.targetId),await J0(r.localStore,a.targetId,!0))}async function Lk(n,e){const t=Zt(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),V2(t.remoteStore,r.targetId))}async function kk(n,e,t){const r=Uk(n);try{const a=await(function(u,c){const f=Zt(u),d=_r.now(),y=c.reduce(((b,M)=>b.add(M.key)),En());let w,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let M=Ul(),U=En();return f.Ns.getEntries(b,y).next((B=>{M=B,M.forEach(((F,ee)=>{ee.isValidDocument()||(U=U.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,M))).next((B=>{w=B;const F=[];for(const ee of c){const te=W7(ee,w.get(ee.key).overlayedDocument);te!=null&&F.push(new Yu(ee.key,te,W3(te.value.mapValue),Os.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,F,c)})).next((B=>{x=B;const F=B.applyToLocalDocumentSet(w,U);return f.documentOverlayCache.saveOverlays(b,B.batchId,F)}))})).then((()=>({batchId:x.batchId,changes:iA(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Mr(xn)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(r,a.batchId,t),await Pd(r,a.changes),await gg(r.remoteStore)}catch(a){const o=z2(a,"Failed to persist write");t.reject(o)}}async function FA(n,e){const t=Zt(n);try{const r=await GL(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(Hn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Hn(u.hu,14607):a.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await Pd(t,r,e)}catch(r){await Gh(r)}}function lw(n,e,t){const r=Zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(u,c){const f=Zt(u);f.onlineState=c;let d=!1;f.queries.forEach(((y,w)=>{for(const x of w.Sa)x.va(c)&&(d=!0)})),d&&$2(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pk(n,e,t){const r=Zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Mr(Rt.comparator);u=u.insert(o,bs.newNoDocument(o,Qt.min()));const c=En().add(o),f=new dg(Qt.min(),new Map,new Mr(xn),u,c);await FA(r,f),r.du=r.du.remove(o),r.Au.delete(e),K2(r)}else await J0(r.localStore,e,!1).then((()=>n2(r,e,t))).catch(Gh)}async function Dk(n,e){const t=Zt(n),r=e.batch.batchId;try{const a=await HL(t.localStore,e);qA(t,r,null),BA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Pd(t,a)}catch(a){await Gh(a)}}async function Ok(n,e,t){const r=Zt(n);try{const a=await(function(u,c){const f=Zt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>(Hn(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(r.localStore,e);qA(r,e,t),BA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Pd(r,a)}catch(a){await Gh(a)}}function BA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function qA(n,e,t){const r=Zt(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function n2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||zA(n,r)}))}function zA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(V2(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),K2(n))}function uw(n,e,t){for(const r of t)r instanceof jA?(n.Ru.addReference(r.key,e),Mk(n,r)):r instanceof VA?(lt(Y2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||zA(n,r.key)):Ft(19791,{wu:r})}function Mk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(lt(Y2,"New document in limbo: "+t),n.Eu.add(r),K2(n))}function K2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Rt(dr.fromString(e)),r=n.fu.next();n.Au.set(r,new Ek(t)),n.du=n.du.insert(t,r),LA(n.remoteStore,new Ru(Ko(og(t.path)),r,"TargetPurposeLimboResolution",ig.ce))}}async function Pd(n,e,t){const r=Zt(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const y=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){a.push(d);const y=M2.As(f.targetId,d);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(f,d){const y=Zt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Qe.forEach(d,(x=>Qe.forEach(x.Es,(b=>y.persistence.referenceDelegate.addReference(w,x.targetId,b))).next((()=>Qe.forEach(x.ds,(b=>y.persistence.referenceDelegate.removeReference(w,x.targetId,b)))))))))}catch(w){if(!$h(w))throw w;lt(j2,"Failed to update sequence numbers: "+w)}for(const w of d){const x=w.targetId;if(!w.fromCache){const b=y.Ms.get(x),M=b.snapshotVersion,U=b.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(x,U)}}})(r.localStore,o))}async function jk(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){lt(Y2,"User change. New user:",e.toKey());const r=await NA(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new it(Ge.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pd(t,r.Ls)}}function Vk(n,e){const t=Zt(n),r=t.Au.get(e);if(r&&r.hu)return En().add(r.key);{let a=En();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const c=t.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function HA(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pk.bind(null,e),e.Pu.H_=wk.bind(null,e.eventManager),e.Pu.yu=Ak.bind(null,e.eventManager),e}function Uk(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ok.bind(null,e),e}class Gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zL(this.persistence,new FL,e.initialUser,this.serializer)}Cu(e){return new TA(O2.mi,this.serializer)}Du(e){return new QL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gm.provider={build:()=>new Gm};class Fk extends Gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hn(this.persistence.referenceDelegate instanceof zm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EL(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new TA((r=>zm.mi(r,t)),this.serializer)}}class r2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jk.bind(null,this.syncEngine),await vk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bk})()}createDatastore(e){const t=pg(e.databaseInfo.databaseId),r=(function(o){return new tk(o)})(e.databaseInfo);return(function(o,u,c,f){return new sk(o,u,c,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,u,c){return new ok(r,a,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>lw(this.syncEngine,t,0)),(function(){return nw.v()?new nw:new XL})())}createSyncEngine(e,t){return(function(a,o,u,c,f,d,y){const w=new Tk(a,o,u,c,f,d);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Zt(t);lt(Rc,"RemoteStore shutting down."),r.Ea.add(5),await kd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}r2.provider={build:()=>new r2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="FirestoreClient";class Bk{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=_s.UNAUTHENTICATED,this.clientId=x2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{lt(zu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(lt(zu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=z2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function m0(n,e){n.asyncQueue.verifyOperationInProgress(),lt(zu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await NA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function cw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qk(n);lt(zu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>iw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>iw(e.remoteStore,a))),n._onlineComponents=e}async function qk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt(zu,"Using user provided OfflineComponentProvider");try{await m0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ge.FAILED_PRECONDITION||a.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;kh("Error using user provided cache. Falling back to memory cache: "+t),await m0(n,new Gm)}}else lt(zu,"Using default OfflineComponentProvider"),await m0(n,new Fk(void 0));return n._offlineComponents}async function GA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt(zu,"Using user provided OnlineComponentProvider"),await cw(n,n._uninitializedComponentsProvider._online)):(lt(zu,"Using default OnlineComponentProvider"),await cw(n,new r2))),n._onlineComponents}function zk(n){return GA(n).then((e=>e.syncEngine))}async function $m(n){const e=await GA(n),t=e.eventManager;return t.onListen=Nk.bind(null,e.syncEngine),t.onUnlisten=Rk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ck.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lk.bind(null,e.syncEngine),t}function Hk(n,e,t={}){const r=new Pl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new Q2({next:x=>{y.Nu(),u.enqueueAndForget((()=>G2(o,w)));const b=x.docs.has(c);!b&&x.fromCache?d.reject(new it(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&f&&f.source==="server"?d.reject(new it(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),w=new W2(og(c.path),y,{includeMetadataChanges:!0,qa:!0});return H2(o,w)})(await $m(n),n.asyncQueue,e,t,r))),r.promise}function Gk(n,e,t={}){const r=new Pl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new Q2({next:x=>{y.Nu(),u.enqueueAndForget((()=>G2(o,w))),x.fromCache&&f.source==="server"?d.reject(new it(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(x)},error:x=>d.reject(x)}),w=new W2(c,y,{includeMetadataChanges:!0,qa:!0});return H2(o,w)})(await $m(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firestore.googleapis.com",fw=!0;class dw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WA,this.ssl=fw}else this.host=e.host,this.ssl=e.ssl??fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SL)throw new it(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZR;switch(r.type){case"firstParty":return new n7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=hw.get(t);r&&(lt("ComponentProvider","Removing Datastore"),hw.delete(t),r.terminate())})(this),Promise.resolve()}}function $k(n,e,t,r={}){n=Ds(n,yg);const a=Bh(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;a&&(U4(`https://${c}`),F4("Firestore",!0)),o.host!==WA&&o.host!==c&&kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:a,emulatorOptions:r};if(!Tc(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=_s.MOCK_USER;else{d=lC(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new it(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _s(w)}n._authCredentials=new JR(new O3(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bl(this.firestore,e,this._query)}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}toJSON(){return{type:$r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Id(t,$r._jsonSchema))return new $r(e,r||null,new Rt(dr.fromString(t.referencePath)))}}$r._jsonSchemaVersion="firestore/documentReference/1.0",$r._jsonSchema={type:fi("string",$r._jsonSchemaVersion),referencePath:fi("string")};class Ou extends Bl{constructor(e,t,r){super(e,t,og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new Rt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function Ai(n,e,...t){if(n=ii(n),M3("collection","path",e),n instanceof yg){const r=dr.fromString(e,...t);return Tb(r),new Ou(n,null,r)}{if(!(n instanceof $r||n instanceof Ou))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return Tb(r),new Ou(n.firestore,null,r)}}function As(n,e,...t){if(n=ii(n),arguments.length===1&&(e=x2.newId()),M3("doc","path",e),n instanceof yg){const r=dr.fromString(e,...t);return Eb(r),new $r(n,null,new Rt(r))}{if(!(n instanceof $r||n instanceof Ou))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return Eb(r),new $r(n.firestore,n instanceof Ou?n.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="AsyncQueue";class mw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IA(this,"async_queue_retry"),this._c=()=>{const r=p0();r&&lt(pw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=p0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=p0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Pl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$h(e))throw e;lt(pw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vl("INTERNAL UNHANDLED ERROR: ",gw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=q2.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ft(47125,{Pc:gw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class el extends yg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new mw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function Wk(n,e){const t=typeof n=="object"?n:H4(),r=typeof n=="string"?n:Vm,a=p2(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=aC("firestore");o&&$k(a,...o)}return a}function Dd(n){if(n._terminated)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Yk(n),n._firestoreClient}function Yk(n){const e=n._freezeSettings(),t=(function(a,o,u,c){return new _7(a,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,$A(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Bk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(ns.fromBase64String(e))}catch(t){throw new it(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ga._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Id(e,Ga._jsonSchema))return Ga.fromBase64String(e.bytes)}}Ga._jsonSchemaVersion="firestore/bytes/1.0",Ga._jsonSchema={type:fi("string",Ga._jsonSchemaVersion),bytes:fi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xo._jsonSchemaVersion}}static fromJSON(e){if(Id(e,Xo._jsonSchema))return new Xo(e.latitude,e.longitude)}}Xo._jsonSchemaVersion="firestore/geoPoint/1.0",Xo._jsonSchema={type:fi("string",Xo._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Id(e,Zo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Zo(e.vectorValues);throw new it(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zo._jsonSchemaVersion="firestore/vectorValue/1.0",Zo._jsonSchema={type:fi("string",Zo._jsonSchemaVersion),vectorValues:fi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^__.*__$/;class Qk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rd(e,this.data,t,this.fieldTransforms)}}class YA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:n})}}class X2{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new X2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KA(this.Ac)&&Kk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Xk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pg(e)}Cc(e,t,r,a=!1){return new X2({Ac:e,methodName:t,Dc:r,path:ts.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(n){const e=n._freezeSettings(),t=pg(n._databaseId);return new Xk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z2(n,e,t,r,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);ty("Data must be an object, but it was:",u,r);const c=ZA(r,u);let f,d;if(o.merge)f=new ma(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const x=i2(e,w,t);if(!u.contains(x))throw new it(Ge.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);eS(y,x)||y.push(x)}f=new ma(y),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new Qk(new Qs(c),f,d)}class vg extends Md{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vg}}class J2 extends Md{_toFieldTransform(e){return new fA(e.path,new md)}isEqual(e){return e instanceof J2}}class ey extends Md{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new vd(e.serializer,oA(e.serializer,this.Fc));return new fA(e.path,t)}isEqual(e){return e instanceof ey&&this.Fc===e.Fc}}function QA(n,e,t,r){const a=n.Cc(1,e,t);ty("Data must be an object, but it was:",a,r);const o=[],u=Qs.empty();Wu(r,((f,d)=>{const y=ny(e,f,t);d=ii(d);const w=a.yc(y);if(d instanceof vg)o.push(y);else{const x=Vd(d,w);x!=null&&(o.push(y),u.set(y,x))}}));const c=new ma(o);return new YA(u,c,a.fieldTransforms)}function XA(n,e,t,r,a,o){const u=n.Cc(1,e,t),c=[i2(e,r,t)],f=[a];if(o.length%2!=0)throw new it(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(i2(e,o[x])),f.push(o[x+1]);const d=[],y=Qs.empty();for(let x=c.length-1;x>=0;--x)if(!eS(d,c[x])){const b=c[x];let M=f[x];M=ii(M);const U=u.yc(b);if(M instanceof vg)d.push(b);else{const B=Vd(M,U);B!=null&&(d.push(b),y.set(b,B))}}const w=new ma(d);return new YA(y,w,u.fieldTransforms)}function Zk(n,e,t,r=!1){return Vd(t,n.Cc(r?4:3,e))}function Vd(n,e){if(JA(n=ii(n)))return ty("Unsupported field value:",e,n),ZA(n,e);if(n instanceof Md)return(function(r,a){if(!KA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const c of r){let f=Vd(c,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oA(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_r.fromDate(r);return{timestampValue:qm(a.serializer,o)}}if(r instanceof _r){const o=new _r(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qm(a.serializer,o)}}if(r instanceof Xo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ga)return{bytesValue:vA(a.serializer,r._byteString)};if(r instanceof $r){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:P2(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zo)return(function(u,c){return{mapValue:{fields:{[G3]:{stringValue:$3},[Um]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return R2(c.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${rg(r)}`)})(n,e)}function ZA(n,e){const t={};return U3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(n,((r,a)=>{const o=Vd(a,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function JA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof Xo||n instanceof Ga||n instanceof $r||n instanceof Md||n instanceof Zo)}function ty(n,e,t){if(!JA(t)||!j3(t)){const r=rg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function i2(n,e,t){if((e=ii(e))instanceof Od)return e._internalPath;if(typeof e=="string")return ny(n,e);throw Wm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Jk=new RegExp("[~\\*/\\[\\]]");function ny(n,e,t){if(e.search(Jk)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wm(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new it(Ge.INVALID_ARGUMENT,c+n+f)}function eS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ry("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eP extends tS{data(){return super.data()}}function ry(n,e){return typeof e=="string"?ny(n,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iy{}class sy extends iy{}function da(n,e,...t){let r=[];e instanceof iy&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof oy)).length,c=o.filter((f=>f instanceof ay)).length;if(u>1||u>0&&c>0)throw new it(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class ay extends sy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ay(e,t,r)}_apply(e){const t=this._parse(e);return iS(e._query,t),new Bl(e.firestore,e.converter,Y0(e._query,t))}_parse(e){const t=jd(e.firestore);return(function(o,u,c,f,d,y,w){let x;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){_w(w,y);const M=[];for(const U of w)M.push(vw(f,o,U));x={arrayValue:{values:M}}}else x=vw(f,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||_w(w,y),x=Zk(c,u,w,y==="in"||y==="not-in");return hi.create(d,y,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class oy extends iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new oy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:wo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const c=o.getFlattenedFilters();for(const f of c)iS(u,f),u=Y0(u,f)})(e._query,t),new Bl(e.firestore,e.converter,Y0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends sy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ly(e,t)}_apply(e){const t=(function(a,o,u){if(a.startAt!==null)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pd(o,u)})(e._query,this._field,this._direction);return new Bl(e.firestore,e.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new Wh(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function rS(n,e="asc"){const t=e,r=ry("orderBy",n);return ly._create(r,t)}class uy extends sy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new uy(e,t,r)}_apply(e){return new Bl(e.firestore,e.converter,Bm(e._query,this._limit,this._limitType))}}function cy(n){return uy._create("limit",n,"F")}function vw(n,e,t){if(typeof(t=ii(t))=="string"){if(t==="")throw new it(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&t.indexOf("/")!==-1)throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dr.fromString(t));if(!Rt.isDocumentKey(r))throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Db(n,new Rt(r))}if(t instanceof $r)return Db(n,t._key);throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rg(t)}.`)}function _w(n,e){if(!Array.isArray(n)||n.length===0)throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(n,e){const t=(function(a,o){for(const u of a)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new it(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tP{convertValue(e,t="none"){switch(Bu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wu(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Um].arrayValue?.values?.map((r=>ei(r.doubleValue)));return new Zo(t)}convertGeoPoint(e){return new Xo(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ag(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const t=Uu(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dr.fromString(e);Hn(xA(r),9688,{name:e});const a=new fd(r.get(1),r.get(3)),o=new Rt(r.popFirst(5));return a.isEqual(t)||Vl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Kf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends tS{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ac._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ac._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ac._jsonSchema={type:fi("string",Ac._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class wm extends Ac{data(e={}){return super.data(e)}}class Sc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Kf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new wm(this._firestore,this._userDataWriter,r.key,r,new Kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((c=>{const f=new wm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Kf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new wm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Kf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:nP(c.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=x2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n){n=Ds(n,$r);const e=Ds(n.firestore,el);return Hk(Dd(e),n._key).then((t=>sS(e,n,t)))}Sc._jsonSchemaVersion="firestore/querySnapshot/1.0",Sc._jsonSchema={type:fi("string",Sc._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class fy extends tP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function rP(n){n=Ds(n,Bl);const e=Ds(n.firestore,el),t=Dd(e),r=new fy(e);return nS(n._query),Gk(t,n._query).then((a=>new Sc(e,r,n,a)))}function _g(n,e,t){n=Ds(n,$r);const r=Ds(n.firestore,el),a=hy(n.converter,e,t);return Fd(r,[Z2(jd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Os.none())])}function Vh(n,e,t,...r){n=Ds(n,$r);const a=Ds(n.firestore,el),o=jd(a);let u;return u=typeof(e=ii(e))=="string"||e instanceof Od?XA(o,"updateDoc",n._key,e,t,r):QA(o,"updateDoc",n._key,e),Fd(a,[u.toMutation(n._key,Os.exists(!0))])}function bg(n){return Fd(Ds(n.firestore,el),[new fg(n._key,Os.none())])}function Ud(n,e){const t=Ds(n.firestore,el),r=As(n),a=hy(n.converter,e);return Fd(t,[Z2(jd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Os.exists(!1))]).then((()=>r))}function $a(n,...e){n=ii(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yw(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(yw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,u,c;if(n instanceof $r)u=Ds(n.firestore,el),c=og(n._key.path),o={next:f=>{e[r]&&e[r](sS(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Ds(n,Bl);u=Ds(f.firestore,el),c=f._query;const d=new fy(u);o={next:y=>{e[r]&&e[r](new Sc(u,d,f,y))},error:e[r+1],complete:e[r+2]},nS(n._query)}return(function(d,y,w,x){const b=new Q2(x),M=new W2(y,b,w);return d.asyncQueue.enqueueAndForget((async()=>H2(await $m(d),M))),()=>{b.Nu(),d.asyncQueue.enqueueAndForget((async()=>G2(await $m(d),M)))}})(Dd(u),c,a,o)}function Fd(n,e){return(function(r,a){const o=new Pl;return r.asyncQueue.enqueueAndForget((async()=>kk(await zk(r),a,o))),o.promise})(Dd(n),e)}function sS(n,e,t){const r=t.docs.get(e._key),a=new fy(n);return new Ac(n,a,e._key,r,new Kf(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jd(e)}set(e,t,r){this._verifyNotCommitted();const a=g0(e,this._firestore),o=hy(a.converter,t,r),u=Z2(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,Os.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const o=g0(e,this._firestore);let u;return u=typeof(t=ii(t))=="string"||t instanceof Od?XA(this._dataReader,"WriteBatch.update",o._key,t,r,a):QA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=g0(e,this._firestore);return this._mutations=this._mutations.concat(new fg(t._key,Os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function g0(n,e){if((n=ii(n)).firestore!==e)throw new it(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function tl(){return new J2("serverTimestamp")}function dy(n){return new ey("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n){return Dd(n=Ds(n,el)),new iP(n,(e=>Fd(n,e)))}(function(e,t=!0){(function(a){Hh=a})(qh),Lh(new Nc("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new el(new e7(r.getProvider("auth-internal")),new r7(u,r.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new it(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(d.options.projectId,y)})(u,a),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Pu(wb,Ab,e),Pu(wb,Ab,"esm2020")})();const Un={dashboard:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),sales:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),products:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7.5L12 3l9 4.5M3 7.5v9l9 4.5m9-13.5v9l-9 4.5m0-9l9-4.5m-9 4.5L3 7.5"})}),purchases:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),inventory:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),reports:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),logout:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),plus:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),user:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),money:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),close:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),trash:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),edit:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),userPlus:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 14a4 4 0 10-8 0 4 4 0 008 0z"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14v7m-5-3h10M16 3h5m-2.5-2.5V5.5"})]}),eye:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})},aP={apiKey:"AIzaSyA6pwcMnIn0y0HcKRWQhfpvPKwmbH-Jc4Y",authDomain:"sofwipad-erp-contable.firebaseapp.com",projectId:"sofwipad-erp-contable",storageBucket:"sofwipad-erp-contable.appspot.com",messagingSenderId:"902895181248",appId:"1:902895181248:web:dfb884b039dedacfb3bc25",measurementId:"G-D22KTMEDP6"},aS=z4(aP),bd=KR(aS),kn=Wk(aS);XR("debug");const oS=ze.createContext(),lS=(n,e="Factura",t="Cliente")=>{const r=new St;r.setFontSize(16),r.text(e,14,20),r.setFontSize(10),r.text(`Nmero: ${n.invoiceNumber||"SINID"}`,14,28),t==="Cliente"?r.text(`Cliente: ${n.clientName||n.clientId||"N/A"}`,14,34):r.text(`Proveedor: ${n.supplierName||n.supplierId||"N/A"}`,14,34);const a=(n.items||[]).map(u=>[u.name||"",u.quantity||0,`$${u.price||0}`,`${u.discount??0}%`,`${u.tax??0}%`,`${u.retention??0}%`,`$${((u.price||0)*(u.quantity||0)).toFixed(2)}`]);a.length>0&&r.autoTable({head:[["Producto","Cant.","Precio","Desc.","IVA","Ret.","Total"]],body:a,startY:40});const o=r.lastAutoTable&&r.lastAutoTable.finalY||40;r.text(`Subtotal: $${n.subtotal||0}`,14,o+10),r.text(`IVA: $${n.iva||0}`,14,o+16),r.text(`Retenciones: -$${n.retenciones||0}`,14,o+22),r.setFontSize(12),r.text(`Total Neto: $${n.total||0}`,14,o+32),r.save(`${e}_${n.invoiceNumber||"SINID"}.pdf`)},oP=({children:n})=>{const[e,t]=ze.useState(null),[r,a]=ze.useState(null),[o,u]=ze.useState(null),[c,f]=ze.useState(!0),[d,y]=ze.useState(""),w=async b=>{const M=sP(kn),U=Ai(kn,`companies/${b}/chart_of_accounts`);[{code:"1105",name:"Caja",class:"Activo"},{code:"1110",name:"Bancos",class:"Activo"},{code:"1305",name:"Clientes",class:"Activo"},{code:"1435",name:"Inventarios",class:"Activo"},{code:"2205",name:"Proveedores Nacionales",class:"Pasivo"},{code:"2105",name:"Obligaciones Financieras",class:"Pasivo"},{code:"3115",name:"Aportes Sociales",class:"Patrimonio"},{code:"4135",name:"Comercio al por mayor y al por menor",class:"Ingreso"},{code:"5105",name:"Gastos de Personal",class:"Gasto"},{code:"5195",name:"Diversos",class:"Gasto"},{code:"6135",name:"Costo de Ventas",class:"Costo"}].forEach(F=>{const ee=As(U,F.code);M.set(ee,F)});try{await M.commit(),console.log(`Plan de cuentas inicial creado para la empresa: ${b}`)}catch(F){console.error("Error creando el plan de cuentas inicial:",F),y("No se pudo completar la configuracin inicial de la empresa.")}};ze.useEffect(()=>{const M=V8(bd,async U=>{if(U&&!U.isAnonymous){const B=As(kn,"users",U.uid),F=await _d(B);if(F.exists()){const ee={uid:U.uid,...F.data()};if(t(U),a(ee),ee.companyId){const te=As(kn,"companies",ee.companyId),Q=await _d(te);if(Q.exists()){u({id:Q.id,...Q.data()});const oe=Ai(kn,`companies/${ee.companyId}/chart_of_accounts`),Se=da(oe,cy(1));(await rP(Se)).empty&&(console.log("Plan de cuentas no encontrado, iniciando configuracin..."),await w(ee.companyId))}else y(`Error: La empresa con ID ${ee.companyId} no fue encontrada.`),u(null)}else y("Usuario no est asociado a ninguna empresa."),u(null)}else y("No se encontr el perfil del usuario en la base de datos."),await y3(bd)}else t(null),a(null),u(null);f(!1)});return()=>M()},[]);const x={user:e,userData:r,companyData:o,loading:c,error:d,setError:y};return N.jsx(oS.Provider,{value:x,children:n})},ql=()=>ze.useContext(oS),Bd=({isOpen:n,onClose:e,title:t,children:r})=>n?N.jsx("div",{className:"fixed inset-0 backdrop-blur-sm z-50 flex justify-center items-center p-4",children:N.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-7xl h-[90vh] overflow-y-auto",children:[N.jsxs("div",{className:"flex justify-between items-center p-4 border-b sticky top-0 bg-white z-10",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:Un.close})]}),N.jsx("div",{className:"p-6",children:r})]})}):null,zn=({id:n,label:e,...t})=>N.jsxs("div",{children:[N.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),N.jsx("input",{id:n,...t,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),ws=({id:n,label:e,children:t,...r})=>N.jsxs("div",{children:[N.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),N.jsx("select",{id:n,...r,className:"w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:t})]}),xi=({children:n,onClick:e,type:t="button",variant:r="primary",...a})=>{const o="inline-flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"border-transparent text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",secondary:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500",danger:"border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500"};return N.jsx("button",{type:t,onClick:e,className:`${o} ${u[r]}`,...a,children:n})},Uh=({title:n,children:e,actions:t})=>N.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[N.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[N.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),t&&N.jsx("div",{className:"flex space-x-2",children:t})]}),N.jsx("div",{className:"p-4",children:e})]}),qd=()=>N.jsx("div",{className:"flex justify-center items-center h-full",children:N.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-500"})}),uS=({message:n})=>n?N.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative my-4",role:"alert",children:[N.jsx("strong",{className:"font-bold",children:"Error: "}),N.jsx("span",{className:"block sm:inline",children:n})]}):null,lP=()=>{const[n,e]=ze.useState(!0),[t,r]=ze.useState(""),[a,o]=ze.useState(""),[u,c]=ze.useState(""),[f,d]=ze.useState(""),[y,w]=ze.useState(""),[x,b]=ze.useState(""),[M,U]=ze.useState(!1),B=async ee=>{ee.preventDefault(),U(!0),b("");try{await O8(bd,t,a)}catch(te){b(te.message)}U(!1)},F=async ee=>{if(ee.preventDefault(),a.length<6){b("La contrasea debe tener al menos 6 caracteres.");return}U(!0),b("");try{const te=Ai(kn,"companies"),Q=await Ud(te,{name:f,NIT:y,createdAt:tl(),taxConfig:{iva:19,ica:.414,retefuente:2.5}}),Se=(await D8(bd,t,a)).user;await _g(As(kn,"users",Se.uid),{name:u,email:t,companyId:Q.id,role:"Admin",createdAt:tl()})}catch(te){b(te.message)}U(!1)};return N.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[N.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Sofwipad ERP Contable"}),N.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Inicia sesin en tu cuenta":"Crea una nueva cuenta y empresa"})]}),N.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:N.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[N.jsxs("form",{className:"space-y-6",onSubmit:n?B:F,children:[!n&&N.jsxs(N.Fragment,{children:[N.jsx(zn,{id:"name",name:"name",type:"text",label:"Tu Nombre Completo",required:!0,value:u,onChange:ee=>c(ee.target.value)}),N.jsx(zn,{id:"companyName",name:"companyName",type:"text",label:"Nombre de la Empresa",required:!0,value:f,onChange:ee=>d(ee.target.value)}),N.jsx(zn,{id:"nit",name:"nit",type:"text",label:"NIT de la Empresa",required:!0,value:y,onChange:ee=>w(ee.target.value)}),N.jsx("hr",{})]}),N.jsx(zn,{id:"email",name:"email",type:"email",label:"Correo Electrnico",autoComplete:"email",required:!0,value:t,onChange:ee=>r(ee.target.value)}),N.jsx(zn,{id:"password",name:"password",type:"password",label:"Contrasea",autoComplete:"current-password",required:!0,value:a,onChange:ee=>o(ee.target.value)}),N.jsx(uS,{message:x}),N.jsx("div",{children:N.jsx(xi,{type:"submit",variant:"primary",className:"w-full",disabled:M,children:M?"Procesando...":n?"Iniciar Sesin":"Registrar Empresa"})})]}),N.jsxs("div",{className:"mt-6",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-0 flex items-center",children:N.jsx("div",{className:"w-full border-t border-gray-300"})}),N.jsx("div",{className:"relative flex justify-center text-sm",children:N.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O"})})]}),N.jsx("div",{className:"mt-6 text-center",children:N.jsx("button",{onClick:()=>{e(!n),b("")},className:"font-medium text-indigo-600 hover:text-indigo-500",children:n?"No tienes una cuenta? Regstrate":"Ya tienes una cuenta? Inicia sesin"})})]})]})})]})},uP=()=>{const{userData:n,companyData:e}=ql(),[t,r]=ze.useState("dashboard"),[a,o]=ze.useState(!0),u=async()=>{await y3(bd)},c=({view:y,icon:w,children:x})=>N.jsxs("a",{href:"#",onClick:b=>{b.preventDefault(),r(y)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors ${t===y?"bg-indigo-600 text-white":"text-gray-300 hover:bg-indigo-800 hover:text-white"}`,children:[N.jsx("span",{className:"mr-3",children:w}),x]}),f=()=>{switch(t){case"dashboard":return N.jsx(bw,{});case"sales":return N.jsx(cP,{setActiveView:r});case"purchases":return N.jsx(hP,{setActiveView:r});case"thirdparties":return N.jsx(fP,{});case"products":return N.jsx(dP,{});default:return N.jsx(bw,{})}},d={Admin:"Administrador",Contador:"Contador",Empleado:"Empleado"};return N.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans relative",children:[N.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-indigo-900 text-white flex flex-col transform transition-transform duration-300 z-20
        ${a?"translate-x-0 w-64":"-translate-x-full w-64"}`,children:[N.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-indigo-800",children:[N.jsx("h2",{className:"text-xl font-bold truncate",children:e?.name||"ERP Nube"}),N.jsx("button",{onClick:()=>o(!1),"aria-label":"Cerrar men",className:"text-gray-300 hover:text-white",children:N.jsx(KN,{className:"h-6 w-6"})})]}),N.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[N.jsx(c,{view:"dashboard",icon:Un.dashboard,children:"Dashboard"}),N.jsx(c,{view:"sales",icon:Un.sales,children:"Ventas"}),N.jsx(c,{view:"purchases",icon:Un.purchases,children:"Compras"}),N.jsx(c,{view:"inventory",icon:Un.inventory,children:"Inventario"}),N.jsx(c,{view:"reports",icon:Un.reports,children:"Reportes"}),N.jsx(c,{view:"thirdparties",icon:Un.user,children:"Clientes/Proveedores"}),N.jsx(c,{view:"products",icon:Un.products,children:"Productos/Servicios"})]}),N.jsxs("div",{className:"px-4 py-4 border-t border-indigo-800",children:[N.jsxs("div",{className:"flex items-center mb-4",children:[N.jsx("div",{className:"p-2 bg-indigo-700 rounded-full",children:Un.user}),N.jsxs("div",{className:"ml-3",children:[N.jsx("p",{className:"text-sm font-medium text-white",children:n?.name}),N.jsx("p",{className:"text-xs text-indigo-300",children:d[n?.role]||n?.role})]})]}),N.jsxs("a",{href:"#",onClick:u,className:"flex items-center w-full px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-red-600 hover:text-white transition-colors",children:[N.jsx("span",{className:"mr-3",children:Un.logout}),"Cerrar Sesin"]})]})]}),!a&&N.jsxs("div",{className:"fixed top-1/2 -translate-y-1/2 left-0 z-30 group",children:[N.jsx("button",{onClick:()=>o(!0),"aria-label":"Abrir men",className:"bg-indigo-600 text-white p-2 rounded-r-md shadow-md transition-all duration-300 hover:bg-indigo-700 hover:-translate-x-1",children:N.jsx(XN,{className:"h-6 w-6"})}),N.jsxs("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300 bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none",children:["Abrir men",N.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1 w-2 h-2 bg-gray-900 rotate-45"})]})]}),N.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${a?"ml-64":"ml-0"}`,children:[N.jsx("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-6",children:N.jsx("h1",{className:"text-2xl font-semibold text-gray-800 capitalize",children:t})}),N.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:f()})]})]})},bw=()=>{const{companyData:n}=ql(),e=[{title:"Ventas del Mes",value:"$12,500,000",icon:Un.sales,color:"text-green-500"},{title:"Cuentas por Cobrar",value:"$4,200,000",icon:Un.money,color:"text-yellow-500"},{title:"Compras del Mes",value:"$7,800,000",icon:Un.purchases,color:"text-red-500"},{title:"Valor Inventario",value:"$25,000,000",icon:Un.inventory,color:"text-blue-500"}];return N.jsxs("div",{className:"space-y-6",children:[N.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Bienvenido a ",n?.name]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(t=>N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[N.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${t.color}`,children:yx.cloneElement(t.icon,{className:"h-8 w-8"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-lg font-semibold text-gray-800",children:t.title}),N.jsx("p",{className:"text-sm font-medium text-gray-500",children:t.value})]})]},t.title))}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N.jsx(Uh,{title:"Ventas vs Compras (ltimos 6 meses)",children:N.jsx("div",{className:"h-64 bg-gray-200 rounded-md flex items-center justify-center",children:N.jsx("p",{className:"text-gray-500",children:"Grfico de barras aqu"})})}),N.jsx(Uh,{title:"Actividades Recientes",children:N.jsxs("ul",{className:"space-y-3",children:[N.jsx("li",{className:"text-sm text-gray-600",children:"Factura de venta #FV-002 creada."}),N.jsx("li",{className:"text-sm text-gray-600",children:"Pago a proveedor 'DistriPartes SAS' registrado."}),N.jsx("li",{className:"text-sm text-gray-600",children:"Nuevo producto 'Aceite 20W-50' aadido al inventario."})]})})]})]})},cP=({setActiveView:n})=>{const{companyData:e}=ql(),[t,r]=ze.useState(!1),[a,o]=ze.useState(null),[u,c]=ze.useState(null),[f,d]=ze.useState(!1),[y,w]=ze.useState([]),[x,b]=ze.useState([]),[M,U]=ze.useState([]),[B,F]=ze.useState([]),[ee,te]=ze.useState(!0),[Q,oe]=ze.useState(null),[Se,$]=ze.useState("");ze.useEffect(()=>{if(!e)return;te(!0);const I=da(Ai(kn,`companies/${e.id}/invoices_sales`)),k=$a(I,ne=>{const we=ne.docs.map(le=>({id:le.id,...le.data()}));w(we),te(!1)},ne=>{console.error("Error fetching invoices: ",ne),te(!1)});return()=>k()},[e]),ze.useEffect(()=>{if(!e)return;const I=da(Ai(kn,`companies/${e.id}/thirdparties`)),k=da(Ai(kn,`companies/${e.id}/products`)),ne=da(Ai(kn,`companies/${e.id}/retenciones`)),we=$a(I,re=>{b(re.docs.map(ve=>({id:ve.id,...ve.data()})))}),le=$a(k,re=>{U(re.docs.map(ve=>({id:ve.id,...ve.data()})))}),me=$a(ne,re=>{F(re.docs.map(ve=>({id:ve.id,...ve.data()})))});return()=>{we(),le(),me()}},[e]),ze.useEffect(()=>{if(!e)return;const I=da(Ai(kn,`companies/${e.id}/invoices_sales`),rS("createdAt","desc"),cy(1)),k=$a(I,ne=>{if(ne.empty)oe(null);else{const we=ne.docs[0].data();oe(we.invoiceNumber)}});return()=>k()},[e]);const O=async I=>{if(!e)return;const k=Oi.loading("Creando factura...");try{const ne=As(kn,`companies/${e.id}/counters/invoices_sales`);await _g(ne,{lastNumber:dy(1)},{merge:!0});const we=await _d(ne),le=we.exists()?we.data().lastNumber:1,me=`FV-${String(le).padStart(3,"0")}`,re=Ai(kn,`companies/${e.id}/invoices_sales`),ve=await Ud(re,{...I,companyId:e.id,invoiceNumber:me,createdAt:tl(),status:"Pendiente"});await Vh(ve,{id:ve.id}),r(!1),Oi.success(" Factura creada con xito",{id:k})}catch(ne){console.error("Error creating invoice: ",ne),Oi.error(" Error al crear la factura",{id:k})}},P=async I=>{if(!e||!a)return;const k=Oi.loading("Actualizando factura...");try{const ne=As(kn,`companies/${e.id}/invoices_sales/${a.id}`);await Vh(ne,{...I,updatedAt:tl()}),o(null),r(!1),Oi.success(" Factura actualizada correctamente",{id:k})}catch(ne){console.error("Error updating invoice: ",ne),Oi.error(" Error al actualizar la factura",{id:k})}},H=async I=>{if(!e||!window.confirm("Seguro que deseas eliminar esta factura?"))return;const k=Oi.loading("Eliminando factura...");try{const ne=`companies/${e.id}/invoices_sales/${I}`;await bg(As(kn,ne)),Oi.success(" Factura eliminada correctamente",{id:k})}catch(ne){console.error(" Error deleting invoice: ",ne),Oi.error(" Error eliminando factura",{id:k})}},C=y.filter(I=>{const k=x.find(me=>me.id===I.clientId),ne=k?.idNumber?.toLowerCase()||"",we=k?.name?.toLowerCase()||"",le=Se.toLowerCase();return ne.includes(le)||we.includes(le)});return N.jsxs("div",{children:[N.jsx("div",{className:"border-b mb-4",children:N.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[N.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de venta"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Facturas recurrentes"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Clientes"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Seguimiento comercial"})]})}),N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("div",{className:"flex space-x-2",children:N.jsx("input",{type:"text",placeholder:"Buscar por Identificacin o Cliente",className:"border px-3 py-2 rounded-lg text-sm w-80",value:Se,onChange:I=>$(I.target.value)})}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsxs(xi,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[Un.userPlus," Crear Cliente"]}),N.jsxs(xi,{onClick:()=>{o(null),r(!0)},children:[Un.plus," Crear Factura"]})]})]}),N.jsx(Uh,{title:"Facturas de Venta",children:ee?N.jsx(qd,{}):N.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3",children:"Fecha"}),N.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),N.jsx("th",{className:"px-6 py-3",children:"Identificacin"}),N.jsx("th",{className:"px-6 py-3",children:"Cliente"}),N.jsx("th",{className:"px-6 py-3",children:"Total"}),N.jsx("th",{className:"px-6 py-3",children:"Moneda"}),N.jsx("th",{className:"px-6 py-3",children:"Estado"}),N.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),N.jsx("tbody",{children:C.map(I=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-4",children:I.date?.seconds?new Date(I.date.seconds*1e3).toLocaleDateString():"N/A"}),N.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:I.invoiceNumber||"FV-SINID"}),N.jsx("td",{className:"px-6 py-4",children:x.find(k=>k.id===I.clientId)?.idNumber||"N/A"}),N.jsx("td",{className:"px-6 py-4",children:x.find(k=>k.id===I.clientId)?.name||"Consumidor Final"}),N.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(I.total||0)]}),N.jsx("td",{className:"px-6 py-4",children:"COP"}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="Pagada"?"bg-green-100 text-green-800":I.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:I.status||"Pendiente"})}),N.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[N.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(I),d(!0)},children:Un.eye}),N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(I),r(!0)},children:Un.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>H(I.id),children:Un.trash})]})]},I.id))})]})}),N.jsx(pP,{isOpen:t,onClose:()=>{r(!1),o(null)},onSubmit:a?P:O,clients:x,products:M,retenciones:B,initialData:a,lastInvoiceNumber:Q}),f&&u&&N.jsx(cS,{isOpen:f,onClose:()=>{d(!1),c(null)},invoice:u,entityName:"Cliente",onDownloadPDF:I=>lS(I,"Factura de Venta","Cliente")})]})},hP=({setActiveView:n})=>{const{companyData:e}=ql(),[t,r]=ze.useState(!1),[a,o]=ze.useState(null),[u,c]=ze.useState(null),[f,d]=ze.useState(!1),[y,w]=ze.useState([]),[x,b]=ze.useState([]),[M,U]=ze.useState([]),[B,F]=ze.useState([]),[ee,te]=ze.useState(!0),[Q,oe]=ze.useState(null),[Se,$]=ze.useState("");ze.useEffect(()=>{if(!e)return;te(!0);const I=da(Ai(kn,`companies/${e.id}/invoices_purchases`)),k=$a(I,ne=>{const we=ne.docs.map(le=>({id:le.id,...le.data()}));w(we),te(!1)},ne=>{console.error("Error fetching purchase invoices: ",ne),te(!1)});return()=>k()},[e]),ze.useEffect(()=>{if(!e)return;const I=da(Ai(kn,`companies/${e.id}/thirdparties`)),k=da(Ai(kn,`companies/${e.id}/products`)),ne=da(Ai(kn,`companies/${e.id}/retenciones`)),we=$a(I,re=>{const X=re.docs.map(he=>({id:he.id,...he.data()})).filter(he=>Array.isArray(he.type)&&he.type.includes("proveedor")||he.type==="proveedor"||he.type==="Proveedor");b(X)}),le=$a(k,re=>{U(re.docs.map(ve=>({id:ve.id,...ve.data()})))}),me=$a(ne,re=>{F(re.docs.map(ve=>({id:ve.id,...ve.data()})))});return()=>{we(),le(),me()}},[e]),ze.useEffect(()=>{if(!e)return;const I=da(Ai(kn,`companies/${e.id}/invoices_purchases`),rS("createdAt","desc"),cy(1)),k=$a(I,ne=>{if(ne.empty)oe(null);else{const we=ne.docs[0].data();oe(we.invoiceNumber)}});return()=>k()},[e]);const O=async I=>{if(!e)return;const k=Oi.loading("Creando factura de compra...");try{const ne=As(kn,`companies/${e.id}/counters/invoices_purchases`);await _g(ne,{lastNumber:dy(1)},{merge:!0});const we=await _d(ne),le=we.exists()?we.data().lastNumber:1,me=`FC-${String(le).padStart(3,"0")}`,re=Ai(kn,`companies/${e.id}/invoices_purchases`),ve=await Ud(re,{...I,companyId:e.id,invoiceNumber:me,createdAt:tl(),status:"Pendiente"});await Vh(ve,{id:ve.id}),r(!1),Oi.success(" Factura de compra creada con xito",{id:k})}catch(ne){console.error("Error creating purchase invoice: ",ne),Oi.error(" Error al crear la factura de compra",{id:k})}},P=async I=>{if(!e||!a)return;const k=Oi.loading("Actualizando factura de compra...");try{const ne=As(kn,`companies/${e.id}/invoices_purchases/${a.id}`);await Vh(ne,{...I,updatedAt:tl()}),o(null),r(!1),Oi.success(" Factura de compra actualizada correctamente",{id:k})}catch(ne){console.error("Error updating purchase invoice: ",ne),Oi.error(" Error al actualizar la factura de compra",{id:k})}},H=async I=>{if(!e||!window.confirm("Seguro que deseas eliminar esta factura de compra?"))return;const k=Oi.loading("Eliminando factura de compra...");try{const ne=`companies/${e.id}/invoices_purchases/${I}`;await bg(As(kn,ne)),Oi.success(" Factura eliminada correctamente",{id:k})}catch(ne){console.error(" Error deleting purchase invoice: ",ne),Oi.error(" Error eliminando factura",{id:k})}},C=y.filter(I=>{const k=x.find(me=>me.id===I.supplierId),ne=k?.idNumber?.toLowerCase()||"",we=k?.name?.toLowerCase()||"",le=Se.toLowerCase();return ne.includes(le)||we.includes(le)});return N.jsxs("div",{children:[N.jsx("div",{className:"border-b mb-4",children:N.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[N.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de compra"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Proveedores"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"rdenes de compra"})]})}),N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("div",{className:"flex space-x-2",children:N.jsx("input",{type:"text",placeholder:"Buscar por Identificacin o Proveedor",className:"border px-3 py-2 rounded-lg text-sm w-80",value:Se,onChange:I=>$(I.target.value)})}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsxs(xi,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[Un.userPlus," Crear Proveedor"]}),N.jsxs(xi,{onClick:()=>{o(null),r(!0)},children:[Un.plus," Nueva Factura de Compra"]})]})]}),N.jsx(Uh,{title:"Facturas de Compra",children:ee?N.jsx(qd,{}):N.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3",children:"Fecha"}),N.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),N.jsx("th",{className:"px-6 py-3",children:"Identificacin"}),N.jsx("th",{className:"px-6 py-3",children:"Proveedor"}),N.jsx("th",{className:"px-6 py-3",children:"Total"}),N.jsx("th",{className:"px-6 py-3",children:"Moneda"}),N.jsx("th",{className:"px-6 py-3",children:"Estado"}),N.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),N.jsx("tbody",{children:C.map(I=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-4",children:I.date?.seconds?new Date(I.date.seconds*1e3).toLocaleDateString():"N/A"}),N.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:I.invoiceNumber||"FC-SINID"}),N.jsx("td",{className:"px-6 py-4",children:x.find(k=>k.id===I.supplierId)?.idNumber||"N/A"}),N.jsx("td",{className:"px-6 py-4",children:x.find(k=>k.id===I.supplierId)?.name||"Proveedor"}),N.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(I.total||0)]}),N.jsx("td",{className:"px-6 py-4",children:"COP"}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="Pagada"?"bg-green-100 text-green-800":I.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:I.status||"Pendiente"})}),N.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[N.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(I),d(!0)},children:Un.eye}),N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(I),r(!0)},children:Un.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>H(I.id),children:Un.trash})]})]},I.id))})]})}),N.jsx(mP,{isOpen:t,onClose:()=>{r(!1),o(null)},onSubmit:a?P:O,suppliers:x,products:M,retenciones:B,initialData:a,lastInvoiceNumber:Q}),f&&u&&N.jsx(cS,{isOpen:f,onClose:()=>{d(!1),c(null)},invoice:u,entityName:"Proveedor",onDownloadPDF:I=>lS(I,"Factura de Compra","Proveedor")})]})},fP=()=>{const{companyData:n}=ql(),[e,t]=ze.useState([]),[r,a]=ze.useState(!0),[o,u]=ze.useState(!1),[c,f]=ze.useState(null),[d,y]=ze.useState(""),[w,x]=ze.useState({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),b=oe=>oe.personType==="empresa"?oe.tradeName||`${oe.name}`||"":`${oe.name||""} ${oe.lastName||""}`.trim(),M=oe=>oe==="NIT"?"NIT":"CC";ze.useEffect(()=>{if(!n)return;const oe=da(Ai(kn,`companies/${n.id}/thirdparties`)),Se=$a(oe,$=>{t($.docs.map(O=>({id:O.id,...O.data()}))),a(!1)},$=>{console.error("Error loading third parties:",$),a(!1)});return()=>Se()},[n]);const U=e.filter(oe=>{const Se=d.toLowerCase();return(oe.idNumber||"").toLowerCase().includes(Se)||(oe.name||"").toLowerCase().includes(Se)||(oe.lastName||"").toLowerCase().includes(Se)||(oe.tradeName||"").toLowerCase().includes(Se)||(oe.email||"").toLowerCase().includes(Se)}),B=()=>{f(null),x({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),u(!0)},F=oe=>{f(oe.id),x({type:Array.isArray(oe.type)?oe.type:[oe.type].filter(Boolean),personType:oe.personType||"persona",idType:oe.idType||(oe.personType==="empresa"?"NIT":"CC"),idNumber:oe.idNumber||"",name:oe.name||"",lastName:oe.lastName||"",tradeName:oe.tradeName||"",city:oe.city||"",address:oe.address||"",phone:oe.phone||"",email:oe.email||"",otherDescription:oe.otherDescription||"",createdAt:oe.createdAt||null}),u(!0)},ee=oe=>{const{name:Se,value:$,type:O,checked:P}=oe.target;if(Se==="personType"){x(H=>({...H,personType:$,idType:$==="empresa"?"NIT":"CC"}));return}if(Se==="type"){x(H=>{let C=[...H.type];return P?C.includes($)||C.push($):C=C.filter(I=>I!==$),{...H,type:C}});return}x(H=>({...H,[Se]:O==="checkbox"?P:$}))},te=async oe=>{if(oe.preventDefault(),!n)return;const Se={type:w.type,personType:w.personType,idType:w.idType,idNumber:String(w.idNumber).trim(),name:String(w.name).trim(),lastName:String(w.lastName).trim(),tradeName:String(w.tradeName).trim(),city:String(w.city).trim(),address:String(w.address).trim(),phone:String(w.phone).trim(),email:String(w.email).trim(),otherDescription:w.type.includes("otro")?String(w.otherDescription).trim():"",createdAt:c?w.createdAt:tl(),updatedAt:tl()};try{c?await Vh(As(kn,`companies/${n.id}/thirdparties/${c}`),Se):await Ud(Ai(kn,`companies/${n.id}/thirdparties`),Se),u(!1),f(null)}catch($){console.error("Error saving third party",$),alert(" Error guardando tercero: "+$.message)}},Q=async oe=>{if(n&&confirm(`Eliminar "${b(oe)}"? Esta accin no se puede deshacer.`))try{await bg(As(kn,`companies/${n.id}/thirdparties/${oe.id}`))}catch(Se){console.error("Error deleting third party",Se),alert(" Error eliminando: "+Se.message)}};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("input",{type:"text",placeholder:"Buscar por identificacin, nombre o correo",value:d,onChange:oe=>y(oe.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),N.jsxs(xi,{onClick:B,children:[Un.plus," Nuevo Tercero"]})]}),N.jsx(Uh,{title:"Terceros (Clientes, Proveedores y Otros)",children:r?N.jsx(qd,{}):N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo Persona"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Identificacin"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Nombre / Razn social"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Ciudad"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Telfono"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Correo"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Acciones"})]})}),N.jsxs("tbody",{children:[U.map(oe=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-3 capitalize",children:Array.isArray(oe.type)?oe.type.join(", "):oe.type||""}),N.jsx("td",{className:"px-6 py-3 capitalize",children:oe.personType}),N.jsxs("td",{className:"px-6 py-3",children:[M(oe.idType)," ",oe.idNumber]}),N.jsx("td",{className:"px-6 py-3",children:b(oe)}),N.jsx("td",{className:"px-6 py-3",children:oe.city}),N.jsx("td",{className:"px-6 py-3",children:oe.phone}),N.jsx("td",{className:"px-6 py-3",children:oe.email}),N.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>F(oe),children:Un.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>Q(oe),children:Un.trash})]})]},oe.id)),U.length===0&&N.jsx("tr",{children:N.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})})}),N.jsx(Bd,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Tercero`,children:N.jsxs("form",{onSubmit:te,className:"space-y-6",children:[N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Tipo de tercero"}),N.jsx("div",{className:"flex items-center space-x-6",children:["cliente","proveedor","otro"].map(oe=>N.jsxs("label",{className:"flex items-center space-x-2 capitalize",children:[N.jsx("input",{type:"checkbox",name:"type",value:oe,checked:w.type.includes(oe),onChange:ee}),N.jsx("span",{children:oe})]},oe))}),w.type.includes("otro")&&N.jsx("div",{className:"mt-3",children:N.jsx(zn,{id:"otherDescription",name:"otherDescription",label:"Descripcin (Otro)",value:w.otherDescription,onChange:ee,required:!0})})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsxs(ws,{id:"personType",name:"personType",label:"Tipo de Persona",value:w.personType,onChange:ee,children:[N.jsx("option",{value:"persona",children:"Persona"}),N.jsx("option",{value:"empresa",children:"Empresa"})]}),N.jsx(ws,{id:"idType",name:"idType",label:"Tipo de Identificacin",value:w.idType,onChange:ee,children:w.personType==="empresa"?N.jsx("option",{value:"NIT",children:"NIT"}):N.jsx("option",{value:"CC",children:"Cdula de Ciudadana (CC)"})}),N.jsx(zn,{id:"idNumber",name:"idNumber",label:w.personType==="empresa"?"Nmero de NIT":"Nmero de Cdula",value:w.idNumber,onChange:ee,required:!0}),N.jsx(zn,{id:"name",name:"name",label:w.personType==="empresa"?"Razn Social / Nombre Legal":"Nombres",value:w.name,onChange:ee,required:!0}),w.personType==="persona"?N.jsx(zn,{id:"lastName",name:"lastName",label:"Apellidos",value:w.lastName,onChange:ee}):N.jsx(zn,{id:"tradeName",name:"tradeName",label:"Nombre Comercial",value:w.tradeName,onChange:ee}),N.jsx(zn,{id:"city",name:"city",label:"Ciudad",value:w.city,onChange:ee}),N.jsx(zn,{id:"address",name:"address",label:"Direccin",value:w.address,onChange:ee}),N.jsx(zn,{id:"phone",name:"phone",label:"Telfono",value:w.phone,onChange:ee}),N.jsx(zn,{id:"email",name:"email",type:"email",label:"Correo Electrnico",value:w.email,onChange:ee}),c&&N.jsxs("div",{className:"md:col-span-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creacin"}),N.jsx("input",{type:"text",value:w.createdAt?new Date(w.createdAt.seconds*1e3).toLocaleString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]}),N.jsxs("div",{className:"flex justify-end space-x-2",children:[N.jsx(xi,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),N.jsx(xi,{type:"submit",variant:"primary",children:c?"Actualizar":"Guardar"})]})]})})]})},dP=()=>{const{companyData:n}=ql(),[e,t]=ze.useState([]),[r,a]=ze.useState(!0),[o,u]=ze.useState(!1),[c,f]=ze.useState(null),[d,y]=ze.useState(""),[w,x]=ze.useState({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),b=["unidades","centmetros","metros","kilogramos","litros"];ze.useEffect(()=>{if(!n)return;const Q=da(Ai(kn,`companies/${n.id}/products`)),oe=$a(Q,Se=>{t(Se.docs.map($=>({id:$.id,...$.data()}))),a(!1)});return()=>oe()},[n]);const M=e.filter(Q=>{const oe=d.toLowerCase();return Q.code?.toLowerCase().includes(oe)||Q.description?.toLowerCase().includes(oe)||Q.name?.toLowerCase().includes(oe)}),U=()=>{f(null),x({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),u(!0)},B=Q=>{f(Q.id),x({type:Q.type||"producto",code:Q.code||"",description:Q.description||"",unit:Q.unit||"unidades",unitValue:Q.unitValue??0,taxed:Q.taxed??!0,iva:Q.iva??"",createdAt:Q.createdAt||null}),u(!0)},F=Q=>{const{name:oe,value:Se,type:$,checked:O}=Q.target;x(P=>({...P,[oe]:$==="checkbox"?O:Se}))},ee=async Q=>{if(Q.preventDefault(),!!n)try{let oe=w.code;if(!c){const $=w.type==="producto"?"products":"services",O=As(kn,`companies/${n.id}/counters/${$}`);await _g(O,{lastCode:dy(1)},{merge:!0});const P=await _d(O),H=P.exists()?P.data().lastCode:1;oe=`${w.type==="producto"?"P":"S"}-${String(H).padStart(3,"0")}`}const Se={type:w.type,code:oe,description:String(w.description).trim(),name:String(w.description).trim(),unit:w.unit,unitValue:Number(w.unitValue)||0,taxed:!!w.taxed,iva:w.taxed?w.iva===""?null:Number(w.iva):0,createdAt:c?w.createdAt:tl(),updatedAt:tl()};c?await Vh(As(kn,`companies/${n.id}/products/${c}`),Se):await Ud(Ai(kn,`companies/${n.id}/products`),Se),u(!1),f(null)}catch(oe){console.error("Error guardando producto/servicio",oe),alert(" Error guardando producto/servicio: "+oe.message)}},te=async Q=>{if(n&&confirm(`Eliminar "${Q.description}"? Esta accin no se puede deshacer.`))try{await bg(As(kn,`companies/${n.id}/products/${Q.id}`))}catch(oe){console.error("Error eliminando producto/servicio",oe),alert(" Error eliminando: "+oe.message)}};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("input",{type:"text",placeholder:"Buscar por cdigo o descripcin",value:d,onChange:Q=>y(Q.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),N.jsxs(xi,{onClick:U,children:[Un.plus," Nuevo Producto/Servicio"]})]}),N.jsx(Uh,{title:"Productos y Servicios",children:r?N.jsx(qd,{}):N.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3",children:"Tipo"}),N.jsx("th",{className:"px-6 py-3",children:"Cdigo"}),N.jsx("th",{className:"px-6 py-3",children:"Descripcin"}),N.jsx("th",{className:"px-6 py-3",children:"Unidad"}),N.jsx("th",{className:"px-6 py-3",children:"Valor Unitario"}),N.jsx("th",{className:"px-6 py-3",children:"Gravado IVA"}),N.jsx("th",{className:"px-6 py-3",children:"IVA"}),N.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),N.jsxs("tbody",{children:[M.map(Q=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-3 capitalize",children:Q.type}),N.jsx("td",{className:"px-6 py-3",children:Q.code}),N.jsx("td",{className:"px-6 py-3",children:Q.description}),N.jsx("td",{className:"px-6 py-3",children:Q.unit}),N.jsxs("td",{className:"px-6 py-3 text-right",children:["$",new Intl.NumberFormat("es-CO").format(Q.unitValue||0)]}),N.jsx("td",{className:"px-6 py-3",children:Q.taxed?"S":"No"}),N.jsx("td",{className:"px-6 py-3",children:Q.iva===null||Q.iva===""?"No especificado":`${Q.iva}%`}),N.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>B(Q),children:Un.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>te(Q),children:Un.trash})]})]},Q.id)),M.length===0&&N.jsx("tr",{children:N.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})}),N.jsx(Bd,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Producto/Servicio`,children:N.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Tipo"}),N.jsxs("div",{className:"flex items-center space-x-6",children:[N.jsxs("label",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"radio",name:"type",value:"producto",checked:w.type==="producto",onChange:F}),N.jsx("span",{children:"Producto"})]}),N.jsxs("label",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"radio",name:"type",value:"servicio",checked:w.type==="servicio",onChange:F}),N.jsx("span",{children:"Servicio"})]})]})]}),N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsxs("h3",{className:"font-semibold mb-2",children:["Informacin del ",w.type]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsx(zn,{id:"description",name:"description",label:"Descripcin",value:w.description,onChange:F,required:!0}),N.jsx(ws,{id:"unit",name:"unit",label:"Unidad de medida",value:w.unit,onChange:F,children:b.map(Q=>N.jsx("option",{value:Q,children:Q},Q))}),N.jsx(zn,{id:"unitValue",name:"unitValue",type:"number",label:"Valor unitario",value:w.unitValue,onChange:F,min:"0",step:"0.01"}),c&&N.jsxs("div",{className:"col-span-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creacin"}),N.jsx("input",{type:"text",value:w.createdAt?new Date(w.createdAt.seconds*1e3).toLocaleDateString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]})]}),N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Impuestos"}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"checkbox",name:"taxed",checked:w.taxed,onChange:F}),N.jsx("span",{children:"Gravado con IVA"})]}),N.jsxs(ws,{id:"iva",name:"iva",label:"IVA",value:w.iva,onChange:F,disabled:!w.taxed,children:[N.jsx("option",{value:"",children:"No especificado"}),N.jsx("option",{value:0,children:"0%"}),N.jsx("option",{value:5,children:"5%"}),N.jsx("option",{value:19,children:"19%"})]})]})]}),N.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[N.jsx(xi,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),N.jsx(xi,{type:"submit",variant:"primary",children:"Guardar"})]})]})})]})},pP=({isOpen:n,onClose:e,onSubmit:t,clients:r,products:a,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=ql(),[f,d]=ze.useState("Electrnica"),[y,w]=ze.useState(""),[x,b]=ze.useState(()=>{const re=new Date;return new Date(re.getTime()-re.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[M,U]=ze.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[B,F]=ze.useState("Efectivo"),[ee,te]=ze.useState(""),[Q,oe]=ze.useState(0),[Se,$]=ze.useState(0),[O,P]=ze.useState(0),[H,C]=ze.useState(0),I=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1},{label:"Retencin por combustible 0.10%",value:.1}],k=re=>{if(!re)return"FV-001";const ve=re.match(/^FV-(\d+)$/);if(!ve)return null;const X=parseInt(ve[1],10)+1;return`FV-${String(X).padStart(3,"0")}`};ze.useEffect(()=>{o&&(d(o.tipoFactura||"Electrnica"),w(o.clientId||""),b(o.date?new Date(o.date.seconds*1e3).toISOString().split("T")[0]:x),U(o.items||[]),F(o.paymentMethod||"Efectivo"),te(o.observaciones||""))},[o,x]);const ne=(re,ve,X)=>{const he=[...M];if(he[re][ve]=X,ve==="productId")if(X==="")he[re]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const R=a.find(z=>z.id===X);R&&(he[re].price=R.unitValue||0,he[re].tax=R.iva??"",he[re].code=R.code||"",he[re].name=R.name||R.description||"")}U(he)},we=()=>U([...M,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),le=re=>U(M.filter((ve,X)=>X!==re));ze.useEffect(()=>{let re=0,ve=0,X=0;M.forEach(he=>{const R=Number(he.quantity)||0,z=Number(he.price)||0,J=(Number(he.discount)||0)/100,ue=R*z*(1-J),fe=he.tax===""?0:Number(he.tax)/100,ge=he.retention===""?0:Number(he.retention)/100;re+=ue,ve+=ue*fe,X+=ue*ge}),oe(re),$(ve),P(X),C(re+ve-X)},[M]);const me=re=>{re.preventDefault();const ve=o?o.invoiceNumber:k(u),X={id:o?.id||null,tipoFactura:f,clientId:y,vendedor:c?.name||"Usuario",date:new Date(x),items:M.map(he=>({...he,quantity:Number(he.quantity),price:Number(he.price),discount:Number(he.discount),tax:he.tax===""?null:Number(he.tax),retention:he.retention===""?null:Number(he.retention)})),paymentMethod:B,observaciones:ee,subtotal:Q,iva:Se,retenciones:O,total:H,invoiceNumber:ve};t(X),e()};return N.jsx(Bd,{isOpen:n,onClose:e,title:o?"Editar Factura de Venta":"Crear Nueva Factura de Venta",children:N.jsxs("form",{onSubmit:me,className:"space-y-4",children:[!o&&u&&N.jsxs("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:[N.jsxs("p",{children:["ltima factura registrada: ",N.jsx("b",{children:u})]}),k(u)&&N.jsxs("p",{children:["Siguiente sugerida:"," ",N.jsx("b",{children:k(u)})]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsxs(ws,{label:"Tipo de Factura",value:f,onChange:re=>d(re.target.value),children:[N.jsx("option",{value:"Fsica",children:"FV-1 Documento Ingreso"}),N.jsx("option",{value:"Electrnica",children:"FV-2 Factura Electrnica"})]}),N.jsxs(ws,{label:"Cliente",value:y,onChange:re=>w(re.target.value),required:!0,children:[N.jsx("option",{value:"",children:"Seleccione un cliente"}),r.map(re=>N.jsxs("option",{value:re.id,children:[re.name," - ",re.idNumber]},re.id))]}),N.jsx(zn,{label:"Vendedor",value:c?.name||"",readOnly:!0}),N.jsx(zn,{label:"Fecha",type:"date",value:x,onChange:re=>b(re.target.value)})]}),N.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"tems de la Factura"}),N.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[N.jsx("div",{className:"col-span-3",children:"Producto"}),N.jsx("div",{className:"col-span-2",children:"Cantidad"}),N.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),N.jsx("div",{className:"col-span-2",children:"% Desc."}),N.jsx("div",{className:"col-span-2",children:"Impuesto"}),N.jsx("div",{className:"col-span-1",children:"% Ret."}),N.jsx("div",{className:"col-span-1",children:"Valor Total"}),N.jsx("div",{className:"w-8 flex justify-center"})]}),M.map((re,ve)=>{const X=Number(re.quantity)||0,he=Number(re.price)||0,R=(Number(re.discount)||0)/100,z=X*he*(1-R),J=re.tax===""?0:Number(re.tax)/100,ue=re.retention===""?0:Number(re.retention)/100,fe=z+z*J-z*ue;return N.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[N.jsx("div",{className:"col-span-3",children:N.jsxs(ws,{value:re.productId,onChange:ge=>ne(ve,"productId",ge.target.value),children:[N.jsx("option",{value:"",children:"Seleccione producto"}),a.map(ge=>N.jsxs("option",{value:ge.id,children:[ge.code," - ",ge.name]},ge.id))]})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:re.quantity,min:"1",onChange:ge=>ne(ve,"quantity",ge.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:re.price,onChange:ge=>ne(ve,"price",ge.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:re.discount,onChange:ge=>ne(ve,"discount",ge.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsxs(ws,{value:re.tax,onChange:ge=>ne(ve,"tax",ge.target.value),children:[N.jsx("option",{value:"",children:" "}),N.jsx("option",{value:0,children:"0% (Exento)"}),N.jsx("option",{value:5,children:"5%"}),N.jsx("option",{value:19,children:"19%"})]})}),N.jsx("div",{className:"col-span-1",children:N.jsx(ws,{value:re.retention,onChange:ge=>ne(ve,"retention",ge.target.value),children:I.map(ge=>N.jsx("option",{value:ge.value,children:ge.label},ge.value))})}),N.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(fe)}),N.jsx("div",{className:"w-8 flex justify-center items-center",children:N.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>le(ve),children:Un.trash})})]},ve)}),N.jsx(xi,{type:"button",variant:"secondary",onClick:we,children:"Aadir tem"}),N.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[N.jsxs("p",{children:["Subtotal: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(Q)]})]}),N.jsxs("p",{children:["IVA: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(Se)]})]}),N.jsxs("p",{children:["Retenciones:"," ",N.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(O)]})]}),N.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(H)]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[N.jsxs(ws,{label:"Forma de Pago",value:B,onChange:re=>F(re.target.value),children:[N.jsx("option",{value:"Efectivo",children:"Efectivo"}),N.jsx("option",{value:"Crdito",children:"Crdito"})]}),N.jsx(zn,{label:"Observaciones",value:ee,onChange:re=>te(re.target.value)})]}),N.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[N.jsx(xi,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),N.jsx(xi,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})},mP=({isOpen:n,onClose:e,onSubmit:t,suppliers:r,products:a,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=ql(),[f,d]=ze.useState("FC-1-Compra"),[y,w]=ze.useState(""),[x,b]=ze.useState(()=>{const R=new Date;return new Date(R.getTime()-R.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[M,U]=ze.useState("FC"),[B,F]=ze.useState(""),[ee,te]=ze.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[Q,oe]=ze.useState("Efectivo"),[Se,$]=ze.useState(""),[O,P]=ze.useState(0),[H,C]=ze.useState(0),[I,k]=ze.useState(0),[ne,we]=ze.useState(0),le=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1}],me=R=>{if(!R)return"FC-001";const z=R.match(/^FC-(\d+)$/);if(!z)return null;const J=parseInt(z[1],10)+1;return`FC-${String(J).padStart(3,"0")}`};ze.useEffect(()=>{if(o){if(d(o.tipoFactura||"FC-1-Compra"),w(o.supplierId||""),b(o.date?new Date(o.date.seconds*1e3).toISOString().split("T")[0]:x),o.supplierInvoice){const R=o.supplierInvoice.split("-");U(R[0]||"FC"),F(R[1]||"")}te(o.items||[]),oe(o.paymentMethod||"Efectivo"),$(o.observaciones||"")}},[o,x]);const re=(R,z,J)=>{const ue=[...ee];if(ue[R][z]=J,z==="productId")if(J==="")ue[R]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const fe=a.find(ge=>ge.id===J);fe&&(ue[R].price=fe.unitValue||0,ue[R].tax=fe.iva??"",ue[R].code=fe.code||"",ue[R].name=fe.name||fe.description||"")}te(ue)},ve=()=>te([...ee,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),X=R=>te(ee.filter((z,J)=>J!==R));ze.useEffect(()=>{let R=0,z=0,J=0;ee.forEach(ue=>{const fe=Number(ue.quantity)||0,ge=Number(ue.price)||0,Le=(Number(ue.discount)||0)/100,ke=fe*ge*(1-Le),Fe=ue.tax===""?0:Number(ue.tax)/100,qe=ue.retention===""?0:Number(ue.retention)/100;R+=ke,z+=ke*Fe,J+=ke*qe}),P(R),C(z),k(J),we(R+z-J)},[ee]);const he=R=>{R.preventDefault();const z=o?o.invoiceNumber:me(u),J={id:o?.id||null,tipoFactura:f,supplierId:y,supplierInvoice:`${M}-${B}`,comprador:c?.name||"Usuario",date:new Date(x),items:ee.map(ue=>({...ue,quantity:Number(ue.quantity),price:Number(ue.price),discount:Number(ue.discount),tax:ue.tax===""?null:Number(ue.tax),retention:ue.retention===""?null:Number(ue.retention)})),paymentMethod:Q,observaciones:Se,subtotal:O,iva:H,retenciones:I,total:ne,invoiceNumber:z};t(J),e()};return N.jsx(Bd,{isOpen:n,onClose:e,title:o?"Editar Factura de Compra":"Nueva Factura de Compra",children:N.jsxs("form",{onSubmit:he,className:"space-y-4",children:[!o&&N.jsx("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:u?N.jsxs(N.Fragment,{children:[N.jsxs("p",{children:["ltima factura registrada: ",N.jsx("b",{children:u})]}),me(u)&&N.jsxs("p",{children:["Siguiente sugerida:"," ",N.jsx("b",{children:me(u)})]})]}):N.jsxs("p",{children:["No hay facturas registradas an. Sugerida: ",N.jsx("b",{children:"FC-001"})]})}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsx(ws,{label:"Tipo de Factura",value:f,onChange:R=>d(R.target.value),required:!0,children:N.jsx("option",{value:"FC-1-Compra",children:"FC-1-Compra"})}),N.jsxs(ws,{label:"Proveedor",value:y,onChange:R=>w(R.target.value),required:!0,children:[N.jsx("option",{value:"",children:"Seleccione un proveedor"}),r.map(R=>N.jsxs("option",{value:R.id,children:[R.name," - ",R.idNumber]},R.id))]}),N.jsx(zn,{label:"Fecha de Elaboracin",type:"date",value:x,onChange:R=>b(R.target.value)}),N.jsxs("div",{className:"flex items-end space-x-2",children:[N.jsx(zn,{label:"N Factura Proveedor (Prefijo)",value:M,onChange:R=>U(R.target.value)}),N.jsx(zn,{label:"Consecutivo",value:B,onChange:R=>F(R.target.value)})]}),N.jsx(zn,{label:"Comprador",value:c?.name||"",readOnly:!0})]}),N.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"tems de la Compra"}),N.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[N.jsx("div",{className:"col-span-3",children:"Producto"}),N.jsx("div",{className:"col-span-2",children:"Cantidad"}),N.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),N.jsx("div",{className:"col-span-2",children:"% Desc."}),N.jsx("div",{className:"col-span-2",children:"Impuesto"}),N.jsx("div",{className:"col-span-1",children:"% Ret."}),N.jsx("div",{className:"col-span-1",children:"Valor Total"}),N.jsx("div",{className:"w-8 flex justify-center"})]}),ee.map((R,z)=>{const J=Number(R.quantity)||0,ue=Number(R.price)||0,fe=(Number(R.discount)||0)/100,ge=J*ue*(1-fe),Le=R.tax===""?0:Number(R.tax)/100,ke=R.retention===""?0:Number(R.retention)/100,Fe=ge+ge*Le-ge*ke;return N.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[N.jsx("div",{className:"col-span-3",children:N.jsxs(ws,{value:R.productId,onChange:qe=>re(z,"productId",qe.target.value),children:[N.jsx("option",{value:"",children:"Seleccione producto"}),a.map(qe=>N.jsxs("option",{value:qe.id,children:[qe.code," - ",qe.name]},qe.id))]})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:R.quantity,min:"1",onChange:qe=>re(z,"quantity",qe.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:R.price,onChange:qe=>re(z,"price",qe.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:R.discount,onChange:qe=>re(z,"discount",qe.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsxs(ws,{value:R.tax,onChange:qe=>re(z,"tax",qe.target.value),children:[N.jsx("option",{value:"",children:" "}),N.jsx("option",{value:0,children:"0% (Exento)"}),N.jsx("option",{value:5,children:"5%"}),N.jsx("option",{value:19,children:"19%"})]})}),N.jsx("div",{className:"col-span-1",children:N.jsx(ws,{value:R.retention,onChange:qe=>re(z,"retention",qe.target.value),children:le.map(qe=>N.jsx("option",{value:qe.value,children:qe.label},qe.value))})}),N.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(Fe)}),N.jsx("div",{className:"w-8 flex justify-center items-center",children:N.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>X(z),children:Un.trash})})]},z)}),N.jsx(xi,{type:"button",variant:"secondary",onClick:ve,children:"Aadir tem"}),N.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[N.jsxs("p",{children:["Subtotal: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(O)]})]}),N.jsxs("p",{children:["IVA: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(H)]})]}),N.jsxs("p",{children:["Retenciones:"," ",N.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(I)]})]}),N.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(ne)]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[N.jsxs(ws,{label:"Forma de Pago",value:Q,onChange:R=>oe(R.target.value),children:[N.jsx("option",{value:"Efectivo",children:"Efectivo"}),N.jsx("option",{value:"Crdito",children:"Crdito"})]}),N.jsx(zn,{label:"Observaciones",value:Se,onChange:R=>$(R.target.value)})]}),N.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[N.jsx(xi,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),N.jsx(xi,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})},cS=({isOpen:n,onClose:e,invoice:t,entityName:r="Cliente",onDownloadPDF:a})=>{if(!n||!t)return null;const o=()=>{typeof a=="function"?a(t):console.warn("InvoiceDetailModal: onDownloadPDF no est definido.")};return N.jsxs(Bd,{isOpen:n,onClose:e,title:"Detalle de Factura",children:[N.jsxs("div",{className:"space-y-3 text-sm",children:[N.jsxs("p",{children:[N.jsx("b",{children:"Nmero:"})," ",t.invoiceNumber]}),N.jsxs("p",{children:[N.jsx("b",{children:"Fecha:"})," ",t.date?.seconds?new Date(t.date.seconds*1e3).toLocaleDateString():"N/A"]}),N.jsxs("p",{children:[N.jsxs("b",{children:[r,":"]})," ",r==="Cliente"?t.clientName||t.clientId:t.supplierName||t.supplierId]}),t.vendedor&&N.jsxs("p",{children:[N.jsx("b",{children:"Vendedor:"})," ",t.vendedor]}),N.jsxs("table",{className:"w-full border text-xs",children:[N.jsx("thead",{className:"bg-gray-100",children:N.jsxs("tr",{children:[N.jsx("th",{children:"Producto"}),N.jsx("th",{children:"Cant."}),N.jsx("th",{children:"Precio"}),N.jsx("th",{children:"Desc."}),N.jsx("th",{children:"IVA"}),N.jsx("th",{children:"Ret."}),N.jsx("th",{children:"Total"})]})}),N.jsx("tbody",{children:t.items.map((u,c)=>{const f=u.quantity,d=u.price*f*(1-(u.discount||0)/100),y=d*((u.tax||0)/100),w=d*((u.retention||0)/100),x=d+y-w;return N.jsxs("tr",{children:[N.jsx("td",{children:u.name}),N.jsx("td",{children:f}),N.jsxs("td",{children:["$",u.price]}),N.jsxs("td",{children:[u.discount??0,"%"]}),N.jsxs("td",{children:[u.tax??0,"%"]}),N.jsxs("td",{children:[u.retention??0,"%"]}),N.jsxs("td",{children:["$",x.toFixed(2)]})]},c)})})]}),N.jsxs("div",{className:"text-right space-y-1",children:[N.jsxs("p",{children:["Subtotal: $",t.subtotal?.toFixed(2)]}),N.jsxs("p",{children:["IVA: $",t.iva?.toFixed(2)]}),N.jsxs("p",{children:["Retenciones: -$",t.retenciones?.toFixed(2)]}),N.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",t.total?.toFixed(2)]})]})]}),N.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[N.jsx(xi,{variant:"secondary",onClick:e,children:"Cerrar"}),N.jsx(xi,{variant:"primary",onClick:o,children:"Descargar PDF"})]})]})};function gP(){return N.jsxs(oP,{children:[N.jsx(yP,{}),N.jsx(fE,{position:"top-right",reverseOrder:!1})]})}const yP=()=>{const{user:n,loading:e,error:t}=ql();return e?N.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-50",children:N.jsx(qd,{})}):t?N.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-50 p-4",children:N.jsx(uS,{message:t})}):n?N.jsx(uP,{}):N.jsx(lP,{})};xx.createRoot(document.getElementById("root")).render(N.jsx(ze.StrictMode,{children:N.jsx(gP,{})}));export{Xn as _,vP as c,dx as g};
