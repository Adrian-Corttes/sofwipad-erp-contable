(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var FO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var V1={exports:{}},Wf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function gx(){if(L5)return Wf;L5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Wf.Fragment=e,Wf.jsx=t,Wf.jsxs=t,Wf}var k5;function yx(){return k5||(k5=1,V1.exports=gx()),V1.exports}var N=yx(),F1={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P5;function vx(){if(P5)return sn;P5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(Y){return Y===null||typeof Y!="object"?null:(Y=w&&Y[w]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function q(Y,he,C){this.props=Y,this.context=he,this.refs=F,this.updater=C||b}q.prototype.isReactComponent={},q.prototype.setState=function(Y,he){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,he,"setState")},q.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function U(){}U.prototype=q.prototype;function te(Y,he,C){this.props=Y,this.context=he,this.refs=F,this.updater=C||b}var re=te.prototype=new U;re.constructor=te,M(re,q.prototype),re.isPureReactComponent=!0;var X=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function $(Y,he,C,B,Z,ue){return C=ue.ref,{$$typeof:n,type:Y,key:he,ref:C!==void 0?C:null,props:ue}}function O(Y,he){return $(Y.type,he,void 0,void 0,void 0,Y.props)}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function H(Y){var he={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(C){return he[C]})}var I=/\/+/g;function P(Y,he){return typeof Y=="object"&&Y!==null&&Y.key!=null?H(""+Y.key):he.toString(36)}function R(){}function ee(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(R,R):(Y.status="pending",Y.then(function(he){Y.status==="pending"&&(Y.status="fulfilled",Y.value=he)},function(he){Y.status==="pending"&&(Y.status="rejected",Y.reason=he)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ge(Y,he,C,B,Z){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var fe=!1;if(Y===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Y.$$typeof){case n:case e:fe=!0;break;case y:return fe=Y._init,ge(fe(Y._payload),he,C,B,Z)}}if(fe)return Z=Z(Y),fe=B===""?"."+P(Y,0):B,X(Z)?(C="",fe!=null&&(C=fe.replace(I,"$&/")+"/"),ge(Z,he,C,"",function(ke){return ke})):Z!=null&&(k(Z)&&(Z=O(Z,C+(Z.key==null||Y&&Y.key===Z.key?"":(""+Z.key).replace(I,"$&/")+"/")+fe)),he.push(Z)),1;fe=0;var ye=B===""?".":B+":";if(X(Y))for(var Ce=0;Ce<Y.length;Ce++)B=Y[Ce],ue=ye+P(B,Ce),fe+=ge(B,he,C,ue,Z);else if(Ce=E(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(B=Y.next()).done;)B=B.value,ue=ye+P(B,Ce++),fe+=ge(B,he,C,ue,Z);else if(ue==="object"){if(typeof Y.then=="function")return ge(ee(Y),he,C,B,Z);throw he=String(Y),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return fe}function ne(Y,he,C){if(Y==null)return Y;var B=[],Z=0;return ge(Y,B,"","",function(ue){return he.call(C,ue,Z++)}),B}function pe(Y){if(Y._status===-1){var he=Y._result;he=he(),he.then(function(C){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=C)},function(C){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=C)}),Y._status===-1&&(Y._status=0,Y._result=he)}if(Y._status===1)return Y._result.default;throw Y._result}var ie=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function be(){}return sn.Children={map:ne,forEach:function(Y,he,C){ne(Y,function(){he.apply(this,arguments)},C)},count:function(Y){var he=0;return ne(Y,function(){he++}),he},toArray:function(Y){return ne(Y,function(he){return he})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},sn.Component=q,sn.Fragment=t,sn.Profiler=s,sn.PureComponent=te,sn.StrictMode=r,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,sn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return le.H.useMemoCache(Y)}},sn.cache=function(Y){return function(){return Y.apply(null,arguments)}},sn.cloneElement=function(Y,he,C){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var B=M({},Y.props),Z=Y.key,ue=void 0;if(he!=null)for(fe in he.ref!==void 0&&(ue=void 0),he.key!==void 0&&(Z=""+he.key),he)!Se.call(he,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&he.ref===void 0||(B[fe]=he[fe]);var fe=arguments.length-2;if(fe===1)B.children=C;else if(1<fe){for(var ye=Array(fe),Ce=0;Ce<fe;Ce++)ye[Ce]=arguments[Ce+2];B.children=ye}return $(Y.type,Z,void 0,void 0,ue,B)},sn.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},sn.createElement=function(Y,he,C){var B,Z={},ue=null;if(he!=null)for(B in he.key!==void 0&&(ue=""+he.key),he)Se.call(he,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(Z[B]=he[B]);var fe=arguments.length-2;if(fe===1)Z.children=C;else if(1<fe){for(var ye=Array(fe),Ce=0;Ce<fe;Ce++)ye[Ce]=arguments[Ce+2];Z.children=ye}if(Y&&Y.defaultProps)for(B in fe=Y.defaultProps,fe)Z[B]===void 0&&(Z[B]=fe[B]);return $(Y,ue,void 0,void 0,null,Z)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(Y){return{$$typeof:c,render:Y}},sn.isValidElement=k,sn.lazy=function(Y){return{$$typeof:y,_payload:{_status:-1,_result:Y},_init:pe}},sn.memo=function(Y,he){return{$$typeof:d,type:Y,compare:he===void 0?null:he}},sn.startTransition=function(Y){var he=le.T,C={};le.T=C;try{var B=Y(),Z=le.S;Z!==null&&Z(C,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(be,ie)}catch(ue){ie(ue)}finally{le.T=he}},sn.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},sn.use=function(Y){return le.H.use(Y)},sn.useActionState=function(Y,he,C){return le.H.useActionState(Y,he,C)},sn.useCallback=function(Y,he){return le.H.useCallback(Y,he)},sn.useContext=function(Y){return le.H.useContext(Y)},sn.useDebugValue=function(){},sn.useDeferredValue=function(Y,he){return le.H.useDeferredValue(Y,he)},sn.useEffect=function(Y,he,C){var B=le.H;if(typeof C=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(Y,he)},sn.useId=function(){return le.H.useId()},sn.useImperativeHandle=function(Y,he,C){return le.H.useImperativeHandle(Y,he,C)},sn.useInsertionEffect=function(Y,he){return le.H.useInsertionEffect(Y,he)},sn.useLayoutEffect=function(Y,he){return le.H.useLayoutEffect(Y,he)},sn.useMemo=function(Y,he){return le.H.useMemo(Y,he)},sn.useOptimistic=function(Y,he){return le.H.useOptimistic(Y,he)},sn.useReducer=function(Y,he,C){return le.H.useReducer(Y,he,C)},sn.useRef=function(Y){return le.H.useRef(Y)},sn.useState=function(Y){return le.H.useState(Y)},sn.useSyncExternalStore=function(Y,he,C){return le.H.useSyncExternalStore(Y,he,C)},sn.useTransition=function(){return le.H.useTransition()},sn.version="19.1.1",sn}var D5;function w2(){return D5||(D5=1,F1.exports=vx()),F1.exports}var ze=w2();const _x=mx(ze);var U1={exports:{}},Yf={},B1={exports:{}},q1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5;function bx(){return O5||(O5=1,(function(n){function e(ne,pe){var ie=ne.length;ne.push(pe);e:for(;0<ie;){var be=ie-1>>>1,Y=ne[be];if(0<s(Y,pe))ne[be]=pe,ne[ie]=Y,ie=be;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],ie=ne.pop();if(ie!==pe){ne[0]=ie;e:for(var be=0,Y=ne.length,he=Y>>>1;be<he;){var C=2*(be+1)-1,B=ne[C],Z=C+1,ue=ne[Z];if(0>s(B,ie))Z<Y&&0>s(ue,B)?(ne[be]=ue,ne[Z]=ie,be=Z):(ne[be]=B,ne[C]=ie,be=C);else if(Z<Y&&0>s(ue,ie))ne[be]=ue,ne[Z]=ie,be=Z;else break e}}return pe}function s(ne,pe){var ie=ne.sortIndex-pe.sortIndex;return ie!==0?ie:ne.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],y=1,w=null,E=3,b=!1,M=!1,F=!1,q=!1,U=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function X(ne){for(var pe=t(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=ne)r(d),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(d)}}function le(ne){if(F=!1,X(ne),!M)if(t(f)!==null)M=!0,Se||(Se=!0,P());else{var pe=t(d);pe!==null&&ge(le,pe.startTime-ne)}}var Se=!1,$=-1,O=5,k=-1;function H(){return q?!0:!(n.unstable_now()-k<O)}function I(){if(q=!1,Se){var ne=n.unstable_now();k=ne;var pe=!0;try{e:{M=!1,F&&(F=!1,te($),$=-1),b=!0;var ie=E;try{t:{for(X(ne),w=t(f);w!==null&&!(w.expirationTime>ne&&H());){var be=w.callback;if(typeof be=="function"){w.callback=null,E=w.priorityLevel;var Y=be(w.expirationTime<=ne);if(ne=n.unstable_now(),typeof Y=="function"){w.callback=Y,X(ne),pe=!0;break t}w===t(f)&&r(f),X(ne)}else r(f);w=t(f)}if(w!==null)pe=!0;else{var he=t(d);he!==null&&ge(le,he.startTime-ne),pe=!1}}break e}finally{w=null,E=ie,b=!1}pe=void 0}}finally{pe?P():Se=!1}}}var P;if(typeof re=="function")P=function(){re(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=I,P=function(){ee.postMessage(null)}}else P=function(){U(I,0)};function ge(ne,pe){$=U(function(){ne(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var ie=E;E=pe;try{return ne()}finally{E=ie}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ie=E;E=ne;try{return pe()}finally{E=ie}},n.unstable_scheduleCallback=function(ne,pe,ie){var be=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?be+ie:be):ie=be,ne){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ie+Y,ne={id:y++,callback:pe,priorityLevel:ne,startTime:ie,expirationTime:Y,sortIndex:-1},ie>be?(ne.sortIndex=ie,e(d,ne),t(f)===null&&ne===t(d)&&(F?(te($),$=-1):F=!0,ge(le,ie-be))):(ne.sortIndex=Y,e(f,ne),M||b||(M=!0,Se||(Se=!0,P()))),ne},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(ne){var pe=E;return function(){var ie=E;E=pe;try{return ne.apply(this,arguments)}finally{E=ie}}}})(q1)),q1}var M5;function wx(){return M5||(M5=1,B1.exports=bx()),B1.exports}var z1={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function Ax(){if(j5)return ds;j5=1;var n=w2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ds.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,y)},ds.flushSync=function(f){var d=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=y,r.d.f()}},ds.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ds.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ds.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,w=c(y,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:b}):y==="script"&&r.d.X(f,{crossOrigin:w,integrity:E,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ds.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ds.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,w=c(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ds.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ds.requestFormReset=function(f){r.d.r(f)},ds.unstable_batchedUpdates=function(f,d){return f(d)},ds.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},ds.useFormStatus=function(){return u.H.useHostTransitionStatus()},ds.version="19.1.1",ds}var V5;function Sx(){if(V5)return z1.exports;V5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),z1.exports=Ax(),z1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5;function Ex(){if(F5)return Yf;F5=1;var n=wx(),e=w2(),t=Sx();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return c(g),i;if(_===h)return c(g),a;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=_;else{for(var D=!1,W=g.child;W;){if(W===l){D=!0,l=g,h=_;break}if(W===h){D=!0,h=g,l=_;break}W=W.sibling}if(!D){for(W=_.child;W;){if(W===l){D=!0,l=_,h=g;break}if(W===h){D=!0,h=_,l=g;break}W=W.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case Se:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case re:return(i.displayName||"Context")+".Provider";case te:return(i._context.displayName||"Context")+".Consumer";case X:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return a=i.displayName||null,a!==null?a:ee(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return ee(i(a))}catch{}}return null}var ge=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},be=[],Y=-1;function he(i){return{current:i}}function C(i){0>Y||(i.current=be[Y],be[Y]=null,Y--)}function B(i,a){Y++,be[Y]=i.current,i.current=a}var Z=he(null),ue=he(null),fe=he(null),ye=he(null);function Ce(i,a){switch(B(fe,a),B(ue,i),B(Z,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?s5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=s5(a),i=a5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}C(Z),B(Z,i)}function ke(){C(Z),C(ue),C(fe)}function Ue(i){i.memoizedState!==null&&B(ye,i);var a=Z.current,l=a5(a,i.type);a!==l&&(B(ue,i),B(Z,l))}function qe(i){ue.current===i&&(C(Z),C(ue)),ye.current===i&&(C(ye),qf._currentValue=ie)}var nt=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,ce=n.unstable_shouldYield,tn=n.unstable_requestPaint,Nt=n.unstable_now,xt=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,Yt=n.unstable_LowPriority,_t=n.unstable_IdlePriority,mn=n.log,Bt=n.unstable_setDisableYieldValue,ct=null,wt=null;function Tt(i){if(typeof mn=="function"&&Bt(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ct,i)}catch{}}var st=Math.clz32?Math.clz32:Tn,Lt=Math.log,bt=Math.LN2;function Tn(i){return i>>>=0,i===0?32:31-(Lt(i)/bt|0)|0}var an=256,ht=4194304;function It(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nn(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,_=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var W=h&134217727;return W!==0?(h=W&~_,h!==0?g=It(h):(D&=W,D!==0?g=It(D):l||(l=W&~i,l!==0&&(g=It(l))))):(W=h&~_,W!==0?g=It(W):D!==0?g=It(D):l||(l=h&~i,l!==0&&(g=It(l)))),g===0?0:a!==0&&a!==g&&(a&_)===0&&(_=g&-g,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:g}function At(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function nn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var i=an;return an<<=1,(an&4194048)===0&&(an=256),i}function ir(){var i=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),i}function Gn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function gn(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pt(i,a,l,h,g,_){var D=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var W=i.entanglements,de=i.expirationTimes,Le=i.hiddenUpdates;for(l=D&~l;0<l;){var He=31-st(l),Ye=1<<He;W[He]=0,de[He]=-1;var Pe=Le[He];if(Pe!==null)for(Le[He]=null,He=0;He<Pe.length;He++){var De=Pe[He];De!==null&&(De.lane&=-536870913)}l&=~Ye}h!==0&&rn(i,h,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(D&~a))}function rn(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-st(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Js(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-st(l),g=1<<h;g&a|i[h]&a&&(i[h]|=a),l&=~g}}function pr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function di(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:x5(i.type))}function Ct(i,a){var l=pe.p;try{return pe.p=i,a()}finally{pe.p=l}}var In=Math.random().toString(36).slice(2),$n="__reactFiber$"+In,Pn="__reactProps$"+In,mr="__reactContainer$"+In,Zn="__reactEvents$"+In,Vr="__reactListeners$"+In,cr="__reactHandles$"+In,va="__reactResources$"+In,is="__reactMarker$"+In;function si(i){delete i[$n],delete i[Pn],delete i[Zn],delete i[Vr],delete i[cr]}function ai(i){var a=i[$n];if(a)return a;for(var l=i.parentNode;l;){if(a=l[mr]||l[$n]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=c5(i);i!==null;){if(l=i[$n])return l;i=c5(i)}return a}i=l,l=i.parentNode}return null}function Fr(i){if(i=i[$n]||i[mr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ur(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Jn(i){var a=i[va];return a||(a=i[va]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wn(i){i[is]=!0}var ss=new Set,Ms={};function xi(i,a){as(i,a),as(i+"Capture",a)}function as(i,a){for(Ms[i]=a,i=0;i<a.length;i++)ss.add(a[i])}var Xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},ea={};function ul(i){return nt.call(ea,i)?!0:nt.call(Yl,i)?!1:Xa.test(i)?ea[i]=!0:(Yl[i]=!0,!1)}function ta(i,a,l){if(ul(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ir(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Cr(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var _a,Co;function js(i){if(_a===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);_a=a&&a[1]||"",Co=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+i+Co}var Za=!1;function Ja(i,a){if(!i||Za)return"";Za=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var Pe=De}Reflect.construct(i,[],Ye)}else{try{Ye.call()}catch(De){Pe=De}i.call(Ye.prototype)}}else{try{throw Error()}catch(De){Pe=De}(Ye=i())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&Pe&&typeof De.stack=="string")return[De.stack,Pe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),D=_[0],W=_[1];if(D&&W){var de=D.split(`
`),Le=W.split(`
`);for(g=h=0;h<de.length&&!de[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(h===de.length||g===Le.length)for(h=de.length-1,g=Le.length-1;1<=h&&0<=g&&de[h]!==Le[g];)g--;for(;1<=h&&0<=g;h--,g--)if(de[h]!==Le[g]){if(h!==1||g!==1)do if(h--,g--,0>g||de[h]!==Le[g]){var He=`
`+de[h].replace(" at new "," at ");return i.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",i.displayName)),He}while(1<=h&&0<=g);break}}}finally{Za=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?js(l):""}function ba(i){switch(i.tag){case 26:case 27:case 5:return js(i.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Ja(i.type,!1);case 11:return Ja(i.type.render,!1);case 1:return Ja(i.type,!0);case 31:return js("Activity");default:return""}}function Ro(i){try{var a="";do a+=ba(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lo(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kl(i){var a=Lo(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(D){h=""+D,_.call(this,D)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function os(i){i._valueTracker||(i._valueTracker=Kl(i))}function na(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Lo(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eo=/[\n"\\]/g;function en(i){return i.replace(eo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function mi(i,a,l,h,g,_,D,W){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+_n(a)):i.value!==""+_n(a)&&(i.value=""+_n(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?wa(i,D,_n(a)):l!=null?wa(i,D,_n(l)):h!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.name=""+_n(W):i.removeAttribute("name")}function to(i,a,l,h,g,_,D,W){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;l=l!=null?""+_n(l):"",a=a!=null?""+_n(a):l,W||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=W?i.checked:!!h,i.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function wa(i,a,l){a==="number"&&pi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ra(i,a,l,h){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+_n(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function on(i,a,l){if(a!=null&&(a=""+_n(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+_n(l):""}function Aa(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(ge(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=_n(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Vi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||ls.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function cl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&ko(i,g,h)}else for(var _ in a)a.hasOwnProperty(_)&&ko(i,_,a[_])}function hl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(i){return fl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ti=null;function us(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,Es=null;function Dt(i){var a=Fr(i);if(a&&(i=a.stateNode)){var l=i[Pn]||null;e:switch(i=a.stateNode,a.type){case"input":if(mi(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var g=h[Pn]||null;if(!g)throw Error(r(90));mi(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&na(h)}break e;case"textarea":on(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ra(i,!!l.multiple,a,!1)}}}var Fs=!1;function Ql(i,a,l){if(Fs)return i(a,l);Fs=!0;try{var h=i(a);return h}finally{if(Fs=!1,(Fi!==null||Es!==null)&&(Cp(),Fi&&(a=Fi,i=Es,Es=Fi=null,Dt(a),i)))for(a=0;a<i.length;a++)Dt(i[a])}}function no(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Pn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(xs)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Br=!1}var Us=null,Sa=null,cs=null;function ro(){if(cs)return cs;var i,a=Sa,l=a.length,h,g="value"in Us?Us.value:Us.textContent,_=g.length;for(i=0;i<l&&a[i]===g[i];i++);var D=l-i;for(h=1;h<=D&&a[l-h]===g[_-h];h++);return cs=g.slice(i,1<h?1-h:void 0)}function Ni(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bi(){return!0}function Ea(){return!1}function qr(i){function a(l,h,g,_,D){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(l=i[W],this[W]=l?l(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Bi:Ea,this.isPropagationStopped=Ea,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),a}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=qr(bn),Ts=y({},bn,{view:0,detail:0}),Ta=qr(Ts),Na,ia,hs,Ns=y({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ln,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hs&&(hs&&i.type==="mousemove"?(Na=i.screenX-hs.screenX,ia=i.screenY-hs.screenY):ia=Na=0,hs=i),Na)},movementY:function(i){return"movementY"in i?i.movementY:ia}}),Ii=qr(Ns),Po=y({},Ns,{dataTransfer:0}),qi=qr(Po),Ci=y({},Ts,{relatedTarget:0}),A=qr(Ci),j=y({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),ae=qr(j),me=y({},bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ae=qr(me),Be=y({},bn,{data:0}),Ke=qr(Be),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=kt[i])?!!a[i]:!1}function ln(){return qt}var er=y({},Ts,{key:function(i){if(i.key){var a=at[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ni(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ln,charCode:function(i){return i.type==="keypress"?Ni(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ni(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sr=qr(er),Dn=y({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=qr(Dn),Bn=y({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ln}),zr=qr(Bn),Bs=y({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sa=qr(Bs),Xl=y({},Ns,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=qr(Xl),Rr=y({},bn,{newState:0,oldState:0}),fs=qr(Rr),Do=[9,13,27,32],zi=xs&&"CompositionEvent"in window,m=null;xs&&"documentMode"in document&&(m=document.documentMode);var x=xs&&"TextEvent"in window&&!m,L=xs&&(!zi||m&&8<m&&11>=m),Q=" ",xe=!1;function Oe(i,a){switch(i){case"keyup":return Do.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ze(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var un=!1;function hr(i,a){switch(i){case"compositionend":return Ze(a);case"keypress":return a.which!==32?null:(xe=!0,Q);case"textInput":return i=a.data,i===Q&&xe?null:i;default:return null}}function cn(i,a){if(un)return i==="compositionend"||!zi&&Oe(i,a)?(i=ro(),cs=Sa=Us=null,un=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return L&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!fn[i.type]:a==="textarea"}function Is(i,a,l,h){Fi?Es?Es.push(h):Es=[h]:Fi=h,a=Op(a,"onChange"),0<a.length&&(l=new xa("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var Lr=null,gi=null;function Ia(i){e5(i,0)}function yi(i){var a=Ur(i);if(na(a))return i}function Hi(i,a){if(i==="change")return a}var Oo=!1;if(xs){var qs;if(xs){var Ca="oninput"in document;if(!Ca){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),Ca=typeof Zl.oninput=="function"}qs=Ca}else qs=!1;Oo=qs&&(!document.documentMode||9<document.documentMode)}function so(){Lr&&(Lr.detachEvent("onpropertychange",wr),gi=Lr=null)}function wr(i){if(i.propertyName==="value"&&yi(gi)){var a=[];Is(a,gi,i,us(i)),Ql(Ia,a)}}function nf(i,a,l){i==="focusin"?(so(),Lr=a,gi=l,Lr.attachEvent("onpropertychange",wr)):i==="focusout"&&so()}function Ra(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yi(gi)}function La(i,a){if(i==="click")return yi(a)}function Jl(i,a){if(i==="input"||i==="change")return yi(a)}function tc(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var oi=typeof Object.is=="function"?Object.is:tc;function ka(i,a){if(oi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!nt.call(a,g)||!oi(i[g],a[g]))return!1}return!0}function Mo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jo(i,a){var l=Mo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mo(l)}}function Pa(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Pa(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function eu(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=pi(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=pi(i.document)}return a}function Gi(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Da=xs&&"documentMode"in document&&11>=document.documentMode,On=null,qn=null,ar=null,yr=!1;function Oa(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yr||On==null||On!==pi(h)||(h=On,"selectionStart"in h&&Gi(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ar&&ka(ar,h)||(ar=h,h=Op(qn,"onSelect"),0<h.length&&(a=new xa("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=On)))}function zs(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var $i={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},dl={},rf={};xs&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Vo(i){if(dl[i])return dl[i];if(!$i[i])return i;var a=$i[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in rf)return dl[i]=a[l];return i}var sf=Vo("animationend"),af=Vo("animationiteration"),of=Vo("animationstart"),Qd=Vo("transitionrun"),Xd=Vo("transitionstart"),Zd=Vo("transitioncancel"),lf=Vo("transitionend"),uf=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Hs(i,a){uf.set(i,a),xi(a,[i])}var tu=new WeakMap;function Cs(i,a){if(typeof i=="object"&&i!==null){var l=tu.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ro(a)},tu.set(i,a),a)}return{value:i,source:a,stack:Ro(a)}}var Rs=[],pl=0,Gc=0;function nc(){for(var i=pl,a=Gc=pl=0;a<i;){var l=Rs[a];Rs[a++]=null;var h=Rs[a];Rs[a++]=null;var g=Rs[a];Rs[a++]=null;var _=Rs[a];if(Rs[a++]=null,h!==null&&g!==null){var D=h.pending;D===null?g.next=g:(g.next=D.next,D.next=g),h.pending=g}_!==0&&Wc(l,g,_)}}function rc(i,a,l,h){Rs[pl++]=i,Rs[pl++]=a,Rs[pl++]=l,Rs[pl++]=h,Gc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function $c(i,a,l,h){return rc(i,a,l,h),gl(i)}function ml(i,a){return rc(i,null,null,a),gl(i)}function Wc(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&a!==null&&(g=31-st(l),i=_.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=l|536870912),_):null}function gl(i){if(50<Df)throw Df=0,l1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var li={};function Gs(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(i,a,l,h){return new Gs(i,a,l,h)}function nu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ma(i,a){var l=i.alternate;return l===null?(l=Ri(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ic(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function yl(i,a,l,h,g,_){var D=0;if(h=i,typeof i=="function")nu(i)&&(D=1);else if(typeof i=="string")D=nx(i,l,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Ri(31,l,a,g),i.elementType=k,i.lanes=_,i;case M:return ao(l.children,g,_,a);case F:D=8,g|=24;break;case q:return i=Ri(12,l,a,g|2),i.elementType=q,i.lanes=_,i;case le:return i=Ri(13,l,a,g),i.elementType=le,i.lanes=_,i;case Se:return i=Ri(19,l,a,g),i.elementType=Se,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case re:D=10;break e;case te:D=9;break e;case X:D=11;break e;case $:D=14;break e;case O:D=16,h=null;break e}D=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Ri(D,l,a,g),a.elementType=i,a.type=h,a.lanes=_,a}function ao(i,a,l,h){return i=Ri(7,i,h,a),i.lanes=l,i}function Yc(i,a,l){return i=Ri(6,i,null,a),i.lanes=l,i}function sc(i,a,l){return a=Ri(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Fo=[],oo=0,ru=null,Kc=0,$s=[],Ls=0,vl=null,lo=1,uo="";function _l(i,a){Fo[oo++]=Kc,Fo[oo++]=ru,ru=i,Kc=a}function Jd(i,a,l){$s[Ls++]=lo,$s[Ls++]=uo,$s[Ls++]=vl,vl=i;var h=lo;i=uo;var g=32-st(h)-1;h&=~(1<<g),l+=1;var _=32-st(a)+g;if(30<_){var D=g-g%5;_=(h&(1<<D)-1).toString(32),h>>=D,g-=D,lo=1<<32-st(a)+g|l<<g|h,uo=_+i}else lo=1<<_|l<<g|h,uo=i}function ac(i){i.return!==null&&(_l(i,1),Jd(i,1,0))}function oc(i){for(;i===ru;)ru=Fo[--oo],Fo[oo]=null,Kc=Fo[--oo],Fo[oo]=null;for(;i===vl;)vl=$s[--Ls],$s[Ls]=null,uo=$s[--Ls],$s[Ls]=null,lo=$s[--Ls],$s[Ls]=null}var Yr=null,Ar=null,Mn=!1,Uo=null,ja=!1,cf=Error(r(519));function bl(i){var a=Error(r(418,""));throw iu(Cs(a,i)),cf}function ep(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[$n]=i,a[Pn]=h,l){case"dialog":vn("cancel",a),vn("close",a);break;case"iframe":case"object":case"embed":vn("load",a);break;case"video":case"audio":for(l=0;l<Mf.length;l++)vn(Mf[l],a);break;case"source":vn("error",a);break;case"img":case"image":case"link":vn("error",a),vn("load",a);break;case"details":vn("toggle",a);break;case"input":vn("invalid",a),to(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),os(a);break;case"select":vn("invalid",a);break;case"textarea":vn("invalid",a),Aa(a,h.value,h.defaultValue,h.children),os(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||i5(a.textContent,l)?(h.popover!=null&&(vn("beforetoggle",a),vn("toggle",a)),h.onScroll!=null&&vn("scroll",a),h.onScrollEnd!=null&&vn("scrollend",a),h.onClick!=null&&(a.onclick=Mp),a=!0):a=!1,a||bl(i)}function co(i){for(Yr=i.return;Yr;)switch(Yr.tag){case 5:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:Yr=Yr.return}}function Wi(i){if(i!==Yr)return!1;if(!Mn)return co(i),Mn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||E1(i.type,i.memoizedProps)),l=!l),l&&Ar&&bl(i),co(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Ar=_o(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Ar=null}}else a===27?(a=Ar,bu(i.type)?(i=I1,I1=null,Ar=i):Ar=a):Ar=Yr?_o(i.stateNode.nextSibling):null;return!0}function ks(){Ar=Yr=null,Mn=!1}function tp(){var i=Uo;return i!==null&&(Ys===null?Ys=i:Ys.push.apply(Ys,i),Uo=null),i}function iu(i){Uo===null?Uo=[i]:Uo.push(i)}var Va=he(null),ui=null,ho=null;function Bo(i,a,l){B(Va,a._currentValue),a._currentValue=l}function Fa(i){i._currentValue=Va.current,C(Va)}function Qc(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Xc(i,a,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var D=g.child;_=_.firstContext;e:for(;_!==null;){var W=_;_=g;for(var de=0;de<a.length;de++)if(W.context===a[de]){_.lanes|=l,W=_.alternate,W!==null&&(W.lanes|=l),Qc(_.return,l,i),h||(D=null);break e}_=W.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(r(341));D.lanes|=l,_=D.alternate,_!==null&&(_.lanes|=l),Qc(D,l,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function su(i,a,l,h){i=null;for(var g=a,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var W=g.type;oi(g.pendingProps.value,D.value)||(i!==null?i.push(W):i=[W])}}else if(g===ye.current){if(D=g.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qf):i=[qf])}g=g.return}i!==null&&Xc(a,i,l,h),a.flags|=262144}function Zc(i){for(i=i.firstContext;i!==null;){if(!oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ua(i){ui=i,ho=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kr(i){return Jc(ui,i)}function qo(i,a){return ui===null&&Ua(i),Jc(i,a)}function Jc(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ho===null){if(i===null)throw Error(r(308));ho=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ho=ho.next=a;return l}var Pg=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},np=n.unstable_scheduleCallback,Dg=n.unstable_NormalPriority,Qr={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new Pg,data:new Map,refCount:0}}function lc(i){i.refCount--,i.refCount===0&&np(Dg,function(){i.controller.abort()})}var uc=null,ff=0,wl=0,fo=null;function Og(i,a){if(uc===null){var l=uc=[];ff=0,wl=m1(),fo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return ff++,a.then(rp,rp),a}function rp(){if(--ff===0&&uc!==null){fo!==null&&(fo.status="fulfilled");var i=uc;uc=null,wl=0,fo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function ip(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var p=ne.S;ne.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Og(i,a),p!==null&&p(i,a)};var v=he(null);function S(){var i=v.current;return i!==null?i:fr.pooledCache}function T(i,a){a===null?B(v,v.current):B(v,a.pool)}function V(){var i=S();return i===null?null:{parent:Qr._currentValue,pool:i}}var z=Error(r(460)),G=Error(r(474)),K=Error(r(542)),J={then:function(){}};function oe(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ve(){}function Re(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(ve,ve),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Te(i),i;default:if(typeof a.status=="string")a.then(ve,ve);else{if(i=fr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Te(i),i}throw se=a,z}}var se=null;function we(){if(se===null)throw Error(r(459));var i=se;return se=null,i}function Te(i){if(i===z||i===K)throw Error(r(483))}var je=!1;function Ie(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fe(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ve(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xe(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Kn&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=gl(i),Wc(i,null,l),a}return rc(i,h,a,l),gl(i)}function We(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Js(i,l)}}function vt(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=D:_=_.next=D,l=l.next}while(l!==null);_===null?g=_=a:_=_.next=a}else g=_=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var ot=!1;function Gt(){if(ot){var i=fo;if(i!==null)throw i}}function ut(i,a,l,h){ot=!1;var g=i.updateQueue;je=!1;var _=g.firstBaseUpdate,D=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var de=W,Le=de.next;de.next=null,D===null?_=Le:D.next=Le,D=de;var He=i.alternate;He!==null&&(He=He.updateQueue,W=He.lastBaseUpdate,W!==D&&(W===null?He.firstBaseUpdate=Le:W.next=Le,He.lastBaseUpdate=de))}if(_!==null){var Ye=g.baseState;D=0,He=Le=de=null,W=_;do{var Pe=W.lane&-536870913,De=Pe!==W.lane;if(De?(Rn&Pe)===Pe:(h&Pe)===Pe){Pe!==0&&Pe===wl&&(ot=!0),He!==null&&(He=He.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ht=i,Mt=W;Pe=a;var rr=l;switch(Mt.tag){case 1:if(Ht=Mt.payload,typeof Ht=="function"){Ye=Ht.call(rr,Ye,Pe);break e}Ye=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Mt.payload,Pe=typeof Ht=="function"?Ht.call(rr,Ye,Pe):Ht,Pe==null)break e;Ye=y({},Ye,Pe);break e;case 2:je=!0}}Pe=W.callback,Pe!==null&&(i.flags|=64,De&&(i.flags|=8192),De=g.callbacks,De===null?g.callbacks=[Pe]:De.push(Pe))}else De={lane:Pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},He===null?(Le=He=De,de=Ye):He=He.next=De,D|=Pe;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;De=W,W=De.next,De.next=null,g.lastBaseUpdate=De,g.shared.pending=null}}while(!0);He===null&&(de=Ye),g.baseState=de,g.firstBaseUpdate=Le,g.lastBaseUpdate=He,_===null&&(g.shared.lanes=0),gu|=D,i.lanes=D,i.memoizedState=Ye}}function dn(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Hr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)dn(l[i],a)}var zt=he(null),ft=he(0);function et(i,a){i=Cl,B(ft,i),B(zt,a),Cl=i|a.baseLanes}function vr(){B(ft,Cl),B(zt,zt.current)}function $t(){Cl=ft.current,C(zt),C(ft)}var Jt=0,dt=null,Kt=null,wn=null,or=!1,kr=!1,Pr=!1,Sr=0,hn=0,An=null,Er=0;function Ot(){throw Error(r(321))}function Xr(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!oi(i[l],a[l]))return!1;return!0}function Ps(i,a,l,h,g,_){return Jt=_,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ne.H=i===null||i.memoizedState===null?Vy:Fy,Pr=!1,_=l(h,g),Pr=!1,kr&&(_=Yi(a,l,h,g)),xr(i),_}function xr(i){ne.H=gp;var a=Kt!==null&&Kt.next!==null;if(Jt=0,wn=Kt=dt=null,or=!1,hn=0,An=null,a)throw Error(r(300));i===null||ki||(i=i.dependencies,i!==null&&Zc(i)&&(ki=!0))}function Yi(i,a,l,h){dt=i;var g=0;do{if(kr&&(An=null),hn=0,kr=!1,25<=g)throw Error(r(301));if(g+=1,wn=Kt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ne.H=dE,_=a(l,h)}while(kr);return _}function Yn(){var i=ne.H,a=i.useState()[0];return a=typeof a.then=="function"?_i(a):a,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(dt.flags|=1024),a}function Dr(){var i=Sr!==0;return Sr=0,i}function Ki(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function vi(i){if(or){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}or=!1}Jt=0,wn=Kt=dt=null,kr=!1,hn=Sr=0,An=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?dt.memoizedState=wn=i:wn=wn.next=i,wn}function Cn(){if(Kt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var a=wn===null?dt.memoizedState:wn.next;if(a!==null)wn=a,Kt=i;else{if(i===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},wn===null?dt.memoizedState=wn=i:wn=wn.next=i}return wn}function Li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _i(i){var a=hn;return hn+=1,An===null&&(An=[]),i=Re(An,i,a),a=dt,(wn===null?a.memoizedState:wn.next)===null&&(a=a.alternate,ne.H=a===null||a.memoizedState===null?Vy:Fy),i}function Un(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _i(i);if(i.$$typeof===re)return Kr(i)}throw Error(r(438,String(i)))}function Qi(i){var a=null,l=dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Li(),dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=H;return a.index++,l}function Zr(i,a){return typeof a=="function"?a(i):a}function Ba(i){var a=Cn();return aa(a,Kt,i)}function aa(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,_=h.pending;if(_!==null){if(g!==null){var D=g.next;g.next=_.next,_.next=D}a.baseQueue=g=_,h.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{a=g.next;var W=D=null,de=null,Le=a,He=!1;do{var Ye=Le.lane&-536870913;if(Ye!==Le.lane?(Rn&Ye)===Ye:(Jt&Ye)===Ye){var Pe=Le.revertLane;if(Pe===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ye===wl&&(He=!0);else if((Jt&Pe)===Pe){Le=Le.next,Pe===wl&&(He=!0);continue}else Ye={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},de===null?(W=de=Ye,D=_):de=de.next=Ye,dt.lanes|=Pe,gu|=Pe;Ye=Le.action,Pr&&l(_,Ye),_=Le.hasEagerState?Le.eagerState:l(_,Ye)}else Pe={lane:Ye,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},de===null?(W=de=Pe,D=_):de=de.next=Pe,dt.lanes|=Ye,gu|=Ye;Le=Le.next}while(Le!==null&&Le!==a);if(de===null?D=_:de.next=W,!oi(_,i.memoizedState)&&(ki=!0,He&&(l=fo,l!==null)))throw l;i.memoizedState=_,i.baseState=D,i.baseQueue=de,h.lastRenderedState=_}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Jr(i){var a=Cn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,_=a.memoizedState;if(g!==null){l.pending=null;var D=g=g.next;do _=i(_,D.action),D=D.next;while(D!==g);oi(_,a.memoizedState)||(ki=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,h]}function cc(i,a,l){var h=dt,g=Cn(),_=Mn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=a();var D=!oi((Kt||g).memoizedState,l);D&&(g.memoizedState=l,ki=!0),g=g.queue;var W=au.bind(null,h,g,i);if(uu(2048,8,W,[i]),g.getSnapshot!==a||D||wn!==null&&wn.memoizedState.tag&1){if(h.flags|=2048,mo(9,pc(),hc.bind(null,h,g,l,a),null),fr===null)throw Error(r(349));_||(Jt&124)!==0||eh(h,a,l)}return l}function eh(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=dt.updateQueue,a===null?(a=Li(),dt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function hc(i,a,l,h){a.value=l,a.getSnapshot=h,sp(a)&&ap(i)}function au(i,a,l){return l(function(){sp(a)&&ap(i)})}function sp(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!oi(i,l)}catch{return!0}}function ap(i){var a=ml(i,2);a!==null&&fa(a,i,2)}function fc(i){var a=tr();if(typeof i=="function"){var l=i;if(i=l(),Pr){Tt(!0);try{l()}finally{Tt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:i},a}function po(i,a,l,h){return i.baseState=l,aa(i,Kt,typeof h=="function"?h:Zr)}function Mg(i,a,l,h,g){if(mp(i))throw Error(r(485));if(i=a.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){_.listeners.push(D)}};ne.T!==null?l(!0):_.isTransition=!1,h(_),l=a.pending,l===null?(_.next=a.pending=_,op(a,_)):(_.next=l.next,a.pending=l.next=_)}}function op(i,a){var l=a.action,h=a.payload,g=i.state;if(a.isTransition){var _=ne.T,D={};ne.T=D;try{var W=l(g,h),de=ne.S;de!==null&&de(D,W),lp(i,a,W)}catch(Le){ou(i,a,Le)}finally{ne.T=_}}else try{_=l(g,h),lp(i,a,_)}catch(Le){ou(i,a,Le)}}function lp(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){df(i,a,h)},function(h){return ou(i,a,h)}):df(i,a,l)}function df(i,a,l){a.status="fulfilled",a.value=l,pf(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,op(i,l)))}function ou(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,pf(a),a=a.next;while(a!==h)}i.action=null}function pf(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function mf(i,a){return a}function dc(i,a){if(Mn){var l=fr.formState;if(l!==null){e:{var h=dt;if(Mn){if(Ar){t:{for(var g=Ar,_=ja;g.nodeType!==8;){if(!_){g=null;break t}if(g=_o(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Ar=_o(g.nextSibling),h=g.data==="F!";break e}}bl(h)}h=!1}h&&(a=l[0])}}return l=tr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mf,lastRenderedState:a},l.queue=h,l=Oy.bind(null,dt,h),h.dispatch=l,h=fc(!1),_=jg.bind(null,dt,!1,h.queue),h=tr(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,l=Mg.bind(null,dt,g,_,l),g.dispatch=l,h.memoizedState=i,[a,l,!1]}function th(i){var a=Cn();return lu(a,Kt,i)}function lu(i,a,l){if(a=aa(i,a,mf)[0],i=Ba(Zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=_i(a)}catch(D){throw D===z?K:D}else h=a;a=Cn();var g=a.queue,_=g.dispatch;return l!==a.memoizedState&&(dt.flags|=2048,mo(9,pc(),up.bind(null,g,l),null)),[h,_,i]}function up(i,a){i.action=a}function cp(i){var a=Cn(),l=Kt;if(l!==null)return lu(a,l,i);Cn(),a=a.memoizedState,l=Cn();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function mo(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=dt.updateQueue,a===null&&(a=Li(),dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function pc(){return{destroy:void 0,resource:void 0}}function nh(){return Cn().memoizedState}function oa(i,a,l,h){var g=tr();h=h===void 0?null:h,dt.flags|=i,g.memoizedState=mo(1|a,pc(),l,h)}function uu(i,a,l,h){var g=Cn();h=h===void 0?null:h;var _=g.memoizedState.inst;Kt!==null&&h!==null&&Xr(h,Kt.memoizedState.deps)?g.memoizedState=mo(a,_,l,h):(dt.flags|=i,g.memoizedState=mo(1|a,_,l,h))}function gf(i,a){oa(8390656,8,i,a)}function hp(i,a){uu(2048,8,i,a)}function yf(i,a){return uu(4,2,i,a)}function Al(i,a){return uu(4,4,i,a)}function fp(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function vf(i,a,l){l=l!=null?l.concat([i]):null,uu(4,4,fp.bind(null,a,i),l)}function _f(){}function bf(i,a){var l=Cn();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Xr(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function dp(i,a){var l=Cn();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Xr(a,h[1]))return h[0];if(h=i(),Pr){Tt(!0);try{i()}finally{Tt(!1)}}return l.memoizedState=[h,a],h}function Sl(i,a,l){return l===void 0||(Jt&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Lv(),dt.lanes|=i,gu|=i,l)}function rh(i,a,l,h){return oi(l,a)?l:zt.current!==null?(i=Sl(i,l,h),oi(i,a)||(ki=!0),i):(Jt&42)===0?(ki=!0,i.memoizedState=l):(i=Lv(),dt.lanes|=i,gu|=i,a)}function mc(i,a,l,h,g){var _=pe.p;pe.p=_!==0&&8>_?_:8;var D=ne.T,W={};ne.T=W,jg(i,!1,a,l);try{var de=g(),Le=ne.S;if(Le!==null&&Le(W,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var He=ip(de,h);Ef(i,a,He,ha(i))}else Ef(i,a,h,ha(i))}catch(Ye){Ef(i,a,{then:function(){},status:"rejected",reason:Ye},ha())}finally{pe.p=_,ne.T=D}}function go(){}function qa(i,a,l,h){if(i.tag!==5)throw Error(r(476));var g=yo(i).queue;mc(i,g,a,ie,l===null?go:function(){return gc(i),l(h)})}function yo(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:ie},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function gc(i){var a=yo(i).next.queue;Ef(i,a,{},ha())}function yc(){return Kr(qf)}function wf(){return Cn().memoizedState}function pp(){return Cn().memoizedState}function Af(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ha();i=Ve(l);var h=Xe(a,i,l);h!==null&&(fa(h,a,l),We(h,a,l)),a={cache:hf()},i.payload=a;return}a=a.return}}function Sf(i,a,l){var h=ha();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mp(i)?My(a,l):(l=$c(i,a,l,h),l!==null&&(fa(l,i,h),jy(l,a,h)))}function Oy(i,a,l){var h=ha();Ef(i,a,l,h)}function Ef(i,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mp(i))My(a,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var D=a.lastRenderedState,W=_(D,l);if(g.hasEagerState=!0,g.eagerState=W,oi(W,D))return rc(i,a,g,0),fr===null&&nc(),!1}catch{}finally{}if(l=$c(i,a,g,h),l!==null)return fa(l,i,h),jy(l,a,h),!0}return!1}function jg(i,a,l,h){if(h={lane:2,revertLane:m1(),action:h,hasEagerState:!1,eagerState:null,next:null},mp(i)){if(a)throw Error(r(479))}else a=$c(i,l,h,2),a!==null&&fa(a,i,2)}function mp(i){var a=i.alternate;return i===dt||a!==null&&a===dt}function My(i,a){kr=or=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function jy(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Js(i,l)}}var gp={readContext:Kr,use:Un,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Vy={readContext:Kr,use:Un,useCallback:function(i,a){return tr().memoizedState=[i,a===void 0?null:a],i},useContext:Kr,useEffect:gf,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,oa(4194308,4,fp.bind(null,a,i),l)},useLayoutEffect:function(i,a){return oa(4194308,4,i,a)},useInsertionEffect:function(i,a){oa(4,2,i,a)},useMemo:function(i,a){var l=tr();a=a===void 0?null:a;var h=i();if(Pr){Tt(!0);try{i()}finally{Tt(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=tr();if(l!==void 0){var g=l(a);if(Pr){Tt(!0);try{l(a)}finally{Tt(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=Sf.bind(null,dt,i),[h.memoizedState,i]},useRef:function(i){var a=tr();return i={current:i},a.memoizedState=i},useState:function(i){i=fc(i);var a=i.queue,l=Oy.bind(null,dt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:_f,useDeferredValue:function(i,a){var l=tr();return Sl(l,i,a)},useTransition:function(){var i=fc(!1);return i=mc.bind(null,dt,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=dt,g=tr();if(Mn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),fr===null)throw Error(r(349));(Rn&124)!==0||eh(h,a,l)}g.memoizedState=l;var _={value:l,getSnapshot:a};return g.queue=_,gf(au.bind(null,h,_,i),[i]),h.flags|=2048,mo(9,pc(),hc.bind(null,h,_,l,a),null),l},useId:function(){var i=tr(),a=fr.identifierPrefix;if(Mn){var l=uo,h=lo;l=(h&~(1<<32-st(h)-1)).toString(32)+l,a=""+a+"R"+l,l=Sr++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Er++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:yc,useFormState:dc,useActionState:dc,useOptimistic:function(i){var a=tr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=jg.bind(null,dt,!0,l),l.dispatch=a,[i,a]},useMemoCache:Qi,useCacheRefresh:function(){return tr().memoizedState=Af.bind(null,dt)}},Fy={readContext:Kr,use:Un,useCallback:bf,useContext:Kr,useEffect:hp,useImperativeHandle:vf,useInsertionEffect:yf,useLayoutEffect:Al,useMemo:dp,useReducer:Ba,useRef:nh,useState:function(){return Ba(Zr)},useDebugValue:_f,useDeferredValue:function(i,a){var l=Cn();return rh(l,Kt.memoizedState,i,a)},useTransition:function(){var i=Ba(Zr)[0],a=Cn().memoizedState;return[typeof i=="boolean"?i:_i(i),a]},useSyncExternalStore:cc,useId:wf,useHostTransitionStatus:yc,useFormState:th,useActionState:th,useOptimistic:function(i,a){var l=Cn();return po(l,Kt,i,a)},useMemoCache:Qi,useCacheRefresh:pp},dE={readContext:Kr,use:Un,useCallback:bf,useContext:Kr,useEffect:hp,useImperativeHandle:vf,useInsertionEffect:yf,useLayoutEffect:Al,useMemo:dp,useReducer:Jr,useRef:nh,useState:function(){return Jr(Zr)},useDebugValue:_f,useDeferredValue:function(i,a){var l=Cn();return Kt===null?Sl(l,i,a):rh(l,Kt.memoizedState,i,a)},useTransition:function(){var i=Jr(Zr)[0],a=Cn().memoizedState;return[typeof i=="boolean"?i:_i(i),a]},useSyncExternalStore:cc,useId:wf,useHostTransitionStatus:yc,useFormState:cp,useActionState:cp,useOptimistic:function(i,a){var l=Cn();return Kt!==null?po(l,Kt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qi,useCacheRefresh:pp},ih=null,xf=0;function yp(i){var a=xf;return xf+=1,ih===null&&(ih=[]),Re(ih,i,a)}function Tf(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function vp(i,a){throw a.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Uy(i){var a=i._init;return a(i._payload)}function By(i){function a(Ee,_e){if(i){var Ne=Ee.deletions;Ne===null?(Ee.deletions=[_e],Ee.flags|=16):Ne.push(_e)}}function l(Ee,_e){if(!i)return null;for(;_e!==null;)a(Ee,_e),_e=_e.sibling;return null}function h(Ee){for(var _e=new Map;Ee!==null;)Ee.key!==null?_e.set(Ee.key,Ee):_e.set(Ee.index,Ee),Ee=Ee.sibling;return _e}function g(Ee,_e){return Ee=Ma(Ee,_e),Ee.index=0,Ee.sibling=null,Ee}function _(Ee,_e,Ne){return Ee.index=Ne,i?(Ne=Ee.alternate,Ne!==null?(Ne=Ne.index,Ne<_e?(Ee.flags|=67108866,_e):Ne):(Ee.flags|=67108866,_e)):(Ee.flags|=1048576,_e)}function D(Ee){return i&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function W(Ee,_e,Ne,$e){return _e===null||_e.tag!==6?(_e=Yc(Ne,Ee.mode,$e),_e.return=Ee,_e):(_e=g(_e,Ne),_e.return=Ee,_e)}function de(Ee,_e,Ne,$e){var mt=Ne.type;return mt===M?He(Ee,_e,Ne.props.children,$e,Ne.key):_e!==null&&(_e.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===O&&Uy(mt)===_e.type)?(_e=g(_e,Ne.props),Tf(_e,Ne),_e.return=Ee,_e):(_e=yl(Ne.type,Ne.key,Ne.props,null,Ee.mode,$e),Tf(_e,Ne),_e.return=Ee,_e)}function Le(Ee,_e,Ne,$e){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ne.containerInfo||_e.stateNode.implementation!==Ne.implementation?(_e=sc(Ne,Ee.mode,$e),_e.return=Ee,_e):(_e=g(_e,Ne.children||[]),_e.return=Ee,_e)}function He(Ee,_e,Ne,$e,mt){return _e===null||_e.tag!==7?(_e=ao(Ne,Ee.mode,$e,mt),_e.return=Ee,_e):(_e=g(_e,Ne),_e.return=Ee,_e)}function Ye(Ee,_e,Ne){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Yc(""+_e,Ee.mode,Ne),_e.return=Ee,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case E:return Ne=yl(_e.type,_e.key,_e.props,null,Ee.mode,Ne),Tf(Ne,_e),Ne.return=Ee,Ne;case b:return _e=sc(_e,Ee.mode,Ne),_e.return=Ee,_e;case O:var $e=_e._init;return _e=$e(_e._payload),Ye(Ee,_e,Ne)}if(ge(_e)||P(_e))return _e=ao(_e,Ee.mode,Ne,null),_e.return=Ee,_e;if(typeof _e.then=="function")return Ye(Ee,yp(_e),Ne);if(_e.$$typeof===re)return Ye(Ee,qo(Ee,_e),Ne);vp(Ee,_e)}return null}function Pe(Ee,_e,Ne,$e){var mt=_e!==null?_e.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return mt!==null?null:W(Ee,_e,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case E:return Ne.key===mt?de(Ee,_e,Ne,$e):null;case b:return Ne.key===mt?Le(Ee,_e,Ne,$e):null;case O:return mt=Ne._init,Ne=mt(Ne._payload),Pe(Ee,_e,Ne,$e)}if(ge(Ne)||P(Ne))return mt!==null?null:He(Ee,_e,Ne,$e,null);if(typeof Ne.then=="function")return Pe(Ee,_e,yp(Ne),$e);if(Ne.$$typeof===re)return Pe(Ee,_e,qo(Ee,Ne),$e);vp(Ee,Ne)}return null}function De(Ee,_e,Ne,$e,mt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Ee=Ee.get(Ne)||null,W(_e,Ee,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case E:return Ee=Ee.get($e.key===null?Ne:$e.key)||null,de(_e,Ee,$e,mt);case b:return Ee=Ee.get($e.key===null?Ne:$e.key)||null,Le(_e,Ee,$e,mt);case O:var pn=$e._init;return $e=pn($e._payload),De(Ee,_e,Ne,$e,mt)}if(ge($e)||P($e))return Ee=Ee.get(Ne)||null,He(_e,Ee,$e,mt,null);if(typeof $e.then=="function")return De(Ee,_e,Ne,yp($e),mt);if($e.$$typeof===re)return De(Ee,_e,Ne,qo(_e,$e),mt);vp(_e,$e)}return null}function Ht(Ee,_e,Ne,$e){for(var mt=null,pn=null,Et=_e,jt=_e=0,Di=null;Et!==null&&jt<Ne.length;jt++){Et.index>jt?(Di=Et,Et=null):Di=Et.sibling;var Vn=Pe(Ee,Et,Ne[jt],$e);if(Vn===null){Et===null&&(Et=Di);break}i&&Et&&Vn.alternate===null&&a(Ee,Et),_e=_(Vn,_e,jt),pn===null?mt=Vn:pn.sibling=Vn,pn=Vn,Et=Di}if(jt===Ne.length)return l(Ee,Et),Mn&&_l(Ee,jt),mt;if(Et===null){for(;jt<Ne.length;jt++)Et=Ye(Ee,Ne[jt],$e),Et!==null&&(_e=_(Et,_e,jt),pn===null?mt=Et:pn.sibling=Et,pn=Et);return Mn&&_l(Ee,jt),mt}for(Et=h(Et);jt<Ne.length;jt++)Di=De(Et,Ee,jt,Ne[jt],$e),Di!==null&&(i&&Di.alternate!==null&&Et.delete(Di.key===null?jt:Di.key),_e=_(Di,_e,jt),pn===null?mt=Di:pn.sibling=Di,pn=Di);return i&&Et.forEach(function(xu){return a(Ee,xu)}),Mn&&_l(Ee,jt),mt}function Mt(Ee,_e,Ne,$e){if(Ne==null)throw Error(r(151));for(var mt=null,pn=null,Et=_e,jt=_e=0,Di=null,Vn=Ne.next();Et!==null&&!Vn.done;jt++,Vn=Ne.next()){Et.index>jt?(Di=Et,Et=null):Di=Et.sibling;var xu=Pe(Ee,Et,Vn.value,$e);if(xu===null){Et===null&&(Et=Di);break}i&&Et&&xu.alternate===null&&a(Ee,Et),_e=_(xu,_e,jt),pn===null?mt=xu:pn.sibling=xu,pn=xu,Et=Di}if(Vn.done)return l(Ee,Et),Mn&&_l(Ee,jt),mt;if(Et===null){for(;!Vn.done;jt++,Vn=Ne.next())Vn=Ye(Ee,Vn.value,$e),Vn!==null&&(_e=_(Vn,_e,jt),pn===null?mt=Vn:pn.sibling=Vn,pn=Vn);return Mn&&_l(Ee,jt),mt}for(Et=h(Et);!Vn.done;jt++,Vn=Ne.next())Vn=De(Et,Ee,jt,Vn.value,$e),Vn!==null&&(i&&Vn.alternate!==null&&Et.delete(Vn.key===null?jt:Vn.key),_e=_(Vn,_e,jt),pn===null?mt=Vn:pn.sibling=Vn,pn=Vn);return i&&Et.forEach(function(px){return a(Ee,px)}),Mn&&_l(Ee,jt),mt}function rr(Ee,_e,Ne,$e){if(typeof Ne=="object"&&Ne!==null&&Ne.type===M&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case E:e:{for(var mt=Ne.key;_e!==null;){if(_e.key===mt){if(mt=Ne.type,mt===M){if(_e.tag===7){l(Ee,_e.sibling),$e=g(_e,Ne.props.children),$e.return=Ee,Ee=$e;break e}}else if(_e.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===O&&Uy(mt)===_e.type){l(Ee,_e.sibling),$e=g(_e,Ne.props),Tf($e,Ne),$e.return=Ee,Ee=$e;break e}l(Ee,_e);break}else a(Ee,_e);_e=_e.sibling}Ne.type===M?($e=ao(Ne.props.children,Ee.mode,$e,Ne.key),$e.return=Ee,Ee=$e):($e=yl(Ne.type,Ne.key,Ne.props,null,Ee.mode,$e),Tf($e,Ne),$e.return=Ee,Ee=$e)}return D(Ee);case b:e:{for(mt=Ne.key;_e!==null;){if(_e.key===mt)if(_e.tag===4&&_e.stateNode.containerInfo===Ne.containerInfo&&_e.stateNode.implementation===Ne.implementation){l(Ee,_e.sibling),$e=g(_e,Ne.children||[]),$e.return=Ee,Ee=$e;break e}else{l(Ee,_e);break}else a(Ee,_e);_e=_e.sibling}$e=sc(Ne,Ee.mode,$e),$e.return=Ee,Ee=$e}return D(Ee);case O:return mt=Ne._init,Ne=mt(Ne._payload),rr(Ee,_e,Ne,$e)}if(ge(Ne))return Ht(Ee,_e,Ne,$e);if(P(Ne)){if(mt=P(Ne),typeof mt!="function")throw Error(r(150));return Ne=mt.call(Ne),Mt(Ee,_e,Ne,$e)}if(typeof Ne.then=="function")return rr(Ee,_e,yp(Ne),$e);if(Ne.$$typeof===re)return rr(Ee,_e,qo(Ee,Ne),$e);vp(Ee,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,_e!==null&&_e.tag===6?(l(Ee,_e.sibling),$e=g(_e,Ne),$e.return=Ee,Ee=$e):(l(Ee,_e),$e=Yc(Ne,Ee.mode,$e),$e.return=Ee,Ee=$e),D(Ee)):l(Ee,_e)}return function(Ee,_e,Ne,$e){try{xf=0;var mt=rr(Ee,_e,Ne,$e);return ih=null,mt}catch(Et){if(Et===z||Et===K)throw Et;var pn=Ri(29,Et,null,Ee.mode);return pn.lanes=$e,pn.return=Ee,pn}finally{}}}var sh=By(!0),qy=By(!1),za=he(null),zo=null;function cu(i){var a=i.alternate;B(bi,bi.current&1),B(za,i),zo===null&&(a===null||zt.current!==null||a.memoizedState!==null)&&(zo=i)}function zy(i){if(i.tag===22){if(B(bi,bi.current),B(za,i),zo===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(zo=i)}}else hu()}function hu(){B(bi,bi.current),B(za,za.current)}function El(i){C(za),zo===i&&(zo=null),C(bi)}var bi=he(0);function _p(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||N1(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Vg(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Fg={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=ha(),g=Ve(h);g.payload=a,l!=null&&(g.callback=l),a=Xe(i,g,h),a!==null&&(fa(a,i,h),We(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=ha(),g=Ve(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Xe(i,g,h),a!==null&&(fa(a,i,h),We(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ha(),h=Ve(l);h.tag=2,a!=null&&(h.callback=a),a=Xe(i,h,l),a!==null&&(fa(a,i,l),We(a,i,l))}};function Hy(i,a,l,h,g,_,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,D):a.prototype&&a.prototype.isPureReactComponent?!ka(l,h)||!ka(g,_):!0}function Gy(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&Fg.enqueueReplaceState(a,a.state,null)}function vc(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var bp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $y(i){bp(i)}function Wy(i){console.error(i)}function Yy(i){bp(i)}function wp(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Ky(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ug(i,a,l){return l=Ve(l),l.tag=3,l.payload={element:null},l.callback=function(){wp(i,a)},l}function Qy(i){return i=Ve(i),i.tag=3,i}function Xy(i,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;i.payload=function(){return g(_)},i.callback=function(){Ky(a,l,h)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){Ky(a,l,h),typeof g!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})})}function pE(i,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&su(a,l,g,!0),l=za.current,l!==null){switch(l.tag){case 13:return zo===null?c1():l.alternate===null&&Gr===0&&(Gr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===J?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),f1(i,h,g)),!1;case 22:return l.flags|=65536,h===J?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),f1(i,h,g)),!1}throw Error(r(435,l.tag))}return f1(i,h,g),c1(),!1}if(Mn)return a=za.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==cf&&(i=Error(r(422),{cause:h}),iu(Cs(i,l)))):(h!==cf&&(a=Error(r(423),{cause:h}),iu(Cs(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Cs(h,l),g=Ug(i.stateNode,h,g),vt(i,g),Gr!==4&&(Gr=2)),!1;var _=Error(r(520),{cause:h});if(_=Cs(_,l),Pf===null?Pf=[_]:Pf.push(_),Gr!==4&&(Gr=2),a===null)return!0;h=Cs(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Ug(l.stateNode,h,i),vt(l,i),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yu===null||!yu.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Qy(g),Xy(g,i,l,h),vt(l,g),!1}l=l.return}while(l!==null);return!1}var Zy=Error(r(461)),ki=!1;function Xi(i,a,l,h){a.child=i===null?qy(a,null,l,h):sh(a,i.child,l,h)}function Jy(i,a,l,h,g){l=l.render;var _=a.ref;if("ref"in h){var D={};for(var W in h)W!=="ref"&&(D[W]=h[W])}else D=h;return Ua(a),h=Ps(i,a,l,D,_,g),W=Dr(),i!==null&&!ki?(Ki(i,a,g),xl(i,a,g)):(Mn&&W&&ac(a),a.flags|=1,Xi(i,a,h,g),a.child)}function ev(i,a,l,h,g){if(i===null){var _=l.type;return typeof _=="function"&&!nu(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,tv(i,a,_,h,g)):(i=yl(l.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,!Yg(i,g)){var D=_.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(D,h)&&i.ref===a.ref)return xl(i,a,g)}return a.flags|=1,i=Ma(_,h),i.ref=a.ref,i.return=a,a.child=i}function tv(i,a,l,h,g){if(i!==null){var _=i.memoizedProps;if(ka(_,h)&&i.ref===a.ref)if(ki=!1,a.pendingProps=h=_,Yg(i,g))(i.flags&131072)!==0&&(ki=!0);else return a.lanes=i.lanes,xl(i,a,g)}return Bg(i,a,l,h,g)}function nv(i,a,l){var h=a.pendingProps,g=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,i!==null){for(g=a.child=i.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;a.childLanes=_&~h}else a.childLanes=0,a.child=null;return rv(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&T(a,_!==null?_.cachePool:null),_!==null?et(a,_):vr(),zy(a);else return a.lanes=a.childLanes=536870912,rv(i,a,_!==null?_.baseLanes|l:l,l)}else _!==null?(T(a,_.cachePool),et(a,_),hu(),a.memoizedState=null):(i!==null&&T(a,null),vr(),hu());return Xi(i,a,g,l),a.child}function rv(i,a,l,h){var g=S();return g=g===null?null:{parent:Qr._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&T(a,null),vr(),zy(a),i!==null&&su(i,a,h,!0),null}function Ap(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Bg(i,a,l,h,g){return Ua(a),l=Ps(i,a,l,h,void 0,g),h=Dr(),i!==null&&!ki?(Ki(i,a,g),xl(i,a,g)):(Mn&&h&&ac(a),a.flags|=1,Xi(i,a,l,g),a.child)}function iv(i,a,l,h,g,_){return Ua(a),a.updateQueue=null,l=Yi(a,h,l,g),xr(i),h=Dr(),i!==null&&!ki?(Ki(i,a,_),xl(i,a,_)):(Mn&&h&&ac(a),a.flags|=1,Xi(i,a,l,_),a.child)}function sv(i,a,l,h,g){if(Ua(a),a.stateNode===null){var _=li,D=l.contextType;typeof D=="object"&&D!==null&&(_=Kr(D)),_=new l(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Fg,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},Ie(a),D=l.contextType,_.context=typeof D=="object"&&D!==null?Kr(D):li,_.state=a.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Vg(a,l,D,h),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(D=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),D!==_.state&&Fg.enqueueReplaceState(_,_.state,null),ut(a,h,_,g),Gt(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){_=a.stateNode;var W=a.memoizedProps,de=vc(l,W);_.props=de;var Le=_.context,He=l.contextType;D=li,typeof He=="object"&&He!==null&&(D=Kr(He));var Ye=l.getDerivedStateFromProps;He=typeof Ye=="function"||typeof _.getSnapshotBeforeUpdate=="function",W=a.pendingProps!==W,He||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W||Le!==D)&&Gy(a,_,h,D),je=!1;var Pe=a.memoizedState;_.state=Pe,ut(a,h,_,g),Gt(),Le=a.memoizedState,W||Pe!==Le||je?(typeof Ye=="function"&&(Vg(a,l,Ye,h),Le=a.memoizedState),(de=je||Hy(a,l,de,h,Pe,Le,D))?(He||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Le),_.props=h,_.state=Le,_.context=D,h=de):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Fe(i,a),D=a.memoizedProps,He=vc(l,D),_.props=He,Ye=a.pendingProps,Pe=_.context,Le=l.contextType,de=li,typeof Le=="object"&&Le!==null&&(de=Kr(Le)),W=l.getDerivedStateFromProps,(Le=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==Ye||Pe!==de)&&Gy(a,_,h,de),je=!1,Pe=a.memoizedState,_.state=Pe,ut(a,h,_,g),Gt();var De=a.memoizedState;D!==Ye||Pe!==De||je||i!==null&&i.dependencies!==null&&Zc(i.dependencies)?(typeof W=="function"&&(Vg(a,l,W,h),De=a.memoizedState),(He=je||Hy(a,l,He,h,Pe,De,de)||i!==null&&i.dependencies!==null&&Zc(i.dependencies))?(Le||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,De,de),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,De,de)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=De),_.props=h,_.state=De,_.context=de,h=He):(typeof _.componentDidUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Pe===i.memoizedState||(a.flags|=1024),h=!1)}return _=h,Ap(i,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,i!==null&&h?(a.child=sh(a,i.child,null,g),a.child=sh(a,null,l,g)):Xi(i,a,l,g),a.memoizedState=_.state,i=a.child):i=xl(i,a,g),i}function av(i,a,l,h){return ks(),a.flags|=256,Xi(i,a,l,h),a.child}var qg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zg(i){return{baseLanes:i,cachePool:V()}}function Hg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ha),i}function ov(i,a,l){var h=a.pendingProps,g=!1,_=(a.flags&128)!==0,D;if((D=_)||(D=i!==null&&i.memoizedState===null?!1:(bi.current&2)!==0),D&&(g=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(Mn){if(g?cu(a):hu(),Mn){var W=Ar,de;if(de=W){e:{for(de=W,W=ja;de.nodeType!==8;){if(!W){W=null;break e}if(de=_o(de.nextSibling),de===null){W=null;break e}}W=de}W!==null?(a.memoizedState={dehydrated:W,treeContext:vl!==null?{id:lo,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},de=Ri(18,null,null,0),de.stateNode=W,de.return=a,a.child=de,Yr=a,Ar=null,de=!0):de=!1}de||bl(a)}if(W=a.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return N1(W)?a.lanes=32:a.lanes=536870912,null;El(a)}return W=h.children,h=h.fallback,g?(hu(),g=a.mode,W=Sp({mode:"hidden",children:W},g),h=ao(h,g,l,null),W.return=a,h.return=a,W.sibling=h,a.child=W,g=a.child,g.memoizedState=zg(l),g.childLanes=Hg(i,D,l),a.memoizedState=qg,h):(cu(a),Gg(a,W))}if(de=i.memoizedState,de!==null&&(W=de.dehydrated,W!==null)){if(_)a.flags&256?(cu(a),a.flags&=-257,a=$g(i,a,l)):a.memoizedState!==null?(hu(),a.child=i.child,a.flags|=128,a=null):(hu(),g=h.fallback,W=a.mode,h=Sp({mode:"visible",children:h.children},W),g=ao(g,W,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,sh(a,i.child,null,l),h=a.child,h.memoizedState=zg(l),h.childLanes=Hg(i,D,l),a.memoizedState=qg,a=g);else if(cu(a),N1(W)){if(D=W.nextSibling&&W.nextSibling.dataset,D)var Le=D.dgst;D=Le,h=Error(r(419)),h.stack="",h.digest=D,iu({value:h,source:null,stack:null}),a=$g(i,a,l)}else if(ki||su(i,a,l,!1),D=(l&i.childLanes)!==0,ki||D){if(D=fr,D!==null&&(h=l&-l,h=(h&42)!==0?1:pr(h),h=(h&(D.suspendedLanes|l))!==0?0:h,h!==0&&h!==de.retryLane))throw de.retryLane=h,ml(i,h),fa(D,i,h),Zy;W.data==="$?"||c1(),a=$g(i,a,l)}else W.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=de.treeContext,Ar=_o(W.nextSibling),Yr=a,Mn=!0,Uo=null,ja=!1,i!==null&&($s[Ls++]=lo,$s[Ls++]=uo,$s[Ls++]=vl,lo=i.id,uo=i.overflow,vl=a),a=Gg(a,h.children),a.flags|=4096);return a}return g?(hu(),g=h.fallback,W=a.mode,de=i.child,Le=de.sibling,h=Ma(de,{mode:"hidden",children:h.children}),h.subtreeFlags=de.subtreeFlags&65011712,Le!==null?g=Ma(Le,g):(g=ao(g,W,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,W=i.child.memoizedState,W===null?W=zg(l):(de=W.cachePool,de!==null?(Le=Qr._currentValue,de=de.parent!==Le?{parent:Le,pool:Le}:de):de=V(),W={baseLanes:W.baseLanes|l,cachePool:de}),g.memoizedState=W,g.childLanes=Hg(i,D,l),a.memoizedState=qg,h):(cu(a),l=i.child,i=l.sibling,l=Ma(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=l,a.memoizedState=null,l)}function Gg(i,a){return a=Sp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Sp(i,a){return i=Ri(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function $g(i,a,l){return sh(a,i.child,null,l),i=Gg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function lv(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Qc(i.return,a,l)}function Wg(i,a,l,h,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function uv(i,a,l){var h=a.pendingProps,g=h.revealOrder,_=h.tail;if(Xi(i,a,h.children,l),h=bi.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lv(i,l,a);else if(i.tag===19)lv(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(B(bi,h),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&_p(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Wg(a,!1,g,l,_);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&_p(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Wg(a,!0,l,null,_);break;case"together":Wg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),gu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(su(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ma(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ma(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Yg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Zc(i)))}function mE(i,a,l){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Bo(a,Qr,i.memoizedState.cache),ks();break;case 27:case 5:Ue(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Bo(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(cu(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ov(i,a,l):(cu(a),i=xl(i,a,l),i!==null?i.sibling:null);cu(a);break;case 19:var g=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(su(i,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return uv(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),B(bi,bi.current),h)break;return null;case 22:case 23:return a.lanes=0,nv(i,a,l);case 24:Bo(a,Qr,i.memoizedState.cache)}return xl(i,a,l)}function cv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ki=!0;else{if(!Yg(i,l)&&(a.flags&128)===0)return ki=!1,mE(i,a,l);ki=(i.flags&131072)!==0}else ki=!1,Mn&&(a.flags&1048576)!==0&&Jd(a,Kc,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")nu(h)?(i=vc(h,i),a.tag=1,a=sv(null,a,h,i,l)):(a.tag=0,a=Bg(null,a,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===X){a.tag=11,a=Jy(null,a,h,i,l);break e}else if(g===$){a.tag=14,a=ev(null,a,h,i,l);break e}}throw a=ee(h)||h,Error(r(306,a,""))}}return a;case 0:return Bg(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=vc(h,a.pendingProps),sv(i,a,h,g,l);case 3:e:{if(Ce(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var _=a.memoizedState;g=_.element,Fe(i,a),ut(a,h,null,l);var D=a.memoizedState;if(h=D.cache,Bo(a,Qr,h),h!==_.cache&&Xc(a,[Qr],l,!0),Gt(),h=D.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=av(i,a,h,l);break e}else if(h!==g){g=Cs(Error(r(424)),a),iu(g),a=av(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ar=_o(i.firstChild),Yr=a,Mn=!0,Uo=null,ja=!0,l=qy(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ks(),h===g){a=xl(i,a,l);break e}Xi(i,a,h,l)}a=a.child}return a;case 26:return Ap(i,a),i===null?(l=p5(a.type,null,a.pendingProps,null))?a.memoizedState=l:Mn||(l=a.type,i=a.pendingProps,h=jp(fe.current).createElement(l),h[$n]=a,h[Pn]=i,Ji(h,l,i),Wn(h),a.stateNode=h):a.memoizedState=p5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ue(a),i===null&&Mn&&(h=a.stateNode=h5(a.type,a.pendingProps,fe.current),Yr=a,ja=!0,g=Ar,bu(a.type)?(I1=g,Ar=_o(h.firstChild)):Ar=g),Xi(i,a,a.pendingProps.children,l),Ap(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Mn&&((g=h=Ar)&&(h=zE(h,a.type,a.pendingProps,ja),h!==null?(a.stateNode=h,Yr=a,Ar=_o(h.firstChild),ja=!1,g=!0):g=!1),g||bl(a)),Ue(a),g=a.type,_=a.pendingProps,D=i!==null?i.memoizedProps:null,h=_.children,E1(g,_)?h=null:D!==null&&E1(g,D)&&(a.flags|=32),a.memoizedState!==null&&(g=Ps(i,a,Yn,null,null,l),qf._currentValue=g),Ap(i,a),Xi(i,a,h,l),a.child;case 6:return i===null&&Mn&&((i=l=Ar)&&(l=HE(l,a.pendingProps,ja),l!==null?(a.stateNode=l,Yr=a,Ar=null,i=!0):i=!1),i||bl(a)),null;case 13:return ov(i,a,l);case 4:return Ce(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=sh(a,null,h,l):Xi(i,a,h,l),a.child;case 11:return Jy(i,a,a.type,a.pendingProps,l);case 7:return Xi(i,a,a.pendingProps,l),a.child;case 8:return Xi(i,a,a.pendingProps.children,l),a.child;case 12:return Xi(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Bo(a,a.type,h.value),Xi(i,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Ua(a),g=Kr(g),h=h(g),a.flags|=1,Xi(i,a,h,l),a.child;case 14:return ev(i,a,a.type,a.pendingProps,l);case 15:return tv(i,a,a.type,a.pendingProps,l);case 19:return uv(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=Sp(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ma(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return nv(i,a,l);case 24:return Ua(a),h=Kr(Qr),i===null?(g=S(),g===null&&(g=fr,_=hf(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),a.memoizedState={parent:h,cache:g},Ie(a),Bo(a,Qr,g)):((i.lanes&l)!==0&&(Fe(i,a),ut(a,null,null,l),Gt()),g=i.memoizedState,_=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Bo(a,Qr,h)):(h=_.cache,Bo(a,Qr,h),h!==g.cache&&Xc(a,[Qr],l,!0))),Xi(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Tl(i){i.flags|=4}function hv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_5(a)){if(a=za.current,a!==null&&((Rn&4194048)===Rn?zo!==null:(Rn&62914560)!==Rn&&(Rn&536870912)===0||a!==zo))throw se=J,G;i.flags|=8192}}function Ep(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ir():536870912,i.lanes|=a,uh|=a)}function Nf(i,a){if(!Mn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Or(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function gE(i,a,l){var h=a.pendingProps;switch(oc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(a),null;case 1:return Or(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Fa(Qr),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Wi(a)?Tl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tp())),Or(a),null;case 26:return l=a.memoizedState,i===null?(Tl(a),l!==null?(Or(a),hv(a,l)):(Or(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Tl(a),Or(a),hv(a,l)):(Or(a),a.flags&=-16777217):(i.memoizedProps!==h&&Tl(a),Or(a),a.flags&=-16777217),null;case 27:qe(a),l=fe.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Tl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Or(a),null}i=Z.current,Wi(a)?ep(a):(i=h5(g,h,l),a.stateNode=i,Tl(a))}return Or(a),null;case 5:if(qe(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Tl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Or(a),null}if(i=Z.current,Wi(a))ep(a);else{switch(g=jp(fe.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[$n]=a,i[Pn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Ji(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Tl(a)}}return Or(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Tl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=fe.current,Wi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,g=Yr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[$n]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||i5(i.nodeValue,l)),i||bl(a)}else i=jp(i).createTextNode(h),i[$n]=a,a.stateNode=i}return Or(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Wi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[$n]=a}else ks(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Or(a),g=!1}else g=tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(El(a),a):(El(a),null)}if(El(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Ep(a,a.updateQueue),Or(a),null;case 4:return ke(),i===null&&_1(a.stateNode.containerInfo),Or(a),null;case 10:return Fa(a.type),Or(a),null;case 19:if(C(bi),g=a.memoizedState,g===null)return Or(a),null;if(h=(a.flags&128)!==0,_=g.rendering,_===null)if(h)Nf(g,!1);else{if(Gr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(_=_p(i),_!==null){for(a.flags|=128,Nf(g,!1),i=_.updateQueue,a.updateQueue=i,Ep(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)ic(l,i),l=l.sibling;return B(bi,bi.current&1|2),a.child}i=i.sibling}g.tail!==null&&Nt()>Np&&(a.flags|=128,h=!0,Nf(g,!1),a.lanes=4194304)}else{if(!h)if(i=_p(_),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,Ep(a,i),Nf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Mn)return Or(a),null}else 2*Nt()-g.renderingStartTime>Np&&l!==536870912&&(a.flags|=128,h=!0,Nf(g,!1),a.lanes=4194304);g.isBackwards?(_.sibling=a.child,a.child=_):(i=g.last,i!==null?i.sibling=_:a.child=_,g.last=_)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Nt(),a.sibling=null,i=bi.current,B(bi,h?i&1|2:i&1),a):(Or(a),null);case 22:case 23:return El(a),$t(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Or(a),a.subtreeFlags&6&&(a.flags|=8192)):Or(a),l=a.updateQueue,l!==null&&Ep(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&C(v),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Fa(Qr),Or(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function yE(i,a){switch(oc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Fa(Qr),ke(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return qe(a),null;case 13:if(El(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ks()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return C(bi),null;case 4:return ke(),null;case 10:return Fa(a.type),null;case 22:case 23:return El(a),$t(),i!==null&&C(v),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Fa(Qr),null;case 25:return null;default:return null}}function fv(i,a){switch(oc(a),a.tag){case 3:Fa(Qr),ke();break;case 26:case 27:case 5:qe(a);break;case 4:ke();break;case 13:El(a);break;case 19:C(bi);break;case 10:Fa(a.type);break;case 22:case 23:El(a),$t(),i!==null&&C(v);break;case 24:Fa(Qr)}}function If(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var _=l.create,D=l.inst;h=_(),D.destroy=h}l=l.next}while(l!==g)}}catch(W){lr(a,a.return,W)}}function fu(i,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&i)===i){var D=h.inst,W=D.destroy;if(W!==void 0){D.destroy=void 0,g=a;var de=l,Le=W;try{Le()}catch(He){lr(g,de,He)}}}h=h.next}while(h!==_)}}catch(He){lr(a,a.return,He)}}function dv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Hr(a,l)}catch(h){lr(i,i.return,h)}}}function pv(i,a,l){l.props=vc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){lr(i,a,h)}}function Cf(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){lr(i,a,g)}}function Ho(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){lr(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){lr(i,a,g)}else l.current=null}function mv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){lr(i,i.return,g)}}function Kg(i,a,l){try{var h=i.stateNode;VE(h,i.type,l,a),h[Pn]=a}catch(g){lr(i,i.return,g)}}function gv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bu(i.type)||i.tag===4}function Qg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xg(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Mp));else if(h!==4&&(h===27&&bu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Xg(i,a,l),i=i.sibling;i!==null;)Xg(i,a,l),i=i.sibling}function xp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&bu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xp(i,a,l),i=i.sibling;i!==null;)xp(i,a,l),i=i.sibling}function yv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Ji(a,h,l),a[$n]=i,a[Pn]=l}catch(_){lr(i,i.return,_)}}var Nl=!1,ei=!1,Zg=!1,vv=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function vE(i,a){if(i=i.containerInfo,A1=zp,i=eu(i),Gi(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var D=0,W=-1,de=-1,Le=0,He=0,Ye=i,Pe=null;t:for(;;){for(var De;Ye!==l||g!==0&&Ye.nodeType!==3||(W=D+g),Ye!==_||h!==0&&Ye.nodeType!==3||(de=D+h),Ye.nodeType===3&&(D+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)Pe=Ye,Ye=De;for(;;){if(Ye===i)break t;if(Pe===l&&++Le===g&&(W=D),Pe===_&&++He===h&&(de=D),(De=Ye.nextSibling)!==null)break;Ye=Pe,Pe=Ye.parentNode}Ye=De}l=W===-1||de===-1?null:{start:W,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(S1={focusedElem:i,selectionRange:l},zp=!1,Pi=a;Pi!==null;)if(a=Pi,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Pi=i;else for(;Pi!==null;){switch(a=Pi,_=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=a,g=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Ht=vc(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Ht,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Mt){lr(l,l.return,Mt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)T1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":T1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Pi=i;break}Pi=a.return}}function _v(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:du(i,l),h&4&&If(5,l);break;case 1:if(du(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(D){lr(l,l.return,D)}else{var g=vc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){lr(l,l.return,D)}}h&64&&dv(l),h&512&&Cf(l,l.return);break;case 3:if(du(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hr(i,a)}catch(D){lr(l,l.return,D)}}break;case 27:a===null&&h&4&&yv(l);case 26:case 5:du(i,l),a===null&&h&4&&mv(l),h&512&&Cf(l,l.return);break;case 12:du(i,l);break;case 13:du(i,l),h&4&&Av(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=NE.bind(null,l),GE(i,l))));break;case 22:if(h=l.memoizedState!==null||Nl,!h){a=a!==null&&a.memoizedState!==null||ei,g=Nl;var _=ei;Nl=h,(ei=a)&&!_?pu(i,l,(l.subtreeFlags&8772)!==0):du(i,l),Nl=g,ei=_}break;case 30:break;default:du(i,l)}}function bv(i){var a=i.alternate;a!==null&&(i.alternate=null,bv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&si(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tr=null,Ws=!1;function Il(i,a,l){for(l=l.child;l!==null;)wv(i,a,l),l=l.sibling}function wv(i,a,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ct,l)}catch{}switch(l.tag){case 26:ei||Ho(l,a),Il(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ei||Ho(l,a);var h=Tr,g=Ws;bu(l.type)&&(Tr=l.stateNode,Ws=!1),Il(i,a,l),Vf(l.stateNode),Tr=h,Ws=g;break;case 5:ei||Ho(l,a);case 6:if(h=Tr,g=Ws,Tr=null,Il(i,a,l),Tr=h,Ws=g,Tr!==null)if(Ws)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(l.stateNode)}catch(_){lr(l,a,_)}else try{Tr.removeChild(l.stateNode)}catch(_){lr(l,a,_)}break;case 18:Tr!==null&&(Ws?(i=Tr,u5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),$f(i)):u5(Tr,l.stateNode));break;case 4:h=Tr,g=Ws,Tr=l.stateNode.containerInfo,Ws=!0,Il(i,a,l),Tr=h,Ws=g;break;case 0:case 11:case 14:case 15:ei||fu(2,l,a),ei||fu(4,l,a),Il(i,a,l);break;case 1:ei||(Ho(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&pv(l,a,h)),Il(i,a,l);break;case 21:Il(i,a,l);break;case 22:ei=(h=ei)||l.memoizedState!==null,Il(i,a,l),ei=h;break;default:Il(i,a,l)}}function Av(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$f(i)}catch(l){lr(a,a.return,l)}}function _E(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new vv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new vv),a;default:throw Error(r(435,i.tag))}}function Jg(i,a){var l=_E(i);a.forEach(function(h){var g=IE.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function la(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],_=i,D=a,W=D;e:for(;W!==null;){switch(W.tag){case 27:if(bu(W.type)){Tr=W.stateNode,Ws=!1;break e}break;case 5:Tr=W.stateNode,Ws=!1;break e;case 3:case 4:Tr=W.stateNode.containerInfo,Ws=!0;break e}W=W.return}if(Tr===null)throw Error(r(160));wv(_,D,g),Tr=null,Ws=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Sv(a,i),a=a.sibling}var vo=null;function Sv(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:la(a,i),ua(i),h&4&&(fu(3,i,i.return),If(3,i),fu(5,i,i.return));break;case 1:la(a,i),ua(i),h&512&&(ei||l===null||Ho(l,l.return)),h&64&&Nl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=vo;if(la(a,i),ua(i),h&512&&(ei||l===null||Ho(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[is]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Ji(_,h,l),_[$n]=i,Wn(_),h=_;break e;case"link":var D=y5("link","href",g).get(h+(l.href||""));if(D){for(var W=0;W<D.length;W++)if(_=D[W],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(W,1);break t}}_=g.createElement(h),Ji(_,h,l),g.head.appendChild(_);break;case"meta":if(D=y5("meta","content",g).get(h+(l.content||""))){for(W=0;W<D.length;W++)if(_=D[W],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(W,1);break t}}_=g.createElement(h),Ji(_,h,l),g.head.appendChild(_);break;default:throw Error(r(468,h))}_[$n]=i,Wn(_),h=_}i.stateNode=h}else v5(g,i.type,i.stateNode);else i.stateNode=g5(g,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?v5(g,i.type,i.stateNode):g5(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Kg(i,i.memoizedProps,l.memoizedProps)}break;case 27:la(a,i),ua(i),h&512&&(ei||l===null||Ho(l,l.return)),l!==null&&h&4&&Kg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(la(a,i),ua(i),h&512&&(ei||l===null||Ho(l,l.return)),i.flags&32){g=i.stateNode;try{Vi(g,"")}catch(De){lr(i,i.return,De)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Kg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Zg=!0);break;case 6:if(la(a,i),ua(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){lr(i,i.return,De)}}break;case 3:if(Up=null,g=vo,vo=Vp(a.containerInfo),la(a,i),vo=g,ua(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$f(a.containerInfo)}catch(De){lr(i,i.return,De)}Zg&&(Zg=!1,Ev(i));break;case 4:h=vo,vo=Vp(i.stateNode.containerInfo),la(a,i),ua(i),vo=h;break;case 12:la(a,i),ua(i);break;case 13:la(a,i),ua(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(s1=Nt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Jg(i,h)));break;case 22:g=i.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,Le=Nl,He=ei;if(Nl=Le||g,ei=He||de,la(a,i),ei=He,Nl=Le,ua(i),h&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||de||Nl||ei||_c(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){de=l=a;try{if(_=de.stateNode,g)D=_.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{W=de.stateNode;var Ye=de.memoizedProps.style,Pe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;W.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(De){lr(de,de.return,De)}}}else if(a.tag===6){if(l===null){de=a;try{de.stateNode.nodeValue=g?"":de.memoizedProps}catch(De){lr(de,de.return,De)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Jg(i,l))));break;case 19:la(a,i),ua(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Jg(i,h)));break;case 30:break;case 21:break;default:la(a,i),ua(i)}}function ua(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(gv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=Qg(i);xp(i,_,g);break;case 5:var D=l.stateNode;l.flags&32&&(Vi(D,""),l.flags&=-33);var W=Qg(i);xp(i,W,D);break;case 3:case 4:var de=l.stateNode.containerInfo,Le=Qg(i);Xg(i,Le,de);break;default:throw Error(r(161))}}catch(He){lr(i,i.return,He)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Ev(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Ev(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function du(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)_v(i,a.alternate,a),a=a.sibling}function _c(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:fu(4,a,a.return),_c(a);break;case 1:Ho(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&pv(a,a.return,l),_c(a);break;case 27:Vf(a.stateNode);case 26:case 5:Ho(a,a.return),_c(a);break;case 22:a.memoizedState===null&&_c(a);break;case 30:_c(a);break;default:_c(a)}i=i.sibling}}function pu(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,_=a,D=_.flags;switch(_.tag){case 0:case 11:case 15:pu(g,_,l),If(4,_);break;case 1:if(pu(g,_,l),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){lr(h,h.return,Le)}if(h=_,g=h.updateQueue,g!==null){var W=h.stateNode;try{var de=g.shared.hiddenCallbacks;if(de!==null)for(g.shared.hiddenCallbacks=null,g=0;g<de.length;g++)dn(de[g],W)}catch(Le){lr(h,h.return,Le)}}l&&D&64&&dv(_),Cf(_,_.return);break;case 27:yv(_);case 26:case 5:pu(g,_,l),l&&h===null&&D&4&&mv(_),Cf(_,_.return);break;case 12:pu(g,_,l);break;case 13:pu(g,_,l),l&&D&4&&Av(g,_);break;case 22:_.memoizedState===null&&pu(g,_,l),Cf(_,_.return);break;case 30:break;default:pu(g,_,l)}a=a.sibling}}function e1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&lc(l))}function t1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&lc(i))}function Go(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xv(i,a,l,h),a=a.sibling}function xv(i,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Go(i,a,l,h),g&2048&&If(9,a);break;case 1:Go(i,a,l,h);break;case 3:Go(i,a,l,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&lc(i)));break;case 12:if(g&2048){Go(i,a,l,h),i=a.stateNode;try{var _=a.memoizedProps,D=_.id,W=_.onPostCommit;typeof W=="function"&&W(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){lr(a,a.return,de)}}else Go(i,a,l,h);break;case 13:Go(i,a,l,h);break;case 23:break;case 22:_=a.stateNode,D=a.alternate,a.memoizedState!==null?_._visibility&2?Go(i,a,l,h):Rf(i,a):_._visibility&2?Go(i,a,l,h):(_._visibility|=2,ah(i,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&e1(D,a);break;case 24:Go(i,a,l,h),g&2048&&t1(a.alternate,a);break;default:Go(i,a,l,h)}}function ah(i,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=i,D=a,W=l,de=h,Le=D.flags;switch(D.tag){case 0:case 11:case 15:ah(_,D,W,de,g),If(8,D);break;case 23:break;case 22:var He=D.stateNode;D.memoizedState!==null?He._visibility&2?ah(_,D,W,de,g):Rf(_,D):(He._visibility|=2,ah(_,D,W,de,g)),g&&Le&2048&&e1(D.alternate,D);break;case 24:ah(_,D,W,de,g),g&&Le&2048&&t1(D.alternate,D);break;default:ah(_,D,W,de,g)}a=a.sibling}}function Rf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,g=h.flags;switch(h.tag){case 22:Rf(l,h),g&2048&&e1(h.alternate,h);break;case 24:Rf(l,h),g&2048&&t1(h.alternate,h);break;default:Rf(l,h)}a=a.sibling}}var Lf=8192;function oh(i){if(i.subtreeFlags&Lf)for(i=i.child;i!==null;)Tv(i),i=i.sibling}function Tv(i){switch(i.tag){case 26:oh(i),i.flags&Lf&&i.memoizedState!==null&&ix(vo,i.memoizedState,i.memoizedProps);break;case 5:oh(i);break;case 3:case 4:var a=vo;vo=Vp(i.stateNode.containerInfo),oh(i),vo=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Lf,Lf=16777216,oh(i),Lf=a):oh(i));break;default:oh(i)}}function Nv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function kf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Pi=h,Cv(h,i)}Nv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iv(i),i=i.sibling}function Iv(i){switch(i.tag){case 0:case 11:case 15:kf(i),i.flags&2048&&fu(9,i,i.return);break;case 3:kf(i);break;case 12:kf(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Tp(i)):kf(i);break;default:kf(i)}}function Tp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Pi=h,Cv(h,i)}Nv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:fu(8,a,a.return),Tp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Tp(a));break;default:Tp(a)}i=i.sibling}}function Cv(i,a){for(;Pi!==null;){var l=Pi;switch(l.tag){case 0:case 11:case 15:fu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:lc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Pi=h;else e:for(l=i;Pi!==null;){h=Pi;var g=h.sibling,_=h.return;if(bv(h),h===l){Pi=null;break e}if(g!==null){g.return=_,Pi=g;break e}Pi=_}}}var bE={getCacheForType:function(i){var a=Kr(Qr),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},wE=typeof WeakMap=="function"?WeakMap:Map,Kn=0,fr=null,yn=null,Rn=0,Qn=0,ca=null,mu=!1,lh=!1,n1=!1,Cl=0,Gr=0,gu=0,bc=0,r1=0,Ha=0,uh=0,Pf=null,Ys=null,i1=!1,s1=0,Np=1/0,Ip=null,yu=null,Zi=0,vu=null,ch=null,hh=0,a1=0,o1=null,Rv=null,Df=0,l1=null;function ha(){if((Kn&2)!==0&&Rn!==0)return Rn&-Rn;if(ne.T!==null){var i=wl;return i!==0?i:m1()}return di()}function Lv(){Ha===0&&(Ha=(Rn&536870912)===0||Mn?Vt():536870912);var i=za.current;return i!==null&&(i.flags|=32),Ha}function fa(i,a,l){(i===fr&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(fh(i,0),_u(i,Rn,Ha,!1)),gn(i,l),((Kn&2)===0||i!==fr)&&(i===fr&&((Kn&2)===0&&(bc|=l),Gr===4&&_u(i,Rn,Ha,!1)),$o(i))}function kv(i,a,l){if((Kn&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||At(i,a),g=h?EE(i,a):h1(i,a,!0),_=h;do{if(g===0){lh&&!h&&_u(i,a,0,!1);break}else{if(l=i.current.alternate,_&&!AE(l)){g=h1(i,a,!1),_=!1;continue}if(g===2){if(_=a,i.errorRecoveryDisabledLanes&_)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var W=i;g=Pf;var de=W.current.memoizedState.isDehydrated;if(de&&(fh(W,D).flags|=256),D=h1(W,D,!1),D!==2){if(n1&&!de){W.errorRecoveryDisabledLanes|=_,bc|=_,g=4;break e}_=Ys,Ys=g,_!==null&&(Ys===null?Ys=_:Ys.push.apply(Ys,_))}g=D}if(_=!1,g!==2)continue}}if(g===1){fh(i,0),_u(i,a,0,!0);break}e:{switch(h=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:_u(h,a,Ha,!mu);break e;case 2:Ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=s1+300-Nt(),10<g)){if(_u(h,a,Ha,!mu),Nn(h,0,!0)!==0)break e;h.timeoutHandle=o5(Pv.bind(null,h,l,Ys,Ip,i1,a,Ha,bc,uh,mu,_,2,-0,0),g);break e}Pv(h,l,Ys,Ip,i1,a,Ha,bc,uh,mu,_,0,-0,0)}}break}while(!0);$o(i)}function Pv(i,a,l,h,g,_,D,W,de,Le,He,Ye,Pe,De){if(i.timeoutHandle=-1,Ye=a.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Bf={stylesheets:null,count:0,unsuspend:rx},Tv(a),Ye=sx(),Ye!==null)){i.cancelPendingCommit=Ye(Uv.bind(null,i,a,_,l,h,g,D,W,de,He,1,Pe,De)),_u(i,_,D,!Le);return}Uv(i,a,_,l,h,g,D,W,de)}function AE(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!oi(_(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _u(i,a,l,h){a&=~r1,a&=~bc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var _=31-st(g),D=1<<_;h[_]=-1,g&=~D}l!==0&&rn(i,l,a)}function Cp(){return(Kn&6)===0?(Of(0),!1):!0}function u1(){if(yn!==null){if(Qn===0)var i=yn.return;else i=yn,ho=ui=null,vi(i),ih=null,xf=0,i=yn;for(;i!==null;)fv(i.alternate,i),i=i.return;yn=null}}function fh(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,UE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),u1(),fr=i,yn=l=Ma(i.current,null),Rn=a,Qn=0,ca=null,mu=!1,lh=At(i,a),n1=!1,uh=Ha=r1=bc=gu=Gr=0,Ys=Pf=null,i1=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-st(h),_=1<<g;a|=i[g],h&=~_}return Cl=a,nc(),l}function Dv(i,a){dt=null,ne.H=gp,a===z||a===K?(a=we(),Qn=3):a===G?(a=we(),Qn=4):Qn=a===Zy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ca=a,yn===null&&(Gr=1,wp(i,Cs(a,i.current)))}function Ov(){var i=ne.H;return ne.H=gp,i===null?gp:i}function Mv(){var i=ne.A;return ne.A=bE,i}function c1(){Gr=4,mu||(Rn&4194048)!==Rn&&za.current!==null||(lh=!0),(gu&134217727)===0&&(bc&134217727)===0||fr===null||_u(fr,Rn,Ha,!1)}function h1(i,a,l){var h=Kn;Kn|=2;var g=Ov(),_=Mv();(fr!==i||Rn!==a)&&(Ip=null,fh(i,a)),a=!1;var D=Gr;e:do try{if(Qn!==0&&yn!==null){var W=yn,de=ca;switch(Qn){case 8:u1(),D=6;break e;case 3:case 2:case 9:case 6:za.current===null&&(a=!0);var Le=Qn;if(Qn=0,ca=null,dh(i,W,de,Le),l&&lh){D=0;break e}break;default:Le=Qn,Qn=0,ca=null,dh(i,W,de,Le)}}SE(),D=Gr;break}catch(He){Dv(i,He)}while(!0);return a&&i.shellSuspendCounter++,ho=ui=null,Kn=h,ne.H=g,ne.A=_,yn===null&&(fr=null,Rn=0,nc()),D}function SE(){for(;yn!==null;)jv(yn)}function EE(i,a){var l=Kn;Kn|=2;var h=Ov(),g=Mv();fr!==i||Rn!==a?(Ip=null,Np=Nt()+500,fh(i,a)):lh=At(i,a);e:do try{if(Qn!==0&&yn!==null){a=yn;var _=ca;t:switch(Qn){case 1:Qn=0,ca=null,dh(i,a,_,1);break;case 2:case 9:if(oe(_)){Qn=0,ca=null,Vv(a);break}a=function(){Qn!==2&&Qn!==9||fr!==i||(Qn=7),$o(i)},_.then(a,a);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:oe(_)?(Qn=0,ca=null,Vv(a)):(Qn=0,ca=null,dh(i,a,_,7));break;case 5:var D=null;switch(yn.tag){case 26:D=yn.memoizedState;case 5:case 27:var W=yn;if(!D||_5(D)){Qn=0,ca=null;var de=W.sibling;if(de!==null)yn=de;else{var Le=W.return;Le!==null?(yn=Le,Rp(Le)):yn=null}break t}}Qn=0,ca=null,dh(i,a,_,5);break;case 6:Qn=0,ca=null,dh(i,a,_,6);break;case 8:u1(),Gr=6;break e;default:throw Error(r(462))}}xE();break}catch(He){Dv(i,He)}while(!0);return ho=ui=null,ne.H=h,ne.A=g,Kn=l,yn!==null?0:(fr=null,Rn=0,nc(),Gr)}function xE(){for(;yn!==null&&!ce();)jv(yn)}function jv(i){var a=cv(i.alternate,i,Cl);i.memoizedProps=i.pendingProps,a===null?Rp(i):yn=a}function Vv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=iv(l,a,a.pendingProps,a.type,void 0,Rn);break;case 11:a=iv(l,a,a.pendingProps,a.type.render,a.ref,Rn);break;case 5:vi(a);default:fv(l,a),a=yn=ic(a,Cl),a=cv(l,a,Cl)}i.memoizedProps=i.pendingProps,a===null?Rp(i):yn=a}function dh(i,a,l,h){ho=ui=null,vi(a),ih=null,xf=0;var g=a.return;try{if(pE(i,g,a,l,Rn)){Gr=1,wp(i,Cs(l,i.current)),yn=null;return}}catch(_){if(g!==null)throw yn=g,_;Gr=1,wp(i,Cs(l,i.current)),yn=null;return}a.flags&32768?(Mn||h===1?i=!0:lh||(Rn&536870912)!==0?i=!1:(mu=i=!0,(h===2||h===9||h===3||h===6)&&(h=za.current,h!==null&&h.tag===13&&(h.flags|=16384))),Fv(a,i)):Rp(a)}function Rp(i){var a=i;do{if((a.flags&32768)!==0){Fv(a,mu);return}i=a.return;var l=gE(a.alternate,a,Cl);if(l!==null){yn=l;return}if(a=a.sibling,a!==null){yn=a;return}yn=a=i}while(a!==null);Gr===0&&(Gr=5)}function Fv(i,a){do{var l=yE(i.alternate,i);if(l!==null){l.flags&=32767,yn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){yn=i;return}yn=i=l}while(i!==null);Gr=6,yn=null}function Uv(i,a,l,h,g,_,D,W,de){i.cancelPendingCommit=null;do Lp();while(Zi!==0);if((Kn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(_=a.lanes|a.childLanes,_|=Gc,Pt(i,l,_,D,W,de),i===fr&&(yn=fr=null,Rn=0),ch=a,vu=i,hh=l,a1=_,o1=g,Rv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CE(tt,function(){return Gv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null,g=pe.p,pe.p=2,D=Kn,Kn|=4;try{vE(i,a,l)}finally{Kn=D,pe.p=g,ne.T=h}}Zi=1,Bv(),qv(),zv()}}function Bv(){if(Zi===1){Zi=0;var i=vu,a=ch,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var h=pe.p;pe.p=2;var g=Kn;Kn|=4;try{Sv(a,i);var _=S1,D=eu(i.containerInfo),W=_.focusedElem,de=_.selectionRange;if(D!==W&&W&&W.ownerDocument&&Pa(W.ownerDocument.documentElement,W)){if(de!==null&&Gi(W)){var Le=de.start,He=de.end;if(He===void 0&&(He=Le),"selectionStart"in W)W.selectionStart=Le,W.selectionEnd=Math.min(He,W.value.length);else{var Ye=W.ownerDocument||document,Pe=Ye&&Ye.defaultView||window;if(Pe.getSelection){var De=Pe.getSelection(),Ht=W.textContent.length,Mt=Math.min(de.start,Ht),rr=de.end===void 0?Mt:Math.min(de.end,Ht);!De.extend&&Mt>rr&&(D=rr,rr=Mt,Mt=D);var Ee=jo(W,Mt),_e=jo(W,rr);if(Ee&&_e&&(De.rangeCount!==1||De.anchorNode!==Ee.node||De.anchorOffset!==Ee.offset||De.focusNode!==_e.node||De.focusOffset!==_e.offset)){var Ne=Ye.createRange();Ne.setStart(Ee.node,Ee.offset),De.removeAllRanges(),Mt>rr?(De.addRange(Ne),De.extend(_e.node,_e.offset)):(Ne.setEnd(_e.node,_e.offset),De.addRange(Ne))}}}}for(Ye=[],De=W;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ye.length;W++){var $e=Ye[W];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}zp=!!A1,S1=A1=null}finally{Kn=g,pe.p=h,ne.T=l}}i.current=a,Zi=2}}function qv(){if(Zi===2){Zi=0;var i=vu,a=ch,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var h=pe.p;pe.p=2;var g=Kn;Kn|=4;try{_v(i,a.alternate,a)}finally{Kn=g,pe.p=h,ne.T=l}}Zi=3}}function zv(){if(Zi===4||Zi===3){Zi=0,tn();var i=vu,a=ch,l=hh,h=Rv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Zi=5:(Zi=0,ch=vu=null,Hv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(yu=null),rs(l),a=a.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ct,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ne.T,g=pe.p,pe.p=2,ne.T=null;try{for(var _=i.onRecoverableError,D=0;D<h.length;D++){var W=h[D];_(W.value,{componentStack:W.stack})}}finally{ne.T=a,pe.p=g}}(hh&3)!==0&&Lp(),$o(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===l1?Df++:(Df=0,l1=i):Df=0,Of(0)}}function Hv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,lc(a)))}function Lp(i){return Bv(),qv(),zv(),Gv()}function Gv(){if(Zi!==5)return!1;var i=vu,a=a1;a1=0;var l=rs(hh),h=ne.T,g=pe.p;try{pe.p=32>l?32:l,ne.T=null,l=o1,o1=null;var _=vu,D=hh;if(Zi=0,ch=vu=null,hh=0,(Kn&6)!==0)throw Error(r(331));var W=Kn;if(Kn|=4,Iv(_.current),xv(_,_.current,D,l),Kn=W,Of(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ct,_)}catch{}return!0}finally{pe.p=g,ne.T=h,Hv(i,a)}}function $v(i,a,l){a=Cs(l,a),a=Ug(i.stateNode,a,2),i=Xe(i,a,2),i!==null&&(gn(i,2),$o(i))}function lr(i,a,l){if(i.tag===3)$v(i,i,l);else for(;a!==null;){if(a.tag===3){$v(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yu===null||!yu.has(h))){i=Cs(l,i),l=Qy(2),h=Xe(a,l,2),h!==null&&(Xy(l,h,a,i),gn(h,2),$o(h));break}}a=a.return}}function f1(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new wE;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(n1=!0,g.add(l),i=TE.bind(null,i,a,l),a.then(i,i))}function TE(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,fr===i&&(Rn&l)===l&&(Gr===4||Gr===3&&(Rn&62914560)===Rn&&300>Nt()-s1?(Kn&2)===0&&fh(i,0):r1|=l,uh===Rn&&(uh=0)),$o(i)}function Wv(i,a){a===0&&(a=ir()),i=ml(i,a),i!==null&&(gn(i,a),$o(i))}function NE(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Wv(i,l)}function IE(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Wv(i,l)}function CE(i,a){return rt(i,a)}var kp=null,ph=null,d1=!1,Pp=!1,p1=!1,wc=0;function $o(i){i!==ph&&i.next===null&&(ph===null?kp=ph=i:ph=ph.next=i),Pp=!0,d1||(d1=!0,LE())}function Of(i,a){if(!p1&&Pp){p1=!0;do for(var l=!1,h=kp;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var D=h.suspendedLanes,W=h.pingedLanes;_=(1<<31-st(42|i)+1)-1,_&=g&~(D&~W),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Xv(h,_))}else _=Rn,_=Nn(h,h===fr?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||At(h,_)||(l=!0,Xv(h,_));h=h.next}while(l);p1=!1}}function RE(){Yv()}function Yv(){Pp=d1=!1;var i=0;wc!==0&&(FE()&&(i=wc),wc=0);for(var a=Nt(),l=null,h=kp;h!==null;){var g=h.next,_=Kv(h,a);_===0?(h.next=null,l===null?kp=g:l.next=g,g===null&&(ph=l)):(l=h,(i!==0||(_&3)!==0)&&(Pp=!0)),h=g}Of(i)}function Kv(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var D=31-st(_),W=1<<D,de=g[D];de===-1?((W&l)===0||(W&h)!==0)&&(g[D]=nn(W,a)):de<=a&&(i.expiredLanes|=W),_&=~W}if(a=fr,l=Rn,l=Nn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Me(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||At(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&Me(h),rs(l)){case 2:case 8:l=yt;break;case 32:l=tt;break;case 268435456:l=_t;break;default:l=tt}return h=Qv.bind(null,i),l=rt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&Me(h),i.callbackPriority=2,i.callbackNode=null,2}function Qv(i,a){if(Zi!==0&&Zi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lp()&&i.callbackNode!==l)return null;var h=Rn;return h=Nn(i,i===fr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(kv(i,h,a),Kv(i,Nt()),i.callbackNode!=null&&i.callbackNode===l?Qv.bind(null,i):null)}function Xv(i,a){if(Lp())return null;kv(i,a,!0)}function LE(){BE(function(){(Kn&6)!==0?rt(Je,RE):Yv()})}function m1(){return wc===0&&(wc=Vt()),wc}function Zv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vs(""+i)}function Jv(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function kE(i,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var _=Zv((g[Pn]||null).action),D=h.submitter;D&&(a=(a=D[Pn]||null)?Zv(a.formAction):D.getAttribute("formAction"),a!==null&&(_=a,D=null));var W=new xa("action","action",null,h,g);i.push({event:W,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wc!==0){var de=D?Jv(g,D):new FormData(g);qa(l,{pending:!0,data:de,method:g.method,action:_},null,de)}}else typeof _=="function"&&(W.preventDefault(),de=D?Jv(g,D):new FormData(g),qa(l,{pending:!0,data:de,method:g.method,action:_},_,de))},currentTarget:g}]})}}for(var g1=0;g1<Hc.length;g1++){var y1=Hc[g1],PE=y1.toLowerCase(),DE=y1[0].toUpperCase()+y1.slice(1);Hs(PE,"on"+DE)}Hs(sf,"onAnimationEnd"),Hs(af,"onAnimationIteration"),Hs(of,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(Qd,"onTransitionRun"),Hs(Xd,"onTransitionStart"),Hs(Zd,"onTransitionCancel"),Hs(lf,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mf));function e5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var D=h.length-1;0<=D;D--){var W=h[D],de=W.instance,Le=W.currentTarget;if(W=W.listener,de!==_&&g.isPropagationStopped())break e;_=W,g.currentTarget=Le;try{_(g)}catch(He){bp(He)}g.currentTarget=null,_=de}else for(D=0;D<h.length;D++){if(W=h[D],de=W.instance,Le=W.currentTarget,W=W.listener,de!==_&&g.isPropagationStopped())break e;_=W,g.currentTarget=Le;try{_(g)}catch(He){bp(He)}g.currentTarget=null,_=de}}}}function vn(i,a){var l=a[Zn];l===void 0&&(l=a[Zn]=new Set);var h=i+"__bubble";l.has(h)||(t5(a,i,2,!1),l.add(h))}function v1(i,a,l){var h=0;a&&(h|=4),t5(l,i,h,a)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function _1(i){if(!i[Dp]){i[Dp]=!0,ss.forEach(function(l){l!=="selectionchange"&&(OE.has(l)||v1(l,!1,i),v1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Dp]||(a[Dp]=!0,v1("selectionchange",!1,a))}}function t5(i,a,l,h){switch(x5(a)){case 2:var g=lx;break;case 8:g=ux;break;default:g=P1}l=g.bind(null,a,l,i),g=void 0,!Br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function b1(i,a,l,h,g){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var W=h.stateNode.containerInfo;if(W===g)break;if(D===4)for(D=h.return;D!==null;){var de=D.tag;if((de===3||de===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;W!==null;){if(D=ai(W),D===null)return;if(de=D.tag,de===5||de===6||de===26||de===27){h=_=D;continue e}W=W.parentNode}}h=h.return}Ql(function(){var Le=_,He=us(l),Ye=[];e:{var Pe=uf.get(i);if(Pe!==void 0){var De=xa,Ht=i;switch(i){case"keypress":if(Ni(l)===0)break e;case"keydown":case"keyup":De=sr;break;case"focusin":Ht="focus",De=A;break;case"focusout":Ht="blur",De=A;break;case"beforeblur":case"afterblur":De=A;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=qi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=zr;break;case sf:case af:case of:De=ae;break;case lf:De=sa;break;case"scroll":case"scrollend":De=Ta;break;case"wheel":De=io;break;case"copy":case"cut":case"paste":De=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=gr;break;case"toggle":case"beforetoggle":De=fs}var Mt=(a&4)!==0,rr=!Mt&&(i==="scroll"||i==="scrollend"),Ee=Mt?Pe!==null?Pe+"Capture":null:Pe;Mt=[];for(var _e=Le,Ne;_e!==null;){var $e=_e;if(Ne=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ne===null||Ee===null||($e=no(_e,Ee),$e!=null&&Mt.push(jf(_e,$e,Ne))),rr)break;_e=_e.return}0<Mt.length&&(Pe=new De(Pe,Ht,null,l,He),Ye.push({event:Pe,listeners:Mt}))}}if((a&7)===0){e:{if(Pe=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",Pe&&l!==Ti&&(Ht=l.relatedTarget||l.fromElement)&&(ai(Ht)||Ht[mr]))break e;if((De||Pe)&&(Pe=He.window===He?He:(Pe=He.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,De?(Ht=l.relatedTarget||l.toElement,De=Le,Ht=Ht?ai(Ht):null,Ht!==null&&(rr=o(Ht),Mt=Ht.tag,Ht!==rr||Mt!==5&&Mt!==27&&Mt!==6)&&(Ht=null)):(De=null,Ht=Le),De!==Ht)){if(Mt=Ii,$e="onMouseLeave",Ee="onMouseEnter",_e="mouse",(i==="pointerout"||i==="pointerover")&&(Mt=gr,$e="onPointerLeave",Ee="onPointerEnter",_e="pointer"),rr=De==null?Pe:Ur(De),Ne=Ht==null?Pe:Ur(Ht),Pe=new Mt($e,_e+"leave",De,l,He),Pe.target=rr,Pe.relatedTarget=Ne,$e=null,ai(He)===Le&&(Mt=new Mt(Ee,_e+"enter",Ht,l,He),Mt.target=Ne,Mt.relatedTarget=rr,$e=Mt),rr=$e,De&&Ht)t:{for(Mt=De,Ee=Ht,_e=0,Ne=Mt;Ne;Ne=mh(Ne))_e++;for(Ne=0,$e=Ee;$e;$e=mh($e))Ne++;for(;0<_e-Ne;)Mt=mh(Mt),_e--;for(;0<Ne-_e;)Ee=mh(Ee),Ne--;for(;_e--;){if(Mt===Ee||Ee!==null&&Mt===Ee.alternate)break t;Mt=mh(Mt),Ee=mh(Ee)}Mt=null}else Mt=null;De!==null&&n5(Ye,Pe,De,Mt,!1),Ht!==null&&rr!==null&&n5(Ye,rr,Ht,Mt,!0)}}e:{if(Pe=Le?Ur(Le):window,De=Pe.nodeName&&Pe.nodeName.toLowerCase(),De==="select"||De==="input"&&Pe.type==="file")var mt=Hi;else if(jn(Pe))if(Oo)mt=Jl;else{mt=Ra;var pn=nf}else De=Pe.nodeName,!De||De.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Le&&hl(Le.elementType)&&(mt=Hi):mt=La;if(mt&&(mt=mt(i,Le))){Is(Ye,mt,l,He);break e}pn&&pn(i,Pe,Le),i==="focusout"&&Le&&Pe.type==="number"&&Le.memoizedProps.value!=null&&wa(Pe,"number",Pe.value)}switch(pn=Le?Ur(Le):window,i){case"focusin":(jn(pn)||pn.contentEditable==="true")&&(On=pn,qn=Le,ar=null);break;case"focusout":ar=qn=On=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,Oa(Ye,l,He);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":Oa(Ye,l,He)}var Et;if(zi)e:{switch(i){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else un?Oe(i,l)&&(jt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(L&&l.locale!=="ko"&&(un||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&un&&(Et=ro()):(Us=He,Sa="value"in Us?Us.value:Us.textContent,un=!0)),pn=Op(Le,jt),0<pn.length&&(jt=new Ke(jt,i,null,l,He),Ye.push({event:jt,listeners:pn}),Et?jt.data=Et:(Et=Ze(l),Et!==null&&(jt.data=Et)))),(Et=x?hr(i,l):cn(i,l))&&(jt=Op(Le,"onBeforeInput"),0<jt.length&&(pn=new Ke("onBeforeInput","beforeinput",null,l,He),Ye.push({event:pn,listeners:jt}),pn.data=Et)),kE(Ye,i,Le,l,He)}e5(Ye,a)})}function jf(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Op(i,a){for(var l=a+"Capture",h=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=no(i,l),g!=null&&h.unshift(jf(i,g,_)),g=no(i,a),g!=null&&h.push(jf(i,g,_))),i.tag===3)return h;i=i.return}return[]}function mh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function n5(i,a,l,h,g){for(var _=a._reactName,D=[];l!==null&&l!==h;){var W=l,de=W.alternate,Le=W.stateNode;if(W=W.tag,de!==null&&de===h)break;W!==5&&W!==26&&W!==27||Le===null||(de=Le,g?(Le=no(l,_),Le!=null&&D.unshift(jf(l,Le,de))):g||(Le=no(l,_),Le!=null&&D.push(jf(l,Le,de)))),l=l.return}D.length!==0&&i.push({event:a,listeners:D})}var ME=/\r\n?/g,jE=/\u0000|\uFFFD/g;function r5(i){return(typeof i=="string"?i:""+i).replace(ME,`
`).replace(jE,"")}function i5(i,a){return a=r5(a),r5(i)===a}function Mp(){}function nr(i,a,l,h,g,_){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Vi(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Vi(i,""+h);break;case"className":Ir(i,"class",h);break;case"tabIndex":Ir(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(i,l,h);break;case"style":cl(i,h,_);break;case"data":if(a!=="object"){Ir(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&nr(i,a,"name",g.name,g,null),nr(i,a,"formEncType",g.formEncType,g,null),nr(i,a,"formMethod",g.formMethod,g,null),nr(i,a,"formTarget",g.formTarget,g,null)):(nr(i,a,"encType",g.encType,g,null),nr(i,a,"method",g.method,g,null),nr(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Mp);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Vs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":vn("beforetoggle",i),vn("toggle",i),ta(i,"popover",h);break;case"xlinkActuate":Cr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Cr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Cr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Cr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Cr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Cr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ta(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ec.get(l)||l,ta(i,l,h))}}function w1(i,a,l,h,g,_){switch(l){case"style":cl(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Vi(i,h):(typeof h=="number"||typeof h=="bigint")&&Vi(i,""+h);break;case"onScroll":h!=null&&vn("scroll",i);break;case"onScrollEnd":h!=null&&vn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),_=i[Pn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(a,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ta(i,l,h)}}}function Ji(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",i),vn("load",i);var h=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var D=l[_];if(D!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nr(i,a,_,D,l,null)}}g&&nr(i,a,"srcSet",l.srcSet,l,null),h&&nr(i,a,"src",l.src,l,null);return;case"input":vn("invalid",i);var W=_=D=g=null,de=null,Le=null;for(h in l)if(l.hasOwnProperty(h)){var He=l[h];if(He!=null)switch(h){case"name":g=He;break;case"type":D=He;break;case"checked":de=He;break;case"defaultChecked":Le=He;break;case"value":_=He;break;case"defaultValue":W=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,a));break;default:nr(i,a,h,He,l,null)}}to(i,_,W,de,Le,D,g,!1),os(i);return;case"select":vn("invalid",i),h=D=_=null;for(g in l)if(l.hasOwnProperty(g)&&(W=l[g],W!=null))switch(g){case"value":_=W;break;case"defaultValue":D=W;break;case"multiple":h=W;default:nr(i,a,g,W,l,null)}a=_,l=D,i.multiple=!!h,a!=null?ra(i,!!h,a,!1):l!=null&&ra(i,!!h,l,!0);return;case"textarea":vn("invalid",i),_=g=h=null;for(D in l)if(l.hasOwnProperty(D)&&(W=l[D],W!=null))switch(D){case"value":h=W;break;case"defaultValue":g=W;break;case"children":_=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:nr(i,a,D,W,l,null)}Aa(i,h,g,_),os(i);return;case"option":for(de in l)if(l.hasOwnProperty(de)&&(h=l[de],h!=null))switch(de){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:nr(i,a,de,h,l,null)}return;case"dialog":vn("beforetoggle",i),vn("toggle",i),vn("cancel",i),vn("close",i);break;case"iframe":case"object":vn("load",i);break;case"video":case"audio":for(h=0;h<Mf.length;h++)vn(Mf[h],i);break;case"image":vn("error",i),vn("load",i);break;case"details":vn("toggle",i);break;case"embed":case"source":case"link":vn("error",i),vn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(h=l[Le],h!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nr(i,a,Le,h,l,null)}return;default:if(hl(a)){for(He in l)l.hasOwnProperty(He)&&(h=l[He],h!==void 0&&w1(i,a,He,h,l,void 0));return}}for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null&&nr(i,a,W,h,l,null))}function VE(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,D=null,W=null,de=null,Le=null,He=null;for(De in l){var Ye=l[De];if(l.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":de=Ye;default:h.hasOwnProperty(De)||nr(i,a,De,null,h,Ye)}}for(var Pe in h){var De=h[Pe];if(Ye=l[Pe],h.hasOwnProperty(Pe)&&(De!=null||Ye!=null))switch(Pe){case"type":_=De;break;case"name":g=De;break;case"checked":Le=De;break;case"defaultChecked":He=De;break;case"value":D=De;break;case"defaultValue":W=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,a));break;default:De!==Ye&&nr(i,a,Pe,De,h,Ye)}}mi(i,D,W,de,Le,He,_,g);return;case"select":De=D=W=Pe=null;for(_ in l)if(de=l[_],l.hasOwnProperty(_)&&de!=null)switch(_){case"value":break;case"multiple":De=de;default:h.hasOwnProperty(_)||nr(i,a,_,null,h,de)}for(g in h)if(_=h[g],de=l[g],h.hasOwnProperty(g)&&(_!=null||de!=null))switch(g){case"value":Pe=_;break;case"defaultValue":W=_;break;case"multiple":D=_;default:_!==de&&nr(i,a,g,_,h,de)}a=W,l=D,h=De,Pe!=null?ra(i,!!l,Pe,!1):!!h!=!!l&&(a!=null?ra(i,!!l,a,!0):ra(i,!!l,l?[]:"",!1));return;case"textarea":De=Pe=null;for(W in l)if(g=l[W],l.hasOwnProperty(W)&&g!=null&&!h.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:nr(i,a,W,null,h,g)}for(D in h)if(g=h[D],_=l[D],h.hasOwnProperty(D)&&(g!=null||_!=null))switch(D){case"value":Pe=g;break;case"defaultValue":De=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&nr(i,a,D,g,h,_)}on(i,Pe,De);return;case"option":for(var Ht in l)if(Pe=l[Ht],l.hasOwnProperty(Ht)&&Pe!=null&&!h.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:nr(i,a,Ht,null,h,Pe)}for(de in h)if(Pe=h[de],De=l[de],h.hasOwnProperty(de)&&Pe!==De&&(Pe!=null||De!=null))switch(de){case"selected":i.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:nr(i,a,de,Pe,h,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)Pe=l[Mt],l.hasOwnProperty(Mt)&&Pe!=null&&!h.hasOwnProperty(Mt)&&nr(i,a,Mt,null,h,Pe);for(Le in h)if(Pe=h[Le],De=l[Le],h.hasOwnProperty(Le)&&Pe!==De&&(Pe!=null||De!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,a));break;default:nr(i,a,Le,Pe,h,De)}return;default:if(hl(a)){for(var rr in l)Pe=l[rr],l.hasOwnProperty(rr)&&Pe!==void 0&&!h.hasOwnProperty(rr)&&w1(i,a,rr,void 0,h,Pe);for(He in h)Pe=h[He],De=l[He],!h.hasOwnProperty(He)||Pe===De||Pe===void 0&&De===void 0||w1(i,a,He,Pe,h,De);return}}for(var Ee in l)Pe=l[Ee],l.hasOwnProperty(Ee)&&Pe!=null&&!h.hasOwnProperty(Ee)&&nr(i,a,Ee,null,h,Pe);for(Ye in h)Pe=h[Ye],De=l[Ye],!h.hasOwnProperty(Ye)||Pe===De||Pe==null&&De==null||nr(i,a,Ye,Pe,h,De)}var A1=null,S1=null;function jp(i){return i.nodeType===9?i:i.ownerDocument}function s5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function E1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var x1=null;function FE(){var i=window.event;return i&&i.type==="popstate"?i===x1?!1:(x1=i,!0):(x1=null,!1)}var o5=typeof setTimeout=="function"?setTimeout:void 0,UE=typeof clearTimeout=="function"?clearTimeout:void 0,l5=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof l5<"u"?function(i){return l5.resolve(null).then(i).catch(qE)}:o5;function qE(i){setTimeout(function(){throw i})}function bu(i){return i==="head"}function u5(i,a){var l=a,h=0,g=0;do{var _=l.nextSibling;if(i.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var D=i.ownerDocument;if(l&1&&Vf(D.documentElement),l&2&&Vf(D.body),l&4)for(l=D.head,Vf(l),D=l.firstChild;D;){var W=D.nextSibling,de=D.nodeName;D[is]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=W}}if(g===0){i.removeChild(_),$f(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);$f(a)}function T1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":T1(l),si(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function zE(i,a,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[is])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=_o(i.nextSibling),i===null)break}return null}function HE(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=_o(i.nextSibling),i===null))return null;return i}function N1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function GE(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function _o(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var I1=null;function c5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function h5(i,a,l){switch(a=jp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Vf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);si(i)}var Ga=new Map,f5=new Set;function Vp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Rl=pe.d;pe.d={f:$E,r:WE,D:YE,C:KE,L:QE,m:XE,X:JE,S:ZE,M:ex};function $E(){var i=Rl.f(),a=Cp();return i||a}function WE(i){var a=Fr(i);a!==null&&a.tag===5&&a.type==="form"?gc(a):Rl.r(i)}var gh=typeof document>"u"?null:document;function d5(i,a,l){var h=gh;if(h&&typeof a=="string"&&a){var g=en(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),f5.has(g)||(f5.add(g),i={rel:i,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Ji(a,"link",i),Wn(a),h.head.appendChild(a)))}}function YE(i){Rl.D(i),d5("dns-prefetch",i,null)}function KE(i,a){Rl.C(i,a),d5("preconnect",i,a)}function QE(i,a,l){Rl.L(i,a,l);var h=gh;if(h&&i&&a){var g='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+en(l.imageSizes)+'"]')):g+='[href="'+en(i)+'"]';var _=g;switch(a){case"style":_=yh(i);break;case"script":_=vh(i)}Ga.has(_)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ga.set(_,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(Ff(_))||a==="script"&&h.querySelector(Uf(_))||(a=h.createElement("link"),Ji(a,"link",i),Wn(a),h.head.appendChild(a)))}}function XE(i,a){Rl.m(i,a);var l=gh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+en(h)+'"][href="'+en(i)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=vh(i)}if(!Ga.has(_)&&(i=y({rel:"modulepreload",href:i},a),Ga.set(_,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Uf(_)))return}h=l.createElement("link"),Ji(h,"link",i),Wn(h),l.head.appendChild(h)}}}function ZE(i,a,l){Rl.S(i,a,l);var h=gh;if(h&&i){var g=Jn(h).hoistableStyles,_=yh(i);a=a||"default";var D=g.get(_);if(!D){var W={loading:0,preload:null};if(D=h.querySelector(Ff(_)))W.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ga.get(_))&&C1(i,l);var de=D=h.createElement("link");Wn(de),Ji(de,"link",i),de._p=new Promise(function(Le,He){de.onload=Le,de.onerror=He}),de.addEventListener("load",function(){W.loading|=1}),de.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Fp(D,a,h)}D={type:"stylesheet",instance:D,count:1,state:W},g.set(_,D)}}}function JE(i,a){Rl.X(i,a);var l=gh;if(l&&i){var h=Jn(l).hoistableScripts,g=vh(i),_=h.get(g);_||(_=l.querySelector(Uf(g)),_||(i=y({src:i,async:!0},a),(a=Ga.get(g))&&R1(i,a),_=l.createElement("script"),Wn(_),Ji(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function ex(i,a){Rl.M(i,a);var l=gh;if(l&&i){var h=Jn(l).hoistableScripts,g=vh(i),_=h.get(g);_||(_=l.querySelector(Uf(g)),_||(i=y({src:i,async:!0,type:"module"},a),(a=Ga.get(g))&&R1(i,a),_=l.createElement("script"),Wn(_),Ji(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function p5(i,a,l,h){var g=(g=fe.current)?Vp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=yh(l.href),l=Jn(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=yh(l.href);var _=Jn(g).hoistableStyles,D=_.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,D),(_=g.querySelector(Ff(i)))&&!_._p&&(D.instance=_,D.state.loading=5),Ga.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ga.set(i,l),_||tx(g,i,l,D.state))),a&&h===null)throw Error(r(528,""));return D}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vh(l),l=Jn(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function yh(i){return'href="'+en(i)+'"'}function Ff(i){return'link[rel="stylesheet"]['+i+"]"}function m5(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function tx(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Ji(a,"link",l),Wn(a),i.head.appendChild(a))}function vh(i){return'[src="'+en(i)+'"]'}function Uf(i){return"script[async]"+i}function g5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+en(l.href)+'"]');if(h)return a.instance=h,Wn(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Wn(h),Ji(h,"style",g),Fp(h,l.precedence,i),a.instance=h;case"stylesheet":g=yh(l.href);var _=i.querySelector(Ff(g));if(_)return a.state.loading|=4,a.instance=_,Wn(_),_;h=m5(l),(g=Ga.get(g))&&C1(h,g),_=(i.ownerDocument||i).createElement("link"),Wn(_);var D=_;return D._p=new Promise(function(W,de){D.onload=W,D.onerror=de}),Ji(_,"link",h),a.state.loading|=4,Fp(_,l.precedence,i),a.instance=_;case"script":return _=vh(l.src),(g=i.querySelector(Uf(_)))?(a.instance=g,Wn(g),g):(h=l,(g=Ga.get(_))&&(h=y({},l),R1(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Wn(g),Ji(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Fp(h,l.precedence,i));return a.instance}function Fp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,D=0;D<h.length;D++){var W=h[D];if(W.dataset.precedence===a)_=W;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function C1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function R1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Up=null;function y5(i,a,l){if(Up===null){var h=new Map,g=Up=new Map;g.set(l,h)}else g=Up,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[is]||_[$n]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var D=_.getAttribute(a)||"";D=i+D;var W=h.get(D);W?W.push(_):h.set(D,[_])}}return h}function v5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function nx(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Bf=null;function rx(){}function ix(i,a,l){if(Bf===null)throw Error(r(475));var h=Bf;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=yh(l.href),_=i.querySelector(Ff(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Bp.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=_,Wn(_);return}_=i.ownerDocument||i,l=m5(l),(g=Ga.get(g))&&C1(l,g),_=_.createElement("link"),Wn(_);var D=_;D._p=new Promise(function(W,de){D.onload=W,D.onerror=de}),Ji(_,"link",l),a.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Bp.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function sx(){if(Bf===null)throw Error(r(475));var i=Bf;return i.stylesheets&&i.count===0&&L1(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&L1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Bp(){if(this.count--,this.count===0){if(this.stylesheets)L1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qp=null;function L1(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qp=new Map,a.forEach(ax,i),qp=null,Bp.call(i))}function ax(i,a){if(!(a.state.loading&4)){var l=qp.get(i);if(l)var h=l.get(null);else{l=new Map,qp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var D=g[_];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),h=D)}h&&l.set(null,h)}g=a.instance,D=g.getAttribute("data-precedence"),_=l.get(D)||h,_===h&&l.set(null,g),l.set(D,g),this.count++,h=Bp.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var qf={$$typeof:re,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function ox(i,a,l,h,g,_,D,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function b5(i,a,l,h,g,_,D,W,de,Le,He,Ye){return i=new ox(i,a,l,D,W,de,Le,Ye),a=1,_===!0&&(a|=24),_=Ri(3,null,null,a),i.current=_,_.stateNode=i,a=hf(),a.refCount++,i.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:a},Ie(_),i}function w5(i){return i?(i=li,i):li}function A5(i,a,l,h,g,_){g=w5(g),h.context===null?h.context=g:h.pendingContext=g,h=Ve(a),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Xe(i,h,a),l!==null&&(fa(l,i,a),We(l,i,a))}function S5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function k1(i,a){S5(i,a),(i=i.alternate)&&S5(i,a)}function E5(i){if(i.tag===13){var a=ml(i,67108864);a!==null&&fa(a,i,67108864),k1(i,67108864)}}var zp=!0;function lx(i,a,l,h){var g=ne.T;ne.T=null;var _=pe.p;try{pe.p=2,P1(i,a,l,h)}finally{pe.p=_,ne.T=g}}function ux(i,a,l,h){var g=ne.T;ne.T=null;var _=pe.p;try{pe.p=8,P1(i,a,l,h)}finally{pe.p=_,ne.T=g}}function P1(i,a,l,h){if(zp){var g=D1(h);if(g===null)b1(i,a,h,Hp,l),T5(i,h);else if(hx(g,i,a,l,h))h.stopPropagation();else if(T5(i,h),a&4&&-1<cx.indexOf(i)){for(;g!==null;){var _=Fr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var D=It(_.pendingLanes);if(D!==0){var W=_;for(W.pendingLanes|=2,W.entangledLanes|=2;D;){var de=1<<31-st(D);W.entanglements[1]|=de,D&=~de}$o(_),(Kn&6)===0&&(Np=Nt()+500,Of(0))}}break;case 13:W=ml(_,2),W!==null&&fa(W,_,2),Cp(),k1(_,2)}if(_=D1(h),_===null&&b1(i,a,h,Hp,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else b1(i,a,h,null,l)}}function D1(i){return i=us(i),O1(i)}var Hp=null;function O1(i){if(Hp=null,i=ai(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Hp=i,null}function x5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Je:return 2;case yt:return 8;case tt:case Yt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var M1=!1,wu=null,Au=null,Su=null,zf=new Map,Hf=new Map,Eu=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T5(i,a){switch(i){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Su=null;break;case"pointerover":case"pointerout":zf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(a.pointerId)}}function Gf(i,a,l,h,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},a!==null&&(a=Fr(a),a!==null&&E5(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function hx(i,a,l,h,g){switch(a){case"focusin":return wu=Gf(wu,i,a,l,h,g),!0;case"dragenter":return Au=Gf(Au,i,a,l,h,g),!0;case"mouseover":return Su=Gf(Su,i,a,l,h,g),!0;case"pointerover":var _=g.pointerId;return zf.set(_,Gf(zf.get(_)||null,i,a,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Hf.set(_,Gf(Hf.get(_)||null,i,a,l,h,g)),!0}return!1}function N5(i){var a=ai(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Ct(i.priority,function(){if(l.tag===13){var h=ha();h=pr(h);var g=ml(l,h);g!==null&&fa(g,l,h),k1(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=D1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ti=h,l.target.dispatchEvent(h),Ti=null}else return a=Fr(l),a!==null&&E5(a),i.blockedOn=l,!1;a.shift()}return!0}function I5(i,a,l){Gp(i)&&l.delete(a)}function fx(){M1=!1,wu!==null&&Gp(wu)&&(wu=null),Au!==null&&Gp(Au)&&(Au=null),Su!==null&&Gp(Su)&&(Su=null),zf.forEach(I5),Hf.forEach(I5)}function $p(i,a){i.blockedOn===a&&(i.blockedOn=null,M1||(M1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fx)))}var Wp=null;function C5(i){Wp!==i&&(Wp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wp===i&&(Wp=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(O1(h||l)===null)continue;break}var _=Fr(l);_!==null&&(i.splice(a,3),a-=3,qa(_,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function $f(i){function a(de){return $p(de,i)}wu!==null&&$p(wu,i),Au!==null&&$p(Au,i),Su!==null&&$p(Su,i),zf.forEach(a),Hf.forEach(a);for(var l=0;l<Eu.length;l++){var h=Eu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Eu.length&&(l=Eu[0],l.blockedOn===null);)N5(l),l.blockedOn===null&&Eu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],_=l[h+1],D=g[Pn]||null;if(typeof _=="function")D||C5(l);else if(D){var W=null;if(_&&_.hasAttribute("formAction")){if(g=_,D=_[Pn]||null)W=D.formAction;else if(O1(g)!==null)continue}else W=D.action;typeof W=="function"?l[h+1]=W:(l.splice(h,3),h-=3),C5(l)}}}function j1(i){this._internalRoot=i}Yp.prototype.render=j1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=ha();A5(l,h,i,a,null,null)},Yp.prototype.unmount=j1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;A5(i.current,2,null,i,null,null),Cp(),a[mr]=null}};function Yp(i){this._internalRoot=i}Yp.prototype.unstable_scheduleHydration=function(i){if(i){var a=di();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Eu.length&&a!==0&&a<Eu[l].priority;l++);Eu.splice(l,0,i),l===0&&N5(i)}};var R5=e.version;if(R5!=="19.1.1")throw Error(r(527,R5,"19.1.1"));pe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var dx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{ct=Kp.inject(dx),wt=Kp}catch{}}return Yf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",g=$y,_=Wy,D=Yy,W=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(W=a.unstable_transitionCallbacks)),a=b5(i,1,!1,null,null,l,h,g,_,D,W,null),i[mr]=a.current,_1(i),new j1(a)},Yf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,g="",_=$y,D=Wy,W=Yy,de=null,Le=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(de=l.unstable_transitionCallbacks),l.formState!==void 0&&(Le=l.formState)),a=b5(i,1,!0,a,l??null,h,g,_,D,W,de,Le),a.context=w5(null),l=a.current,h=ha(),h=pr(h),g=Ve(h),g.callback=null,Xe(l,g,h),l=h,a.current.lanes=l,gn(a,l),$o(a),i[mr]=a.current,_1(i),new Yp(a)},Yf.version="19.1.1",Yf}var U5;function xx(){if(U5)return U1.exports;U5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),U1.exports=Ex(),U1.exports}var Tx=xx();let Nx={data:""},Ix=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||Nx,Cx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rx=/\/\*[^]*?\*\/|  +/g,B5=/\n+/g,Cu=(n,e)=>{let t="",r="",s="";for(let o in n){let u=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+u+";":r+=o[1]=="f"?Cu(u,o):o+"{"+Cu(u,o[1]=="k"?"":e)+"}":typeof u=="object"?r+=Cu(u,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Cu.p?Cu.p(o,u):o+":"+u+";")}return t+(e&&s?e+"{"+s+"}":s)+r},Ll={},Zw=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Zw(n[t]);return e}return n},Lx=(n,e,t,r,s)=>{let o=Zw(n),u=Ll[o]||(Ll[o]=(f=>{let d=0,y=11;for(;d<f.length;)y=101*y+f.charCodeAt(d++)>>>0;return"go"+y})(o));if(!Ll[u]){let f=o!==n?n:(d=>{let y,w,E=[{}];for(;y=Cx.exec(d.replace(Rx,""));)y[4]?E.shift():y[3]?(w=y[3].replace(B5," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][y[1]]=y[2].replace(B5," ").trim();return E[0]})(n);Ll[u]=Cu(s?{["@keyframes "+u]:f}:f,t?"":"."+u)}let c=t&&Ll.g?Ll.g:null;return t&&(Ll.g=Ll[u]),((f,d,y,w)=>{w?d.data=d.data.replace(w,f):d.data.indexOf(f)===-1&&(d.data=y?f+d.data:d.data+f)})(Ll[u],e,r,c),u},kx=(n,e,t)=>n.reduce((r,s,o)=>{let u=e[o];if(u&&u.call){let c=u(t),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;u=f?"."+f:c&&typeof c=="object"?c.props?"":Cu(c,""):c===!1?"":c}return r+s+(u??"")},"");function rg(n){let e=this||{},t=n.call?n(e.p):n;return Lx(t.unshift?t.raw?kx(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,Ix(e.target),e.g,e.o,e.k)}let Jw,k0,P0;rg.bind({g:1});let Ul=rg.bind({k:1});function Px(n,e,t,r){Cu.p=e,Jw=n,k0=t,P0=r}function Ku(n,e){let t=this||{};return function(){let r=arguments;function s(o,u){let c=Object.assign({},o),f=c.className||s.className;t.p=Object.assign({theme:k0&&k0()},c),t.o=/ *go\d+/.test(f),c.className=rg.apply(t,r)+(f?" "+f:"");let d=n;return n[0]&&(d=c.as||n,delete c.as),P0&&d[0]&&P0(c),Jw(d,c)}return s}}var Dx=n=>typeof n=="function",Cm=(n,e)=>Dx(n)?n(e):n,Ox=(()=>{let n=0;return()=>(++n).toString()})(),e4=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),Mx=20,A2="default",t4=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:r}=e;return t4(n,{type:n.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},fm=[],n4={toasts:[],pausedAt:void 0,settings:{toastLimit:Mx}},Qo={},r4=(n,e=A2)=>{Qo[e]=t4(Qo[e]||n4,n),fm.forEach(([t,r])=>{t===e&&r(Qo[e])})},i4=n=>Object.keys(Qo).forEach(e=>r4(n,e)),jx=n=>Object.keys(Qo).find(e=>Qo[e].toasts.some(t=>t.id===n)),ig=(n=A2)=>e=>{r4(e,n)},Vx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fx=(n={},e=A2)=>{let[t,r]=ze.useState(Qo[e]||n4),s=ze.useRef(Qo[e]);ze.useEffect(()=>(s.current!==Qo[e]&&r(Qo[e]),fm.push([e,r]),()=>{let u=fm.findIndex(([c])=>c===e);u>-1&&fm.splice(u,1)}),[e]);let o=t.toasts.map(u=>{var c,f,d;return{...n,...n[u.type],...u,removeDelay:u.removeDelay||((c=n[u.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:u.duration||((f=n[u.type])==null?void 0:f.duration)||n?.duration||Vx[u.type],style:{...n.style,...(d=n[u.type])==null?void 0:d.style,...u.style}}});return{...t,toasts:o}},Ux=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||Ox()}),Cd=n=>(e,t)=>{let r=Ux(e,n,t);return ig(r.toasterId||jx(r.id))({type:2,toast:r}),r.id},wi=(n,e)=>Cd("blank")(n,e);wi.error=Cd("error");wi.success=Cd("success");wi.loading=Cd("loading");wi.custom=Cd("custom");wi.dismiss=(n,e)=>{let t={type:3,toastId:n};e?ig(e)(t):i4(t)};wi.dismissAll=n=>wi.dismiss(void 0,n);wi.remove=(n,e)=>{let t={type:4,toastId:n};e?ig(e)(t):i4(t)};wi.removeAll=n=>wi.remove(void 0,n);wi.promise=(n,e,t)=>{let r=wi.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let o=e.success?Cm(e.success,s):void 0;return o?wi.success(o,{id:r,...t,...t?.success}):wi.dismiss(r),s}).catch(s=>{let o=e.error?Cm(e.error,s):void 0;o?wi.error(o,{id:r,...t,...t?.error}):wi.dismiss(r)}),n};var Bx=1e3,qx=(n,e="default")=>{let{toasts:t,pausedAt:r}=Fx(n,e),s=ze.useRef(new Map).current,o=ze.useCallback((w,E=Bx)=>{if(s.has(w))return;let b=setTimeout(()=>{s.delete(w),u({type:4,toastId:w})},E);s.set(w,b)},[]);ze.useEffect(()=>{if(r)return;let w=Date.now(),E=t.map(b=>{if(b.duration===1/0)return;let M=(b.duration||0)+b.pauseDuration-(w-b.createdAt);if(M<0){b.visible&&wi.dismiss(b.id);return}return setTimeout(()=>wi.dismiss(b.id,e),M)});return()=>{E.forEach(b=>b&&clearTimeout(b))}},[t,r,e]);let u=ze.useCallback(ig(e),[e]),c=ze.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=ze.useCallback((w,E)=>{u({type:1,toast:{id:w,height:E}})},[u]),d=ze.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),y=ze.useCallback((w,E)=>{let{reverseOrder:b=!1,gutter:M=8,defaultPosition:F}=E||{},q=t.filter(re=>(re.position||F)===(w.position||F)&&re.height),U=q.findIndex(re=>re.id===w.id),te=q.filter((re,X)=>X<U&&re.visible).length;return q.filter(re=>re.visible).slice(...b?[te+1]:[0,te]).reduce((re,X)=>re+(X.height||0)+M,0)},[t]);return ze.useEffect(()=>{t.forEach(w=>{if(w.dismissed)o(w.id,w.removeDelay);else{let E=s.get(w.id);E&&(clearTimeout(E),s.delete(w.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:f,startPause:c,endPause:d,calculateOffset:y}}},zx=Ul`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Hx=Ul`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gx=Ul`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$x=Ku("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Hx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wx=Ul`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Yx=Ku("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Wx} 1s linear infinite;
`,Kx=Ul`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qx=Ul`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xx=Ku("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Zx=Ku("div")`
  position: absolute;
`,Jx=Ku("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,e6=Ul`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t6=Ku("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${e6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,n6=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?ze.createElement(t6,null,e):e:t==="blank"?null:ze.createElement(Jx,null,ze.createElement(Yx,{...r}),t!=="loading"&&ze.createElement(Zx,null,t==="error"?ze.createElement($x,{...r}):ze.createElement(Xx,{...r})))},r6=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,i6=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,s6="0%{opacity:0;} 100%{opacity:1;}",a6="0%{opacity:1;} 100%{opacity:0;}",o6=Ku("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,l6=Ku("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,u6=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=e4()?[s6,a6]:[r6(t),i6(t)];return{animation:e?`${Ul(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ul(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},c6=ze.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?u6(n.position||e||"top-center",n.visible):{opacity:0},o=ze.createElement(n6,{toast:n}),u=ze.createElement(l6,{...n.ariaProps},Cm(n.message,n));return ze.createElement(o6,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:o,message:u}):ze.createElement(ze.Fragment,null,o,u))});Px(ze.createElement);var h6=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let o=ze.useCallback(u=>{if(u){let c=()=>{let f=u.getBoundingClientRect().height;r(n,f)};c(),new MutationObserver(c).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return ze.createElement("div",{ref:o,className:e,style:t},s)},f6=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:e4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},d6=rg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qp=16,p6=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,toasterId:o,containerStyle:u,containerClassName:c})=>{let{toasts:f,handlers:d}=qx(t,o);return ze.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Qp,left:Qp,right:Qp,bottom:Qp,pointerEvents:"none",...u},className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(y=>{let w=y.position||e,E=d.calculateOffset(y,{reverseOrder:n,gutter:r,defaultPosition:e}),b=f6(w,E);return ze.createElement(h6,{id:y.id,key:y.id,onHeightUpdate:d.updateHeight,className:y.visible?d6:"",style:b},y.type==="custom"?Cm(y.message,y):s?s(y):ze.createElement(c6,{toast:y,position:w}))}))},Oi=wi;const m6=()=>{};var q5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},g6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},a4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,y=o>>2,w=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(E=64)),r.push(t[y],t[w],t[E],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(s4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):g6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||w==null)throw new y6;const E=o<<2|c>>4;if(r.push(E),d!==64){const b=c<<4&240|d>>2;if(r.push(b),w!==64){const M=d<<6&192|w;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v6=function(n){const e=s4(n);return a4.encodeByteArray(e,!0)},Rm=function(n){return v6(n).replace(/\./g,"")},o4=function(n){try{return a4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=()=>_6().__FIREBASE_DEFAULTS__,w6=()=>{if(typeof process>"u"||typeof q5>"u")return;const n=q5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&o4(n[1]);return e&&JSON.parse(e)},sg=()=>{try{return m6()||b6()||w6()||A6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},l4=n=>sg()?.emulatorHosts?.[n],S6=n=>{const e=l4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},u4=()=>sg()?.config,c4=n=>sg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rm(JSON.stringify(t)),Rm(JSON.stringify(u)),""].join(".")}const rd={};function T6(){const n={prod:[],emulator:[]};for(const e of Object.keys(rd))rd[e]?n.emulator.push(e):n.prod.push(e);return n}function N6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let z5=!1;function f4(n,e){if(typeof window>"u"||typeof document>"u"||!Wh(window.location.host)||rd[n]===e||rd[n]||z5)return;rd[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=T6().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{z5=!0,u()},E}function y(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=N6(r),b=t("text"),M=document.getElementById(b)||document.createElement("span"),F=t("learnmore"),q=document.getElementById(F)||document.createElement("a"),U=t("preprendIcon"),te=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const re=E.element;c(re),y(q,F);const X=d();f(te,U),re.append(te,M,q,X),document.body.appendChild(re)}o?(M.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ss())}function C6(){const n=sg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function L6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k6(){const n=Ss();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P6(){return!C6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p4(){try{return typeof indexedDB=="object"}catch{return!1}}function m4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function D6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="FirebaseError";class To extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=O6,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?M6(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new To(s,c,r)}}function M6(n,e){return n.replace(j6,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const j6=/\{\$([^}]+)}/g;function V6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(H5(o)&&H5(u)){if(!Uu(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function H5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Zf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function F6(n,e){const t=new U6(n,e);return t.subscribe.bind(t)}class U6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");B6(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=H1),s.error===void 0&&(s.error=H1),s.complete===void 0&&(s.complete=H1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function H1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=1e3,z6=2,H6=14400*1e3,G6=.5;function G5(n,e=q6,t=z6){const r=e*Math.pow(t,n),s=Math.round(G6*r*(Math.random()-.5)*2);return Math.min(H6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n){return n&&n._delegate?n._delegate:n}class Ao{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new E6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y6(e))try{this.getOrInitializeService({instanceIdentifier:Ac})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ac){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ac){return this.instances.has(e)}getOptions(e=Ac){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ac){return this.component?this.component.multipleInstances?e:Ac:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W6(n){return n===Ac?void 0:n}function Y6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const Q6={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},X6=Sn.INFO,Z6={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},J6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Z6[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=X6,this._logHandler=J6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const eT=(n,e)=>e.some(t=>n instanceof t);let $5,W5;function tT(){return $5||($5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nT(){return W5||(W5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g4=new WeakMap,D0=new WeakMap,y4=new WeakMap,G1=new WeakMap,S2=new WeakMap;function rT(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Mu(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&g4.set(t,n)}).catch(()=>{}),S2.set(e,n),e}function iT(n){if(D0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});D0.set(n,e)}let O0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sT(n){O0=n(O0)}function aT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call($1(this),e,...t);return y4.set(r,e.sort?e.sort():[e]),Mu(r)}:nT().includes(n)?function(...e){return n.apply($1(this),e),Mu(g4.get(this))}:function(...e){return Mu(n.apply($1(this),e))}}function oT(n){return typeof n=="function"?aT(n):(n instanceof IDBTransaction&&iT(n),eT(n,tT())?new Proxy(n,O0):n)}function Mu(n){if(n instanceof IDBRequest)return rT(n);if(G1.has(n))return G1.get(n);const e=oT(n);return e!==n&&(G1.set(n,e),S2.set(e,n)),e}const $1=n=>S2.get(n);function v4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=Mu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Mu(u.result),f.oldVersion,f.newVersion,Mu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const lT=["get","getKey","getAll","getAllKeys","count"],uT=["put","add","delete","clear"],W1=new Map;function Y5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(W1.get(e))return W1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=uT.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lT.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return W1.set(e,o),o}sT(n=>({...n,get:(e,t,r)=>Y5(e,t)||n.get(e,t,r),has:(e,t)=>!!Y5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hT(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hT(n){return n.getComponent()?.type==="VERSION"}const M0="@firebase/app",K5="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new ag("@firebase/app"),fT="@firebase/app-compat",dT="@firebase/analytics-compat",pT="@firebase/analytics",mT="@firebase/app-check-compat",gT="@firebase/app-check",yT="@firebase/auth",vT="@firebase/auth-compat",_T="@firebase/database",bT="@firebase/data-connect",wT="@firebase/database-compat",AT="@firebase/functions",ST="@firebase/functions-compat",ET="@firebase/installations",xT="@firebase/installations-compat",TT="@firebase/messaging",NT="@firebase/messaging-compat",IT="@firebase/performance",CT="@firebase/performance-compat",RT="@firebase/remote-config",LT="@firebase/remote-config-compat",kT="@firebase/storage",PT="@firebase/storage-compat",DT="@firebase/firestore",OT="@firebase/ai",MT="@firebase/firestore-compat",jT="firebase",VT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="[DEFAULT]",FT={[M0]:"fire-core",[fT]:"fire-core-compat",[pT]:"fire-analytics",[dT]:"fire-analytics-compat",[gT]:"fire-app-check",[mT]:"fire-app-check-compat",[yT]:"fire-auth",[vT]:"fire-auth-compat",[_T]:"fire-rtdb",[bT]:"fire-data-connect",[wT]:"fire-rtdb-compat",[AT]:"fire-fn",[ST]:"fire-fn-compat",[ET]:"fire-iid",[xT]:"fire-iid-compat",[TT]:"fire-fcm",[NT]:"fire-fcm-compat",[IT]:"fire-perf",[CT]:"fire-perf-compat",[RT]:"fire-rc",[LT]:"fire-rc-compat",[kT]:"fire-gcs",[PT]:"fire-gcs-compat",[DT]:"fire-fst",[MT]:"fire-fst-compat",[OT]:"fire-vertex","fire-js":"fire-js",[jT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Map,UT=new Map,V0=new Map;function Q5(n,e){try{n.container.addComponent(e)}catch(t){Bl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function il(n){const e=n.name;if(V0.has(e))return Bl.debug(`There were multiple attempts to register component ${e}.`),!1;V0.set(e,n);for(const t of Lm.values())Q5(t,n);for(const t of UT.values())Q5(t,n);return!0}function Vc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $a(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ju=new jc("app","Firebase",BT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=VT;function _4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:j0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ju.create("bad-app-name",{appName:String(s)});if(t||(t=u4()),!t)throw ju.create("no-options");const o=Lm.get(s);if(o){if(Uu(t,o.options)&&Uu(r,o.config))return o;throw ju.create("duplicate-app",{appName:s})}const u=new K6(s);for(const f of V0.values())u.addComponent(f);const c=new qT(t,r,u);return Lm.set(s,c),c}function E2(n=j0){const e=Lm.get(n);if(!e&&n===j0&&u4())return _4();if(!e)throw ju.create("no-app",{appName:n});return e}function Ka(n,e,t){let r=FT[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bl.warn(u.join(" "));return}il(new Ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebase-heartbeat-database",HT=1,dd="firebase-heartbeat-store";let Y1=null;function b4(){return Y1||(Y1=v4(zT,HT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ju.create("idb-open",{originalErrorMessage:n.message})})),Y1}async function GT(n){try{const t=(await b4()).transaction(dd),r=await t.objectStore(dd).get(w4(n));return await t.done,r}catch(e){if(e instanceof To)Bl.warn(e.message);else{const t=ju.create("idb-get",{originalErrorMessage:e?.message});Bl.warn(t.message)}}}async function X5(n,e){try{const r=(await b4()).transaction(dd,"readwrite");await r.objectStore(dd).put(e,w4(n)),await r.done}catch(t){if(t instanceof To)Bl.warn(t.message);else{const r=ju.create("idb-set",{originalErrorMessage:t?.message});Bl.warn(r.message)}}}function w4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1024,WT=30;class YT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Z5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>WT){const s=XT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z5(),{heartbeatsToSend:t,unsentEntries:r}=KT(this._heartbeatsCache.heartbeats),s=Rm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Bl.warn(e),""}}}function Z5(){return new Date().toISOString().substring(0,10)}function KT(n,e=$T){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),J5(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),J5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class QT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p4()?m4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function J5(n){return Rm(JSON.stringify({version:2,heartbeats:n})).length}function XT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n){il(new Ao("platform-logger",e=>new cT(e),"PRIVATE")),il(new Ao("heartbeat",e=>new YT(e),"PRIVATE")),Ka(M0,K5,n),Ka(M0,K5,"esm2020"),Ka("fire-js","")}ZT("");var JT="firebase",eN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka(JT,eN,"app");function A4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tN=A4,S4=new jc("auth","Firebase",A4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new ag("@firebase/auth");function nN(n,...e){km.logLevel<=Sn.WARN&&km.warn(`Auth (${Yh}): ${n}`,...e)}function dm(n,...e){km.logLevel<=Sn.ERROR&&km.error(`Auth (${Yh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(n,...e){throw x2(n,...e)}function Zo(n,...e){return x2(n,...e)}function E4(n,e,t){const r={...tN(),[e]:t};return new jc("auth","Firebase",r).create(e,{appName:n.name})}function Vl(n){return E4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return S4.create(n,...e)}function Ft(n,e,...t){if(!n)throw x2(e,...t)}function Ol(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dm(e),new Error(e)}function ql(n,e){n||Ol(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof self<"u"&&self.location?.href||""}function rN(){return e_()==="http:"||e_()==="https:"}function e_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||d4()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.shortDelay=e,this.longDelay=t,ql(t>e,"Short delay should be less than long delay!"),this.isMobile=I6()||L6()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n,e){ql(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ol("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ol("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ol("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lN=new Ld(3e4,6e4);function Qu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Xu(n,e,t,r,s={}){return T4(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Rd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return R6()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Wh(n.emulatorConfig.host)&&(d.credentials="include"),x4.fetch()(await N4(n,n.config.apiHost,t,c),d)})}async function T4(n,e,t){n._canInitEmulator=!1;const r={...aN,...e};try{const s=new cN(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Xp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Xp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Xp(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw E4(n,y,d);So(n,y)}}catch(s){if(s instanceof To)throw s;So(n,"network-request-failed",{message:String(s)})}}async function kd(n,e,t,r,s={}){const o=await Xu(n,e,t,r,s);return"mfaPendingCredential"in o&&So(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function N4(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?T2(n.config,s):`${n.config.apiScheme}://${s}`;return oN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function uN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),lN.get())})}}function Xp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Zo(n,e,r);return s.customData._tokenResponse=t,s}function t_(n){return n!==void 0&&n.enterprise!==void 0}class hN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fN(n,e){return Xu(n,"GET","/v2/recaptchaConfig",Qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e){return Xu(n,"POST","/v1/accounts:delete",e)}async function Pm(n,e){return Xu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pN(n,e=!1){const t=Mr(n),r=await t.getIdToken(e),s=N2(r);Ft(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:id(K1(s.auth_time)),issuedAtTime:id(K1(s.iat)),expirationTime:id(K1(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function K1(n){return Number(n)*1e3}function N2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const s=o4(t);return s?JSON.parse(s):(dm("Failed to decode base64 JWT payload"),null)}catch(s){return dm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function n_(n){const e=N2(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof To&&mN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function mN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(n){const e=n.auth,t=await n.getIdToken(),r=await pd(n,Pm(e,{idToken:t}));Ft(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?I4(s.providerUserInfo):[],u=vN(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=c?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new U0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function yN(n){const e=Mr(n);await Dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function I4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e){const t=await T4(n,{},async()=>{const r=Rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await N4(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&Wh(n.emulatorConfig.host)&&(f.credentials="include"),x4.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bN(n,e){return Xu(n,"POST","/v2/accounts:revokeToken",Qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=n_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await _N(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Rh;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ft(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ft(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rh,this.toJSON())}_performRefresh(){return Ol("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new gN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new U0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await pd(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pN(this,e)}reload(){return yN(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($a(this.auth.app))return Promise.reject(Vl(this.auth));const e=await this.getIdToken();return await pd(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:b,providerData:M,stsTokenManager:F}=t;Ft(w&&F,e,"internal-error");const q=Rh.fromJSON(this.name,F);Ft(typeof w=="string",e,"internal-error"),Tu(r,e.name),Tu(s,e.name),Ft(typeof E=="boolean",e,"internal-error"),Ft(typeof b=="boolean",e,"internal-error"),Tu(o,e.name),Tu(u,e.name),Tu(c,e.name),Tu(f,e.name),Tu(d,e.name),Tu(y,e.name);const U=new wo({uid:w,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:q,createdAt:d,lastLoginAt:y});return M&&Array.isArray(M)&&(U.providerData=M.map(te=>({...te}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,t,r=!1){const s=new Rh;s.updateFromServerResponse(t);const o=new wo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ft(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?I4(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new Rh;c.updateFromIdToken(r);const f=new wo({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new U0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;function Ml(n){ql(n instanceof Function,"Expected a class definition");let e=r_.get(n);return e?(ql(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,r_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C4.type="NONE";const i_=C4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n,e,t){return`firebase:${n}:${e}:${t}`}class Lh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=pm(this.userKey,s.apiKey,o),this.fullPersistenceKey=pm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pm(this.auth,{idToken:e}).catch(()=>{});return t?wo._fromGetAccountInfoResponse(this.auth,t,e):null}return wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Lh(Ml(i_),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Ml(i_);const u=pm(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(u);if(y){let w;if(typeof y=="string"){const E=await Pm(e,{idToken:y}).catch(()=>{});if(!E)break;w=await wo._fromGetAccountInfoResponse(e,E,y)}else w=wo._fromJSON(e,y);d!==o&&(c=w),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Lh(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Lh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O4(e))return"Blackberry";if(M4(e))return"Webos";if(L4(e))return"Safari";if((e.includes("chrome/")||k4(e))&&!e.includes("edge/"))return"Chrome";if(D4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function R4(n=Ss()){return/firefox\//i.test(n)}function L4(n=Ss()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k4(n=Ss()){return/crios\//i.test(n)}function P4(n=Ss()){return/iemobile/i.test(n)}function D4(n=Ss()){return/android/i.test(n)}function O4(n=Ss()){return/blackberry/i.test(n)}function M4(n=Ss()){return/webos/i.test(n)}function I2(n=Ss()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wN(n=Ss()){return I2(n)&&!!window.navigator?.standalone}function AN(){return k6()&&document.documentMode===10}function j4(n=Ss()){return I2(n)||D4(n)||M4(n)||O4(n)||/windows phone/i.test(n)||P4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n,e=[]){let t;switch(n){case"Browser":t=s_(Ss());break;case"Worker":t=`${s_(Ss())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e={}){return Xu(n,"GET","/v2/passwordPolicy",Qu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=6;class TN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ml(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pm(this,{idToken:e}),r=await wo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($a(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($a(this.app))return Promise.reject(Vl(this));const t=e?Mr(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $a(this.app)?Promise.reject(Vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $a(this.app)?Promise.reject(Vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ml(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EN(this),t=new TN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ml(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await Lh.create(this,[Ml(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($a(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fc(n){return Mr(n)}class a_{constructor(e){this.auth=e,this.observer=null,this.addObserver=F6(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(n){og=n}function F4(n){return og.loadJS(n)}function CN(){return og.recaptchaEnterpriseScript}function RN(){return og.gapiScript}function LN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kN{constructor(){this.enterprise=new PN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DN="recaptcha-enterprise",U4="NO_RECAPTCHA";class ON{constructor(e){this.type=DN,this.auth=Fc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{fN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new hN(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;t_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(U4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&t_(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=CN();f.length!==0&&(f+=c),F4(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function o_(n,e,t,r=!1,s=!1){const o=new ON(n);let u;if(s)u=U4;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function B0(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o_(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await o_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n,e){const t=Vc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Uu(o,e??{}))return s;So(s,"already-initialized")}return t.initialize({options:e})}function jN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ml);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function VN(n,e,t){const r=Fc(n);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=B4(e),{host:u,port:c}=FN(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(Uu(d,r.config.emulator)&&Uu(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Wh(u)?(h4(`${o}//${u}${f}`),f4("Auth",!0)):UN()}function B4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FN(n){const e=B4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:l_(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:l_(u)}}}function l_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ol("not implemented")}_getIdTokenResponse(e){return Ol("not implemented")}_linkToIdToken(e,t){return Ol("not implemented")}_getReauthenticationResolver(e){return Ol("not implemented")}}async function BN(n,e){return Xu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n,e){return kd(n,"POST","/v1/accounts:signInWithPassword",Qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(n,e){return kd(n,"POST","/v1/accounts:signInWithEmailLink",Qu(n,e))}async function HN(n,e){return kd(n,"POST","/v1/accounts:signInWithEmailLink",Qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends C2{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new md(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new md(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B0(e,t,"signInWithPassword",qN);case"emailLink":return zN(e,{email:this._email,oobCode:this._password});default:So(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B0(e,r,"signUpPassword",BN);case"emailLink":return HN(e,{idToken:t,email:this._email,oobCode:this._password});default:So(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(n,e){return kd(n,"POST","/v1/accounts:signInWithIdp",Qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="http://localhost";class Rc extends C2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):So("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Rc(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return kh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,kh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kh(e,t)}buildRequest(){const e={requestUri:GN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WN(n){const e=Xf(Zf(n)).link,t=e?Xf(Zf(e)).deep_link_id:null,r=Xf(Zf(n)).deep_link_id;return(r?Xf(Zf(r)).link:null)||r||t||e||n}class R2{constructor(e){const t=Xf(Zf(e)),r=t.apiKey??null,s=t.oobCode??null,o=$N(t.mode??null);Ft(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=WN(e);try{return new R2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.providerId=Kh.PROVIDER_ID}static credential(e,t){return md._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=R2.parseLink(t);return Ft(r,"argument-error"),md._fromEmailAndCode(e,r.code,r.tenantId)}}Kh.PROVIDER_ID="password";Kh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends q4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Pd{constructor(){super("facebook.com")}static credential(e){return Rc._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ru.credentialFromTaggedObject(e)}static credentialFromError(e){return Ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ru.credential(e.oauthAccessToken)}catch{return null}}}Ru.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ru.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rc._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Lu.credential(t,r)}catch{return null}}}Lu.GOOGLE_SIGN_IN_METHOD="google.com";Lu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Pd{constructor(){super("github.com")}static credential(e){return Rc._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.GITHUB_SIGN_IN_METHOD="github.com";ku.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Pd{constructor(){super("twitter.com")}static credential(e,t){return Rc._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Pu.credential(t,r)}catch{return null}}}Pu.TWITTER_SIGN_IN_METHOD="twitter.com";Pu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e){return kd(n,"POST","/v1/accounts:signUp",Qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await wo._fromIdTokenResponse(e,r,s),u=u_(r);return new Lc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=u_(r);return new Lc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function u_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends To{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Om(e,t,r,s)}}function z4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(n,o,e,r):o})}async function KN(n,e,t=!1){const r=await pd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e,t=!1){const{auth:r}=n;if($a(r.app))return Promise.reject(Vl(r));const s="reauthenticate";try{const o=await pd(n,z4(r,s,e,n),t);Ft(o.idToken,r,"internal-error");const u=N2(o.idToken);Ft(u,r,"internal-error");const{sub:c}=u;return Ft(n.uid===c,r,"user-mismatch"),Lc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&So(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n,e,t=!1){if($a(n.app))return Promise.reject(Vl(n));const r="signIn",s=await z4(n,r,e),o=await Lc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function XN(n,e){return H4(Fc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(n){const e=Fc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZN(n,e,t){if($a(n.app))return Promise.reject(Vl(n));const r=Fc(n),u=await B0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&G4(n),f}),c=await Lc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function JN(n,e,t){return $a(n.app)?Promise.reject(Vl(n)):XN(Mr(n),Kh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G4(n),r})}function eI(n,e,t,r){return Mr(n).onIdTokenChanged(e,t,r)}function tI(n,e,t){return Mr(n).beforeAuthStateChanged(e,t)}function nI(n,e,t,r){return Mr(n).onAuthStateChanged(e,t,r)}function $4(n){return Mr(n).signOut()}const Mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=1e3,iI=10;class Y4 extends W4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);AN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,iI):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y4.type="LOCAL";const sI=Y4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends W4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}K4.type="SESSION";const Q4=K4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new lg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await aI(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=L2("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return window}function lI(n){Jo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){return typeof Jo().WorkerGlobalScope<"u"&&typeof Jo().importScripts=="function"}async function uI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cI(){return navigator?.serviceWorker?.controller||null}function hI(){return X4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebaseLocalStorageDb",fI=1,jm="firebaseLocalStorage",J4="fbase_key";class Dd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ug(n,e){return n.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function dI(){const n=indexedDB.deleteDatabase(Z4);return new Dd(n).toPromise()}function q0(){const n=indexedDB.open(Z4,fI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jm,{keyPath:J4})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(jm)?e(r):(r.close(),await dI(),e(await q0()))})})}async function c_(n,e,t){const r=ug(n,!0).put({[J4]:e,value:t});return new Dd(r).toPromise()}async function pI(n,e){const t=ug(n,!1).get(e),r=await new Dd(t).toPromise();return r===void 0?null:r.value}function h_(n,e){const t=ug(n,!0).delete(e);return new Dd(t).toPromise()}const mI=800,gI=3;class e3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>gI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(hI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uI(),!this.activeServiceWorker)return;this.sender=new oI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q0();return await c_(e,Mm,"1"),await h_(e,Mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>pI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ug(s,!1).getAll();return new Dd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e3.type="LOCAL";const yI=e3;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n,e){return e?Ml(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends C2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _I(n){return H4(n.auth,new k2(n),n.bypassAuthState)}function bI(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),QN(t,new k2(n),n.bypassAuthState)}async function wI(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),KN(t,new k2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return bI;default:So(this.auth,"internal-error")}}resolve(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Ld(2e3,1e4);class Ih extends t3{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ih.currentPopupAction&&Ih.currentPopupAction.cancel(),Ih.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){ql(this.filter.length===1,"Popup operations only handle one event");const e=L2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ih.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AI.get())};e()}}Ih.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="pendingRedirect",mm=new Map;class EI extends t3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await xI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xI(n,e){const t=II(e),r=NI(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function TI(n,e){mm.set(n._key(),e)}function NI(n){return Ml(n._redirectPersistence)}function II(n){return pm(SI,n.config.apiKey,n.name)}async function CI(n,e,t=!1){if($a(n.app))return Promise.reject(Vl(n));const r=Fc(n),s=vI(r,e),u=await new EI(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=600*1e3;class LI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!n3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Zo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RI&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n3({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function kI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(n,e={}){return Xu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OI=/^https?/;async function MI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PI(n);for(const t of e)try{if(jI(t))return}catch{}So(n,"unauthorized-domain")}function jI(n){const e=F0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!OI.test(t))return!1;if(DI.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Ld(3e4,6e4);function d_(){const n=Jo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FI(n){return new Promise((e,t)=>{function r(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),t(Zo(n,"network-request-failed"))},timeout:VI.get()})}if(Jo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jo().gapi?.load)r();else{const s=LN("iframefcb");return Jo()[s]=()=>{gapi.load?r():t(Zo(n,"network-request-failed"))},F4(`${RN()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw gm=null,e})}let gm=null;function UI(n){return gm=gm||FI(n),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Ld(5e3,15e3),qI="__/auth/iframe",zI="emulator/auth/iframe",HI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $I(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?T2(e,zI):`https://${n.config.authDomain}/${qI}`,r={apiKey:e.apiKey,appName:n.name,v:Yh},s=GI.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Rd(r).slice(1)}`}async function WI(n){const e=await UI(n),t=Jo().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:$I(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HI,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Zo(n,"network-request-failed"),c=Jo().setTimeout(()=>{o(u)},BI.get());function f(){Jo().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KI=500,QI=600,XI="_blank",ZI="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JI(n,e,t,r=KI,s=QI){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...YI,width:r.toString(),height:s.toString(),top:o,left:u},d=Ss().toLowerCase();t&&(c=k4(d)?XI:t),R4(d)&&(e=e||ZI,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[b,M])=>`${E}${b}=${M},`,"");if(wN(d)&&c!=="_self")return eC(e||"",c),new p_(null);const w=window.open(e||"",c,y);Ft(w,n,"popup-blocked");try{w.focus()}catch{}return new p_(w)}function eC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__/auth/handler",nC="emulator/auth/handler",rC=encodeURIComponent("fac");async function m_(n,e,t,r,s,o){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yh,eventId:s};if(e instanceof q4){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",V6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Pd){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const f=await n._getAppCheckToken(),d=f?`#${rC}=${encodeURIComponent(f)}`:"";return`${iC(n)}?${Rd(c).slice(1)}${d}`}function iC({config:n}){return n.emulator?T2(n,nC):`https://${n.authDomain}/${tC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="webStorageSupport";class sC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q4,this._completeRedirectFn=CI,this._overrideRedirectResult=TI}async _openPopup(e,t,r,s){ql(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await m_(e,t,r,F0(),s);return JI(e,o,L2())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await m_(e,t,r,F0(),s);return lI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ql(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WI(e),r=new LI(e);return t.register("authEvent",s=>(Ft(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Q1,{type:Q1},s=>{const o=s?.[0]?.[Q1];o!==void 0&&t(!!o),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j4()||L4()||I2()}}const aC=sC;var g_="@firebase/auth",y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uC(n){il(new Ao("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ft(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V4(n)},d=new NN(r,s,o,f);return jN(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),il(new Ao("auth-internal",e=>{const t=Fc(e.getProvider("auth").getImmediate());return(r=>new oC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ka(g_,y_,lC(n)),Ka(g_,y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=300,hC=c4("authIdTokenMaxAge")||cC;let v_=null;const fC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>hC)return;const s=t?.token;v_!==s&&(v_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dC(n=E2()){const e=Vc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MN(n,{popupRedirectResolver:aC,persistence:[yI,sI,Q4]}),r=c4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=fC(o.toString());tI(t,u,()=>u(t.currentUser)),eI(t,c=>u(c))}}const s=l4("auth");return s&&VN(t,`http://${s}`),t}function pC(){return document.getElementsByTagName("head")?.[0]??document}IN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Zo("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",pC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uC("Browser");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vu,r3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,O){function k(){}k.prototype=O.prototype,$.D=O.prototype,$.prototype=new k,$.prototype.constructor=$,$.C=function(H,I,P){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return O.prototype[I].apply(H,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s($,O,k){k||(k=0);var H=Array(16);if(typeof O=="string")for(var I=0;16>I;++I)H[I]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(I=0;16>I;++I)H[I]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=$.g[0],k=$.g[1],I=$.g[2];var P=$.g[3],R=O+(P^k&(I^P))+H[0]+3614090360&4294967295;O=k+(R<<7&4294967295|R>>>25),R=P+(I^O&(k^I))+H[1]+3905402710&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(k^P&(O^k))+H[2]+606105819&4294967295,I=P+(R<<17&4294967295|R>>>15),R=k+(O^I&(P^O))+H[3]+3250441966&4294967295,k=I+(R<<22&4294967295|R>>>10),R=O+(P^k&(I^P))+H[4]+4118548399&4294967295,O=k+(R<<7&4294967295|R>>>25),R=P+(I^O&(k^I))+H[5]+1200080426&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(k^P&(O^k))+H[6]+2821735955&4294967295,I=P+(R<<17&4294967295|R>>>15),R=k+(O^I&(P^O))+H[7]+4249261313&4294967295,k=I+(R<<22&4294967295|R>>>10),R=O+(P^k&(I^P))+H[8]+1770035416&4294967295,O=k+(R<<7&4294967295|R>>>25),R=P+(I^O&(k^I))+H[9]+2336552879&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(k^P&(O^k))+H[10]+4294925233&4294967295,I=P+(R<<17&4294967295|R>>>15),R=k+(O^I&(P^O))+H[11]+2304563134&4294967295,k=I+(R<<22&4294967295|R>>>10),R=O+(P^k&(I^P))+H[12]+1804603682&4294967295,O=k+(R<<7&4294967295|R>>>25),R=P+(I^O&(k^I))+H[13]+4254626195&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(k^P&(O^k))+H[14]+2792965006&4294967295,I=P+(R<<17&4294967295|R>>>15),R=k+(O^I&(P^O))+H[15]+1236535329&4294967295,k=I+(R<<22&4294967295|R>>>10),R=O+(I^P&(k^I))+H[1]+4129170786&4294967295,O=k+(R<<5&4294967295|R>>>27),R=P+(k^I&(O^k))+H[6]+3225465664&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^k&(P^O))+H[11]+643717713&4294967295,I=P+(R<<14&4294967295|R>>>18),R=k+(P^O&(I^P))+H[0]+3921069994&4294967295,k=I+(R<<20&4294967295|R>>>12),R=O+(I^P&(k^I))+H[5]+3593408605&4294967295,O=k+(R<<5&4294967295|R>>>27),R=P+(k^I&(O^k))+H[10]+38016083&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^k&(P^O))+H[15]+3634488961&4294967295,I=P+(R<<14&4294967295|R>>>18),R=k+(P^O&(I^P))+H[4]+3889429448&4294967295,k=I+(R<<20&4294967295|R>>>12),R=O+(I^P&(k^I))+H[9]+568446438&4294967295,O=k+(R<<5&4294967295|R>>>27),R=P+(k^I&(O^k))+H[14]+3275163606&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^k&(P^O))+H[3]+4107603335&4294967295,I=P+(R<<14&4294967295|R>>>18),R=k+(P^O&(I^P))+H[8]+1163531501&4294967295,k=I+(R<<20&4294967295|R>>>12),R=O+(I^P&(k^I))+H[13]+2850285829&4294967295,O=k+(R<<5&4294967295|R>>>27),R=P+(k^I&(O^k))+H[2]+4243563512&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^k&(P^O))+H[7]+1735328473&4294967295,I=P+(R<<14&4294967295|R>>>18),R=k+(P^O&(I^P))+H[12]+2368359562&4294967295,k=I+(R<<20&4294967295|R>>>12),R=O+(k^I^P)+H[5]+4294588738&4294967295,O=k+(R<<4&4294967295|R>>>28),R=P+(O^k^I)+H[8]+2272392833&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^k)+H[11]+1839030562&4294967295,I=P+(R<<16&4294967295|R>>>16),R=k+(I^P^O)+H[14]+4259657740&4294967295,k=I+(R<<23&4294967295|R>>>9),R=O+(k^I^P)+H[1]+2763975236&4294967295,O=k+(R<<4&4294967295|R>>>28),R=P+(O^k^I)+H[4]+1272893353&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^k)+H[7]+4139469664&4294967295,I=P+(R<<16&4294967295|R>>>16),R=k+(I^P^O)+H[10]+3200236656&4294967295,k=I+(R<<23&4294967295|R>>>9),R=O+(k^I^P)+H[13]+681279174&4294967295,O=k+(R<<4&4294967295|R>>>28),R=P+(O^k^I)+H[0]+3936430074&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^k)+H[3]+3572445317&4294967295,I=P+(R<<16&4294967295|R>>>16),R=k+(I^P^O)+H[6]+76029189&4294967295,k=I+(R<<23&4294967295|R>>>9),R=O+(k^I^P)+H[9]+3654602809&4294967295,O=k+(R<<4&4294967295|R>>>28),R=P+(O^k^I)+H[12]+3873151461&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^k)+H[15]+530742520&4294967295,I=P+(R<<16&4294967295|R>>>16),R=k+(I^P^O)+H[2]+3299628645&4294967295,k=I+(R<<23&4294967295|R>>>9),R=O+(I^(k|~P))+H[0]+4096336452&4294967295,O=k+(R<<6&4294967295|R>>>26),R=P+(k^(O|~I))+H[7]+1126891415&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~k))+H[14]+2878612391&4294967295,I=P+(R<<15&4294967295|R>>>17),R=k+(P^(I|~O))+H[5]+4237533241&4294967295,k=I+(R<<21&4294967295|R>>>11),R=O+(I^(k|~P))+H[12]+1700485571&4294967295,O=k+(R<<6&4294967295|R>>>26),R=P+(k^(O|~I))+H[3]+2399980690&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~k))+H[10]+4293915773&4294967295,I=P+(R<<15&4294967295|R>>>17),R=k+(P^(I|~O))+H[1]+2240044497&4294967295,k=I+(R<<21&4294967295|R>>>11),R=O+(I^(k|~P))+H[8]+1873313359&4294967295,O=k+(R<<6&4294967295|R>>>26),R=P+(k^(O|~I))+H[15]+4264355552&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~k))+H[6]+2734768916&4294967295,I=P+(R<<15&4294967295|R>>>17),R=k+(P^(I|~O))+H[13]+1309151649&4294967295,k=I+(R<<21&4294967295|R>>>11),R=O+(I^(k|~P))+H[4]+4149444226&4294967295,O=k+(R<<6&4294967295|R>>>26),R=P+(k^(O|~I))+H[11]+3174756917&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~k))+H[2]+718787259&4294967295,I=P+(R<<15&4294967295|R>>>17),R=k+(P^(I|~O))+H[9]+3951481745&4294967295,$.g[0]=$.g[0]+O&4294967295,$.g[1]=$.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,$.g[2]=$.g[2]+I&4294967295,$.g[3]=$.g[3]+P&4294967295}r.prototype.u=function($,O){O===void 0&&(O=$.length);for(var k=O-this.blockSize,H=this.B,I=this.h,P=0;P<O;){if(I==0)for(;P<=k;)s(this,$,P),P+=this.blockSize;if(typeof $=="string"){for(;P<O;)if(H[I++]=$.charCodeAt(P++),I==this.blockSize){s(this,H),I=0;break}}else for(;P<O;)if(H[I++]=$[P++],I==this.blockSize){s(this,H),I=0;break}}this.h=I,this.o+=O},r.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var O=1;O<$.length-8;++O)$[O]=0;var k=8*this.o;for(O=$.length-8;O<$.length;++O)$[O]=k&255,k/=256;for(this.u($),$=Array(16),O=k=0;4>O;++O)for(var H=0;32>H;H+=8)$[k++]=this.g[O]>>>H&255;return $};function o($,O){var k=c;return Object.prototype.hasOwnProperty.call(k,$)?k[$]:k[$]=O($)}function u($,O){this.h=O;for(var k=[],H=!0,I=$.length-1;0<=I;I--){var P=$[I]|0;H&&P==O||(k[I]=P,H=!1)}this.g=k}var c={};function f($){return-128<=$&&128>$?o($,function(O){return new u([O|0],0>O?-1:0)}):new u([$|0],0>$?-1:0)}function d($){if(isNaN($)||!isFinite($))return w;if(0>$)return q(d(-$));for(var O=[],k=1,H=0;$>=k;H++)O[H]=$/k|0,k*=4294967296;return new u(O,0)}function y($,O){if($.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($.charAt(0)=="-")return q(y($.substring(1),O));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(O,8)),H=w,I=0;I<$.length;I+=8){var P=Math.min(8,$.length-I),R=parseInt($.substring(I,I+P),O);8>P?(P=d(Math.pow(O,P)),H=H.j(P).add(d(R))):(H=H.j(k),H=H.add(d(R)))}return H}var w=f(0),E=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-q(this).m();for(var $=0,O=1,k=0;k<this.g.length;k++){var H=this.i(k);$+=(0<=H?H:4294967296+H)*O,O*=4294967296}return $},n.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(M(this))return"0";if(F(this))return"-"+q(this).toString($);for(var O=d(Math.pow($,6)),k=this,H="";;){var I=X(k,O).g;k=U(k,I.j(O));var P=((0<k.g.length?k.g[0]:k.h)>>>0).toString($);if(k=I,M(k))return P+H;for(;6>P.length;)P="0"+P;H=P+H}},n.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function M($){if($.h!=0)return!1;for(var O=0;O<$.g.length;O++)if($.g[O]!=0)return!1;return!0}function F($){return $.h==-1}n.l=function($){return $=U(this,$),F($)?-1:M($)?0:1};function q($){for(var O=$.g.length,k=[],H=0;H<O;H++)k[H]=~$.g[H];return new u(k,~$.h).add(E)}n.abs=function(){return F(this)?q(this):this},n.add=function($){for(var O=Math.max(this.g.length,$.g.length),k=[],H=0,I=0;I<=O;I++){var P=H+(this.i(I)&65535)+($.i(I)&65535),R=(P>>>16)+(this.i(I)>>>16)+($.i(I)>>>16);H=R>>>16,P&=65535,R&=65535,k[I]=R<<16|P}return new u(k,k[k.length-1]&-2147483648?-1:0)};function U($,O){return $.add(q(O))}n.j=function($){if(M(this)||M($))return w;if(F(this))return F($)?q(this).j(q($)):q(q(this).j($));if(F($))return q(this.j(q($)));if(0>this.l(b)&&0>$.l(b))return d(this.m()*$.m());for(var O=this.g.length+$.g.length,k=[],H=0;H<2*O;H++)k[H]=0;for(H=0;H<this.g.length;H++)for(var I=0;I<$.g.length;I++){var P=this.i(H)>>>16,R=this.i(H)&65535,ee=$.i(I)>>>16,ge=$.i(I)&65535;k[2*H+2*I]+=R*ge,te(k,2*H+2*I),k[2*H+2*I+1]+=P*ge,te(k,2*H+2*I+1),k[2*H+2*I+1]+=R*ee,te(k,2*H+2*I+1),k[2*H+2*I+2]+=P*ee,te(k,2*H+2*I+2)}for(H=0;H<O;H++)k[H]=k[2*H+1]<<16|k[2*H];for(H=O;H<2*O;H++)k[H]=0;return new u(k,0)};function te($,O){for(;($[O]&65535)!=$[O];)$[O+1]+=$[O]>>>16,$[O]&=65535,O++}function re($,O){this.g=$,this.h=O}function X($,O){if(M(O))throw Error("division by zero");if(M($))return new re(w,w);if(F($))return O=X(q($),O),new re(q(O.g),q(O.h));if(F(O))return O=X($,q(O)),new re(q(O.g),O.h);if(30<$.g.length){if(F($)||F(O))throw Error("slowDivide_ only works with positive integers.");for(var k=E,H=O;0>=H.l($);)k=le(k),H=le(H);var I=Se(k,1),P=Se(H,1);for(H=Se(H,2),k=Se(k,2);!M(H);){var R=P.add(H);0>=R.l($)&&(I=I.add(k),P=R),H=Se(H,1),k=Se(k,1)}return O=U($,I.j(O)),new re(I,O)}for(I=w;0<=$.l(O);){for(k=Math.max(1,Math.floor($.m()/O.m())),H=Math.ceil(Math.log(k)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),P=d(k),R=P.j(O);F(R)||0<R.l($);)k-=H,P=d(k),R=P.j(O);M(P)&&(P=E),I=I.add(P),$=U($,R)}return new re(I,$)}n.A=function($){return X(this,$).h},n.and=function($){for(var O=Math.max(this.g.length,$.g.length),k=[],H=0;H<O;H++)k[H]=this.i(H)&$.i(H);return new u(k,this.h&$.h)},n.or=function($){for(var O=Math.max(this.g.length,$.g.length),k=[],H=0;H<O;H++)k[H]=this.i(H)|$.i(H);return new u(k,this.h|$.h)},n.xor=function($){for(var O=Math.max(this.g.length,$.g.length),k=[],H=0;H<O;H++)k[H]=this.i(H)^$.i(H);return new u(k,this.h^$.h)};function le($){for(var O=$.g.length+1,k=[],H=0;H<O;H++)k[H]=$.i(H)<<1|$.i(H-1)>>>31;return new u(k,$.h)}function Se($,O){var k=O>>5;O%=32;for(var H=$.g.length-k,I=[],P=0;P<H;P++)I[P]=0<O?$.i(P+k)>>>O|$.i(P+k+1)<<32-O:$.i(P+k);return new u(I,$.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Vu=u}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i3,Jf,s3,ym,z0,a3,o3,l3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,L){return m==Array.prototype||m==Object.prototype||(m[x]=L.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var x=0;x<m.length;++x){var L=m[x];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function s(m,x){if(x)e:{var L=r;m=m.split(".");for(var Q=0;Q<m.length-1;Q++){var xe=m[Q];if(!(xe in L))break e;L=L[xe]}m=m[m.length-1],Q=L[m],x=x(Q),x!=Q&&x!=null&&e(L,m,{configurable:!0,writable:!0,value:x})}}function o(m,x){m instanceof String&&(m+="");var L=0,Q=!1,xe={next:function(){if(!Q&&L<m.length){var Oe=L++;return{value:x(Oe,m[Oe]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}s("Array.prototype.values",function(m){return m||function(){return o(this,function(x,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function d(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function y(m,x,L){return m.call.apply(m.bind,arguments)}function w(m,x,L){if(!m)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,Q),m.apply(x,xe)}}return function(){return m.apply(x,arguments)}}function E(m,x,L){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,E.apply(null,arguments)}function b(m,x){var L=Array.prototype.slice.call(arguments,1);return function(){var Q=L.slice();return Q.push.apply(Q,arguments),m.apply(this,Q)}}function M(m,x){function L(){}L.prototype=x.prototype,m.aa=x.prototype,m.prototype=new L,m.prototype.constructor=m,m.Qb=function(Q,xe,Oe){for(var Ze=Array(arguments.length-2),un=2;un<arguments.length;un++)Ze[un-2]=arguments[un];return x.prototype[xe].apply(Q,Ze)}}function F(m){const x=m.length;if(0<x){const L=Array(x);for(let Q=0;Q<x;Q++)L[Q]=m[Q];return L}return[]}function q(m,x){for(let L=1;L<arguments.length;L++){const Q=arguments[L];if(f(Q)){const xe=m.length||0,Oe=Q.length||0;m.length=xe+Oe;for(let Ze=0;Ze<Oe;Ze++)m[xe+Ze]=Q[Ze]}else m.push(Q)}}class U{constructor(x,L){this.i=x,this.j=L,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function te(m){return/^[\s\xa0]*$/.test(m)}function re(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function X(m){return X[" "](m),m}X[" "]=function(){};var le=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Se(m,x,L){for(const Q in m)x.call(L,m[Q],Q,m)}function $(m,x){for(const L in m)x.call(void 0,m[L],L,m)}function O(m){const x={};for(const L in m)x[L]=m[L];return x}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(m,x){let L,Q;for(let xe=1;xe<arguments.length;xe++){Q=arguments[xe];for(L in Q)m[L]=Q[L];for(let Oe=0;Oe<k.length;Oe++)L=k[Oe],Object.prototype.hasOwnProperty.call(Q,L)&&(m[L]=Q[L])}}function I(m){var x=1;m=m.split(":");const L=[];for(;0<x&&m.length;)L.push(m.shift()),x--;return m.length&&L.push(m.join(":")),L}function P(m){c.setTimeout(()=>{throw m},0)}function R(){var m=be;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ee{constructor(){this.h=this.g=null}add(x,L){const Q=ge.get();Q.set(x,L),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var ge=new U(()=>new ne,m=>m.reset());class ne{constructor(){this.next=this.g=this.h=null}set(x,L){this.h=x,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ie=!1,be=new ee,Y=()=>{const m=c.Promise.resolve(void 0);pe=()=>{m.then(he)}};var he=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(L){P(L)}var x=ge;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}ie=!1};function C(){this.s=this.s,this.C=this.C}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};c.addEventListener("test",L,x),c.removeEventListener("test",L,x)}catch{}return m})();function ue(m,x){if(B.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var L=this.type=m.type,Q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(le){e:{try{X(x.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(x=null)}}else L=="mouseover"?x=m.fromElement:L=="mouseout"&&(x=m.toElement);this.relatedTarget=x,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:fe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}M(ue,B);var fe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function ke(m,x,L,Q,xe){this.listener=m,this.proxy=null,this.src=x,this.type=L,this.capture=!!Q,this.ha=xe,this.key=++Ce,this.da=this.fa=!1}function Ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function qe(m){this.src=m,this.g={},this.h=0}qe.prototype.add=function(m,x,L,Q,xe){var Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);var Ze=rt(m,x,Q,xe);return-1<Ze?(x=m[Ze],L||(x.fa=!1)):(x=new ke(x,this.src,Oe,!!Q,xe),x.fa=L,m.push(x)),x};function nt(m,x){var L=x.type;if(L in m.g){var Q=m.g[L],xe=Array.prototype.indexOf.call(Q,x,void 0),Oe;(Oe=0<=xe)&&Array.prototype.splice.call(Q,xe,1),Oe&&(Ue(x),m.g[L].length==0&&(delete m.g[L],m.h--))}}function rt(m,x,L,Q){for(var xe=0;xe<m.length;++xe){var Oe=m[xe];if(!Oe.da&&Oe.listener==x&&Oe.capture==!!L&&Oe.ha==Q)return xe}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),ce={};function tn(m,x,L,Q,xe){if(Array.isArray(x)){for(var Oe=0;Oe<x.length;Oe++)tn(m,x[Oe],L,Q,xe);return null}return L=Bt(L),m&&m[ye]?m.K(x,L,d(Q)?!!Q.capture:!1,xe):Nt(m,x,L,!1,Q,xe)}function Nt(m,x,L,Q,xe,Oe){if(!x)throw Error("Invalid event type");var Ze=d(xe)?!!xe.capture:!!xe,un=_t(m);if(un||(m[Me]=un=new qe(m)),L=un.add(x,L,Q,Ze,Oe),L.proxy)return L;if(Q=xt(),L.proxy=Q,Q.src=m,Q.listener=L,m.addEventListener)Z||(xe=Ze),xe===void 0&&(xe=!1),m.addEventListener(x.toString(),Q,xe);else if(m.attachEvent)m.attachEvent(tt(x.toString()),Q);else if(m.addListener&&m.removeListener)m.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function xt(){function m(L){return x.call(m.src,m.listener,L)}const x=Yt;return m}function Je(m,x,L,Q,xe){if(Array.isArray(x))for(var Oe=0;Oe<x.length;Oe++)Je(m,x[Oe],L,Q,xe);else Q=d(Q)?!!Q.capture:!!Q,L=Bt(L),m&&m[ye]?(m=m.i,x=String(x).toString(),x in m.g&&(Oe=m.g[x],L=rt(Oe,L,Q,xe),-1<L&&(Ue(Oe[L]),Array.prototype.splice.call(Oe,L,1),Oe.length==0&&(delete m.g[x],m.h--)))):m&&(m=_t(m))&&(x=m.g[x.toString()],m=-1,x&&(m=rt(x,L,Q,xe)),(L=-1<m?x[m]:null)&&yt(L))}function yt(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[ye])nt(x.i,m);else{var L=m.type,Q=m.proxy;x.removeEventListener?x.removeEventListener(L,Q,m.capture):x.detachEvent?x.detachEvent(tt(L),Q):x.addListener&&x.removeListener&&x.removeListener(Q),(L=_t(x))?(nt(L,m),L.h==0&&(L.src=null,x[Me]=null)):Ue(m)}}}function tt(m){return m in ce?ce[m]:ce[m]="on"+m}function Yt(m,x){if(m.da)m=!0;else{x=new ue(x,this);var L=m.listener,Q=m.ha||m.src;m.fa&&yt(m),m=L.call(Q,x)}return m}function _t(m){return m=m[Me],m instanceof qe?m:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(m){return typeof m=="function"?m:(m[mn]||(m[mn]=function(x){return m.handleEvent(x)}),m[mn])}function ct(){C.call(this),this.i=new qe(this),this.M=this,this.F=null}M(ct,C),ct.prototype[ye]=!0,ct.prototype.removeEventListener=function(m,x,L,Q){Je(this,m,x,L,Q)};function wt(m,x){var L,Q=m.F;if(Q)for(L=[];Q;Q=Q.F)L.push(Q);if(m=m.M,Q=x.type||x,typeof x=="string")x=new B(x,m);else if(x instanceof B)x.target=x.target||m;else{var xe=x;x=new B(Q,m),H(x,xe)}if(xe=!0,L)for(var Oe=L.length-1;0<=Oe;Oe--){var Ze=x.g=L[Oe];xe=Tt(Ze,Q,!0,x)&&xe}if(Ze=x.g=m,xe=Tt(Ze,Q,!0,x)&&xe,xe=Tt(Ze,Q,!1,x)&&xe,L)for(Oe=0;Oe<L.length;Oe++)Ze=x.g=L[Oe],xe=Tt(Ze,Q,!1,x)&&xe}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var L=m.g[x],Q=0;Q<L.length;Q++)Ue(L[Q]);delete m.g[x],m.h--}}this.F=null},ct.prototype.K=function(m,x,L,Q){return this.i.add(String(m),x,!1,L,Q)},ct.prototype.L=function(m,x,L,Q){return this.i.add(String(m),x,!0,L,Q)};function Tt(m,x,L,Q){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var xe=!0,Oe=0;Oe<x.length;++Oe){var Ze=x[Oe];if(Ze&&!Ze.da&&Ze.capture==L){var un=Ze.listener,hr=Ze.ha||Ze.src;Ze.fa&&nt(m.i,Ze),xe=un.call(hr,Q)!==!1&&xe}}return xe&&!Q.defaultPrevented}function st(m,x,L){if(typeof m=="function")L&&(m=E(m,L));else if(m&&typeof m.handleEvent=="function")m=E(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(m,x||0)}function Lt(m){m.g=st(()=>{m.g=null,m.i&&(m.i=!1,Lt(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class bt extends C{constructor(x,L){super(),this.m=x,this.l=L,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(m){C.call(this),this.h=m,this.g={}}M(Tn,C);var an=[];function ht(m){Se(m.g,function(x,L){this.g.hasOwnProperty(L)&&yt(x)},m),m.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),ht(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=c.JSON.stringify,Nn=c.JSON.parse,At=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function nn(){}nn.prototype.h=null;function Vt(m){return m.h||(m.h=m.i())}function ir(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){B.call(this,"d")}M(gn,B);function Pt(){B.call(this,"c")}M(Pt,B);var rn={},Js=null;function pr(){return Js=Js||new ct}rn.La="serverreachability";function rs(m){B.call(this,rn.La,m)}M(rs,B);function di(m){const x=pr();wt(x,new rs(x))}rn.STAT_EVENT="statevent";function Ct(m,x){B.call(this,rn.STAT_EVENT,m),this.stat=x}M(Ct,B);function In(m){const x=pr();wt(x,new Ct(x,m))}rn.Ma="timingevent";function $n(m,x){B.call(this,rn.Ma,m),this.size=x}M($n,B);function Pn(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},x)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Zn(m,x,L,Q,xe,Oe){m.info(function(){if(m.g)if(Oe)for(var Ze="",un=Oe.split("&"),hr=0;hr<un.length;hr++){var cn=un[hr].split("=");if(1<cn.length){var fn=cn[0];cn=cn[1];var jn=fn.split("_");Ze=2<=jn.length&&jn[1]=="type"?Ze+(fn+"="+cn+"&"):Ze+(fn+"=redacted&")}}else Ze=null;else Ze=Oe;return"XMLHTTP REQ ("+Q+") [attempt "+xe+"]: "+x+`
`+L+`
`+Ze})}function Vr(m,x,L,Q,xe,Oe,Ze){m.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+xe+"]: "+x+`
`+L+`
`+Oe+" "+Ze})}function cr(m,x,L,Q){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+is(m,L)+(Q?" "+Q:"")})}function va(m,x){m.info(function(){return"TIMEOUT: "+x})}mr.prototype.info=function(){};function is(m,x){if(!m.g)return x;if(!x)return null;try{var L=JSON.parse(x);if(L){for(m=0;m<L.length;m++)if(Array.isArray(L[m])){var Q=L[m];if(!(2>Q.length)){var xe=Q[1];if(Array.isArray(xe)&&!(1>xe.length)){var Oe=xe[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Ze=1;Ze<xe.length;Ze++)xe[Ze]=""}}}}return It(L)}catch{return x}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Ur(){}M(Ur,nn),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},Fr=new Ur;function Jn(m,x,L,Q){this.j=m,this.i=x,this.l=L,this.R=Q||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var ss={},Ms={};function xi(m,x,L){m.L=1,m.v=Aa(mi(x)),m.m=L,m.P=!0,as(m,null)}function as(m,x){m.F=Date.now(),ea(m),m.A=mi(m.v);var L=m.A,Q=m.R;Array.isArray(Q)||(Q=[String(Q)]),Dt(L.i,"t",Q),m.C=0,L=m.j.J,m.h=new Wn,m.g=sa(m.j,L?x:null,!m.m),0<m.O&&(m.M=new bt(E(m.Y,m,m.g),m.O)),x=m.U,L=m.g,Q=m.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(an[0]=xe.toString()),xe=an);for(var Oe=0;Oe<xe.length;Oe++){var Ze=tn(L,xe[Oe],Q||x.handleEvent,!1,x.h||x);if(!Ze)break;x.g[Ze.key]=Ze}x=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),di(),Zn(m.i,m.u,m.A,m.l,m.R,m.m)}Jn.prototype.ca=function(m){m=m.target;const x=this.M;x&&Ii(m)==3?x.j():this.Y(m)},Jn.prototype.Y=function(m){try{if(m==this.g)e:{const jn=Ii(this.g);var x=this.g.Ba();const Is=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||jn!=4||x==7||(x==8||0>=Is?di(3):di(2)),ta(this);var L=this.g.Z();this.X=L;t:if(Xa(this)){var Q=Po(this.g);m="";var xe=Q.length,Oe=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Ir(this);var Ze="";break t}this.h.i=new c.TextDecoder}for(x=0;x<xe;x++)this.h.h=!0,m+=this.h.i.decode(Q[x],{stream:!(Oe&&x==xe-1)});Q.length=0,this.h.g+=m,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=L==200,Vr(this.i,this.u,this.A,this.l,this.R,jn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var un,hr=this.g;if((un=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(un)){var cn=un;break t}}cn=null}if(L=cn)cr(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,L);else{this.o=!1,this.s=3,In(12),Cr(this),Ir(this);break e}}if(this.P){L=!0;let Lr;for(;!this.J&&this.C<Ze.length;)if(Lr=Yl(this,Ze),Lr==Ms){jn==4&&(this.s=4,In(14),L=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lr==ss){this.s=4,In(15),cr(this.i,this.l,Ze,"[Invalid Chunk]"),L=!1;break}else cr(this.i,this.l,Lr,null),_a(this,Lr);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Ze.length!=0||this.h.h||(this.s=1,In(16),L=!1),this.o=this.o&&L,!L)cr(this.i,this.l,Ze,"[Invalid Chunked Response]"),Cr(this),Ir(this);else if(0<Ze.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),ln(fn),fn.M=!0,In(11))}}else cr(this.i,this.l,Ze,null),_a(this,Ze);jn==4&&Cr(this),this.o&&!this.J&&(jn==4?Dn(this.j,this):(this.o=!1,ea(this)))}else qi(this.g),L==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),Cr(this),Ir(this)}}}catch{}finally{}};function Xa(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Yl(m,x){var L=m.C,Q=x.indexOf(`
`,L);return Q==-1?Ms:(L=Number(x.substring(L,Q)),isNaN(L)?ss:(Q+=1,Q+L>x.length?Ms:(x=x.slice(Q,Q+L),m.C=Q+L,x)))}Jn.prototype.cancel=function(){this.J=!0,Cr(this)};function ea(m){m.S=Date.now()+m.I,ul(m,m.I)}function ul(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Pn(E(m.ba,m),x)}function ta(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Jn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(va(this.i,this.A),this.L!=2&&(di(),In(17)),Cr(this),this.s=2,Ir(this)):ul(this,this.S-m)};function Ir(m){m.j.G==0||m.J||Dn(m.j,m)}function Cr(m){ta(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,ht(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function _a(m,x){try{var L=m.j;if(L.G!=0&&(L.g==m||ba(L.h,m))){if(!m.K&&ba(L.h,m)&&L.G==3){try{var Q=L.Da.g.parse(x)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var xe=Q;if(xe[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<m.F)sr(L),ae(L);else break e;qt(L),In(18)}}else L.za=xe[1],0<L.za-L.T&&37500>xe[2]&&L.F&&L.v==0&&!L.C&&(L.C=Pn(E(L.Za,L),6e3));if(1>=Ja(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Bn(L,11)}else if((m.K||L.g==m)&&sr(L),!te(x))for(xe=L.Da.g.parse(x),x=0;x<xe.length;x++){let cn=xe[x];if(L.T=cn[0],cn=cn[1],L.G==2)if(cn[0]=="c"){L.K=cn[1],L.ia=cn[2];const fn=cn[3];fn!=null&&(L.la=fn,L.j.info("VER="+L.la));const jn=cn[4];jn!=null&&(L.Aa=jn,L.j.info("SVER="+L.Aa));const Is=cn[5];Is!=null&&typeof Is=="number"&&0<Is&&(Q=1.5*Is,L.L=Q,L.j.info("backChannelRequestTimeoutMs_="+Q)),Q=L;const Lr=m.g;if(Lr){const gi=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Oe=Q.h;Oe.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Ro(Oe,Oe.h),Oe.h=null))}if(Q.D){const Ia=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(Q.ya=Ia,on(Q.I,Q.D,Ia))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-m.F,L.j.info("Handshake RTT: "+L.R+"ms")),Q=L;var Ze=m;if(Q.qa=Bs(Q,Q.J?Q.ia:null,Q.W),Ze.K){_n(Q.h,Ze);var un=Ze,hr=Q.L;hr&&(un.I=hr),un.B&&(ta(un),ea(un)),Q.g=Ze}else kt(Q);0<L.i.length&&Ae(L)}else cn[0]!="stop"&&cn[0]!="close"||Bn(L,7);else L.G==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Bn(L,7):j(L):cn[0]!="noop"&&L.l&&L.l.ta(cn),L.v=0)}}di(4)}catch{}}var Co=class{constructor(m,x){this.g=m,this.map=x}};function js(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Za(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ja(m){return m.h?1:m.g?m.g.size:0}function ba(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Ro(m,x){m.g?m.g.add(x):m.h=x}function _n(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}js.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Lo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const L of m.g.values())x=x.concat(L.D);return x}return F(m.i)}function Kl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var x=[],L=m.length,Q=0;Q<L;Q++)x.push(m[Q]);return x}x=[],L=0;for(Q in m)x[L++]=m[Q];return x}function os(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var x=[];m=m.length;for(var L=0;L<m;L++)x.push(L);return x}x=[],L=0;for(const Q in m)x[L++]=Q;return x}}}function na(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var L=os(m),Q=Kl(m),xe=Q.length,Oe=0;Oe<xe;Oe++)x.call(void 0,Q[Oe],L&&L[Oe],m)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(m,x){if(m){m=m.split("&");for(var L=0;L<m.length;L++){var Q=m[L].indexOf("="),xe=null;if(0<=Q){var Oe=m[L].substring(0,Q);xe=m[L].substring(Q+1)}else Oe=m[L];x(Oe,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function en(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof en){this.h=m.h,to(this,m.j),this.o=m.o,this.g=m.g,wa(this,m.s),this.l=m.l;var x=m.i,L=new Ti;L.i=x.i,x.g&&(L.g=new Map(x.g),L.h=x.h),ra(this,L),this.m=m.m}else m&&(x=String(m).match(pi))?(this.h=!1,to(this,x[1]||"",!0),this.o=Vi(x[2]||""),this.g=Vi(x[3]||"",!0),wa(this,x[4]),this.l=Vi(x[5]||"",!0),ra(this,x[6]||"",!0),this.m=Vi(x[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}en.prototype.toString=function(){var m=[],x=this.j;x&&m.push(ls(x,cl,!0),":");var L=this.g;return(L||x=="file")&&(m.push("//"),(x=this.o)&&m.push(ls(x,cl,!0),"@"),m.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&m.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(ls(L,L.charAt(0)=="/"?ec:hl,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",ls(L,Vs)),m.join("")};function mi(m){return new en(m)}function to(m,x,L){m.j=L?Vi(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function wa(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function ra(m,x,L){x instanceof Ti?(m.i=x,Ql(m.i,m.h)):(L||(x=ls(x,fl)),m.i=new Ti(x,m.h))}function on(m,x,L){m.i.set(x,L)}function Aa(m){return on(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Vi(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ls(m,x,L){return typeof m=="string"?(m=encodeURI(m).replace(x,ko),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ko(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var cl=/[#\/\?@]/g,hl=/[#\?:]/g,ec=/[#\?]/g,fl=/[#\?@]/g,Vs=/#/g;function Ti(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function us(m){m.g||(m.g=new Map,m.h=0,m.i&&eo(m.i,function(x,L){m.add(decodeURIComponent(x.replace(/\+/g," ")),L)}))}n=Ti.prototype,n.add=function(m,x){us(this),this.i=null,m=Fs(this,m);var L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(x),this.h+=1,this};function Fi(m,x){us(m),x=Fs(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Es(m,x){return us(m),x=Fs(m,x),m.g.has(x)}n.forEach=function(m,x){us(this),this.g.forEach(function(L,Q){L.forEach(function(xe){m.call(x,xe,Q,this)},this)},this)},n.na=function(){us(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),L=[];for(let Q=0;Q<x.length;Q++){const xe=m[Q];for(let Oe=0;Oe<xe.length;Oe++)L.push(x[Q])}return L},n.V=function(m){us(this);let x=[];if(typeof m=="string")Es(this,m)&&(x=x.concat(this.g.get(Fs(this,m))));else{m=Array.from(this.g.values());for(let L=0;L<m.length;L++)x=x.concat(m[L])}return x},n.set=function(m,x){return us(this),this.i=null,m=Fs(this,m),Es(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function Dt(m,x,L){Fi(m,x),0<L.length&&(m.i=null,m.g.set(Fs(m,x),F(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var L=0;L<x.length;L++){var Q=x[L];const Oe=encodeURIComponent(String(Q)),Ze=this.V(Q);for(Q=0;Q<Ze.length;Q++){var xe=Oe;Ze[Q]!==""&&(xe+="="+encodeURIComponent(String(Ze[Q]))),m.push(xe)}}return this.i=m.join("&")};function Fs(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Ql(m,x){x&&!m.j&&(us(m),m.i=null,m.g.forEach(function(L,Q){var xe=Q.toLowerCase();Q!=xe&&(Fi(this,Q),Dt(this,xe,L))},m)),m.j=x}function no(m,x){const L=new mr;if(c.Image){const Q=new Image;Q.onload=b(Br,L,"TestLoadImage: loaded",!0,x,Q),Q.onerror=b(Br,L,"TestLoadImage: error",!1,x,Q),Q.onabort=b(Br,L,"TestLoadImage: abort",!1,x,Q),Q.ontimeout=b(Br,L,"TestLoadImage: timeout",!1,x,Q),c.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=m}else x(!1)}function xs(m,x){const L=new mr,Q=new AbortController,xe=setTimeout(()=>{Q.abort(),Br(L,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:Q.signal}).then(Oe=>{clearTimeout(xe),Oe.ok?Br(L,"TestPingServer: ok",!0,x):Br(L,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(xe),Br(L,"TestPingServer: error",!1,x)})}function Br(m,x,L,Q,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),Q(L)}catch{}}function Ui(){this.g=new At}function Us(m,x,L){const Q=L||"";try{na(m,function(xe,Oe){let Ze=xe;d(xe)&&(Ze=It(xe)),x.push(Q+Oe+"="+encodeURIComponent(Ze))})}catch(xe){throw x.push(Q+"type="+encodeURIComponent("_badmap")),xe}}function Sa(m){this.l=m.Ub||null,this.j=m.eb||!1}M(Sa,nn),Sa.prototype.g=function(){return new cs(this.l,this.j)},Sa.prototype.i=(function(m){return function(){return m}})({});function cs(m,x){ct.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(cs,ct),n=cs.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,Bi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ro(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ro(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Ni(this):Bi(this),this.readyState==3&&ro(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ni(this))},n.Qa=function(m){this.g&&(this.response=m,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Bi(m)}n.setRequestHeader=function(m,x){this.u.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var L=x.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=x.next();return m.join(`\r
`)};function Bi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ea(m){let x="";return Se(m,function(L,Q){x+=Q,x+=":",x+=L,x+=`\r
`}),x}function qr(m,x,L){e:{for(Q in L){var Q=!1;break e}Q=!0}Q||(L=Ea(L),typeof m=="string"?L!=null&&encodeURIComponent(String(L)):on(m,x,L))}function bn(m){ct.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(bn,ct);var xa=/^https?$/i,Ts=["POST","PUT"];n=bn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,x,L,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?Vt(this.o):Vt(Fr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Oe){Ta(this,Oe);return}if(m=L||"",L=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var xe in Q)L.set(xe,Q[xe]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Oe of Q.keys())L.set(Oe,Q.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(L.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),xe=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ts,x,void 0))||Q||xe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Ze]of L)this.g.setRequestHeader(Oe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(m),this.u=!1}catch(Oe){Ta(this,Oe)}};function Ta(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,Na(m),hs(m)}function Na(m){m.A||(m.A=!0,wt(m,"complete"),wt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,wt(this,"complete"),wt(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),bn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},n.bb=function(){ia(this)};function ia(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Ii(m)!=4||m.Z()!=2)){if(m.u&&Ii(m)==4)st(m.Ea,0,m);else if(wt(m,"readystatechange"),Ii(m)==4){m.h=!1;try{const Ze=m.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var L;if(!(L=x)){var Q;if(Q=Ze===0){var xe=String(m.D).match(pi)[1]||null;!xe&&c.self&&c.self.location&&(xe=c.self.location.protocol.slice(0,-1)),Q=!xa.test(xe?xe.toLowerCase():"")}L=Q}if(L)wt(m,"complete"),wt(m,"success");else{m.m=6;try{var Oe=2<Ii(m)?m.g.statusText:""}catch{Oe=""}m.l=Oe+" ["+m.Z()+"]",Na(m)}}finally{hs(m)}}}}function hs(m,x){if(m.g){Ns(m);const L=m.g,Q=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||wt(m,"ready");try{L.onreadystatechange=Q}catch{}}}function Ns(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ii(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Nn(x)}};function Po(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(m){const x={};m=(m.g&&2<=Ii(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<m.length;Q++){if(te(m[Q]))continue;var L=I(m[Q]);const xe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Oe=x[xe]||[];x[xe]=Oe,Oe.push(L)}$(x,function(Q){return Q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(m,x,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||x}function A(m){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,m),this.cb=Ci("retryDelaySeedMs",1e4,m),this.Wa=Ci("forwardChannelMaxRetries",2,m),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new js(m&&m.concurrentRequestLimit),this.Da=new Ui,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=A.prototype,n.la=8,n.G=1,n.connect=function(m,x,L,Q){In(0),this.W=m,this.H=x||{},L&&Q!==void 0&&(this.H.OSID=L,this.H.OAID=Q),this.F=this.X,this.I=Bs(this,null,this.W),Ae(this)};function j(m){if(me(m),m.G==3){var x=m.U++,L=mi(m.I);if(on(L,"SID",m.K),on(L,"RID",x),on(L,"TYPE","terminate"),at(m,L),x=new Jn(m,m.j,x),x.L=2,x.v=Aa(mi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!L&&c.Image&&(new Image().src=x.v,L=!0),L||(x.g=sa(x.j,null),x.g.ea(x.v)),x.F=Date.now(),ea(x)}zr(m)}function ae(m){m.g&&(ln(m),m.g.cancel(),m.g=null)}function me(m){ae(m),m.u&&(c.clearTimeout(m.u),m.u=null),sr(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Ae(m){if(!Za(m.h)&&!m.s){m.s=!0;var x=m.Ga;pe||Y(),ie||(pe(),ie=!0),be.add(x,m),m.B=0}}function Be(m,x){return Ja(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Pn(E(m.Ga,m,x),gr(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const xe=new Jn(this,this.j,m);let Oe=this.o;if(this.S&&(Oe?(Oe=O(Oe),H(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(xe.H=Oe,Oe=null),this.P)e:{for(var x=0,L=0;L<this.i.length;L++){t:{var Q=this.i[L];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(x+=Q,4096<x){x=L;break e}if(x===4096||L===this.i.length-1){x=L+1;break e}}x=1e3}else x=1e3;x=pt(this,xe,x),L=mi(this.I),on(L,"RID",m),on(L,"CVER",22),this.D&&on(L,"X-HTTP-Session-Id",this.D),at(this,L),Oe&&(this.O?x="headers="+encodeURIComponent(String(Ea(Oe)))+"&"+x:this.m&&qr(L,this.m,Oe)),Ro(this.h,xe),this.Ua&&on(L,"TYPE","init"),this.P?(on(L,"$req",x),on(L,"SID","null"),xe.T=!0,xi(xe,L,null)):xi(xe,L,x),this.G=2}}else this.G==3&&(m?Ke(this,m):this.i.length==0||Za(this.h)||Ke(this))};function Ke(m,x){var L;x?L=x.l:L=m.U++;const Q=mi(m.I);on(Q,"SID",m.K),on(Q,"RID",L),on(Q,"AID",m.T),at(m,Q),m.m&&m.o&&qr(Q,m.m,m.o),L=new Jn(m,m.j,L,m.B+1),m.m===null&&(L.H=m.o),x&&(m.i=x.D.concat(m.i)),x=pt(m,L,1e3),L.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ro(m.h,L),xi(L,Q,x)}function at(m,x){m.H&&Se(m.H,function(L,Q){on(x,Q,L)}),m.l&&na({},function(L,Q){on(x,Q,L)})}function pt(m,x,L){L=Math.min(m.i.length,L);var Q=m.l?E(m.l.Na,m.l,m):null;e:{var xe=m.i;let Oe=-1;for(;;){const Ze=["count="+L];Oe==-1?0<L?(Oe=xe[0].g,Ze.push("ofs="+Oe)):Oe=0:Ze.push("ofs="+Oe);let un=!0;for(let hr=0;hr<L;hr++){let cn=xe[hr].g;const fn=xe[hr].map;if(cn-=Oe,0>cn)Oe=Math.max(0,xe[hr].g-100),un=!1;else try{Us(fn,Ze,"req"+cn+"_")}catch{Q&&Q(fn)}}if(un){Q=Ze.join("&");break e}}}return m=m.i.splice(0,L),x.D=m,Q}function kt(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;pe||Y(),ie||(pe(),ie=!0),be.add(x,m),m.v=0}}function qt(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Pn(E(m.Fa,m),gr(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,er(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Pn(E(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),ae(this),er(this))};function ln(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function er(m){m.g=new Jn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=mi(m.qa);on(x,"RID","rpc"),on(x,"SID",m.K),on(x,"AID",m.T),on(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&on(x,"TO",m.ja),on(x,"TYPE","xmlhttp"),at(m,x),m.m&&m.o&&qr(x,m.m,m.o),m.L&&(m.g.I=m.L);var L=m.g;m=m.ia,L.L=1,L.v=Aa(mi(x)),L.m=null,L.P=!0,as(L,m)}n.Za=function(){this.C!=null&&(this.C=null,ae(this),qt(this),In(19))};function sr(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Dn(m,x){var L=null;if(m.g==x){sr(m),ln(m),m.g=null;var Q=2}else if(ba(m.h,x))L=x.D,_n(m.h,x),Q=1;else return;if(m.G!=0){if(x.o)if(Q==1){L=x.m?x.m.length:0,x=Date.now()-x.F;var xe=m.B;Q=pr(),wt(Q,new $n(Q,L)),Ae(m)}else kt(m);else if(xe=x.s,xe==3||xe==0&&0<x.X||!(Q==1&&Be(m,x)||Q==2&&qt(m)))switch(L&&0<L.length&&(x=m.h,x.i=x.i.concat(L)),xe){case 1:Bn(m,5);break;case 4:Bn(m,10);break;case 3:Bn(m,6);break;default:Bn(m,2)}}}function gr(m,x){let L=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(L*=2),L*x}function Bn(m,x){if(m.j.info("Error code "+x),x==2){var L=E(m.fb,m),Q=m.Xa;const xe=!Q;Q=new en(Q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(Q,"https"),Aa(Q),xe?no(Q.toString(),L):xs(Q.toString(),L)}else In(2);m.G=0,m.l&&m.l.sa(x),zr(m),me(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function zr(m){if(m.G=0,m.ka=[],m.l){const x=Lo(m.h);(x.length!=0||m.i.length!=0)&&(q(m.ka,x),q(m.ka,m.i),m.h.i.length=0,F(m.i),m.i.length=0),m.l.ra()}}function Bs(m,x,L){var Q=L instanceof en?mi(L):new en(L);if(Q.g!="")x&&(Q.g=x+"."+Q.g),wa(Q,Q.s);else{var xe=c.location;Q=xe.protocol,x=x?x+"."+xe.hostname:xe.hostname,xe=+xe.port;var Oe=new en(null);Q&&to(Oe,Q),x&&(Oe.g=x),xe&&wa(Oe,xe),L&&(Oe.l=L),Q=Oe}return L=m.D,x=m.ya,L&&x&&on(Q,L,x),on(Q,"VER",m.la),at(m,Q),Q}function sa(m,x,L){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new bn(new Sa({eb:L})):new bn(m.pa),x.Ha(m.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}n=Xl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(m,x){return new Rr(m,x)};function Rr(m,x){ct.call(this),this.g=new A(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!te(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!te(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new zi(this)}M(Rr,ct),Rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){j(this.g)},Rr.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.u&&(L={},L.__data__=It(m),m=L);x.i.push(new Co(x.Ya++,m)),x.G==3&&Ae(x)},Rr.prototype.N=function(){this.g.l=null,delete this.j,j(this.g),delete this.g,Rr.aa.N.call(this)};function fs(m){gn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const L in x){m=L;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}M(fs,gn);function Do(){Pt.call(this),this.status=1}M(Do,Pt);function zi(m){this.g=m}M(zi,Xl),zi.prototype.ua=function(){wt(this.g,"a")},zi.prototype.ta=function(m){wt(this.g,new fs(m))},zi.prototype.sa=function(m){wt(this.g,new Do)},zi.prototype.ra=function(){wt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,l3=function(){return new io},o3=function(){return pr()},a3=rn,z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,ym=si,ai.COMPLETE="complete",s3=ai,ir.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Jf=ir,bn.prototype.listenOnce=bn.prototype.L,bn.prototype.getLastError=bn.prototype.Ka,bn.prototype.getLastErrorCode=bn.prototype.Ba,bn.prototype.getStatus=bn.prototype.Z,bn.prototype.getResponseJson=bn.prototype.Oa,bn.prototype.getResponseText=bn.prototype.oa,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Ha,i3=bn}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore",w_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new ag("@firebase/firestore");function Ah(){return Bu.logLevel}function mC(n){Bu.setLogLevel(n)}function lt(n,...e){if(Bu.logLevel<=Sn.DEBUG){const t=e.map(P2);Bu.debug(`Firestore (${Qh}): ${n}`,...t)}}function zl(n,...e){if(Bu.logLevel<=Sn.ERROR){const t=e.map(P2);Bu.error(`Firestore (${Qh}): ${n}`,...t)}}function Fh(n,...e){if(Bu.logLevel<=Sn.WARN){const t=e.map(P2);Bu.warn(`Firestore (${Qh}): ${n}`,...t)}}function P2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,u3(n,r,t)}function u3(n,e,t){let r=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zl(r),new Error(r)}function Hn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||u3(e,s,r)}function Zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends To{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_s.UNAUTHENTICATED)))}shutdown(){}}class yC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class vC{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fl,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new c3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new _s(e)}}class _C{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _C(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$a(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Hn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new A_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=AC(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function En(n,e){return n<e?-1:n>e?1:0}function H0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return X1(s)===X1(o)?En(s,o):X1(s)?1:-1}return En(n.length,e.length)}const SC=55296,EC=57343;function X1(n){const e=n.charCodeAt(0);return e>=SC&&e<=EC}function Uh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__name__";class Ko{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ut(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ut(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ko.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return En(e.length,t.length)}static compareSegments(e,t){const r=Ko.isNumericId(e),s=Ko.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ko.extractNumericId(e).compare(Ko.extractNumericId(t)):H0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vu.fromString(e.substring(4,e.length-2))}}class dr extends Ko{construct(e,t,r){return new dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new dr(t)}static emptyPath(){return new dr([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Ko{construct(e,t,r){return new ts(e,t,r)}static isValidIdentifier(e){return xC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new ts([S_])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new it(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new it(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new it(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new it(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(dr.fromString(e))}static fromName(e){return new Rt(dr.fromString(e).popFirst(5))}static empty(){return new Rt(dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new dr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(n,e,t){if(!t)throw new it(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TC(n,e,t,r){if(e===!0&&r===!0)throw new it(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E_(n){if(!Rt.isDocumentKey(n))throw new it(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function x_(n){if(Rt.isDocumentKey(n))throw new it(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ut(12329,{type:typeof n})}function Ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cg(n);throw new it(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Od(n,e){if(!f3(n))throw new it(Ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new it(Ge.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=-62135596800,N_=1e6;class _r{static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*N_);return new _r(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<T_)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_r._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Od(e,_r._jsonSchema))return new _r(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_r._jsonSchemaVersion="firestore/timestamp/1.0",_r._jsonSchema={type:fi("string",_r._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new _r(0,0))}static max(){return new Qt(new _r(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function NC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qt.fromTimestamp(r===1e9?new _r(t+1,0):new _r(t,r));return new qu(s,Rt.empty(),e)}function IC(n){return new qu(n.readTime,n.key,gd)}class qu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qu(Qt.min(),Rt.empty(),gd)}static max(){return new qu(Qt.max(),Rt.empty(),gd)}}function CC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Rt.comparator(n.documentKey,e.documentKey),t!==0?t:En(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==RC)throw n;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qe.reject(t)}static resolve(e){return new Qe(((t,r)=>{t(e)}))}static reject(e){return new Qe(((t,r)=>{r(e)}))}static waitFor(e){return new Qe(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Qe.resolve(!1);for(const r of e)t=t.next((s=>s?Qe.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Qe(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((y=>{u[d]=y,++c,c===o&&r(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new Qe(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function kC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=-1;function fg(n){return n==null}function Vm(n){return n===0&&1/n==-1/0}function PC(n){return typeof n=="number"&&Number.isInteger(n)&&!Vm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="";function DC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I_(e)),e=OC(n.get(t),e);return I_(e)}function OC(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case d3:t+="";break;default:t+=o}}return t}function I_(n){return n+d3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function p3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jp(this.root,e,this.comparator,!0)}}class Jp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??es.RED,this.left=s??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new es(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return es.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new ma([])}unionWith(e){let t=new Si(ts.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new m3("Invalid base64 string: "+o):o}})(e);return new ns(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zu(n){if(Hn(!!n,39018),typeof n=="string"){let e=0;const t=MC.exec(n);if(Hn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hu(n){return typeof n=="string"?ns.fromBase64String(n):ns.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="server_timestamp",y3="__type__",v3="__previous_value__",_3="__local_write_time__";function M2(n){return(n?.mapValue?.fields||{})[y3]?.stringValue===g3}function dg(n){const e=n.mapValue.fields[v3];return M2(e)?dg(e):e}function yd(n){const e=zu(n.mapValue.fields[_3].timestampValue);return new _r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t,r,s,o,u,c,f,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Fm="(default)";class vd{constructor(e,t){this.projectId=e,this.database=t||Fm}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===Fm}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__type__",VC="__max__",em={mapValue:{}},w3="__vector__",Um="value";function Gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M2(n)?4:UC(n)?9007199254740991:FC(n)?10:11:Ut(28295,{value:n})}function sl(n,e){if(n===e)return!0;const t=Gu(n);if(t!==Gu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yd(n).isEqual(yd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=zu(s.timestampValue),c=zu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Hu(s.bytesValue).isEqual(Hu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return ti(s.geoPointValue.latitude)===ti(o.geoPointValue.latitude)&&ti(s.geoPointValue.longitude)===ti(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return ti(s.integerValue)===ti(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=ti(s.doubleValue),c=ti(o.doubleValue);return u===c?Vm(u)===Vm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Uh(n.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(C_(u)!==C_(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!sl(u[f],c[f])))return!1;return!0})(n,e);default:return Ut(52216,{left:n})}}function _d(n,e){return(n.values||[]).find((t=>sl(t,e)))!==void 0}function Bh(n,e){if(n===e)return 0;const t=Gu(n),r=Gu(e);if(t!==r)return En(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return En(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=ti(o.integerValue||o.doubleValue),f=ti(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return L_(n.timestampValue,e.timestampValue);case 4:return L_(yd(n),yd(e));case 5:return H0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=Hu(o),f=Hu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const y=En(c[d],f[d]);if(y!==0)return y}return En(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=En(ti(o.latitude),ti(u.latitude));return c!==0?c:En(ti(o.longitude),ti(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return k_(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[Um]?.arrayValue,y=f[Um]?.arrayValue,w=En(d?.values?.length||0,y?.values?.length||0);return w!==0?w:k_(d,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===em.mapValue&&u===em.mapValue)return 0;if(o===em.mapValue)return 1;if(u===em.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const E=H0(f[w],y[w]);if(E!==0)return E;const b=Bh(c[f[w]],d[y[w]]);if(b!==0)return b}return En(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Ut(23264,{he:t})}}function L_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return En(n,e);const t=zu(n),r=zu(e),s=En(t.seconds,r.seconds);return s!==0?s:En(t.nanos,r.nanos)}function k_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Bh(t[s],r[s]);if(o)return o}return En(t.length,r.length)}function qh(n){return G0(n)}function G0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=zu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Rt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=G0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${G0(t.fields[u])}`;return s+"}"})(n.mapValue):Ut(61005,{value:n})}function vm(n){switch(Gu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dg(n);return e?16+vm(e):16;case 5:return 2*n.stringValue.length;case 6:return Hu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+vm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Zu(r.fields,((o,u)=>{s+=o.length+vm(u)})),s})(n.mapValue);default:throw Ut(13486,{value:n})}}function P_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $0(n){return!!n&&"integerValue"in n}function j2(n){return!!n&&"arrayValue"in n}function D_(n){return!!n&&"nullValue"in n}function O_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _m(n){return!!n&&"mapValue"in n}function FC(n){return(n?.mapValue?.fields||{})[b3]?.stringValue===w3}function sd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=sd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sd(n.arrayValue.values[t]);return e}return{...n}}function UC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(t)}setAll(e){let t=ts.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=sd(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());_m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];_m(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Zu(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Qs(sd(this.value))}}function A3(n){const e=[];return Zu(n.fields,((t,r)=>{const s=new ts([t]);if(_m(r)){const o=A3(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new ma(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new bs(e,0,Qt.min(),Qt.min(),Qt.min(),Qs.empty(),0)}static newFoundDocument(e,t,r,s){return new bs(e,1,t,Qt.min(),r,s,0)}static newNoDocument(e,t){return new bs(e,2,t,Qt.min(),Qt.min(),Qs.empty(),0)}static newUnknownDocument(e,t){return new bs(e,3,t,Qt.min(),Qt.min(),Qs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t){this.position=e,this.inclusive=t}}function M_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Rt.comparator(Rt.fromName(u.referenceValue),t.key):r=Bh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function j_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function BC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{}class hi extends S3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new zC(e,t,r):t==="array-contains"?new $C(e,r):t==="in"?new WC(e,r):t==="not-in"?new YC(e,r):t==="array-contains-any"?new KC(e,r):new hi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new HC(e,r):new GC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bh(t,this.value)):t!==null&&Gu(this.value)===Gu(t)&&this.matchesComparison(Bh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Eo extends S3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Eo(e,t)}matches(e){return E3(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E3(n){return n.op==="and"}function x3(n){return qC(n)&&E3(n)}function qC(n){for(const e of n.filters)if(e instanceof Eo)return!1;return!0}function W0(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+qh(n.value);if(x3(n))return n.filters.map((e=>W0(e))).join(",");{const e=n.filters.map((t=>W0(t))).join(",");return`${n.op}(${e})`}}function T3(n,e){return n instanceof hi?(function(r,s){return s instanceof hi&&r.op===s.op&&r.field.isEqual(s.field)&&sl(r.value,s.value)})(n,e):n instanceof Eo?(function(r,s){return s instanceof Eo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&T3(u,s.filters[c])),!0):!1})(n,e):void Ut(19439)}function N3(n){return n instanceof hi?(function(t){return`${t.field.canonicalString()} ${t.op} ${qh(t.value)}`})(n):n instanceof Eo?(function(t){return t.op.toString()+" {"+t.getFilters().map(N3).join(" ,")+"}"})(n):"Filter"}class zC extends hi{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class HC extends hi{constructor(e,t){super(e,"in",t),this.keys=I3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GC extends hi{constructor(e,t){super(e,"not-in",t),this.keys=I3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function I3(n,e){return(e.arrayValue?.values||[]).map((t=>Rt.fromName(t.referenceValue)))}class $C extends hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return j2(t)&&_d(t.arrayValue,this.value)}}class WC extends hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class YC extends hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_d(this.value.arrayValue,t)}}class KC extends hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!j2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_d(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function V_(n,e=null,t=[],r=[],s=null,o=null,u=null){return new QC(n,e,t,r,s,o,u)}function V2(n){const e=Zt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>W0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),fg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>qh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>qh(r))).join(",")),e.Te=t}return e.Te}function F2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!T3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j_(n.startAt,e.startAt)&&j_(n.endAt,e.endAt)}function Y0(n){return Rt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XC(n,e,t,r,s,o,u,c){return new Jh(n,e,t,r,s,o,u,c)}function pg(n){return new Jh(n)}function F_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function C3(n){return n.collectionGroup!==null}function ad(n){const e=Zt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Si(ts.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bd(o,r))})),t.has(ts.keyField().canonicalString())||e.Ie.push(new bd(ts.keyField(),r))}return e.Ie}function el(n){const e=Zt(n);return e.Ee||(e.Ee=ZC(e,ad(n))),e.Ee}function ZC(n,e){if(n.limitType==="F")return V_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new bd(s.field,o)}));const t=n.endAt?new Bm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Bm(n.startAt.position,n.startAt.inclusive):null;return V_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function K0(n,e){const t=n.filters.concat([e]);return new Jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qm(n,e,t){return new Jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mg(n,e){return F2(el(n),el(e))&&n.limitType===e.limitType}function R3(n){return`${V2(el(n))}|lt:${n.limitType}`}function Sh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>N3(s))).join(", ")}]`),fg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>qh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>qh(s))).join(",")),`Target(${r})`})(el(n))}; limitType=${n.limitType})`}function gg(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of ad(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,f){const d=M_(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,ad(r),s)||r.endAt&&!(function(u,c,f){const d=M_(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,ad(r),s))})(n,e)}function JC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L3(n){return(e,t)=>{let r=!1;for(const s of ad(n)){const o=e8(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function e8(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Bh(f,d):Ut(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zu(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return p3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new jr(Rt.comparator);function Hl(){return t8}const k3=new jr(Rt.comparator);function ed(...n){let e=k3;for(const t of n)e=e.insert(t.key,t);return e}function P3(n){let e=k3;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function xc(){return od()}function D3(){return od()}function od(){return new Uc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const n8=new jr(Rt.comparator),r8=new Si(Rt.comparator);function xn(...n){let e=r8;for(const t of n)e=e.add(t);return e}const i8=new Si(En);function s8(){return i8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(e)?"-0":e}}function O3(n){return{integerValue:""+n}}function M3(n,e){return PC(e)?O3(e):U2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this._=void 0}}function a8(n,e,t){return n instanceof wd?(function(s,o){const u={fields:{[y3]:{stringValue:g3},[_3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&M2(o)&&(o=dg(o)),o&&(u.fields[v3]=o),{mapValue:u}})(t,e):n instanceof Ad?V3(n,e):n instanceof Sd?F3(n,e):(function(s,o){const u=j3(s,o),c=U_(u)+U_(s.Ae);return $0(u)&&$0(s.Ae)?O3(c):U2(s.serializer,c)})(n,e)}function o8(n,e,t){return n instanceof Ad?V3(n,e):n instanceof Sd?F3(n,e):t}function j3(n,e){return n instanceof Ed?(function(r){return $0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class wd extends yg{}class Ad extends yg{constructor(e){super(),this.elements=e}}function V3(n,e){const t=U3(e);for(const r of n.elements)t.some((s=>sl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Sd extends yg{constructor(e){super(),this.elements=e}}function F3(n,e){let t=U3(e);for(const r of n.elements)t=t.filter((s=>!sl(s,r)));return{arrayValue:{values:t}}}class Ed extends yg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function U_(n){return ti(n.integerValue||n.doubleValue)}function U3(n){return j2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this.field=e,this.transform=t}}function l8(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ad&&s instanceof Ad||r instanceof Sd&&s instanceof Sd?Uh(r.elements,s.elements,sl):r instanceof Ed&&s instanceof Ed?sl(r.Ae,s.Ae):r instanceof wd&&s instanceof wd})(n.transform,e.transform)}class u8{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vg{}function q3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _g(n.key,Os.none()):new Md(n.key,n.data,Os.none());{const t=n.data,r=Qs.empty();let s=new Si(ts.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Ju(n.key,r,new ma(s.toArray()),Os.none())}}function c8(n,e,t){n instanceof Md?(function(s,o,u){const c=s.value.clone(),f=q_(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ju?(function(s,o,u){if(!bm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=q_(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(z3(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function ld(n,e,t,r){return n instanceof Md?(function(o,u,c,f){if(!bm(o.precondition,u))return c;const d=o.value.clone(),y=z_(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ju?(function(o,u,c,f){if(!bm(o.precondition,u))return c;const d=z_(o.fieldTransforms,f,u),y=u.data;return y.setAll(z3(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(o,u,c){return bm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function h8(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=j3(r.transform,s||null);o!=null&&(t===null&&(t=Qs.empty()),t.set(r.field,o))}return t||null}function B_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Uh(r,s,((o,u)=>l8(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Md extends vg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ju extends vg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function z3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function q_(n,e,t){const r=new Map;Hn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,o8(u,c,t[s]))}return r}function z_(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,a8(o,u,e))}return r}class _g extends vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f8 extends vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&c8(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ld(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ld(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=D3();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=q3(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Qt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xn())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,((t,r)=>B_(t,r)))&&Uh(this.baseMutations,e.baseMutations,((t,r)=>B_(t,r)))}}class B2{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return n8})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new B2(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,Ln;function g8(n){switch(n){case Ge.OK:return Ut(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Ut(15467,{code:n})}}function H3(n){if(n===void 0)return zl("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case ci.OK:return Ge.OK;case ci.CANCELLED:return Ge.CANCELLED;case ci.UNKNOWN:return Ge.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Ge.INTERNAL;case ci.UNAVAILABLE:return Ge.UNAVAILABLE;case ci.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case ci.NOT_FOUND:return Ge.NOT_FOUND;case ci.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case ci.ABORTED:return Ge.ABORTED;case ci.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case ci.DATA_LOSS:return Ge.DATA_LOSS;default:return Ut(39323,{code:n})}}(Ln=ci||(ci={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new Vu([4294967295,4294967295],0);function H_(n){const e=y8().encode(n),t=new r3;return t.update(e),new Uint8Array(t.digest())}function G_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vu([t,r],0),new Vu([s,o],0)]}class q2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new td(`Invalid padding: ${t}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new td(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Vu.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Vu.fromNumber(r)));return s.compare(v8)===1&&(s=new Vu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=H_(e),[r,s]=G_(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new q2(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=H_(e),[r,s]=G_(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bg(Qt.min(),s,new jr(En),Hl(),xn())}}class jd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new jd(r,t,xn(),xn(),xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class G3{constructor(e,t){this.targetId=e,this.Ce=t}}class $3{constructor(e,t,r=ns.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class $_{constructor(){this.ve=0,this.Fe=W_(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xn(),t=xn(),r=xn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ut(38017,{changeType:o})}})),new jd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hl(),this.Je=tm(),this.He=tm(),this.Ye=new jr(En)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ut(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Y0(o))if(r===0){const u=new Rt(o.path);this.et(t,u,bs.newNoDocument(u,Qt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=Hu(r).toUint8Array()}catch(f){if(f instanceof m3)return Fh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new q2(u,s,o)}catch(f){return Fh(f instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&Y0(c.target)){const f=new Rt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,bs.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=xn();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new bg(e,t,this.Ye,this.je,r);return this.je=Hl(),this.Je=tm(),this.He=tm(),this.Ye=new jr(En),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Si(En),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Si(En),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||lt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function tm(){return new jr(Rt.comparator)}function W_(){return new jr(Rt.comparator)}const b8={asc:"ASCENDING",desc:"DESCENDING"},w8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A8={and:"AND",or:"OR"};class S8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Q0(n,e){return n.useProto3Json||fg(e)?e:{value:e}}function zm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function E8(n,e){return zm(n,e.toTimestamp())}function tl(n){return Hn(!!n,49232),Qt.fromTimestamp((function(t){const r=zu(t);return new _r(r.seconds,r.nanos)})(n))}function z2(n,e){return X0(n,e).canonicalString()}function X0(n,e){const t=(function(s){return new dr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Y3(n){const e=dr.fromString(n);return Hn(J3(e),10190,{key:e.toString()}),e}function Z0(n,e){return z2(n.databaseId,e.path)}function Z1(n,e){const t=Y3(e);if(t.get(1)!==n.databaseId.projectId)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(Q3(t))}function K3(n,e){return z2(n.databaseId,e)}function x8(n){const e=Y3(n);return e.length===4?dr.emptyPath():Q3(e)}function J0(n){return new dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q3(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Y_(n,e,t){return{name:Z0(n,e),fields:t.value.mapValue.fields}}function T8(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Hn(y===void 0||typeof y=="string",58123),ns.fromBase64String(y||"")):(Hn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ns.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const y=d.code===void 0?Ge.UNKNOWN:H3(d.code);return new it(y,d.message||"")})(u);t=new $3(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Z1(n,r.document.name),o=tl(r.document.updateTime),u=r.document.createTime?tl(r.document.createTime):Qt.min(),c=new Qs({mapValue:{fields:r.document.fields}}),f=bs.newFoundDocument(s,o,u,c),d=r.targetIds||[],y=r.removedTargetIds||[];t=new wm(d,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Z1(n,r.document),o=r.readTime?tl(r.readTime):Qt.min(),u=bs.newNoDocument(s,o),c=r.removedTargetIds||[];t=new wm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Z1(n,r.document),o=r.removedTargetIds||[];t=new wm([],o,s,null)}else{if(!("filter"in e))return Ut(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new m8(s,o),c=r.targetId;t=new G3(c,u)}}return t}function N8(n,e){let t;if(e instanceof Md)t={update:Y_(n,e.key,e.value)};else if(e instanceof _g)t={delete:Z0(n,e.key)};else if(e instanceof Ju)t={update:Y_(n,e.key,e.data),updateMask:M8(e.fieldMask)};else{if(!(e instanceof f8))return Ut(16599,{Vt:e.type});t={verify:Z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof wd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ad)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Sd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ed)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Ut(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:E8(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ut(27497)})(n,e.precondition)),t}function I8(n,e){return n&&n.length>0?(Hn(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?tl(s.updateTime):tl(o);return u.isEqual(Qt.min())&&(u=tl(o)),new u8(u,s.transformResults||[])})(t,e)))):[]}function C8(n,e){return{documents:[K3(n,e.path)]}}function R8(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=K3(n,s);const o=(function(d){if(d.length!==0)return Z3(Eo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(E){return{field:Eh(E.field),direction:P8(E.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=Q0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function L8(n){let e=x8(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Hn(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(w){const E=X3(w);return E instanceof Eo&&x3(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(M){return new bd(xh(M.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let E;return E=typeof w=="object"?w.value:w,fg(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,b=w.values||[];return new Bm(b,E)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const E=!w.before,b=w.values||[];return new Bm(b,E)})(t.endAt)),XC(e,s,u,o,c,"F",f,d)}function k8(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function X3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=xh(t.unaryFilter.field);return hi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xh(t.unaryFilter.field);return hi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xh(t.unaryFilter.field);return hi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xh(t.unaryFilter.field);return hi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(n):n.fieldFilter!==void 0?(function(t){return hi.create(xh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Eo.create(t.compositeFilter.filters.map((r=>X3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(t.compositeFilter.op))})(n):Ut(30097,{filter:n})}function P8(n){return b8[n]}function D8(n){return w8[n]}function O8(n){return A8[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function xh(n){return ts.fromServerFormat(n.fieldPath)}function Z3(n){return n instanceof hi?(function(t){if(t.op==="=="){if(O_(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NAN"}};if(D_(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O_(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NAN"}};if(D_(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(t.field),op:D8(t.op),value:t.value}}})(n):n instanceof Eo?(function(t){const r=t.getFilters().map((s=>Z3(s)));return r.length===1?r[0]:{compositeFilter:{op:O8(t.op),filters:r}}})(n):Ut(54877,{filter:n})}function M8(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function J3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t,r,s,o=Qt.min(),u=Qt.min(),c=ns.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.yt=e}}function V8(n){const e=L8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.Cn=new U8}addToCollectionParentIndex(e,t){return this.Cn.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(qu.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(qu.min())}updateCollectionGroup(e,t,r){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class U8{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Si(dr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Si(dr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eA=41943040;class Ks{static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(eA,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zh(0)}static cr(){return new zh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="LruGarbageCollector",B8=1048576;function X_([n,e],[t,r]){const s=En(n,t);return s===0?En(e,r):s}class q8{constructor(e){this.Ir=e,this.buffer=new Si(X_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();X_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class z8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(Q_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zh(t)?lt(Q_,"Ignoring IndexedDB error during garbage collection: ",t):await Xh(t)}await this.Vr(3e5)}))}}class H8{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Qe.resolve(hg.ce);const r=new q8(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(K_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,c,f,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),Ah()<=Sn.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function G8(n,e){return new H8(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.changes=new Uc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Qe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&ld(r.mutation,s,ma.empty(),_r.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,xn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=xn()){const s=xc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=ed();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=xc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,xn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=Hl();const u=od(),c=(function(){return od()})();return t.forEach(((f,d)=>{const y=r.get(d.key);s.has(d.key)&&(y===void 0||y.mutation instanceof Ju)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),ld(y.mutation,d,y.mutation.getFieldMask(),_r.now())):u.set(d.key,ma.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,y)=>u.set(d,y))),t.forEach(((d,y)=>c.set(d,new W8(y,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=od();let s=new jr(((u,c)=>u-c)),o=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let y=r.get(f)||ma.empty();y=c.applyToLocalView(d,y),r.set(f,y);const w=(s.get(c.batchId)||xn()).add(f);s=s.insert(c.batchId,w)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,y=f.value,w=D3();y.forEach((E=>{if(!o.has(E)){const b=q3(t.get(E),r.get(E));b!==null&&w.set(E,b),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Qe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Rt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):C3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Qe.resolve(xc());let c=gd,f=o;return u.next((d=>Qe.forEach(d,((y,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(y)?Qe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,xn()))).next((y=>({batchId:c,changes:P3(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next((r=>{let s=ed();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=ed();return this.indexManager.getCollectionParents(e,o).next((c=>Qe.forEach(c,(f=>{const d=(function(w,E){return new Jh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((y=>{y.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,bs.newInvalidDocument(y)))}));let c=ed();return u.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&ld(y.mutation,d,ma.empty(),_r.now()),gg(t,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Qe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:tl(s.createTime)}})(t)),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:V8(s.bundledQuery),readTime:tl(s.readTime)}})(t)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.overlays=new jr(Rt.comparator),this.qr=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xc();return Qe.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),Qe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Qe.resolve()}getOverlaysForCollection(e,t,r){const s=xc(),o=t.length+1,u=new Rt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Qe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new jr(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=xc(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=xc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>c.set(d,y))),!(c.size()>=s)););return Qe.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new p8(t,r));let o=this.qr.get(t);o===void 0&&(o=xn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Qr=new Si(Mi.$r),this.Ur=new Si(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Mi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Rt(new dr([])),r=new Mi(t,e),s=new Mi(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Rt(new dr([])),r=new Mi(t,e),s=new Mi(t,e+1);let o=xn();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Mi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Rt.comparator(e.key,t.key)||En(e.Yr,t.Yr)}static Kr(e,t){return En(e.Yr,t.Yr)||Rt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Si(Mi.$r)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new d8(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Zr=this.Zr.add(new Mi(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Qe.resolve(u)}lookupMutationBatch(e,t){return Qe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return Qe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?O2:this.tr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),s=new Mi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const c=this.Xr(u.Yr);o.push(c)})),Qe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Si(En);return t.forEach((s=>{const o=new Mi(s,0),u=new Mi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),Qe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Rt.isDocumentKey(o)||(o=o.child(""));const u=new Mi(new Rt(o),0);let c=new Si(En);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Yr)),!0)}),u),Qe.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Hn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Qe.forEach(t.mutations,(s=>{const o=new Mi(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Mi(t,0),s=this.Zr.firstAfterOrEqual(r);return Qe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.ri=e,this.docs=(function(){return new jr(Rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Qe.resolve(r?r.document.mutableCopy():bs.newInvalidDocument(t))}getEntries(e,t){let r=Hl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():bs.newInvalidDocument(s))})),Qe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Hl();const u=t.path,c=new Rt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||CC(IC(y),r)<=0||(s.has(y.key)||gg(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Qe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ut(9500)}ii(e,t){return Qe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new eR(this)}getSize(e){return Qe.resolve(this.size)}}class eR extends $8{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Qe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.persistence=e,this.si=new Uc((t=>V2(t)),F2),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.oi=0,this._i=new H2,this.targetCount=0,this.ai=zh.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Qe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.Pr(t),Qe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Qe.waitFor(o).next((()=>s))}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Qe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Qe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Qe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Qe.resolve(r)}containsKey(e,t){return Qe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.ui={},this.overlays={},this.ci=new hg(0),this.li=!1,this.li=!0,this.hi=new X8,this.referenceDelegate=e(this),this.Pi=new tR(this),this.indexManager=new F8,this.remoteDocumentCache=(function(s){return new J8(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new j8(t),this.Ii=new K8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Z8(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const s=new nR(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Qe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class nR extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class G2{constructor(e){this.persistence=e,this.Ri=new H2,this.Vi=null}static mi(e){return new G2(e)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Qe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.fi,(r=>{const s=Rt.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Qt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Qe.or([()=>Qe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hm{constructor(e,t){this.persistence=e,this.pi=new Uc((r=>DC(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=G8(this,t)}static mi(e,t){return new Hm(e,t)}Ei(){}di(e){return Qe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Qe.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?Qe.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((c=>{c||(r++,o.removeEntry(u,Qt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Qe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Qe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Qe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Qe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vm(e.data.value)),t}br(e,t,r){return Qe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Qe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=xn(),s=xn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new $2(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P6()?8:kC(Ss())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new rR;return this.Ss(e,t,u).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,u,c.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ah()<=Sn.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Sh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Qe.resolve()):(Ah()<=Sn.DEBUG&&lt("QueryEngine","Query:",Sh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ah()<=Sn.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Sh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,el(t))):Qe.resolve())}ys(e,t){if(F_(t))return Qe.resolve(null);let r=el(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=qm(t,null,"F"),r=el(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=xn(...o);return this.ps.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,c);return this.Cs(t,d,u,f.readTime)?this.ys(e,qm(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,s){return F_(t)||s.isEqual(Qt.min())?Qe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?Qe.resolve(null):(Ah()<=Sn.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sh(t)),this.vs(e,u,t,NC(s,gd)).next((c=>c)))}))}Ds(e,t){let r=new Si(L3(e));return t.forEach(((s,o)=>{gg(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return Ah()<=Sn.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Sh(t)),this.ps.getDocumentsMatchingQuery(e,t,qu.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="LocalStore",sR=3e8;class aR{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new jr(En),this.xs=new Uc((o=>V2(o)),F2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function oR(n,e,t,r){return new aR(n,e,t,r)}async function nA(n,e){const t=Zt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=xn();for(const d of s){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function lR(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,y){const w=d.batch,E=w.keys();let b=Qe.resolve();return E.forEach((M=>{b=b.next((()=>y.getEntry(f,M))).next((F=>{const q=d.docVersions.get(M);Hn(q!==null,48541),F.version.compareTo(q)<0&&(w.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),y.addEntry(F)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=xn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function rA(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function uR(n,e){const t=Zt(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((y,w)=>{const E=s.get(w);if(!E)return;c.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,w))));let b=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(ns.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),s=s.insert(w,b),(function(F,q,U){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=sR?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,b,y)&&c.push(t.Pi.updateTargetData(o,b))}));let f=Hl(),d=xn();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),c.push(cR(o,u,e.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!r.isEqual(Qt.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((w=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(y)}return Qe.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=s,o)))}function cR(n,e,t){let r=xn(),s=xn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Hl();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Qt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):lt(W2,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function hR(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=O2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fR(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,Qe.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new Du(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function e2(n,e,t){const r=Zt(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Zh(u))throw u;lt(W2,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Z_(n,e,t){const r=Zt(n);let s=Qt.min(),o=xn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,y){const w=Zt(f),E=w.xs.get(y);return E!==void 0?Qe.resolve(w.Ms.get(E)):w.Pi.getTargetData(d,y)})(r,u,el(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Qt.min(),t?o:xn()))).next((c=>(dR(r,JC(e),c),{documents:c,Qs:o})))))}function dR(n,e,t){let r=n.Os.get(e)||Qt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class J_{constructor(){this.activeTargetIds=s8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pR{constructor(){this.Mo=new J_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class tb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(eb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm=null;function t2(){return nm===null?nm=(function(){return 268435456+Math.round(2147483648*Math.random())})():nm++,"0x"+nm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="RestConnection",gR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Fm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=t2(),c=this.zo(e,t.toUriEncodedString());lt(J1,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(c),y=Wh(d);return this.Jo(e,c,f,r,y).then((w=>(lt(J1,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Fh(J1,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",r),w}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=gR[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class _R extends yR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=t2();return new Promise(((c,f)=>{const d=new i3;d.setWithCredentials(!0),d.listenOnce(s3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ym.NO_ERROR:const w=d.getResponseJson();lt(ps,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case ym.TIMEOUT:lt(ps,`RPC '${e}' ${u} timed out`),f(new it(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const E=d.getStatus();if(lt(ps,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b?.error;if(M&&M.status&&M.message){const F=(function(U){const te=U.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(te)>=0?te:Ge.UNKNOWN})(M.status);f(new it(F,M.message))}else f(new it(Ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new it(Ge.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{lt(ps,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);lt(ps,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=t2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=l3(),c=o3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");lt(ps,`Creating RPC '${e}' stream ${s}: ${y}`,f);const w=u.createWebChannel(y,f);this.I_(w);let E=!1,b=!1;const M=new vR({Yo:q=>{b?lt(ps,`Not sending because RPC '${e}' stream ${s} is closed:`,q):(E||(lt(ps,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),lt(ps,`RPC '${e}' stream ${s} sending:`,q),w.send(q))},Zo:()=>w.close()}),F=(q,U,te)=>{q.listen(U,(re=>{try{te(re)}catch(X){setTimeout((()=>{throw X}),0)}}))};return F(w,Jf.EventType.OPEN,(()=>{b||(lt(ps,`RPC '${e}' stream ${s} transport opened.`),M.o_())})),F(w,Jf.EventType.CLOSE,(()=>{b||(b=!0,lt(ps,`RPC '${e}' stream ${s} transport closed`),M.a_(),this.E_(w))})),F(w,Jf.EventType.ERROR,(q=>{b||(b=!0,Fh(ps,`RPC '${e}' stream ${s} transport errored. Name:`,q.name,"Message:",q.message),M.a_(new it(Ge.UNAVAILABLE,"The operation could not be completed")))})),F(w,Jf.EventType.MESSAGE,(q=>{if(!b){const U=q.data[0];Hn(!!U,16349);const te=U,re=te?.error||te[0]?.error;if(re){lt(ps,`RPC '${e}' stream ${s} received error:`,re);const X=re.status;let le=(function(O){const k=ci[O];if(k!==void 0)return H3(k)})(X),Se=re.message;le===void 0&&(le=Ge.INTERNAL,Se="Unknown error status: "+X+" with message "+re.message),b=!0,M.a_(new it(le,Se)),w.close()}else lt(ps,`RPC '${e}' stream ${s} received:`,U),M.u_(U)}})),F(c,a3.STAT_EVENT,(q=>{q.stat===z0.PROXY?lt(ps,`RPC '${e}' stream ${s} detected buffering proxy`):q.stat===z0.NOPROXY&&lt(ps,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function e0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n){return new S8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class sA{constructor(e,t,r,s,o,u,c,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(zl(t.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new it(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(lt(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bR extends sA{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=T8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Qt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Qt.min():u.readTime?tl(u.readTime):Qt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=J0(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=Y0(f)?{documents:C8(o,f)}:{query:R8(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=W3(o,u.resumeToken);const d=Q0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Qt.min())>0){c.readTime=zm(o,u.snapshotVersion.toTimestamp());const d=Q0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=k8(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=J0(this.serializer),t.removeTarget=e,this.q_(t)}}class wR extends sA{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=I8(e.writeResults,e.commitTime),r=tl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=J0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>N8(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class SR extends AR{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,X0(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Ge.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(e,X0(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Ge.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ER{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zl(t),this.aa=!1):lt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="RemoteStore";class xR{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Bc(this)&&(lt(kc,"Restarting streams for network reachability change."),await(async function(f){const d=Zt(f);d.Ea.add(4),await Vd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ag(d)})(this))}))})),this.Ra=new ER(r,s)}}async function Ag(n){if(Bc(n))for(const e of n.da)await e(!0)}async function Vd(n){for(const e of n.da)await e(!1)}function aA(n,e){const t=Zt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),X2(t)?Q2(t):ef(t).O_()&&K2(t,e))}function Y2(n,e){const t=Zt(n),r=ef(t);t.Ia.delete(e),r.O_()&&oA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Bc(t)&&t.Ra.set("Unknown"))}function K2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ef(n).Y_(e)}function oA(n,e){n.Va.Ue(e),ef(n).Z_(e)}function Q2(n){n.Va=new _8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ef(n).start(),n.Ra.ua()}function X2(n){return Bc(n)&&!ef(n).x_()&&n.Ia.size>0}function Bc(n){return Zt(n).Ea.size===0}function lA(n){n.Va=void 0}async function TR(n){n.Ra.set("Online")}async function NR(n){n.Ia.forEach(((e,t)=>{K2(n,e)}))}async function IR(n,e){lA(n),X2(n)?(n.Ra.ha(e),Q2(n)):n.Ra.set("Unknown")}async function CR(n,e,t){if(n.Ra.set("Online"),e instanceof $3&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){lt(kc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gm(n,r)}else if(e instanceof wm?n.Va.Ze(e):e instanceof G3?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qt.min()))try{const r=await rA(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(ns.EMPTY_BYTE_STRING,y.snapshotVersion)),oA(o,f);const w=new Du(y.target,f,d,y.sequenceNumber);K2(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){lt(kc,"Failed to raise snapshot:",r),await Gm(n,r)}}async function Gm(n,e,t){if(!Zh(e))throw e;n.Ea.add(1),await Vd(n),n.Ra.set("Offline"),t||(t=()=>rA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{lt(kc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ag(n)}))}function uA(n,e){return e().catch((t=>Gm(n,t,e)))}async function Sg(n){const e=Zt(n),t=$u(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:O2;for(;RR(e);)try{const s=await hR(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,LR(e,s)}catch(s){await Gm(e,s)}cA(e)&&hA(e)}function RR(n){return Bc(n)&&n.Ta.length<10}function LR(n,e){n.Ta.push(e);const t=$u(n);t.O_()&&t.X_&&t.ea(e.mutations)}function cA(n){return Bc(n)&&!$u(n).x_()&&n.Ta.length>0}function hA(n){$u(n).start()}async function kR(n){$u(n).ra()}async function PR(n){const e=$u(n);for(const t of n.Ta)e.ea(t.mutations)}async function DR(n,e,t){const r=n.Ta.shift(),s=B2.from(r,e,t);await uA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Sg(n)}async function OR(n,e){e&&$u(n).X_&&await(async function(r,s){if((function(u){return g8(u)&&u!==Ge.ABORTED})(s.code)){const o=r.Ta.shift();$u(r).B_(),await uA(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Sg(r)}})(n,e),cA(n)&&hA(n)}async function rb(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),lt(kc,"RemoteStore received new credentials");const r=Bc(t);t.Ea.add(3),await Vd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ag(t)}async function MR(n,e){const t=Zt(n);e?(t.Ea.delete(2),await Ag(t)):e||(t.Ea.add(2),await Vd(t),t.Ra.set("Unknown"))}function ef(n){return n.ma||(n.ma=(function(t,r,s){const o=Zt(t);return o.sa(),new bR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:TR.bind(null,n),t_:NR.bind(null,n),r_:IR.bind(null,n),H_:CR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),X2(n)?Q2(n):n.Ra.set("Unknown")):(await n.ma.stop(),lA(n))}))),n.ma}function $u(n){return n.fa||(n.fa=(function(t,r,s){const o=Zt(t);return o.sa(),new wR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kR.bind(null,n),r_:OR.bind(null,n),ta:PR.bind(null,n),na:DR.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Sg(n)):(await n.fa.stop(),n.Ta.length>0&&(lt(kc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new Z2(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J2(n,e){if(zl("AsyncQueue",`${e}: ${n}`),Zh(n))return new it(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static emptySet(e){return new Ph(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=ed(),this.sortedSet=new jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ph)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ph;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.ga=new jr(Rt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ut(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Hh{constructor(e,t,r,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Hh(e,t,Ph.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VR{constructor(){this.queries=sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Zt(t),o=s.queries;s.queries=sb(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new it(Ge.ABORTED,"Firestore shutting down"))}}function sb(){return new Uc((n=>R3(n)),mg)}async function ey(n,e){const t=Zt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new jR,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=J2(u,`Initialization of query '${Sh(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&ny(t)}async function ty(n,e){const t=Zt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function FR(n,e){const t=Zt(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.Sa)c.Fa(s)&&(r=!0);u.wa=s}}r&&ny(t)}function UR(n,e,t){const r=Zt(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function ny(n){n.Ca.forEach((e=>{e.next()}))}var n2,ab;(ab=n2||(n2={})).Ma="default",ab.Cache="cache";class ry{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==n2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.key=e}}class dA{constructor(e){this.key=e}}class BR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xn(),this.mutatedKeys=xn(),this.eu=L3(e),this.tu=new Ph(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new ib,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,w)=>{const E=s.get(y),b=gg(this.query,w)?w:null,M=!!E&&this.mutatedKeys.has(E.key),F=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let q=!1;E&&b?E.data.isEqual(b.data)?M!==F&&(r.track({type:3,doc:b}),q=!0):this.su(E,b)||(r.track({type:2,doc:b}),q=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!E&&b?(r.track({type:0,doc:b}),q=!0):E&&!b&&(r.track({type:1,doc:E}),q=!0,(f||d)&&(c=!0)),q&&(b?(u=u.add(b),o=F?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,w)=>(function(b,M){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:q})}};return F(b)-F(M)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Hh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new dA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new fA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=xn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Hh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iy="SyncEngine";class qR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class zR{constructor(e){this.key=e,this.hu=!1}}class HR{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Uc((c=>R3(c)),mg),this.Iu=new Map,this.Eu=new Set,this.du=new jr(Rt.comparator),this.Au=new Map,this.Ru=new H2,this.Vu={},this.mu=new Map,this.fu=zh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GR(n,e,t=!0){const r=_A(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await pA(r,e,t,!0),s}async function $R(n,e){const t=_A(n);await pA(t,e,!0,!1)}async function pA(n,e,t,r){const s=await fR(n.localStore,el(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await WR(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&aA(n.remoteStore,s),c}async function WR(n,e,t,r,s){n.pu=(w,E,b)=>(async function(F,q,U,te){let re=q.view.ru(U);re.Cs&&(re=await Z_(F.localStore,q.query,!1).then((({documents:$})=>q.view.ru($,re))));const X=te&&te.targetChanges.get(q.targetId),le=te&&te.targetMismatches.get(q.targetId)!=null,Se=q.view.applyChanges(re,F.isPrimaryClient,X,le);return lb(F,q.targetId,Se.au),Se.snapshot})(n,w,E,b);const o=await Z_(n.localStore,e,!0),u=new BR(e,o.Qs),c=u.ru(o.documents),f=jd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);lb(n,t,d.au);const y=new qR(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function YR(n,e,t){const r=Zt(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!mg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await e2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Y2(r.remoteStore,s.targetId),r2(r,s.targetId)})).catch(Xh)):(r2(r,s.targetId),await e2(r.localStore,s.targetId,!0))}async function KR(n,e){const t=Zt(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Y2(t.remoteStore,r.targetId))}async function QR(n,e,t){const r=rL(n);try{const s=await(function(u,c){const f=Zt(u),d=_r.now(),y=c.reduce(((b,M)=>b.add(M.key)),xn());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let M=Hl(),F=xn();return f.Ns.getEntries(b,y).next((q=>{M=q,M.forEach(((U,te)=>{te.isValidDocument()||(F=F.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,M))).next((q=>{w=q;const U=[];for(const te of c){const re=h8(te,w.get(te.key).overlayedDocument);re!=null&&U.push(new Ju(te.key,re,A3(re.value.mapValue),Os.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,U,c)})).next((q=>{E=q;const U=q.applyToLocalDocumentSet(w,F);return f.documentOverlayCache.saveOverlays(b,q.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:P3(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new jr(En)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(r,s.batchId,t),await Fd(r,s.changes),await Sg(r.remoteStore)}catch(s){const o=J2(s,"Failed to persist write");t.reject(o)}}async function mA(n,e){const t=Zt(n);try{const r=await uR(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Hn(u.hu,14607):s.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await Fd(t,r,e)}catch(r){await Xh(r)}}function ob(n,e,t){const r=Zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=Zt(u);f.onlineState=c;let d=!1;f.queries.forEach(((y,w)=>{for(const E of w.Sa)E.va(c)&&(d=!0)})),d&&ny(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XR(n,e,t){const r=Zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new jr(Rt.comparator);u=u.insert(o,bs.newNoDocument(o,Qt.min()));const c=xn().add(o),f=new bg(Qt.min(),new Map,new jr(En),u,c);await mA(r,f),r.du=r.du.remove(o),r.Au.delete(e),sy(r)}else await e2(r.localStore,e,!1).then((()=>r2(r,e,t))).catch(Xh)}async function ZR(n,e){const t=Zt(n),r=e.batch.batchId;try{const s=await lR(t.localStore,e);yA(t,r,null),gA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fd(t,s)}catch(s){await Xh(s)}}async function JR(n,e,t){const r=Zt(n);try{const s=await(function(u,c){const f=Zt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>(Hn(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(r.localStore,e);yA(r,e,t),gA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fd(r,s)}catch(s){await Xh(s)}}function gA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function yA(n,e,t){const r=Zt(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function r2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||vA(n,r)}))}function vA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Y2(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sy(n))}function lb(n,e,t){for(const r of t)r instanceof fA?(n.Ru.addReference(r.key,e),eL(n,r)):r instanceof dA?(lt(iy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||vA(n,r.key)):Ut(19791,{wu:r})}function eL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(lt(iy,"New document in limbo: "+t),n.Eu.add(r),sy(n))}function sy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Rt(dr.fromString(e)),r=n.fu.next();n.Au.set(r,new zR(t)),n.du=n.du.insert(t,r),aA(n.remoteStore,new Du(el(pg(t.path)),r,"TargetPurposeLimboResolution",hg.ce))}}async function Fd(n,e,t){const r=Zt(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const y=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){s.push(d);const y=$2.As(f.targetId,d);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,d){const y=Zt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Qe.forEach(d,(E=>Qe.forEach(E.Es,(b=>y.persistence.referenceDelegate.addReference(w,E.targetId,b))).next((()=>Qe.forEach(E.ds,(b=>y.persistence.referenceDelegate.removeReference(w,E.targetId,b)))))))))}catch(w){if(!Zh(w))throw w;lt(W2,"Failed to update sequence numbers: "+w)}for(const w of d){const E=w.targetId;if(!w.fromCache){const b=y.Ms.get(E),M=b.snapshotVersion,F=b.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(E,F)}}})(r.localStore,o))}async function tL(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){lt(iy,"User change. New user:",e.toKey());const r=await nA(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new it(Ge.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fd(t,r.Ls)}}function nL(n,e){const t=Zt(n),r=t.Au.get(e);if(r&&r.hu)return xn().add(r.key);{let s=xn();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function _A(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.Pu.H_=FR.bind(null,e.eventManager),e.Pu.yu=UR.bind(null,e.eventManager),e}function rL(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JR.bind(null,e),e}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oR(this.persistence,new iR,e.initialUser,this.serializer)}Cu(e){return new tA(G2.mi,this.serializer)}Du(e){return new pR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class iL extends $m{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hn(this.persistence.referenceDelegate instanceof Hm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z8(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new tA((r=>Hm.mi(r,t)),this.serializer)}}class i2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tL.bind(null,this.syncEngine),await MR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VR})()}createDatastore(e){const t=wg(e.databaseInfo.databaseId),r=(function(o){return new _R(o)})(e.databaseInfo);return(function(o,u,c,f){return new SR(o,u,c,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new xR(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>ob(this.syncEngine,t,0)),(function(){return tb.v()?new tb:new mR})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,y){const w=new HR(s,o,u,c,f,d);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Zt(t);lt(kc,"RemoteStore shutting down."),r.Ea.add(5),await Vd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}i2.provider={build:()=>new i2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="FirestoreClient";class sL{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=_s.UNAUTHENTICATED,this.clientId=D2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{lt(Wu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(lt(Wu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=J2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function t0(n,e){n.asyncQueue.verifyOperationInProgress(),lt(Wu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await nA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function ub(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aL(n);lt(Wu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>rb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>rb(e.remoteStore,s))),n._onlineComponents=e}async function aL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt(Wu,"Using user provided OfflineComponentProvider");try{await t0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ge.FAILED_PRECONDITION||s.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Fh("Error using user provided cache. Falling back to memory cache: "+t),await t0(n,new $m)}}else lt(Wu,"Using default OfflineComponentProvider"),await t0(n,new iL(void 0));return n._offlineComponents}async function bA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt(Wu,"Using user provided OnlineComponentProvider"),await ub(n,n._uninitializedComponentsProvider._online)):(lt(Wu,"Using default OnlineComponentProvider"),await ub(n,new i2))),n._onlineComponents}function oL(n){return bA(n).then((e=>e.syncEngine))}async function Wm(n){const e=await bA(n),t=e.eventManager;return t.onListen=GR.bind(null,e.syncEngine),t.onUnlisten=YR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KR.bind(null,e.syncEngine),t}function lL(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new ay({next:E=>{y.Nu(),u.enqueueAndForget((()=>ty(o,w)));const b=E.docs.has(c);!b&&E.fromCache?d.reject(new it(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&f&&f.source==="server"?d.reject(new it(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),w=new ry(pg(c.path),y,{includeMetadataChanges:!0,qa:!0});return ey(o,w)})(await Wm(n),n.asyncQueue,e,t,r))),r.promise}function uL(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const y=new ay({next:E=>{y.Nu(),u.enqueueAndForget((()=>ty(o,w))),E.fromCache&&f.source==="server"?d.reject(new it(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),w=new ry(c,y,{includeMetadataChanges:!0,qa:!0});return ey(o,w)})(await Wm(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",hb=!0;class fb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=hb}else this.host=e.host,this.ssl=e.ssl??hb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B8)throw new it(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gC;switch(r.type){case"firstParty":return new bC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=cb.get(t);r&&(lt("ComponentProvider","Removing Datastore"),cb.delete(t),r.terminate())})(this),Promise.resolve()}}function cL(n,e,t,r={}){n=Ds(n,Eg);const s=Wh(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(h4(`https://${c}`),f4("Firestore",!0)),o.host!==AA&&o.host!==c&&Fh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:r};if(!Uu(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=_s.MOCK_USER;else{d=x6(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new it(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _s(w)}n._authCredentials=new yC(new c3(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class Wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}toJSON(){return{type:Wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Od(t,Wr._jsonSchema))return new Wr(e,r||null,new Rt(dr.fromString(t.referencePath)))}}Wr._jsonSchemaVersion="firestore/documentReference/1.0",Wr._jsonSchema={type:fi("string",Wr._jsonSchemaVersion),referencePath:fi("string")};class Fu extends $l{constructor(e,t,r){super(e,t,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new Rt(e))}withConverter(e){return new Fu(this.firestore,e,this._path)}}function Ai(n,e,...t){if(n=Mr(n),h3("collection","path",e),n instanceof Eg){const r=dr.fromString(e,...t);return x_(r),new Fu(n,null,r)}{if(!(n instanceof Wr||n instanceof Fu))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return x_(r),new Fu(n.firestore,null,r)}}function As(n,e,...t){if(n=Mr(n),arguments.length===1&&(e=D2.newId()),h3("doc","path",e),n instanceof Eg){const r=dr.fromString(e,...t);return E_(r),new Wr(n,null,new Rt(r))}{if(!(n instanceof Wr||n instanceof Fu))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dr.fromString(e,...t));return E_(r),new Wr(n.firestore,n instanceof Fu?n.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="AsyncQueue";class pb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iA(this,"async_queue_retry"),this._c=()=>{const r=e0();r&&lt(db,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=e0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=e0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zh(e))throw e;lt(db,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zl("INTERNAL UNHANDLED ERROR: ",mb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Z2.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:mb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function mb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class al extends Eg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new pb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pb(e),this._firestoreClient=void 0,await e}}}function hL(n,e){const t=typeof n=="object"?n:E2(),r=typeof n=="string"?n:Fm,s=Vc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=S6("firestore");o&&cL(s,...o)}return s}function Ud(n){if(n._terminated)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fL(n),n._firestoreClient}function fL(n){const e=n._freezeSettings(),t=(function(s,o,u,c){return new jC(s,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new sL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(ns.fromBase64String(e))}catch(t){throw new it(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wa(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Od(e,Wa._jsonSchema))return Wa.fromBase64String(e.bytes)}}Wa._jsonSchemaVersion="firestore/bytes/1.0",Wa._jsonSchema={type:fi("string",Wa._jsonSchemaVersion),bytes:fi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nl._jsonSchemaVersion}}static fromJSON(e){if(Od(e,nl._jsonSchema))return new nl(e.latitude,e.longitude)}}nl._jsonSchemaVersion="firestore/geoPoint/1.0",nl._jsonSchema={type:fi("string",nl._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Od(e,rl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rl(e.vectorValues);throw new it(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rl._jsonSchemaVersion="firestore/vectorValue/1.0",rl._jsonSchema={type:fi("string",rl._jsonSchemaVersion),vectorValues:fi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=/^__.*__$/;class pL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Md(e,this.data,t,this.fieldTransforms)}}class SA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:n})}}class oy{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ym(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EA(this.Ac)&&dL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wg(e)}Cc(e,t,r,s=!1){return new oy({Ac:e,methodName:t,Dc:r,path:ts.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(n){const e=n._freezeSettings(),t=wg(n._databaseId);return new mL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ly(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);hy("Data must be an object, but it was:",u,r);const c=NA(r,u);let f,d;if(o.merge)f=new ma(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const E=s2(e,w,t);if(!u.contains(E))throw new it(Ge.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);CA(y,E)||y.push(E)}f=new ma(y),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new pL(new Qs(c),f,d)}class xg extends qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xg}}class uy extends qd{_toFieldTransform(e){return new B3(e.path,new wd)}isEqual(e){return e instanceof uy}}class cy extends qd{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ed(e.serializer,M3(e.serializer,this.Fc));return new B3(e.path,t)}isEqual(e){return e instanceof cy&&this.Fc===e.Fc}}function xA(n,e,t,r){const s=n.Cc(1,e,t);hy("Data must be an object, but it was:",s,r);const o=[],u=Qs.empty();Zu(r,((f,d)=>{const y=fy(e,f,t);d=Mr(d);const w=s.yc(y);if(d instanceof xg)o.push(y);else{const E=Hd(d,w);E!=null&&(o.push(y),u.set(y,E))}}));const c=new ma(o);return new SA(u,c,s.fieldTransforms)}function TA(n,e,t,r,s,o){const u=n.Cc(1,e,t),c=[s2(e,r,t)],f=[s];if(o.length%2!=0)throw new it(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(s2(e,o[E])),f.push(o[E+1]);const d=[],y=Qs.empty();for(let E=c.length-1;E>=0;--E)if(!CA(d,c[E])){const b=c[E];let M=f[E];M=Mr(M);const F=u.yc(b);if(M instanceof xg)d.push(b);else{const q=Hd(M,F);q!=null&&(d.push(b),y.set(b,q))}}const w=new ma(d);return new SA(y,w,u.fieldTransforms)}function gL(n,e,t,r=!1){return Hd(t,n.Cc(r?4:3,e))}function Hd(n,e){if(IA(n=Mr(n)))return hy("Unsupported field value:",e,n),NA(n,e);if(n instanceof qd)return(function(r,s){if(!EA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let f=Hd(c,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_r.fromDate(r);return{timestampValue:zm(s.serializer,o)}}if(r instanceof _r){const o=new _r(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zm(s.serializer,o)}}if(r instanceof nl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wa)return{bytesValue:W3(s.serializer,r._byteString)};if(r instanceof Wr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z2(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof rl)return(function(u,c){return{mapValue:{fields:{[b3]:{stringValue:w3},[Um]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return U2(c.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${cg(r)}`)})(n,e)}function NA(n,e){const t={};return p3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zu(n,((r,s)=>{const o=Hd(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function IA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof nl||n instanceof Wa||n instanceof Wr||n instanceof qd||n instanceof rl)}function hy(n,e,t){if(!IA(t)||!f3(t)){const r=cg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function s2(n,e,t){if((e=Mr(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return fy(n,e);throw Ym("Field path arguments must be of type string or ",n,!1,void 0,t)}const yL=new RegExp("[~\\*/\\[\\]]");function fy(n,e,t){if(e.search(yL)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bd(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ym(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new it(Ge.INVALID_ARGUMENT,c+n+f)}function CA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vL extends RA{data(){return super.data()}}function dy(n,e){return typeof e=="string"?fy(n,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class my extends py{}function pa(n,e,...t){let r=[];e instanceof py&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof yy)).length,c=o.filter((f=>f instanceof gy)).length;if(u>1||u>0&&c>0)throw new it(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class gy extends my{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gy(e,t,r)}_apply(e){const t=this._parse(e);return PA(e._query,t),new $l(e.firestore,e.converter,K0(e._query,t))}_parse(e){const t=zd(e.firestore);return(function(o,u,c,f,d,y,w){let E;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){vb(w,y);const M=[];for(const F of w)M.push(yb(f,o,F));E={arrayValue:{values:M}}}else E=yb(f,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||vb(w,y),E=gL(c,u,w,y==="in"||y==="not-in");return hi.create(d,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class yy extends py{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Eo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)PA(u,f),u=K0(u,f)})(e._query,t),new $l(e.firestore,e.converter,K0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vy extends my{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vy(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(o,u)})(e._query,this._field,this._direction);return new $l(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new Jh(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function kA(n,e="asc"){const t=e,r=dy("orderBy",n);return vy._create(r,t)}class _y extends my{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){return new $l(e.firestore,e.converter,qm(e._query,this._limit,this._limitType))}}function by(n){return _y._create("limit",n,"F")}function yb(n,e,t){if(typeof(t=Mr(t))=="string"){if(t==="")throw new it(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C3(e)&&t.indexOf("/")!==-1)throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dr.fromString(t));if(!Rt.isDocumentKey(r))throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P_(n,new Rt(r))}if(t instanceof Wr)return P_(n,t._key);throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(t)}.`)}function vb(n,e){if(!Array.isArray(n)||n.length===0)throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(n,e){const t=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new it(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _L{convertValue(e,t="none"){switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zu(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Um].arrayValue?.values?.map((r=>ti(r.doubleValue)));return new rl(t)}convertGeoPoint(e){return new nl(ti(e.latitude),ti(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=zu(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dr.fromString(e);Hn(J3(r),9688,{name:e});const s=new vd(r.get(1),r.get(3)),o=new Rt(r.popFirst(5));return s.isEqual(t)||zl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nc extends RA{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Nc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Nc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nc._jsonSchema={type:fi("string",Nc._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class Am extends Nc{data(e={}){return super.data(e)}}class Ic{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new nd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Am(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new Am(s._firestore,s._userDataWriter,c.doc.key,c.doc,new nd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Am(s._firestore,s._userDataWriter,c.doc.key,c.doc,new nd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:bL(c.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=D2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){n=Ds(n,Wr);const e=Ds(n.firestore,al);return lL(Ud(e),n._key).then((t=>DA(e,n,t)))}Ic._jsonSchemaVersion="firestore/querySnapshot/1.0",Ic._jsonSchema={type:fi("string",Ic._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class Ay extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,t)}}function wL(n){n=Ds(n,$l);const e=Ds(n.firestore,al),t=Ud(e),r=new Ay(e);return LA(n._query),uL(t,n._query).then((s=>new Ic(e,r,n,s)))}function Tg(n,e,t){n=Ds(n,Wr);const r=Ds(n.firestore,al),s=wy(n.converter,e,t);return $d(r,[ly(zd(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Os.none())])}function Gh(n,e,t,...r){n=Ds(n,Wr);const s=Ds(n.firestore,al),o=zd(s);let u;return u=typeof(e=Mr(e))=="string"||e instanceof Bd?TA(o,"updateDoc",n._key,e,t,r):xA(o,"updateDoc",n._key,e),$d(s,[u.toMutation(n._key,Os.exists(!0))])}function Ng(n){return $d(Ds(n.firestore,al),[new _g(n._key,Os.none())])}function Gd(n,e){const t=Ds(n.firestore,al),r=As(n),s=wy(n.converter,e);return $d(t,[ly(zd(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Os.exists(!1))]).then((()=>r))}function Ya(n,...e){n=Mr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||gb(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(gb(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,u,c;if(n instanceof Wr)u=Ds(n.firestore,al),c=pg(n._key.path),o={next:f=>{e[r]&&e[r](DA(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Ds(n,$l);u=Ds(f.firestore,al),c=f._query;const d=new Ay(u);o={next:y=>{e[r]&&e[r](new Ic(u,d,f,y))},error:e[r+1],complete:e[r+2]},LA(n._query)}return(function(d,y,w,E){const b=new ay(E),M=new ry(y,b,w);return d.asyncQueue.enqueueAndForget((async()=>ey(await Wm(d),M))),()=>{b.Nu(),d.asyncQueue.enqueueAndForget((async()=>ty(await Wm(d),M)))}})(Ud(u),c,s,o)}function $d(n,e){return(function(r,s){const o=new Fl;return r.asyncQueue.enqueueAndForget((async()=>QR(await oL(r),s,o))),o.promise})(Ud(n),e)}function DA(n,e,t){const r=t.docs.get(e._key),s=new Ay(n);return new Nc(n,s,e._key,r,new nd(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zd(e)}set(e,t,r){this._verifyNotCommitted();const s=n0(e,this._firestore),o=wy(s.converter,t,r),u=ly(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Os.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=n0(e,this._firestore);let u;return u=typeof(t=Mr(t))=="string"||t instanceof Bd?TA(this._dataReader,"WriteBatch.update",o._key,t,r,s):xA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=n0(e,this._firestore);return this._mutations=this._mutations.concat(new _g(t._key,Os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function n0(n,e){if((n=Mr(n)).firestore!==e)throw new it(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function ol(){return new uy("serverTimestamp")}function Sy(n){return new cy("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){return Ud(n=Ds(n,al)),new AL(n,(e=>$d(n,e)))}(function(e,t=!0){(function(s){Qh=s})(Yh),il(new Ao("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new al(new vC(r.getProvider("auth-internal")),new wC(u,r.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new it(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(d.options.projectId,y)})(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Ka(b_,w_,e),Ka(b_,w_,"esm2020")})();const OA="@firebase/installations",Ey="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=1e4,jA=`w:${Ey}`,VA="FIS_v2",EL="https://firebaseinstallations.googleapis.com/v1",xL=3600*1e3,TL="installations",NL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pc=new jc(TL,NL,IL);function FA(n){return n instanceof To&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA({projectId:n}){return`${EL}/projects/${n}/installations`}function BA(n){return{token:n.token,requestStatus:2,expiresIn:RL(n.expiresIn),creationTime:Date.now()}}async function qA(n,e){const r=(await e.json()).error;return Pc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function CL(n,{refreshToken:e}){const t=zA(n);return t.append("Authorization",LL(e)),t}async function HA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function RL(n){return Number(n.replace("s","000"))}function LL(n){return`${VA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=UA(n),s=zA(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:t,authVersion:VA,appId:n.appId,sdkVersion:jA},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await HA(()=>fetch(r,c));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:BA(d.authToken)}}else throw await qA("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=/^[cdef][\w-]{21}$/,a2="";function OL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=ML(n);return DL.test(t)?t:a2}catch{return a2}}function ML(n){return PL(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Map;function WA(n,e){const t=Ig(n);YA(t,e),jL(t,e)}function YA(n,e){const t=$A.get(n);if(t)for(const r of t)r(e)}function jL(n,e){const t=VL();t&&t.postMessage({key:n,fid:e}),FL()}let Tc=null;function VL(){return!Tc&&"BroadcastChannel"in self&&(Tc=new BroadcastChannel("[Firebase] FID Change"),Tc.onmessage=n=>{YA(n.data.key,n.data.fid)}),Tc}function FL(){$A.size===0&&Tc&&(Tc.close(),Tc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="firebase-installations-database",BL=1,Dc="firebase-installations-store";let r0=null;function xy(){return r0||(r0=v4(UL,BL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Dc)}}})),r0}async function Km(n,e){const t=Ig(n),s=(await xy()).transaction(Dc,"readwrite"),o=s.objectStore(Dc),u=await o.get(t);return await o.put(e,t),await s.done,(!u||u.fid!==e.fid)&&WA(n,e.fid),e}async function KA(n){const e=Ig(n),r=(await xy()).transaction(Dc,"readwrite");await r.objectStore(Dc).delete(e),await r.done}async function Cg(n,e){const t=Ig(n),s=(await xy()).transaction(Dc,"readwrite"),o=s.objectStore(Dc),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await s.done,c&&(!u||u.fid!==c.fid)&&WA(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(n){let e;const t=await Cg(n.appConfig,r=>{const s=qL(r),o=zL(n,s);return e=o.registrationPromise,o.installationEntry});return t.fid===a2?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function qL(n){const e=n||{fid:OL(),registrationStatus:0};return QA(e)}function zL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Pc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GL(n)}:{installationEntry:e}}async function HL(n,e){try{const t=await kL(n,e);return Km(n.appConfig,t)}catch(t){throw FA(t)&&t.customData.serverCode===409?await KA(n.appConfig):await Km(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function GL(n){let e=await _b(n.appConfig);for(;e.registrationStatus===1;)await GA(100),e=await _b(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Ty(n);return r||t}return e}function _b(n){return Cg(n,e=>{if(!e)throw Pc.create("installation-not-found");return QA(e)})}function QA(n){return $L(n)?{fid:n.fid,registrationStatus:0}:n}function $L(n){return n.registrationStatus===1&&n.registrationTime+MA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL({appConfig:n,heartbeatServiceProvider:e},t){const r=YL(n,t),s=CL(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:jA,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await HA(()=>fetch(r,c));if(f.ok){const d=await f.json();return BA(d)}else throw await qA("Generate Auth Token",f)}function YL(n,{fid:e}){return`${UA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(n,e=!1){let t;const r=await Cg(n.appConfig,o=>{if(!XA(o))throw Pc.create("not-registered");const u=o.authToken;if(!e&&XL(u))return o;if(u.requestStatus===1)return t=KL(n,e),o;{if(!navigator.onLine)throw Pc.create("app-offline");const c=JL(o);return t=QL(n,c),c}});return t?await t:r.authToken}async function KL(n,e){let t=await bb(n.appConfig);for(;t.authToken.requestStatus===1;)await GA(100),t=await bb(n.appConfig);const r=t.authToken;return r.requestStatus===0?Ny(n,e):r}function bb(n){return Cg(n,e=>{if(!XA(e))throw Pc.create("not-registered");const t=e.authToken;return e7(t)?{...e,authToken:{requestStatus:0}}:e})}async function QL(n,e){try{const t=await WL(n,e),r={...e,authToken:t};return await Km(n.appConfig,r),t}catch(t){if(FA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await KA(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Km(n.appConfig,r)}throw t}}function XA(n){return n!==void 0&&n.registrationStatus===2}function XL(n){return n.requestStatus===2&&!ZL(n)}function ZL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+xL}function JL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function e7(n){return n.requestStatus===1&&n.requestTime+MA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(n){const e=n,{installationEntry:t,registrationPromise:r}=await Ty(e);return r?r.catch(console.error):Ny(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(n,e=!1){const t=n;return await r7(t),(await Ny(t,e)).token}async function r7(n){const{registrationPromise:e}=await Ty(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(n){if(!n||!n.options)throw i0("App Configuration");if(!n.name)throw i0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw i0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function i0(n){return Pc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="installations",s7="installations-internal",a7=n=>{const e=n.getProvider("app").getImmediate(),t=i7(e),r=Vc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},o7=n=>{const e=n.getProvider("app").getImmediate(),t=Vc(e,ZA).getImmediate();return{getId:()=>t7(t),getToken:s=>n7(t,s)}};function l7(){il(new Ao(ZA,a7,"PUBLIC")),il(new Ao(s7,o7,"PRIVATE"))}l7();Ka(OA,Ey);Ka(OA,Ey,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="analytics",u7="firebase_id",c7="origin",h7=60*1e3,f7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ya=new jc("analytics","Analytics",d7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(n){if(!n.startsWith(Iy)){const e=ya.create("invalid-gtag-resource",{gtagURL:n});return Xs.warn(e.message),""}return n}function JA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function m7(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function g7(n,e){const t=m7("firebase-js-sdk-policy",{createScriptURL:p7}),r=document.createElement("script"),s=`${Iy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function y7(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function v7(n,e,t,r,s,o){const u=r[s];try{if(u)await e[u];else{const f=(await JA(t)).find(d=>d.measurementId===s);f&&await e[f.appId]}}catch(c){Xs.error(c)}n("config",s,o)}async function _7(n,e,t,r,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const c=await JA(t);for(const f of u){const d=c.find(w=>w.measurementId===f),y=d&&e[d.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,s||{})}catch(o){Xs.error(o)}}function b7(n,e,t,r){async function s(o,...u){try{if(o==="event"){const[c,f]=u;await _7(n,e,t,c,f)}else if(o==="config"){const[c,f]=u;await v7(n,e,t,r,c,f)}else if(o==="consent"){const[c,f]=u;n("consent",c,f)}else if(o==="get"){const[c,f,d]=u;n("get",c,f,d)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){Xs.error(c)}}return s}function w7(n,e,t,r,s){let o=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=b7(o,n,e,t),{gtagCore:o,wrappedGtag:window[s]}}function A7(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Iy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=30,E7=1e3;class x7{constructor(e={},t=E7){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eS=new x7;function T7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function N7(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:T7(t)},s=f7.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();c.error?.message&&(u=c.error.message)}catch{}throw ya.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function I7(n,e=eS,t){const{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw ya.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw ya.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new L7;return setTimeout(async()=>{c.abort()},h7),tS({appId:r,apiKey:s,measurementId:o},u,c,e)}async function tS(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=eS){const{appId:o,measurementId:u}=n;try{await C7(r,e)}catch(c){if(u)return Xs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:u};throw c}try{const c=await N7(n);return s.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!R7(f)){if(s.deleteThrottleMetadata(o),u)return Xs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:u};throw c}const d=Number(f?.customData?.httpStatus)===503?G5(t,s.intervalMillis,S7):G5(t,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return s.setThrottleMetadata(o,y),Xs.debug(`Calling attemptFetch again in ${d} millis`),tS(n,y,r,s)}}function C7(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(o),r(ya.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function R7(n){if(!(n instanceof To)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class L7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function k7(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const o=await e,u={...r,send_to:o};n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(){if(p4())try{await m4()}catch(n){return Xs.warn(ya.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Xs.warn(ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D7(n,e,t,r,s,o,u){const c=I7(n);c.then(E=>{t[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&Xs.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Xs.error(E)),e.push(c);const f=P7().then(E=>{if(E)return r.getId()}),[d,y]=await Promise.all([c,f]);A7(o)||g7(o,d.measurementId),s("js",new Date);const w=u?.config??{};return w[c7]="firebase",w.update=!0,y!=null&&(w[u7]=y),s("config",d.measurementId,w),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.app=e}_delete(){return delete ud[this.app.options.appId],Promise.resolve()}}let ud={},wb=[];const Ab={};let s0="dataLayer",M7="gtag",Sb,nS,Eb=!1;function j7(){const n=[];if(d4()&&n.push("This is a browser extension environment."),D6()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=ya.create("invalid-analytics-context",{errorInfo:e});Xs.warn(t.message)}}function V7(n,e,t){j7();const r=n.options.appId;if(!r)throw ya.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Xs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ya.create("no-api-key");if(ud[r]!=null)throw ya.create("already-exists",{id:r});if(!Eb){y7(s0);const{wrappedGtag:o,gtagCore:u}=w7(ud,wb,Ab,s0,M7);nS=o,Sb=u,Eb=!0}return ud[r]=D7(n,wb,Ab,e,Sb,s0,t),new O7(n)}function F7(n=E2()){n=Mr(n);const e=Vc(n,Qm);return e.isInitialized()?e.getImmediate():U7(n)}function U7(n,e={}){const t=Vc(n,Qm);if(t.isInitialized()){const s=t.getImmediate();if(Uu(e,t.getOptions()))return s;throw ya.create("already-initialized")}return t.initialize({options:e})}function rS(n,e,t,r){n=Mr(n),k7(nS,ud[n.app.options.appId],e,t,r).catch(s=>Xs.error(s))}const xb="@firebase/analytics",Tb="0.10.18";function B7(){il(new Ao(Qm,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return V7(r,s,t)},"PUBLIC")),il(new Ao("analytics-internal",n,"PRIVATE")),Ka(xb,Tb),Ka(xb,Tb,"esm2020");function n(e){try{const t=e.getProvider(Qm).getImmediate();return{logEvent:(r,s,o)=>rS(t,r,s,o)}}catch(t){throw ya.create("interop-component-reg-failed",{reason:t})}}}B7();const q7={apiKey:"AIzaSyA6pwcMnIn0y0HcKRWQhfpvPKwmbH-Jc4Y",authDomain:"sofwipad-erp-contable.firebaseapp.com",projectId:"sofwipad-erp-contable",storageBucket:"sofwipad-erp-contable.appspot.com",messagingSenderId:"902895181248",appId:"1:902895181248:web:dfb884b039dedacfb3bc25",measurementId:"G-D22KTMEDP6"},Cy=_4(q7),Td=dC(Cy),kn=hL(Cy);mC("debug");let Nb;typeof window<"u"&&(Nb=F7(Cy),rS(Nb,"app_start",{app:"ERP Contable",time:new Date().toISOString()}));const iS=ze.createContext(),z7=({children:n})=>{const[e,t]=ze.useState(null),[r,s]=ze.useState(null),[o,u]=ze.useState(null),[c,f]=ze.useState(!0),[d,y]=ze.useState(""),w=async b=>{const M=SL(kn),F=Ai(kn,`companies/${b}/chart_of_accounts`);[{code:"1105",name:"Caja",class:"Activo"},{code:"1110",name:"Bancos",class:"Activo"},{code:"1305",name:"Clientes",class:"Activo"},{code:"1435",name:"Inventarios",class:"Activo"},{code:"2205",name:"Proveedores Nacionales",class:"Pasivo"},{code:"2105",name:"Obligaciones Financieras",class:"Pasivo"},{code:"3115",name:"Aportes Sociales",class:"Patrimonio"},{code:"4135",name:"Comercio al por mayor y al por menor",class:"Ingreso"},{code:"5105",name:"Gastos de Personal",class:"Gasto"},{code:"5195",name:"Diversos",class:"Gasto"},{code:"6135",name:"Costo de Ventas",class:"Costo"}].forEach(U=>{const te=As(F,U.code);M.set(te,U)});try{await M.commit(),console.log(`Plan de cuentas inicial creado para la empresa: ${b}`)}catch(U){console.error("Error creando el plan de cuentas inicial:",U),y("No se pudo completar la configuracin inicial de la empresa.")}};ze.useEffect(()=>{const M=nI(Td,async F=>{if(F&&!F.isAnonymous){const q=As(kn,"users",F.uid),U=await xd(q);if(U.exists()){const te={uid:F.uid,...U.data()};if(t(F),s(te),te.companyId){const re=As(kn,"companies",te.companyId),X=await xd(re);if(X.exists()){u({id:X.id,...X.data()});const le=Ai(kn,`companies/${te.companyId}/chart_of_accounts`),Se=pa(le,by(1));(await wL(Se)).empty&&(console.log("Plan de cuentas no encontrado, iniciando configuracin..."),await w(te.companyId))}else y(`Error: La empresa con ID ${te.companyId} no fue encontrada.`),u(null)}else y("Usuario no est asociado a ninguna empresa."),u(null)}else y("No se encontr el perfil del usuario en la base de datos."),await $4(Td)}else t(null),s(null),u(null);f(!1)});return()=>M()},[]);const E={user:e,userData:r,companyData:o,loading:c,error:d,setError:y};return N.jsx(iS.Provider,{value:E,children:n})},Wl=()=>ze.useContext(iS),zn=({id:n,label:e,...t})=>N.jsxs("div",{children:[N.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),N.jsx("input",{id:n,...t,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),Ei=({children:n,onClick:e,type:t="button",variant:r="primary",...s})=>{const o="inline-flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"border-transparent text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",secondary:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500",danger:"border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500"};return N.jsx("button",{type:t,onClick:e,className:`${o} ${u[r]}`,...s,children:n})},sS=({message:n})=>n?N.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative my-4",role:"alert",children:[N.jsx("strong",{className:"font-bold",children:"Error: "}),N.jsx("span",{className:"block sm:inline",children:n})]}):null,H7=()=>{const[n,e]=ze.useState(!0),[t,r]=ze.useState(""),[s,o]=ze.useState(""),[u,c]=ze.useState(""),[f,d]=ze.useState(""),[y,w]=ze.useState(""),[E,b]=ze.useState(""),[M,F]=ze.useState(!1),q=async te=>{te.preventDefault(),F(!0),b("");try{await JN(Td,t,s)}catch(re){b(re.message)}F(!1)},U=async te=>{if(te.preventDefault(),s.length<6){b("La contrasea debe tener al menos 6 caracteres.");return}F(!0),b("");try{const re=Ai(kn,"companies"),X=await Gd(re,{name:f,NIT:y,createdAt:ol(),taxConfig:{iva:19,ica:.414,retefuente:2.5}}),Se=(await ZN(Td,t,s)).user;await Tg(As(kn,"users",Se.uid),{name:u,email:t,companyId:X.id,role:"Admin",createdAt:ol()})}catch(re){b(re.message)}F(!1)};return N.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[N.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[N.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Sofwipad ERP Contable"}),N.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Inicia sesin en tu cuenta":"Crea una nueva cuenta y empresa"})]}),N.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:N.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[N.jsxs("form",{className:"space-y-6",onSubmit:n?q:U,children:[!n&&N.jsxs(N.Fragment,{children:[N.jsx(zn,{id:"name",name:"name",type:"text",label:"Tu Nombre Completo",required:!0,value:u,onChange:te=>c(te.target.value)}),N.jsx(zn,{id:"companyName",name:"companyName",type:"text",label:"Nombre de la Empresa",required:!0,value:f,onChange:te=>d(te.target.value)}),N.jsx(zn,{id:"nit",name:"nit",type:"text",label:"NIT de la Empresa",required:!0,value:y,onChange:te=>w(te.target.value)}),N.jsx("hr",{})]}),N.jsx(zn,{id:"email",name:"email",type:"email",label:"Correo Electrnico",autoComplete:"email",required:!0,value:t,onChange:te=>r(te.target.value)}),N.jsx(zn,{id:"password",name:"password",type:"password",label:"Contrasea",autoComplete:"current-password",required:!0,value:s,onChange:te=>o(te.target.value)}),N.jsx(sS,{message:E}),N.jsx("div",{children:N.jsx(Ei,{type:"submit",variant:"primary",className:"w-full",disabled:M,children:M?"Procesando...":n?"Iniciar Sesin":"Registrar Empresa"})})]}),N.jsxs("div",{className:"mt-6",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-0 flex items-center",children:N.jsx("div",{className:"w-full border-t border-gray-300"})}),N.jsx("div",{className:"relative flex justify-center text-sm",children:N.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O"})})]}),N.jsx("div",{className:"mt-6 text-center",children:N.jsx("button",{onClick:()=>{e(!n),b("")},className:"font-medium text-indigo-600 hover:text-indigo-500",children:n?"No tienes una cuenta? Regstrate":"Ya tienes una cuenta? Inicia sesin"})})]})]})})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$7=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Ib=n=>{const e=$7(n);return e.charAt(0).toUpperCase()+e.slice(1)},aS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),W7=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=ze.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...c},f)=>ze.createElement("svg",{ref:f,...Y7,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:aS("lucide",s),...!o&&!W7(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,y])=>ze.createElement(d,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=(n,e)=>{const t=ze.forwardRef(({className:r,...s},o)=>ze.createElement(K7,{ref:o,iconNode:e,className:aS(`lucide-${G7(Ib(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Ib(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],X7=oS("chevron-left",Q7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J7=oS("chevron-right",Z7),Fn={dashboard:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),sales:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),products:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7.5L12 3l9 4.5M3 7.5v9l9 4.5m9-13.5v9l-9 4.5m0-9l9-4.5m-9 4.5L3 7.5"})}),purchases:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),inventory:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),reports:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),logout:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),plus:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),user:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),money:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),close:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),trash:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),edit:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),userPlus:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 14a4 4 0 10-8 0 4 4 0 008 0z"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14v7m-5-3h10M16 3h5m-2.5-2.5V5.5"})]}),eye:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})},$h=({title:n,children:e,actions:t})=>N.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[N.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[N.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),t&&N.jsx("div",{className:"flex space-x-2",children:t})]}),N.jsx("div",{className:"p-4",children:e})]}),Cb=()=>{const{companyData:n}=Wl(),e=[{title:"Ventas del Mes",value:"$12,500,000",icon:Fn.sales,color:"text-green-500"},{title:"Cuentas por Cobrar",value:"$4,200,000",icon:Fn.money,color:"text-yellow-500"},{title:"Compras del Mes",value:"$7,800,000",icon:Fn.purchases,color:"text-red-500"},{title:"Valor Inventario",value:"$25,000,000",icon:Fn.inventory,color:"text-blue-500"}];return N.jsxs("div",{className:"space-y-6",children:[N.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Bienvenido a ",n?.name]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(t=>N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[N.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${t.color}`,children:_x.cloneElement(t.icon,{className:"h-8 w-8"})}),N.jsxs("div",{className:"ml-4",children:[N.jsx("p",{className:"text-lg font-semibold text-gray-800",children:t.title}),N.jsx("p",{className:"text-sm font-medium text-gray-500",children:t.value})]})]},t.title))}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N.jsx($h,{title:"Ventas vs Compras (ltimos 6 meses)",children:N.jsx("div",{className:"h-64 bg-gray-200 rounded-md flex items-center justify-center",children:N.jsx("p",{className:"text-gray-500",children:"Grfico de barras aqu"})})}),N.jsx($h,{title:"Actividades Recientes",children:N.jsxs("ul",{className:"space-y-3",children:[N.jsx("li",{className:"text-sm text-gray-600",children:"Factura de venta #FV-002 creada."}),N.jsx("li",{className:"text-sm text-gray-600",children:"Pago a proveedor 'DistriPartes SAS' registrado."}),N.jsx("li",{className:"text-sm text-gray-600",children:"Nuevo producto 'Aceite 20W-50' aadido al inventario."})]})})]})]})},ek="modulepreload",tk=function(n){return"/sofwipad-erp-contable/"+n},Rb={},a0=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=f(t.map(d=>{if(d=tk(d),d in Rb)return;Rb[d]=!0;const y=d.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":ek,y||(E.as="script"),E.crossOrigin="",E.href=d,c&&E.setAttribute("nonce",c),document.head.appendChild(E),y)return new Promise((b,M)=>{E.addEventListener("load",b),E.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(n)}var xo=Uint8Array,ga=Uint16Array,Ry=Int32Array,Ly=new xo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ky=new xo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lb=new xo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lS=function(n,e){for(var t=new ga(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new Ry(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},uS=lS(Ly,2),nk=uS.b,o2=uS.r;nk[28]=258,o2[258]=28;var rk=lS(ky,0),kb=rk.r,l2=new ga(32768);for(var br=0;br<32768;++br){var Nu=(br&43690)>>1|(br&21845)<<1;Nu=(Nu&52428)>>2|(Nu&13107)<<2,Nu=(Nu&61680)>>4|(Nu&3855)<<4,l2[br]=((Nu&65280)>>8|(Nu&255)<<8)>>1}var cd=(function(n,e,t){for(var r=n.length,s=0,o=new ga(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new ga(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new ga(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],y=e-n[s],w=u[n[s]-1]++<<y,E=w|(1<<y)-1;w<=E;++w)c[l2[w]>>f]=d}else for(c=new ga(r),s=0;s<r;++s)n[s]&&(c[s]=l2[u[n[s]-1]++]>>15-n[s]);return c}),Oc=new xo(288);for(var br=0;br<144;++br)Oc[br]=8;for(var br=144;br<256;++br)Oc[br]=9;for(var br=256;br<280;++br)Oc[br]=7;for(var br=280;br<288;++br)Oc[br]=8;var Xm=new xo(32);for(var br=0;br<32;++br)Xm[br]=5;var ik=cd(Oc,9,0),sk=cd(Xm,5,0),cS=function(n){return(n+7)/8|0},ak=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new xo(n.subarray(e,t))},kl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Kf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},o0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:fS,l:0};if(s==1){var u=new xo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(le,Se){return le.f-Se.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,y=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};y!=s-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=y&&t[d].f<t[w].f?d++:w++],t[y++]={s:-1,f:c.f+f.f,l:c,r:f};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var b=new ga(E+1),M=u2(t[y-1],b,0);if(M>e){var r=0,F=0,q=M-e,U=1<<q;for(o.sort(function(Se,$){return b[$.s]-b[Se.s]||Se.f-$.f});r<s;++r){var te=o[r].s;if(b[te]>e)F+=U-(1<<M-b[te]),b[te]=e;else break}for(F>>=q;F>0;){var re=o[r].s;b[re]<e?F-=1<<e-b[re]++-1:++r}for(;r>=0&&F;--r){var X=o[r].s;b[X]==e&&(--b[X],++F)}M=e}return{t:new xo(b),l:M}},u2=function(n,e,t){return n.s==-1?Math.max(u2(n.l,e,t+1),u2(n.r,e,t+1)):e[n.s]=t},Pb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ga(++e),r=0,s=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},Qf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},hS=function(n,e,t){var r=t.length,s=cS(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Db=function(n,e,t,r,s,o,u,c,f,d,y){kl(e,y++,t),++s[256];for(var w=o0(s,15),E=w.t,b=w.l,M=o0(o,15),F=M.t,q=M.l,U=Pb(E),te=U.c,re=U.n,X=Pb(F),le=X.c,Se=X.n,$=new ga(19),O=0;O<te.length;++O)++$[te[O]&31];for(var O=0;O<le.length;++O)++$[le[O]&31];for(var k=o0($,7),H=k.t,I=k.l,P=19;P>4&&!H[Lb[P-1]];--P);var R=d+5<<3,ee=Qf(s,Oc)+Qf(o,Xm)+u,ge=Qf(s,E)+Qf(o,F)+u+14+3*P+Qf($,H)+2*$[16]+3*$[17]+7*$[18];if(f>=0&&R<=ee&&R<=ge)return hS(e,y,n.subarray(f,f+d));var ne,pe,ie,be;if(kl(e,y,1+(ge<ee)),y+=2,ge<ee){ne=cd(E,b,0),pe=E,ie=cd(F,q,0),be=F;var Y=cd(H,I,0);kl(e,y,re-257),kl(e,y+5,Se-1),kl(e,y+10,P-4),y+=14;for(var O=0;O<P;++O)kl(e,y+3*O,H[Lb[O]]);y+=3*P;for(var he=[te,le],C=0;C<2;++C)for(var B=he[C],O=0;O<B.length;++O){var Z=B[O]&31;kl(e,y,Y[Z]),y+=H[Z],Z>15&&(kl(e,y,B[O]>>5&127),y+=B[O]>>12)}}else ne=ik,pe=Oc,ie=sk,be=Xm;for(var O=0;O<c;++O){var ue=r[O];if(ue>255){var Z=ue>>18&31;Kf(e,y,ne[Z+257]),y+=pe[Z+257],Z>7&&(kl(e,y,ue>>23&31),y+=Ly[Z]);var fe=ue&31;Kf(e,y,ie[fe]),y+=be[fe],fe>3&&(Kf(e,y,ue>>5&8191),y+=ky[fe])}else Kf(e,y,ne[ue]),y+=pe[ue]}return Kf(e,y,ne[256]),y+pe[256]},ok=new Ry([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fS=new xo(0),lk=function(n,e,t,r,s,o){var u=o.z||n.length,c=new xo(r+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(r,c.length-s),d=o.l,y=(o.r||0)&7;if(e){y&&(f[0]=o.r>>3);for(var w=ok[e-1],E=w>>13,b=w&8191,M=(1<<t)-1,F=o.p||new ga(32768),q=o.h||new ga(M+1),U=Math.ceil(t/3),te=2*U,re=function(Me){return(n[Me]^n[Me+1]<<U^n[Me+2]<<te)&M},X=new Ry(25e3),le=new ga(288),Se=new ga(32),$=0,O=0,k=o.i||0,H=0,I=o.w||0,P=0;k+2<u;++k){var R=re(k),ee=k&32767,ge=q[R];if(F[ee]=ge,q[R]=ee,I<=k){var ne=u-k;if(($>7e3||H>24576)&&(ne>423||!d)){y=Db(n,f,0,X,le,Se,O,H,P,k-P,y),H=$=O=0,P=k;for(var pe=0;pe<286;++pe)le[pe]=0;for(var pe=0;pe<30;++pe)Se[pe]=0}var ie=2,be=0,Y=b,he=ee-ge&32767;if(ne>2&&R==re(k-he))for(var C=Math.min(E,ne)-1,B=Math.min(32767,k),Z=Math.min(258,ne);he<=B&&--Y&&ee!=ge;){if(n[k+ie]==n[k+ie-he]){for(var ue=0;ue<Z&&n[k+ue]==n[k+ue-he];++ue);if(ue>ie){if(ie=ue,be=he,ue>C)break;for(var fe=Math.min(he,ue-2),ye=0,pe=0;pe<fe;++pe){var Ce=k-he+pe&32767,ke=F[Ce],Ue=Ce-ke&32767;Ue>ye&&(ye=Ue,ge=Ce)}}}ee=ge,ge=F[ee],he+=ee-ge&32767}if(be){X[H++]=268435456|o2[ie]<<18|kb[be];var qe=o2[ie]&31,nt=kb[be]&31;O+=Ly[qe]+ky[nt],++le[257+qe],++Se[nt],I=k+ie,++$}else X[H++]=n[k],++le[n[k]]}}for(k=Math.max(k,I);k<u;++k)X[H++]=n[k],++le[n[k]];y=Db(n,f,d,X,le,Se,O,H,P,k-P,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=q,o.p=F,o.i=k,o.w=I)}else{for(var k=o.w||0;k<u+d;k+=65535){var rt=k+65535;rt>=u&&(f[y/8|0]=d,rt=u),y=hS(f,y+1,n.subarray(k,rt))}o.i=u}return ak(c,0,r+cS(y)+s)},dS=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},uk=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new xo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return lk(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},pS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},ck=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=dS();s.p(e.dictionary),pS(n,2,s.d())}};function c2(n,e){e||(e={});var t=dS();t.p(n);var r=uk(n,e,e.dictionary?6:2,4);return ck(r,e),pS(r,r.length-4,t.d()),r}var hk=typeof TextDecoder<"u"&&new TextDecoder,fk=0;try{hk.decode(fS,{stream:!0}),fk=1}catch{}function dk(n){if(Array.isArray(n))return n}function pk(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(y){d=!0,s=y}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function Ob(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function mk(n,e){if(n){if(typeof n=="string")return Ob(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ob(n,e):void 0}}function gk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mb(n,e){return dk(n)||pk(n,e)||mk(n,e)||gk()}function jb(n,e="utf8"){return new TextDecoder(e).decode(n)}const yk=new TextEncoder;function vk(n){return yk.encode(n)}const _k=1024*8,bk=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),l0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Py{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=_k,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof Py)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=l0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===bk&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const f=new l0[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new l0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return jb(this.readBytes(e))}decodeText(e=1,t="utf8"){return jb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(vk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tf(n){let e=n.length;for(;--e>=0;)n[e]=0}const wk=3,Ak=258,mS=29,Sk=256,Ek=Sk+1+mS,gS=30,xk=512,Tk=new Array((Ek+2)*2);tf(Tk);const Nk=new Array(gS*2);tf(Nk);const Ik=new Array(xk);tf(Ik);const Ck=new Array(Ak-wk+1);tf(Ck);const Rk=new Array(mS);tf(Rk);const Lk=new Array(gS);tf(Lk);const kk=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var h2=kk;const Pk=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Dk=new Uint32Array(Pk()),Ok=(n,e,t,r)=>{const s=Dk,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var Wo=Ok,f2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Mk=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var jk=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)Mk(t,r)&&(n[r]=t[r])}}return n},Vk=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},vS={assign:jk,flattenChunks:Vk};let _S=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_S=!1}const Nd=new Uint8Array(256);for(let n=0;n<256;n++)Nd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Nd[254]=Nd[254]=1;var Fk=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Uk=(n,e)=>{if(e<65534&&n.subarray&&_S)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var Bk=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=Nd[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return Uk(o,s)},qk=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Nd[n[t]]>e?t:e},d2={string2buf:Fk,buf2string:Bk,utf8border:qk};function zk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hk=zk;const rm=16209,Gk=16191;var $k=function(e,t){let r,s,o,u,c,f,d,y,w,E,b,M,F,q,U,te,re,X,le,Se,$,O,k,H;const I=e.state;r=e.next_in,k=e.input,s=r+(e.avail_in-5),o=e.next_out,H=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=I.dmax,d=I.wsize,y=I.whave,w=I.wnext,E=I.window,b=I.hold,M=I.bits,F=I.lencode,q=I.distcode,U=(1<<I.lenbits)-1,te=(1<<I.distbits)-1;e:do{M<15&&(b+=k[r++]<<M,M+=8,b+=k[r++]<<M,M+=8),re=F[b&U];t:for(;;){if(X=re>>>24,b>>>=X,M-=X,X=re>>>16&255,X===0)H[o++]=re&65535;else if(X&16){le=re&65535,X&=15,X&&(M<X&&(b+=k[r++]<<M,M+=8),le+=b&(1<<X)-1,b>>>=X,M-=X),M<15&&(b+=k[r++]<<M,M+=8,b+=k[r++]<<M,M+=8),re=q[b&te];n:for(;;){if(X=re>>>24,b>>>=X,M-=X,X=re>>>16&255,X&16){if(Se=re&65535,X&=15,M<X&&(b+=k[r++]<<M,M+=8,M<X&&(b+=k[r++]<<M,M+=8)),Se+=b&(1<<X)-1,Se>f){e.msg="invalid distance too far back",I.mode=rm;break e}if(b>>>=X,M-=X,X=o-u,Se>X){if(X=Se-X,X>y&&I.sane){e.msg="invalid distance too far back",I.mode=rm;break e}if($=0,O=E,w===0){if($+=d-X,X<le){le-=X;do H[o++]=E[$++];while(--X);$=o-Se,O=H}}else if(w<X){if($+=d+w-X,X-=w,X<le){le-=X;do H[o++]=E[$++];while(--X);if($=0,w<le){X=w,le-=X;do H[o++]=E[$++];while(--X);$=o-Se,O=H}}}else if($+=w-X,X<le){le-=X;do H[o++]=E[$++];while(--X);$=o-Se,O=H}for(;le>2;)H[o++]=O[$++],H[o++]=O[$++],H[o++]=O[$++],le-=3;le&&(H[o++]=O[$++],le>1&&(H[o++]=O[$++]))}else{$=o-Se;do H[o++]=H[$++],H[o++]=H[$++],H[o++]=H[$++],le-=3;while(le>2);le&&(H[o++]=H[$++],le>1&&(H[o++]=H[$++]))}}else if((X&64)===0){re=q[(re&65535)+(b&(1<<X)-1)];continue n}else{e.msg="invalid distance code",I.mode=rm;break e}break}}else if((X&64)===0){re=F[(re&65535)+(b&(1<<X)-1)];continue t}else if(X&32){I.mode=Gk;break e}else{e.msg="invalid literal/length code",I.mode=rm;break e}break}}while(r<s&&o<c);le=M>>3,r-=le,M-=le<<3,b&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),I.hold=b,I.bits=M};const _h=15,Vb=852,Fb=592,Ub=0,u0=1,Bb=2,Wk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Yk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Xk=(n,e,t,r,s,o,u,c)=>{const f=c.bits;let d=0,y=0,w=0,E=0,b=0,M=0,F=0,q=0,U=0,te=0,re,X,le,Se,$,O=null,k;const H=new Uint16Array(_h+1),I=new Uint16Array(_h+1);let P=null,R,ee,ge;for(d=0;d<=_h;d++)H[d]=0;for(y=0;y<r;y++)H[e[t+y]]++;for(b=f,E=_h;E>=1&&H[E]===0;E--);if(b>E&&(b=E),E===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<E&&H[w]===0;w++);for(b<w&&(b=w),q=1,d=1;d<=_h;d++)if(q<<=1,q-=H[d],q<0)return-1;if(q>0&&(n===Ub||E!==1))return-1;for(I[1]=0,d=1;d<_h;d++)I[d+1]=I[d]+H[d];for(y=0;y<r;y++)e[t+y]!==0&&(u[I[e[t+y]]++]=y);if(n===Ub?(O=P=u,k=20):n===u0?(O=Wk,P=Yk,k=257):(O=Kk,P=Qk,k=0),te=0,y=0,d=w,$=o,M=b,F=0,le=-1,U=1<<b,Se=U-1,n===u0&&U>Vb||n===Bb&&U>Fb)return 1;for(;;){R=d-F,u[y]+1<k?(ee=0,ge=u[y]):u[y]>=k?(ee=P[u[y]-k],ge=O[u[y]-k]):(ee=96,ge=0),re=1<<d-F,X=1<<M,w=X;do X-=re,s[$+(te>>F)+X]=R<<24|ee<<16|ge|0;while(X!==0);for(re=1<<d-1;te&re;)re>>=1;if(re!==0?(te&=re-1,te+=re):te=0,y++,--H[d]===0){if(d===E)break;d=e[t+u[y]]}if(d>b&&(te&Se)!==le){for(F===0&&(F=b),$+=w,M=d-F,q=1<<M;M+F<E&&(q-=H[M+F],!(q<=0));)M++,q<<=1;if(U+=1<<M,n===u0&&U>Vb||n===Bb&&U>Fb)return 1;le=te&Se,s[le]=b<<24|M<<16|$-o|0}}return te!==0&&(s[$+te]=d-F<<24|64<<16|0),c.bits=b,0};var hd=Xk;const Zk=0,bS=1,wS=2,{Z_FINISH:qb,Z_BLOCK:Jk,Z_TREES:im,Z_OK:Mc,Z_STREAM_END:eP,Z_NEED_DICT:tP,Z_STREAM_ERROR:Qa,Z_DATA_ERROR:AS,Z_MEM_ERROR:SS,Z_BUF_ERROR:nP,Z_DEFLATED:zb}=yS,Rg=16180,Hb=16181,Gb=16182,$b=16183,Wb=16184,Yb=16185,Kb=16186,Qb=16187,Xb=16188,Zb=16189,Zm=16190,Pl=16191,c0=16192,Jb=16193,h0=16194,ew=16195,tw=16196,nw=16197,rw=16198,sm=16199,am=16200,iw=16201,sw=16202,aw=16203,ow=16204,lw=16205,f0=16206,uw=16207,cw=16208,Nr=16209,ES=16210,xS=16211,rP=852,iP=592,sP=15,aP=sP,hw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function oP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Rg||e.mode>xS?1:0},TS=n=>{if(qc(n))return Qa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Rg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(rP),e.distcode=e.distdyn=new Int32Array(iP),e.sane=1,e.back=-1,Mc},NS=n=>{if(qc(n))return Qa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,TS(n)},IS=(n,e)=>{let t;if(qc(n))return Qa;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,NS(n))},CS=(n,e)=>{if(!n)return Qa;const t=new oP;n.state=t,t.strm=n,t.window=null,t.mode=Rg;const r=IS(n,e);return r!==Mc&&(n.state=null),r},lP=n=>CS(n,aP);let fw=!0,d0,p0;const uP=n=>{if(fw){d0=new Int32Array(512),p0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(hd(bS,n.lens,0,288,d0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;hd(wS,n.lens,0,32,p0,0,n.work,{bits:5}),fw=!1}n.lencode=d0,n.lenbits=9,n.distcode=p0,n.distbits=5},RS=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},cP=(n,e)=>{let t,r,s,o,u,c,f,d,y,w,E,b,M,F,q=0,U,te,re,X,le,Se,$,O;const k=new Uint8Array(4);let H,I;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qc(n)||!n.output||!n.input&&n.avail_in!==0)return Qa;t=n.state,t.mode===Pl&&(t.mode=c0),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,y=t.bits,w=c,E=f,O=Mc;e:for(;;)switch(t.mode){case Rg:if(t.wrap===0){t.mode=c0;break}for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=d&255,k[1]=d>>>8&255,t.check=Wo(t.check,k,2,0),d=0,y=0,t.mode=Hb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Nr;break}if((d&15)!==zb){n.msg="unknown compression method",t.mode=Nr;break}if(d>>>=4,y-=4,$=(d&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){n.msg="invalid window size",t.mode=Nr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?Zb:Pl,d=0,y=0;break;case Hb:for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.flags=d,(t.flags&255)!==zb){n.msg="unknown compression method",t.mode=Nr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Nr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,t.check=Wo(t.check,k,2,0)),d=0,y=0,t.mode=Gb;case Gb:for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,k[2]=d>>>16&255,k[3]=d>>>24&255,t.check=Wo(t.check,k,4,0)),d=0,y=0,t.mode=$b;case $b:for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,t.check=Wo(t.check,k,2,0)),d=0,y=0,t.mode=Wb;case Wb:if(t.flags&1024){for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,t.check=Wo(t.check,k,2,0)),d=0,y=0}else t.head&&(t.head.extra=null);t.mode=Yb;case Yb:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),$)),t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=Kb;case Kb:if(t.flags&2048){if(c===0)break e;b=0;do $=r[o+b++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,b,o)),c-=b,o+=b,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Qb;case Qb:if(t.flags&4096){if(c===0)break e;b=0;do $=r[o+b++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,b,o)),c-=b,o+=b,$)break e}else t.head&&(t.head.comment=null);t.mode=Xb;case Xb:if(t.flags&512){for(;y<16;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Nr;break}d=0,y=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Pl;break;case Zb:for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}n.adler=t.check=hw(d),d=0,y=0,t.mode=Zm;case Zm:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,tP;n.adler=t.check=1,t.mode=Pl;case Pl:if(e===Jk||e===im)break e;case c0:if(t.last){d>>>=y&7,y-=y&7,t.mode=f0;break}for(;y<3;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}switch(t.last=d&1,d>>>=1,y-=1,d&3){case 0:t.mode=Jb;break;case 1:if(uP(t),t.mode=sm,e===im){d>>>=2,y-=2;break e}break;case 2:t.mode=tw;break;case 3:n.msg="invalid block type",t.mode=Nr}d>>>=2,y-=2;break;case Jb:for(d>>>=y&7,y-=y&7;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Nr;break}if(t.length=d&65535,d=0,y=0,t.mode=h0,e===im)break e;case h0:t.mode=ew;case ew:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;s.set(r.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Pl;break;case tw:for(;y<14;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.nlen=(d&31)+257,d>>>=5,y-=5,t.ndist=(d&31)+1,d>>>=5,y-=5,t.ncode=(d&15)+4,d>>>=4,y-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Nr;break}t.have=0,t.mode=nw;case nw:for(;t.have<t.ncode;){for(;y<3;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.lens[P[t.have++]]=d&7,d>>>=3,y-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},O=hd(Zk,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,O){n.msg="invalid code lengths set",t.mode=Nr;break}t.have=0,t.mode=rw;case rw:for(;t.have<t.nlen+t.ndist;){for(;q=t.lencode[d&(1<<t.lenbits)-1],U=q>>>24,te=q>>>16&255,re=q&65535,!(U<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(re<16)d>>>=U,y-=U,t.lens[t.have++]=re;else{if(re===16){for(I=U+2;y<I;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(d>>>=U,y-=U,t.have===0){n.msg="invalid bit length repeat",t.mode=Nr;break}$=t.lens[t.have-1],b=3+(d&3),d>>>=2,y-=2}else if(re===17){for(I=U+3;y<I;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=U,y-=U,$=0,b=3+(d&7),d>>>=3,y-=3}else{for(I=U+7;y<I;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=U,y-=U,$=0,b=11+(d&127),d>>>=7,y-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Nr;break}for(;b--;)t.lens[t.have++]=$}}if(t.mode===Nr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Nr;break}if(t.lenbits=9,H={bits:t.lenbits},O=hd(bS,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,O){n.msg="invalid literal/lengths set",t.mode=Nr;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},O=hd(wS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,O){n.msg="invalid distances set",t.mode=Nr;break}if(t.mode=sm,e===im)break e;case sm:t.mode=am;case am:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,$k(n,E),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,y=t.bits,t.mode===Pl&&(t.back=-1);break}for(t.back=0;q=t.lencode[d&(1<<t.lenbits)-1],U=q>>>24,te=q>>>16&255,re=q&65535,!(U<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(te&&(te&240)===0){for(X=U,le=te,Se=re;q=t.lencode[Se+((d&(1<<X+le)-1)>>X)],U=q>>>24,te=q>>>16&255,re=q&65535,!(X+U<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=X,y-=X,t.back+=X}if(d>>>=U,y-=U,t.back+=U,t.length=re,te===0){t.mode=lw;break}if(te&32){t.back=-1,t.mode=Pl;break}if(te&64){n.msg="invalid literal/length code",t.mode=Nr;break}t.extra=te&15,t.mode=iw;case iw:if(t.extra){for(I=t.extra;y<I;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,y-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=sw;case sw:for(;q=t.distcode[d&(1<<t.distbits)-1],U=q>>>24,te=q>>>16&255,re=q&65535,!(U<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if((te&240)===0){for(X=U,le=te,Se=re;q=t.distcode[Se+((d&(1<<X+le)-1)>>X)],U=q>>>24,te=q>>>16&255,re=q&65535,!(X+U<=y);){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}d>>>=X,y-=X,t.back+=X}if(d>>>=U,y-=U,t.back+=U,te&64){n.msg="invalid distance code",t.mode=Nr;break}t.offset=re,t.extra=te&15,t.mode=aw;case aw:if(t.extra){for(I=t.extra;y<I;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,y-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Nr;break}t.mode=ow;case ow:if(f===0)break e;if(b=E-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Nr;break}b>t.wnext?(b-=t.wnext,M=t.wsize-b):M=t.wnext-b,b>t.length&&(b=t.length),F=t.window}else F=s,M=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do s[u++]=F[M++];while(--b);t.length===0&&(t.mode=am);break;case lw:if(f===0)break e;s[u++]=t.length,f--,t.mode=am;break;case f0:if(t.wrap){for(;y<32;){if(c===0)break e;c--,d|=r[o++]<<y,y+=8}if(E-=f,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?Wo(t.check,s,E,u-E):h2(t.check,s,E,u-E)),E=f,t.wrap&4&&(t.flags?d:hw(d))!==t.check){n.msg="incorrect data check",t.mode=Nr;break}d=0,y=0}t.mode=uw;case uw:if(t.wrap&&t.flags){for(;y<32;){if(c===0)break e;c--,d+=r[o++]<<y,y+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Nr;break}d=0,y=0}t.mode=cw;case cw:O=eP;break e;case Nr:O=AS;break e;case ES:return SS;case xS:default:return Qa}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=y,(t.wsize||E!==n.avail_out&&t.mode<Nr&&(t.mode<f0||e!==qb))&&RS(n,n.output,n.next_out,E-n.avail_out),w-=n.avail_in,E-=n.avail_out,n.total_in+=w,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?Wo(t.check,s,E,n.next_out-E):h2(t.check,s,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Pl?128:0)+(t.mode===sm||t.mode===h0?256:0),(w===0&&E===0||e===qb)&&O===Mc&&(O=nP),O},hP=n=>{if(qc(n))return Qa;let e=n.state;return e.window&&(e.window=null),n.state=null,Mc},fP=(n,e)=>{if(qc(n))return Qa;const t=n.state;return(t.wrap&2)===0?Qa:(t.head=e,e.done=!1,Mc)},dP=(n,e)=>{const t=e.length;let r,s,o;return qc(n)||(r=n.state,r.wrap!==0&&r.mode!==Zm)?Qa:r.mode===Zm&&(s=1,s=h2(s,e,t,0),s!==r.check)?AS:(o=RS(n,e,t,t),o?(r.mode=ES,SS):(r.havedict=1,Mc))};var pP=NS,mP=IS,gP=TS,yP=lP,vP=CS,_P=cP,bP=hP,wP=fP,AP=dP,SP="pako inflate (from Nodeca project)",Dl={inflateReset:pP,inflateReset2:mP,inflateResetKeep:gP,inflateInit:yP,inflateInit2:vP,inflate:_P,inflateEnd:bP,inflateGetHeader:wP,inflateSetDictionary:AP,inflateInfo:SP};function EP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xP=EP;const LS=Object.prototype.toString,{Z_NO_FLUSH:TP,Z_FINISH:NP,Z_OK:Id,Z_STREAM_END:m0,Z_NEED_DICT:g0,Z_STREAM_ERROR:IP,Z_DATA_ERROR:dw,Z_MEM_ERROR:CP}=yS;function Wd(n){this.options=vS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hk,this.strm.avail_out=0;let t=Dl.inflateInit2(this.strm,e.windowBits);if(t!==Id)throw new Error(f2[t]);if(this.header=new xP,Dl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=d2.string2buf(e.dictionary):LS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Dl.inflateSetDictionary(this.strm,e.dictionary),t!==Id)))throw new Error(f2[t])}Wd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?NP:TP,LS.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Dl.inflate(t,u),o===g0&&s&&(o=Dl.inflateSetDictionary(t,s),o===Id?o=Dl.inflate(t,u):o===dw&&(o=g0));t.avail_in>0&&o===m0&&t.state.wrap>0&&n[t.next_in]!==0;)Dl.inflateReset(t),o=Dl.inflate(t,u);switch(o){case IP:case dw:case g0:case CP:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===m0))if(this.options.to==="string"){let f=d2.utf8border(t.output,t.next_out),d=t.next_out-f,y=d2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(y)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Id&&c===0)){if(o===m0)return o=Dl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Wd.prototype.onData=function(n){this.chunks.push(n)};Wd.prototype.onEnd=function(n){n===Id&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=vS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function RP(n,e){const t=new Wd(e);if(t.push(n),t.err)throw t.msg||f2[t.err];return t.result}var LP=Wd,kP=RP,PP={Inflate:LP,inflate:kP};const{Inflate:DP,inflate:OP}=PP;var pw=DP,MP=OP;const kS=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;kS[n]=e}const mw=4294967295;function jP(n,e,t){let r=n;for(let s=0;s<t;s++)r=kS[(r^e[s])&255]^r>>>8;return r}function VP(n,e){return(jP(mw,n,e)^mw)>>>0}function gw(n,e,t){const r=n.readUint32(),s=VP(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function PS(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function DS(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function OS(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function MS(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function jS(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+FP(e[o-s],t[o],t[o-s])&255}}function FP(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function UP(n,e,t,r,s,o){switch(n){case 0:PS(e,t,s);break;case 1:DS(e,t,s,o);break;case 2:OS(e,t,r,s);break;case 3:MS(e,t,r,s,o);break;case 4:jS(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const BP=new Uint16Array([255]),qP=new Uint8Array(BP.buffer),zP=qP[0]===255;function HP(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(r*t*c);let d=0;for(let y=0;y<7;y++){const w=u[y],E=Math.ceil((t-w.x)/w.xStep),b=Math.ceil((r-w.y)/w.yStep);if(E<=0||b<=0)continue;const M=E*c,F=new Uint8Array(M);for(let q=0;q<b;q++){const U=e[d++],te=e.subarray(d,d+M);d+=M;const re=new Uint8Array(M);UP(U,te,re,F,M,c),F.set(re);for(let X=0;X<E;X++){const le=w.x+X*w.xStep,Se=w.y+q*w.yStep;if(!(le>=t||Se>=r))for(let $=0;$<c;$++)f[(Se*t+le)*c+$]=re[X*c+$]}}}if(o===16){const y=new Uint16Array(f.buffer);if(zP)for(let w=0;w<y.length;w++)y[w]=GP(y[w]);return y}else return f}function GP(n){return(n&255)<<8|n>>8&255}const $P=new Uint16Array([255]),WP=new Uint8Array($P.buffer),YP=WP[0]===255,KP=new Uint8Array(0);function yw(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(r*c);let d=KP,y=0,w,E;for(let b=0;b<r;b++){switch(w=e.subarray(y+1,y+1+c),E=f.subarray(b*c,(b+1)*c),e[y]){case 0:PS(w,E,c);break;case 1:DS(w,E,c,u);break;case 2:OS(w,E,d,c);break;case 3:MS(w,E,d,c,u);break;case 4:jS(w,E,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}d=E,y+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(YP)for(let M=0;M<b.length;M++)b[M]=QP(b[M]);return b}else return f}function QP(n){return(n&255)<<8|n>>8&255}const Sm=Uint8Array.of(137,80,78,71,13,10,26,10);function vw(n){if(!XP(n.readBytes(Sm.length)))throw new Error("wrong PNG signature")}function XP(n){if(n.length<Sm.length)return!1;for(let e=0;e<Sm.length;e++)if(n[e]!==Sm[e])return!1;return!0}const ZP="tEXt",JP=0,VS=new TextDecoder("latin1");function eD(n){if(nD(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const tD=/^[\u0000-\u00FF]*$/;function nD(n){if(!tD.test(n))throw new Error("invalid latin1 text")}function rD(n,e,t){const r=FS(e);n[r]=iD(e,t-r.length-1)}function FS(n){for(n.mark();n.readByte()!==JP;);const e=n.offset;n.reset();const t=VS.decode(n.readBytes(e-n.offset-1));return n.skip(1),eD(t),t}function iD(n,e){return VS.decode(n.readBytes(e))}const da={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},y0={UNKNOWN:-1,DEFLATE:0},_w={UNKNOWN:-1,ADAPTIVE:0},v0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},om={NONE:0,BACKGROUND:1,PREVIOUS:2},_0={SOURCE:0,OVER:1};class sD extends Py{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new pw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y0.UNKNOWN,this._filterMethod=_w.UNKNOWN,this._interlaceMethod=v0.UNKNOWN,this._colorType=da.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(vw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(vw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case ZP:rD(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?gw(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?gw(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=aD(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case da.GREYSCALE:r=1;break;case da.TRUECOLOUR:r=3;break;case da.INDEXED_COLOUR:r=1;break;case da.GREYSCALE_ALPHA:r=2;break;case da.TRUECOLOUR_ALPHA:r=4;break;case da.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==y0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case da.GREYSCALE:case da.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case da.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case da.UNKNOWN:case da.GREYSCALE_ALPHA:case da.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=FS(this),r=this.readUint8();if(r!==y0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:MP(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=yw({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case om.NONE:break;case om.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case om.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case _0.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case _0.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const y=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],E=Math.floor(y*w+(1-y)*e.data[c+d]);e.data[c+d]+=E}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_w.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===v0.NO_INTERLACE)this._png.data=yw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===v0.ADAM7)this._png.data=HP({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:om.NONE,blendOp:_0.SOURCE,data:e}),this._inflator=new pw,this._writingDataChunks=!1}}function aD(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var bw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(bw||(bw={}));function oD(n,e){return new sD(n,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function b0(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var ur={log:b0,warn:function(n){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):b0.call(null,arguments))},error:function(n){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):b0(n))}};function w0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Sc(r.response,e,t)},r.onerror=function(){ur.error("could not download file")},r.send()}function ww(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Sc=Wt.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Wt.URL||Wt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?ww(s.href)?w0(n,e,t):lm(s,s.target="_blank"):lm(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){lm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(ww(n))w0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){lm(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return w0(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(n)}else{var f=Wt.URL||Wt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function US(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Em=Wt.atob.bind(Wt),Aw=Wt.btoa.bind(Wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=ms(t,r,s,o,e[0],7,-680876936),o=ms(o,t,r,s,e[1],12,-389564586),s=ms(s,o,t,r,e[2],17,606105819),r=ms(r,s,o,t,e[3],22,-1044525330),t=ms(t,r,s,o,e[4],7,-176418897),o=ms(o,t,r,s,e[5],12,1200080426),s=ms(s,o,t,r,e[6],17,-1473231341),r=ms(r,s,o,t,e[7],22,-45705983),t=ms(t,r,s,o,e[8],7,1770035416),o=ms(o,t,r,s,e[9],12,-1958414417),s=ms(s,o,t,r,e[10],17,-42063),r=ms(r,s,o,t,e[11],22,-1990404162),t=ms(t,r,s,o,e[12],7,1804603682),o=ms(o,t,r,s,e[13],12,-40341101),s=ms(s,o,t,r,e[14],17,-1502002290),t=gs(t,r=ms(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=gs(o,t,r,s,e[6],9,-1069501632),s=gs(s,o,t,r,e[11],14,643717713),r=gs(r,s,o,t,e[0],20,-373897302),t=gs(t,r,s,o,e[5],5,-701558691),o=gs(o,t,r,s,e[10],9,38016083),s=gs(s,o,t,r,e[15],14,-660478335),r=gs(r,s,o,t,e[4],20,-405537848),t=gs(t,r,s,o,e[9],5,568446438),o=gs(o,t,r,s,e[14],9,-1019803690),s=gs(s,o,t,r,e[3],14,-187363961),r=gs(r,s,o,t,e[8],20,1163531501),t=gs(t,r,s,o,e[13],5,-1444681467),o=gs(o,t,r,s,e[2],9,-51403784),s=gs(s,o,t,r,e[7],14,1735328473),t=ys(t,r=gs(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ys(o,t,r,s,e[8],11,-2022574463),s=ys(s,o,t,r,e[11],16,1839030562),r=ys(r,s,o,t,e[14],23,-35309556),t=ys(t,r,s,o,e[1],4,-1530992060),o=ys(o,t,r,s,e[4],11,1272893353),s=ys(s,o,t,r,e[7],16,-155497632),r=ys(r,s,o,t,e[10],23,-1094730640),t=ys(t,r,s,o,e[13],4,681279174),o=ys(o,t,r,s,e[0],11,-358537222),s=ys(s,o,t,r,e[3],16,-722521979),r=ys(r,s,o,t,e[6],23,76029189),t=ys(t,r,s,o,e[9],4,-640364487),o=ys(o,t,r,s,e[12],11,-421815835),s=ys(s,o,t,r,e[15],16,530742520),t=vs(t,r=ys(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=vs(o,t,r,s,e[7],10,1126891415),s=vs(s,o,t,r,e[14],15,-1416354905),r=vs(r,s,o,t,e[5],21,-57434055),t=vs(t,r,s,o,e[12],6,1700485571),o=vs(o,t,r,s,e[3],10,-1894986606),s=vs(s,o,t,r,e[10],15,-1051523),r=vs(r,s,o,t,e[1],21,-2054922799),t=vs(t,r,s,o,e[8],6,1873313359),o=vs(o,t,r,s,e[15],10,-30611744),s=vs(s,o,t,r,e[6],15,-1560198380),r=vs(r,s,o,t,e[13],21,1309151649),t=vs(t,r,s,o,e[4],6,-145523070),o=vs(o,t,r,s,e[11],10,-1120210379),s=vs(s,o,t,r,e[2],15,718787259),r=vs(r,s,o,t,e[9],21,-343485551),n[0]=Ou(t,n[0]),n[1]=Ou(r,n[1]),n[2]=Ou(s,n[2]),n[3]=Ou(o,n[3])}function Lg(n,e,t,r,s,o){return e=Ou(Ou(e,n),Ou(r,o)),Ou(e<<s|e>>>32-s,t)}function ms(n,e,t,r,s,o,u){return Lg(e&t|~e&r,n,e,s,o,u)}function gs(n,e,t,r,s,o,u){return Lg(e&r|t&~r,n,e,s,o,u)}function ys(n,e,t,r,s,o,u){return Lg(e^t^r,n,e,s,o,u)}function vs(n,e,t,r,s,o,u){return Lg(t^(e|~r),n,e,s,o,u)}function BS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)A0(r,lD(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(A0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,A0(r,s),r}function lD(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Sw="0123456789abcdef".split("");function uD(n){for(var e="",t=0;t<4;t++)e+=Sw[n>>8*t+4&15]+Sw[n>>8*t&15];return e}function cD(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function p2(n){return BS(n).map(cD).join("")}var hD=(function(n){for(var e=0;e<n.length;e++)n[e]=uD(n[e]);return n.join("")})(BS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ou(n,e){if(hD){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function m2(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var y=c[f];d=(d+y+u.charCodeAt(f))%256,c[f]=c[d],c[d]=y}t=n,r=c}else c=r;var w=e.length,E=0,b=0,M="";for(f=0;f<w;f++)b=(b+(y=c[E=(E+1)%256]))%256,c[E]=c[b],c[b]=y,u=c[(c[E]+c[b])%256],M+=String.fromCharCode(e.charCodeAt(f)^u);return M}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ew={print:4,modify:8,copy:16,"annot-forms":32};function Th(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(Ew.perm!==void 0)throw new Error("Invalid permission: "+c);s+=Ew[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=p2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=m2(this.encryptionKey,this.padding)}function Nh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function xw(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){Wt.console&&ur.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jm(n){if(!(this instanceof Jm))return new Jm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qS(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,s){if(!(this instanceof Ec))return new Ec(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,qS.call(this,r,s)}function Ch(n,e,t,r,s){if(!(this instanceof Ch))return new Ch(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qS.call(this,r,s)}function St(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",y=null;Xn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,E={},b={internal:{},__private__:{}};b.__private__.PubSub=xw;var M="1.3",F=b.__private__.getPdfVersion=function(){return M};b.__private__.setPdfVersion=function(A){M=A};var q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return q};var U=b.__private__.getPageFormat=function(A){return q[A]};s=s||"a4";var te="compat",re="advanced",X=te;function le(){this.saveGraphicsState(),ce(new Ct(Lt,0,0,-Lt,0,qi()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),d="n",X=re}function Se(){this.restoreGraphicsState(),d="S",X=te}var $=b.__private__.combineFontStyleAndFontWeight=function(A,j){if(A=="bold"&&j=="normal"||A=="bold"&&j==400||A=="normal"&&j=="italic"||A=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(A=j==400||j==="normal"?A==="italic"?"italic":"normal":j!=700&&j!=="bold"||A!=="normal"?(j==700?"bold":j)+""+A:"bold"),A};b.advancedAPI=function(A){var j=X===te;return j&&le.call(this),typeof A!="function"||(A(this),j&&Se.call(this)),this},b.compatAPI=function(A){var j=X===re;return j&&Se.call(this),typeof A!="function"||(A(this),j&&le.call(this)),this},b.isAdvancedAPI=function(){return X===re};var O,k=function(A){if(X!==re)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=b.roundToPrecision=b.__private__.roundToPrecision=function(A,j){var ae=e||j;if(isNaN(A)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ae).replace(/0+$/,"")};O=b.hpf=b.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return H(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return H(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return H(A,16)};var I=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return H(A,2)},P=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return H(A,3)},R=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return X===te?A*Lt:X===re?A:void 0},ee=function(A){return R((function(j){return X===te?qi()-j:X===re?j:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var ge,ne="00000000000000000000000000000000",pe=b.__private__.getFileId=function(){return ne},ie=b.__private__.setFileId=function(A){return ne=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(en=new Th(y.userPermissions,y.userPassword,y.ownerPassword,ne)),ne};b.setFileId=function(A){return ie(A),this},b.getFileId=function(){return pe()};var be=b.__private__.convertDateToPDFDate=function(A){var j=A.getTimezoneOffset(),ae=j<0?"+":"-",me=Math.floor(Math.abs(j/60)),Ae=Math.abs(j%60),Be=[ae,Z(me),"'",Z(Ae),"'"].join("");return["D:",A.getFullYear(),Z(A.getMonth()+1),Z(A.getDate()),Z(A.getHours()),Z(A.getMinutes()),Z(A.getSeconds()),Be].join("")},Y=b.__private__.convertPDFDateToDate=function(A){var j=parseInt(A.substr(2,4),10),ae=parseInt(A.substr(6,2),10)-1,me=parseInt(A.substr(8,2),10),Ae=parseInt(A.substr(10,2),10),Be=parseInt(A.substr(12,2),10),Ke=parseInt(A.substr(14,2),10);return new Date(j,ae,me,Ae,Be,Ke,0)},he=b.__private__.setCreationDate=function(A){var j;if(A===void 0&&(A=new Date),A instanceof Date)j=be(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=A}return ge=j},C=b.__private__.getCreationDate=function(A){var j=ge;return A==="jsDate"&&(j=Y(ge)),j};b.setCreationDate=function(A){return he(A),this},b.getCreationDate=function(A){return C(A)};var B,Z=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ue=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},fe=0,ye=[],Ce=[],ke=0,Ue=[],qe=[],nt=!1,rt=Ce;b.__private__.setCustomOutputDestination=function(A){nt=!0,rt=A};var Me=function(A){nt||(rt=A)};b.__private__.resetCustomOutputDestination=function(){nt=!1,rt=Ce};var ce=b.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,rt.push(A),rt},tn=b.__private__.write=function(A){return ce(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Nt=b.__private__.getArrayBuffer=function(A){for(var j=A.length,ae=new ArrayBuffer(j),me=new Uint8Array(ae);j--;)me[j]=A.charCodeAt(j);return ae},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return xt};var Je=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return Je=X===re?A/Lt:A,this};var yt,tt=b.__private__.getFontSize=b.getFontSize=function(){return X===te?Je:Je*Lt},Yt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Yt=A,this},b.__private__.getR2L=b.getR2L=function(){return Yt};var _t,mn=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))yt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');yt=A}else yt=parseInt(A,10)};b.__private__.getZoomMode=function(){return yt};var Bt,ct=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');_t=A};b.__private__.getPageMode=function(){return _t};var wt=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Bt=A};b.__private__.getLayoutMode=function(){return Bt},b.__private__.setDisplayMode=b.setDisplayMode=function(A,j,ae){return mn(A),wt(j),ct(ae),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(Tt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[A]},b.__private__.getDocumentProperties=function(){return Tt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var j in Tt)Tt.hasOwnProperty(j)&&A[j]&&(Tt[j]=A[j]);return this},b.__private__.setDocumentProperty=function(A,j){if(Object.keys(Tt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[A]=j};var st,Lt,bt,Tn,an,ht={},It={},Nn=[],At={},nn={},Vt={},ir={},Gn=null,gn=0,Pt=[],rn=new xw(b),Js=n.hotfixes||[],pr={},rs={},di=[],Ct=function A(j,ae,me,Ae,Be,Ke){if(!(this instanceof A))return new A(j,ae,me,Ae,Be,Ke);isNaN(j)&&(j=1),isNaN(ae)&&(ae=0),isNaN(me)&&(me=0),isNaN(Ae)&&(Ae=1),isNaN(Be)&&(Be=0),isNaN(Ke)&&(Ke=0),this._matrix=[j,ae,me,Ae,Be,Ke]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(A)},Ct.prototype.multiply=function(A){var j=A.sx*this.sx+A.shy*this.shx,ae=A.sx*this.shy+A.shy*this.sy,me=A.shx*this.sx+A.sy*this.shx,Ae=A.shx*this.shy+A.sy*this.sy,Be=A.tx*this.sx+A.ty*this.shx+this.tx,Ke=A.tx*this.shy+A.ty*this.sy+this.ty;return new Ct(j,ae,me,Ae,Be,Ke)},Ct.prototype.decompose=function(){var A=this.sx,j=this.shy,ae=this.shx,me=this.sy,Ae=this.tx,Be=this.ty,Ke=Math.sqrt(A*A+j*j),at=(A/=Ke)*ae+(j/=Ke)*me;ae-=A*at,me-=j*at;var pt=Math.sqrt(ae*ae+me*me);return at/=pt,A*(me/=pt)<j*(ae/=pt)&&(A=-A,j=-j,at=-at,Ke=-Ke),{scale:new Ct(Ke,0,0,pt,0,0),translate:new Ct(1,0,0,1,Ae,Be),rotate:new Ct(A,j,-j,A,0,0),skew:new Ct(1,0,at,1,0,0)}},Ct.prototype.toString=function(A){return this.join(" ")},Ct.prototype.inversed=function(){var A=this.sx,j=this.shy,ae=this.shx,me=this.sy,Ae=this.tx,Be=this.ty,Ke=1/(A*me-j*ae),at=me*Ke,pt=-j*Ke,kt=-ae*Ke,qt=A*Ke;return new Ct(at,pt,kt,qt,-at*Ae-kt*Be,-pt*Ae-qt*Be)},Ct.prototype.applyToPoint=function(A){var j=A.x*this.sx+A.y*this.shx+this.tx,ae=A.x*this.shy+A.y*this.sy+this.ty;return new Ta(j,ae)},Ct.prototype.applyToRectangle=function(A){var j=this.applyToPoint(A),ae=this.applyToPoint(new Ta(A.x+A.w,A.y+A.h));return new Na(j.x,j.y,ae.x-j.x,ae.y-j.y)},Ct.prototype.clone=function(){var A=this.sx,j=this.shy,ae=this.shx,me=this.sy,Ae=this.tx,Be=this.ty;return new Ct(A,j,ae,me,Ae,Be)},b.Matrix=Ct;var In=b.matrixMult=function(A,j){return j.multiply(A)},$n=new Ct(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=$n;var Pn=function(A,j){if(!nn[A]){var ae=(j instanceof Ec?"Sh":"P")+(Object.keys(At).length+1).toString(10);j.id=ae,nn[A]=ae,At[ae]=j,rn.publish("addPattern",j)}};b.ShadingPattern=Ec,b.TilingPattern=Ch,b.addShadingPattern=function(A,j){return k("addShadingPattern()"),Pn(A,j),this},b.beginTilingPattern=function(A){k("beginTilingPattern()"),hs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,j){k("endTilingPattern()"),j.stream=qe[B].join(`
`),Pn(A,j),rn.publish("endTilingPattern",j),di.pop().restore()};var mr,Zn=b.__private__.newObject=function(){var A=Vr();return cr(A,!0),A},Vr=b.__private__.newObjectDeferred=function(){return fe++,ye[fe]=function(){return ke},fe},cr=function(A,j){return j=typeof j=="boolean"&&j,ye[A]=ke,j&&ce(A+" 0 obj"),A},va=b.__private__.newAdditionalObject=function(){var A={objId:Vr(),content:""};return Ue.push(A),A},is=Vr(),si=Vr(),ai=b.__private__.decodeColorString=function(A){var j=A.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var ae=parseFloat(j[0]);j=[ae,ae,ae,"r"]}for(var me="#",Ae=0;Ae<3;Ae++)me+=("0"+Math.floor(255*parseFloat(j[Ae])).toString(16)).slice(-2);return me},Fr=b.__private__.encodeColorString=function(A){var j;typeof A=="string"&&(A={ch1:A});var ae=A.ch1,me=A.ch2,Ae=A.ch3,Be=A.ch4,Ke=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var at=new US(ae);if(at.ok)ae=at.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var pt=parseInt(ae.substr(1),16);ae=pt>>16&255,me=pt>>8&255,Ae=255&pt}if(me===void 0||Be===void 0&&ae===me&&me===Ae)j=typeof ae=="string"?ae+" "+Ke[0]:A.precision===2?I(ae/255)+" "+Ke[0]:P(ae/255)+" "+Ke[0];else if(Be===void 0||Xn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ke[1]].join(" ");j=typeof ae=="string"?[ae,me,Ae,Ke[1]].join(" "):A.precision===2?[I(ae/255),I(me/255),I(Ae/255),Ke[1]].join(" "):[P(ae/255),P(me/255),P(Ae/255),Ke[1]].join(" ")}else j=typeof ae=="string"?[ae,me,Ae,Be,Ke[2]].join(" "):A.precision===2?[I(ae),I(me),I(Ae),I(Be),Ke[2]].join(" "):[P(ae),P(me),P(Ae),P(Be),Ke[2]].join(" ");return j},Ur=b.__private__.getFilters=function(){return u},Jn=b.__private__.putStream=function(A){var j=(A=A||{}).data||"",ae=A.filters||Ur(),me=A.alreadyAppliedFilters||[],Ae=A.addLength1||!1,Be=j.length,Ke=A.objectId,at=function(gr){return gr};if(y!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(at=en.encryptor(Ke,0));var pt={};ae===!0&&(ae=["FlateEncode"]);var kt=A.additionalKeyValues||[],qt=(pt=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(j,ae):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(pt.data.length!==0&&(kt.push({key:"Length",value:pt.data.length}),Ae===!0&&kt.push({key:"Length1",value:Be})),qt.length!=0)if(qt.split("/").length-1==1)kt.push({key:"Filter",value:qt});else{kt.push({key:"Filter",value:"["+qt+"]"});for(var ln=0;ln<kt.length;ln+=1)if(kt[ln].key==="DecodeParms"){for(var er=[],sr=0;sr<pt.reverseChain.split("/").length-1;sr+=1)er.push("null");er.push(kt[ln].value),kt[ln].value="["+er.join(" ")+"]"}}ce("<<");for(var Dn=0;Dn<kt.length;Dn++)ce("/"+kt[Dn].key+" "+kt[Dn].value);ce(">>"),pt.data.length!==0&&(ce("stream"),ce(at(pt.data)),ce("endstream"))},Wn=b.__private__.putPage=function(A){var j=A.number,ae=A.data,me=A.objId,Ae=A.contentsObjId;cr(me,!0),ce("<</Type /Page"),ce("/Parent "+A.rootDictionaryObjId+" 0 R"),ce("/Resources "+A.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(O(A.mediaBox.bottomLeftX))+" "+parseFloat(O(A.mediaBox.bottomLeftY))+" "+O(A.mediaBox.topRightX)+" "+O(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ce("/CropBox ["+O(A.cropBox.bottomLeftX)+" "+O(A.cropBox.bottomLeftY)+" "+O(A.cropBox.topRightX)+" "+O(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ce("/BleedBox ["+O(A.bleedBox.bottomLeftX)+" "+O(A.bleedBox.bottomLeftY)+" "+O(A.bleedBox.topRightX)+" "+O(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ce("/TrimBox ["+O(A.trimBox.bottomLeftX)+" "+O(A.trimBox.bottomLeftY)+" "+O(A.trimBox.topRightX)+" "+O(A.trimBox.topRightY)+"]"),A.artBox!==null&&ce("/ArtBox ["+O(A.artBox.bottomLeftX)+" "+O(A.artBox.bottomLeftY)+" "+O(A.artBox.topRightX)+" "+O(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ce("/UserUnit "+A.userUnit),rn.publish("putPage",{objId:me,pageContext:Pt[j],pageNumber:j,page:ae}),ce("/Contents "+Ae+" 0 R"),ce(">>"),ce("endobj");var Be=ae.join(`
`);return X===re&&(Be+=`
Q`),cr(Ae,!0),Jn({data:Be,filters:Ur(),objectId:Ae}),ce("endobj"),me},ss=b.__private__.putPages=function(){var A,j,ae=[];for(A=1;A<=gn;A++)Pt[A].objId=Vr(),Pt[A].contentsObjId=Vr();for(A=1;A<=gn;A++)ae.push(Wn({number:A,data:qe[A],objId:Pt[A].objId,contentsObjId:Pt[A].contentsObjId,mediaBox:Pt[A].mediaBox,cropBox:Pt[A].cropBox,bleedBox:Pt[A].bleedBox,trimBox:Pt[A].trimBox,artBox:Pt[A].artBox,userUnit:Pt[A].userUnit,rootDictionaryObjId:is,resourceDictionaryObjId:si}));cr(is,!0),ce("<</Type /Pages");var me="/Kids [";for(j=0;j<gn;j++)me+=ae[j]+" 0 R ";ce(me+"]"),ce("/Count "+gn),ce(">>"),ce("endobj"),rn.publish("postPutPages")},Ms=function(A){rn.publish("putFont",{font:A,out:ce,newObject:Zn,putStream:Jn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Zn(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+Nh(A.postScriptName)),ce("/Subtype /Type1"),typeof A.encoding=="string"&&ce("/Encoding /"+A.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},xi=function(A){A.objectNumber=Zn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[O(A.x),O(A.y),O(A.x+A.width),O(A.y+A.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ae=A.pages[1].join(`
`);Jn({data:ae,additionalKeyValues:j,objectId:A.objectNumber}),ce("endobj")},as=function(A,j){j||(j=21);var ae=Zn(),me=(function(Ke,at){var pt,kt=[],qt=1/(at-1);for(pt=0;pt<1;pt+=qt)kt.push(pt);if(kt.push(1),Ke[0].offset!=0){var ln={offset:0,color:Ke[0].color};Ke.unshift(ln)}if(Ke[Ke.length-1].offset!=1){var er={offset:1,color:Ke[Ke.length-1].color};Ke.push(er)}for(var sr="",Dn=0,gr=0;gr<kt.length;gr++){for(pt=kt[gr];pt>Ke[Dn+1].offset;)Dn++;var Bn=Ke[Dn].offset,zr=(pt-Bn)/(Ke[Dn+1].offset-Bn),Bs=Ke[Dn].color,sa=Ke[Dn+1].color;sr+=ue(Math.round((1-zr)*Bs[0]+zr*sa[0]).toString(16))+ue(Math.round((1-zr)*Bs[1]+zr*sa[1]).toString(16))+ue(Math.round((1-zr)*Bs[2]+zr*sa[2]).toString(16))}return sr.trim()})(A.colors,j),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+j+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:me,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ce("endobj"),A.objectNumber=Zn(),ce("<< /ShadingType "+A.type),ce("/ColorSpace /DeviceRGB");var Be="/Coords ["+O(parseFloat(A.coords[0]))+" "+O(parseFloat(A.coords[1]))+" ";A.type===2?Be+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3])):Be+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3]))+" "+O(parseFloat(A.coords[4]))+" "+O(parseFloat(A.coords[5])),ce(Be+="]"),A.matrix&&ce("/Matrix ["+A.matrix.toString()+"]"),ce("/Function "+ae+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Xa=function(A,j){var ae=Vr(),me=Zn();j.push({resourcesOid:ae,objectOid:me}),A.objectNumber=me;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+A.boundingBox.map(O).join(" ")+"]"}),Ae.push({key:"XStep",value:O(A.xStep)}),Ae.push({key:"YStep",value:O(A.yStep)}),Ae.push({key:"Resources",value:ae+" 0 R"}),A.matrix&&Ae.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Jn({data:A.stream,additionalKeyValues:Ae,objectId:A.objectNumber}),ce("endobj")},Yl=function(A){for(var j in A.objectNumber=Zn(),ce("<<"),A)switch(j){case"opacity":ce("/ca "+I(A[j]));break;case"stroke-opacity":ce("/CA "+I(A[j]))}ce(">>"),ce("endobj")},ea=function(A){cr(A.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in ce("/Font <<"),ht)ht.hasOwnProperty(j)&&(w===!1||w===!0&&E.hasOwnProperty(j))&&ce("/"+j+" "+ht[j].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(At).length>0){for(var j in ce("/Shading <<"),At)At.hasOwnProperty(j)&&At[j]instanceof Ec&&At[j].objectNumber>=0&&ce("/"+j+" "+At[j].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),ce(">>")}})(),(function(j){if(Object.keys(At).length>0){for(var ae in ce("/Pattern <<"),At)At.hasOwnProperty(ae)&&At[ae]instanceof b.TilingPattern&&At[ae].objectNumber>=0&&At[ae].objectNumber<j&&ce("/"+ae+" "+At[ae].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),ce(">>")}})(A.objectOid),(function(){if(Object.keys(Vt).length>0){var j;for(j in ce("/ExtGState <<"),Vt)Vt.hasOwnProperty(j)&&Vt[j].objectNumber>=0&&ce("/"+j+" "+Vt[j].objectNumber+" 0 R");rn.publish("putGStateDict"),ce(">>")}})(),(function(){for(var j in ce("/XObject <<"),pr)pr.hasOwnProperty(j)&&pr[j].objectNumber>=0&&ce("/"+j+" "+pr[j].objectNumber+" 0 R");rn.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},ul=function(A){It[A.fontName]=It[A.fontName]||{},It[A.fontName][A.fontStyle]=A.id},ta=function(A,j,ae,me,Ae){var Be={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:A,fontName:j,fontStyle:ae,encoding:me,isStandardFont:Ae||!1,metadata:{}};return rn.publish("addFont",{font:Be,instance:this}),ht[Be.id]=Be,ul(Be),Be.id},Ir=b.__private__.pdfEscape=b.pdfEscape=function(A,j){return(function(ae,me){var Ae,Be,Ke,at,pt,kt,qt,ln,er;if(Ke=(me=me||{}).sourceEncoding||"Unicode",pt=me.outputEncoding,(me.autoencode||pt)&&ht[st].metadata&&ht[st].metadata[Ke]&&ht[st].metadata[Ke].encoding&&(at=ht[st].metadata[Ke].encoding,!pt&&ht[st].encoding&&(pt=ht[st].encoding),!pt&&at.codePages&&(pt=at.codePages[0]),typeof pt=="string"&&(pt=at[pt]),pt)){for(qt=!1,kt=[],Ae=0,Be=ae.length;Ae<Be;Ae++)(ln=pt[ae.charCodeAt(Ae)])?kt.push(String.fromCharCode(ln)):kt.push(ae[Ae]),kt[Ae].charCodeAt(0)>>8&&(qt=!0);ae=kt.join("")}for(Ae=ae.length;qt===void 0&&Ae!==0;)ae.charCodeAt(Ae-1)>>8&&(qt=!0),Ae--;if(!qt)return ae;for(kt=me.noBOM?[]:[254,255],Ae=0,Be=ae.length;Ae<Be;Ae++){if((er=(ln=ae.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(er),kt.push(ln-(er<<8))}return String.fromCharCode.apply(void 0,kt)})(A,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cr=b.__private__.beginPage=function(A){qe[++gn]=[],Pt[gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},js(gn),Me(qe[B])},_a=function(A,j){var ae,me,Ae;switch(t=j||t,typeof A=="string"&&(ae=U(A.toLowerCase()),Array.isArray(ae)&&(me=ae[0],Ae=ae[1])),Array.isArray(A)&&(me=A[0]*Lt,Ae=A[1]*Lt),isNaN(me)&&(me=s[0],Ae=s[1]),(me>14400||Ae>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ae=Math.min(14400,Ae)),s=[me,Ae],t.substr(0,1)){case"l":Ae>me&&(s=[Ae,me]);break;case"p":me>Ae&&(s=[Ae,me])}Cr(s),Fs(Es),ce(cs),bn!==0&&ce(bn+" J"),xa!==0&&ce(xa+" j"),rn.publish("addPage",{pageNumber:gn})},Co=function(A){A>0&&A<=gn&&(qe.splice(A,1),Pt.splice(A,1),gn--,B>gn&&(B=gn),this.setPage(B))},js=function(A){A>0&&A<=gn&&(B=A)},Za=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return qe.length-1},Ja=function(A,j,ae){var me,Ae=void 0;return ae=ae||{},A=A!==void 0?A:ht[st].fontName,j=j!==void 0?j:ht[st].fontStyle,me=A.toLowerCase(),It[me]!==void 0&&It[me][j]!==void 0?Ae=It[me][j]:It[A]!==void 0&&It[A][j]!==void 0?Ae=It[A][j]:ae.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+A+"', '"+j+"'. Refer to getFontList() for available fonts."),Ae||ae.noFallback||(Ae=It.times[j])==null&&(Ae=It.times.normal),Ae},ba=b.__private__.putInfo=function(){var A=Zn(),j=function(me){return me};for(var ae in y!==null&&(j=en.encryptor(A,0)),ce("<<"),ce("/Producer ("+Ir(j("jsPDF "+St.version))+")"),Tt)Tt.hasOwnProperty(ae)&&Tt[ae]&&ce("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Ir(j(Tt[ae]))+")");ce("/CreationDate ("+Ir(j(ge))+")"),ce(">>"),ce("endobj")},Ro=b.__private__.putCatalog=function(A){var j=(A=A||{}).rootDictionaryObjId||is;switch(Zn(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+j+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+yt;ae.substr(ae.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+I(yt)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}_t&&ce("/PageMode /"+_t),rn.publish("putCatalog"),ce(">>"),ce("endobj")},_n=b.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(fe+1)),ce("/Root "+fe+" 0 R"),ce("/Info "+(fe-1)+" 0 R"),y!==null&&ce("/Encrypt "+en.oid+" 0 R"),ce("/ID [ <"+ne+"> <"+ne+"> ]"),ce(">>")},Lo=b.__private__.putHeader=function(){ce("%PDF-"+M),ce("%")},Kl=b.__private__.putXRef=function(){var A="0000000000";ce("xref"),ce("0 "+(fe+1)),ce("0000000000 65535 f ");for(var j=1;j<=fe;j++)typeof ye[j]=="function"?ce((A+ye[j]()).slice(-10)+" 00000 n "):ye[j]!==void 0?ce((A+ye[j]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},os=b.__private__.buildDocument=function(){var A;fe=0,ke=0,Ce=[],ye=[],Ue=[],is=Vr(),si=Vr(),Me(Ce),rn.publish("buildDocument"),Lo(),ss(),(function(){rn.publish("putAdditionalObjects");for(var ae=0;ae<Ue.length;ae++){var me=Ue[ae];cr(me.objId,!0),ce(me.content),ce("endobj")}rn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ae in ht)ht.hasOwnProperty(ae)&&(w===!1||w===!0&&E.hasOwnProperty(ae))&&Ms(ht[ae])})(),(function(){var ae;for(ae in Vt)Vt.hasOwnProperty(ae)&&Yl(Vt[ae])})(),(function(){for(var ae in pr)pr.hasOwnProperty(ae)&&xi(pr[ae])})(),(function(ae){var me;for(me in At)At.hasOwnProperty(me)&&(At[me]instanceof Ec?as(At[me]):At[me]instanceof Ch&&Xa(At[me],ae))})(A),rn.publish("putResources"),A.forEach(ea),ea({resourcesOid:si,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),y!==null&&(en.oid=Zn(),ce("<<"),ce("/Filter /Standard"),ce("/V "+en.v),ce("/R "+en.r),ce("/U <"+en.toHexString(en.U)+">"),ce("/O <"+en.toHexString(en.O)+">"),ce("/P "+en.P),ce(">>"),ce("endobj")),ba(),Ro();var j=ke;return Kl(),_n(),ce("startxref"),ce(""+j),ce("%%EOF"),Me(qe[B]),Ce.join(`
`)},na=b.__private__.getBlob=function(A){return new Blob([Nt(A)],{type:"application/pdf"})},pi=b.output=b.__private__.output=(mr=function(A,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",A){case void 0:return os();case"save":b.save(j.filename);break;case"arraybuffer":return Nt(os());case"blob":return na(os());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(na(os()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",me=os();try{ae=Aw(me)}catch{ae=Aw(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+j.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(Ae=j.pdfObjectUrl,Be="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",at=Wt.open();return at!==null&&at.document.write(Ke),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',kt=Wt.open();if(kt!==null){kt.document.write(pt);var qt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=j.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',er=Wt.open();if(er!==null&&(er.document.write(ln),er.document.title=j.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",j);default:return null}},mr.foo=function(){try{return mr.apply(this,arguments)}catch(ae){var A=ae.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var j="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Wt.console)throw new Error(j);Wt.console.error(j,ae),Wt.alert&&alert(j)}},mr.foo.bar=mr,mr.foo),eo=function(A){return Array.isArray(Js)===!0&&Js.indexOf(A)>-1};switch(r){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Lt=r}var en=null;he(),ie();var mi=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[A].objId,pageNumber:A,pageContext:Pt[A]}},to=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Pt)if(Pt[j].objId===A)break;return mi(j)},wa=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Pt[B].objId,pageNumber:B,pageContext:Pt[B]}};b.addPage=function(){return _a.apply(this,arguments),this},b.setPage=function(){return js.apply(this,arguments),Me.call(this,qe[B]),this},b.insertPage=function(A){return this.addPage(),this.movePage(B,A),this},b.movePage=function(A,j){var ae,me;if(A>j){ae=qe[A],me=Pt[A];for(var Ae=A;Ae>j;Ae--)qe[Ae]=qe[Ae-1],Pt[Ae]=Pt[Ae-1];qe[j]=ae,Pt[j]=me,this.setPage(j)}else if(A<j){ae=qe[A],me=Pt[A];for(var Be=A;Be<j;Be++)qe[Be]=qe[Be+1],Pt[Be]=Pt[Be+1];qe[j]=ae,Pt[j]=me,this.setPage(j)}return this},b.deletePage=function(){return Co.apply(this,arguments),this},b.__private__.text=b.text=function(A,j,ae,me,Ae){var Be,Ke,at,pt,kt,qt,ln,er,sr,Dn=(me=me||{}).scope||this;if(typeof A=="number"&&typeof j=="number"&&(typeof ae=="string"||Array.isArray(ae))){var gr=ae;ae=j,j=A,A=gr}if(arguments[3]instanceof Ct==0?(at=arguments[4],pt=arguments[5],Xn(ln=arguments[3])==="object"&&ln!==null||(typeof at=="string"&&(pt=at,at=null),typeof ln=="string"&&(pt=ln,ln=null),typeof ln=="number"&&(at=ln,ln=null),me={flags:ln,angle:at,align:pt})):(k("The transform parameter of text() with a Matrix value"),sr=Ae),isNaN(j)||isNaN(ae)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Dn;var Bn,zr="",Bs=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Fi,sa=Dn.internal.scaleFactor;function Xl(On){return On=On.split("	").join(Array(me.TabLen||9).join(" ")),Ir(On,ln)}function io(On){for(var qn,ar=On.concat(),yr=[],Oa=ar.length;Oa--;)typeof(qn=ar.shift())=="string"?yr.push(qn):Array.isArray(On)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?yr.push(qn[0]):yr.push([qn[0],qn[1],qn[2]]);return yr}function Rr(On,qn){var ar;if(typeof On=="string")ar=qn(On)[0];else if(Array.isArray(On)){for(var yr,Oa,zs=On.concat(),$i=[],dl=zs.length;dl--;)typeof(yr=zs.shift())=="string"?$i.push(qn(yr)[0]):Array.isArray(yr)&&typeof yr[0]=="string"&&(Oa=qn(yr[0],yr[1],yr[2]),$i.push([Oa[0],Oa[1],Oa[2]]));ar=$i}return ar}var fs=!1,Do=!0;if(typeof A=="string")fs=!0;else if(Array.isArray(A)){var zi=A.concat();Ke=[];for(var m,x=zi.length;x--;)(typeof(m=zi.shift())!="string"||Array.isArray(m)&&typeof m[0]!="string")&&(Do=!1);fs=Do}if(fs===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var L=Je/Dn.internal.scaleFactor,Q=L*(Bs-1);switch(me.baseline){case"bottom":ae-=Q;break;case"top":ae+=L-Q;break;case"hanging":ae+=L-2*Q;break;case"middle":ae+=L/2-Q}if((qt=me.maxWidth||0)>0&&(typeof A=="string"?A=Dn.splitTextToSize(A,qt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(On,qn){return On.concat(Dn.splitTextToSize(qn,qt))},[]))),Be={text:A,x:j,y:ae,options:me,mutex:{pdfEscape:Ir,activeFontKey:st,fonts:ht,activeFontSize:Je}},rn.publish("preProcessText",Be),A=Be.text,at=(me=Be.options).angle,sr instanceof Ct==0&&at&&typeof at=="number"){at*=Math.PI/180,me.rotationDirection===0&&(at=-at),X===re&&(at=-at);var xe=Math.cos(at),Oe=Math.sin(at);sr=new Ct(xe,Oe,-Oe,xe,0,0)}else at&&at instanceof Ct&&(sr=at);X!==re||sr||(sr=$n),(kt=me.charSpace||Ea)!==void 0&&(zr+=O(R(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=me.horizontalScale)!==void 0&&(zr+=O(100*er)+` Tz
`),me.lang;var Ze=-1,un=me.renderingMode!==void 0?me.renderingMode:me.stroke,hr=Dn.internal.getCurrentPageInfo().pageContext;switch(un){case 0:case!1:case"fill":Ze=0;break;case 1:case!0:case"stroke":Ze=1;break;case 2:case"fillThenStroke":Ze=2;break;case 3:case"invisible":Ze=3;break;case 4:case"fillAndAddForClipping":Ze=4;break;case 5:case"strokeAndAddPathForClipping":Ze=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ze=6;break;case 7:case"addToPathForClipping":Ze=7}var cn=hr.usedRenderingMode!==void 0?hr.usedRenderingMode:-1;Ze!==-1?zr+=Ze+` Tr
`:cn!==-1&&(zr+=`0 Tr
`),Ze!==-1&&(hr.usedRenderingMode=Ze),pt=me.align||"left";var fn,jn=Je*Bs,Is=Dn.internal.pageSize.getWidth(),Lr=ht[st];kt=me.charSpace||Ea,qt=me.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},me.flags);var gi=[],Ia=function(On){return Dn.getStringUnitWidth(On,{font:Lr,charSpace:kt,fontSize:Je,doKerning:!1})*Je/sa};if(Object.prototype.toString.call(A)==="[object Array]"){var yi;Ke=io(A),pt!=="left"&&(fn=Ke.map(Ia));var Hi,Oo=0;if(pt==="right"){j-=fn[0],A=[],x=Ke.length;for(var qs=0;qs<x;qs++)qs===0?(Hi=Br(j),yi=Ui(ae)):(Hi=R(Oo-fn[qs]),yi=-jn),A.push([Ke[qs],Hi,yi]),Oo=fn[qs]}else if(pt==="center"){j-=fn[0]/2,A=[],x=Ke.length;for(var Ca=0;Ca<x;Ca++)Ca===0?(Hi=Br(j),yi=Ui(ae)):(Hi=R((Oo-fn[Ca])/2),yi=-jn),A.push([Ke[Ca],Hi,yi]),Oo=fn[Ca]}else if(pt==="left"){A=[],x=Ke.length;for(var Zl=0;Zl<x;Zl++)A.push(Ke[Zl])}else if(pt==="justify"&&Lr.encoding==="Identity-H"){A=[],x=Ke.length,qt=qt!==0?qt:Is;for(var so=0,wr=0;wr<x;wr++)if(yi=wr===0?Ui(ae):-jn,Hi=wr===0?Br(j):so,wr<x-1){var nf=R((qt-fn[wr])/(Ke[wr].split(" ").length-1)),Ra=Ke[wr].split(" ");A.push([Ra[0]+" ",Hi,yi]),so=0;for(var La=1;La<Ra.length;La++){var Jl=(Ia(Ra[La-1]+" "+Ra[La])-Ia(Ra[La]))*sa+nf;La==Ra.length-1?A.push([Ra[La],Jl,0]):A.push([Ra[La]+" ",Jl,0]),so-=Jl}}else A.push([Ke[wr],Hi,yi]);A.push(["",so,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],x=Ke.length,qt=qt!==0?qt:Is,wr=0;wr<x;wr++)yi=wr===0?Ui(ae):-jn,Hi=wr===0?Br(j):0,wr<x-1?gi.push(O(R((qt-fn[wr])/(Ke[wr].split(" ").length-1)))):gi.push(0),A.push([Ke[wr],Hi,yi])}}(typeof me.R2L=="boolean"?me.R2L:Yt)===!0&&(A=Rr(A,function(On,qn,ar){return[On.split("").reverse().join(""),qn,ar]})),Be={text:A,x:j,y:ae,options:me,mutex:{pdfEscape:Ir,activeFontKey:st,fonts:ht,activeFontSize:Je}},rn.publish("postProcessText",Be),A=Be.text,Bn=Be.mutex.isHex||!1;var tc=ht[st].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(A=Rr(A,function(On,qn,ar){return[Xl(On),qn,ar]})),Ke=io(A),A=[];for(var oi,ka,Mo,jo=Array.isArray(Ke[0])?1:0,Pa="",eu=function(On,qn,ar){var yr="";return ar instanceof Ct?(ar=typeof me.angle=="number"?In(ar,new Ct(1,0,0,1,On,qn)):In(new Ct(1,0,0,1,On,qn),ar),X===re&&(ar=In(new Ct(1,0,0,-1,0,0),ar)),yr=ar.join(" ")+` Tm
`):yr=O(On)+" "+O(qn)+` Td
`,yr},Gi=0;Gi<Ke.length;Gi++){switch(Pa="",jo){case 1:Mo=(Bn?"<":"(")+Ke[Gi][0]+(Bn?">":")"),oi=parseFloat(Ke[Gi][1]),ka=parseFloat(Ke[Gi][2]);break;case 0:Mo=(Bn?"<":"(")+Ke[Gi]+(Bn?">":")"),oi=Br(j),ka=Ui(ae)}gi!==void 0&&gi[Gi]!==void 0&&(Pa=gi[Gi]+` Tw
`),Gi===0?A.push(Pa+eu(oi,ka,sr)+Mo):jo===0?A.push(Pa+Mo):jo===1&&A.push(Pa+eu(oi,ka,sr)+Mo)}A=jo===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Da=`BT
/`;return Da+=st+" "+Je+` Tf
`,Da+=O(Je*Bs)+` TL
`,Da+=Ni+`
`,Da+=zr,Da+=A,ce(Da+="ET"),E[st]=!0,Dn};var ra=b.__private__.clip=b.clip=function(A){return ce(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return ra("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ce("n"),this};var on=b.__private__.isValidStyle=function(A){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(j=!0),j};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return on(A)&&(d=A),this};var Aa=b.__private__.getStyle=b.getStyle=function(A){var j=d;switch(A){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=A}return j},Vi=b.close=function(){return ce("h"),this};b.stroke=function(){return ce("S"),this},b.fill=function(A){return ls("f",A),this},b.fillEvenOdd=function(A){return ls("f*",A),this},b.fillStroke=function(A){return ls("B",A),this},b.fillStrokeEvenOdd=function(A){return ls("B*",A),this};var ls=function(A,j){Xn(j)==="object"?hl(j,A):ce(A)},ko=function(A){A===null||X===re&&A===void 0||(A=Aa(A),ce(A))};function cl(A,j,ae,me,Ae){var Be=new Ch(j||this.boundingBox,ae||this.xStep,me||this.yStep,this.gState,Ae||this.matrix);Be.stream=this.stream;var Ke=A+"$$"+this.cloneIndex+++"$$";return Pn(Ke,Be),Be}var hl=function(A,j){var ae=nn[A.key],me=At[ae];if(me instanceof Ec)ce("q"),ce(ec(j)),me.gState&&b.setGState(me.gState),ce(A.matrix.toString()+" cm"),ce("/"+ae+" sh"),ce("Q");else if(me instanceof Ch){var Ae=new Ct(1,0,0,-1,0,qi());A.matrix&&(Ae=Ae.multiply(A.matrix||$n),ae=cl.call(me,A.key,A.boundingBox,A.xStep,A.yStep,Ae).id),ce("q"),ce("/Pattern cs"),ce("/"+ae+" scn"),me.gState&&b.setGState(me.gState),ce(j),ce("Q")}},ec=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},fl=b.moveTo=function(A,j){return ce(O(R(A))+" "+O(ee(j))+" m"),this},Vs=b.lineTo=function(A,j){return ce(O(R(A))+" "+O(ee(j))+" l"),this},Ti=b.curveTo=function(A,j,ae,me,Ae,Be){return ce([O(R(A)),O(ee(j)),O(R(ae)),O(ee(me)),O(R(Ae)),O(ee(Be)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,j,ae,me,Ae){if(isNaN(A)||isNaN(j)||isNaN(ae)||isNaN(me)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return X===te?this.lines([[ae-A,me-j]],A,j,[1,1],Ae||"S"):this.lines([[ae-A,me-j]],A,j,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,j,ae,me,Ae,Be){var Ke,at,pt,kt,qt,ln,er,sr,Dn,gr,Bn,zr;if(typeof A=="number"&&(zr=ae,ae=j,j=A,A=zr),me=me||[1,1],Be=Be||!1,isNaN(j)||isNaN(ae)||!Array.isArray(A)||!Array.isArray(me)||!on(Ae)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fl(j,ae),Ke=me[0],at=me[1],kt=A.length,gr=j,Bn=ae,pt=0;pt<kt;pt++)(qt=A[pt]).length===2?(gr=qt[0]*Ke+gr,Bn=qt[1]*at+Bn,Vs(gr,Bn)):(ln=qt[0]*Ke+gr,er=qt[1]*at+Bn,sr=qt[2]*Ke+gr,Dn=qt[3]*at+Bn,gr=qt[4]*Ke+gr,Bn=qt[5]*at+Bn,Ti(ln,er,sr,Dn,gr,Bn));return Be&&Vi(),ko(Ae),this},b.path=function(A){for(var j=0;j<A.length;j++){var ae=A[j],me=ae.c;switch(ae.op){case"m":fl(me[0],me[1]);break;case"l":Vs(me[0],me[1]);break;case"c":Ti.apply(this,me);break;case"h":Vi()}}return this},b.__private__.rect=b.rect=function(A,j,ae,me,Ae){if(isNaN(A)||isNaN(j)||isNaN(ae)||isNaN(me)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return X===te&&(me=-me),ce([O(R(A)),O(ee(j)),O(R(ae)),O(R(me)),"re"].join(" ")),ko(Ae),this},b.__private__.triangle=b.triangle=function(A,j,ae,me,Ae,Be,Ke){if(isNaN(A)||isNaN(j)||isNaN(ae)||isNaN(me)||isNaN(Ae)||isNaN(Be)||!on(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-A,me-j],[Ae-ae,Be-me],[A-Ae,j-Be]],A,j,[1,1],Ke,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,j,ae,me,Ae,Be,Ke){if(isNaN(A)||isNaN(j)||isNaN(ae)||isNaN(me)||isNaN(Ae)||isNaN(Be)||!on(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ae),Be=Math.min(Be,.5*me),this.lines([[ae-2*Ae,0],[Ae*at,0,Ae,Be-Be*at,Ae,Be],[0,me-2*Be],[0,Be*at,-Ae*at,Be,-Ae,Be],[2*Ae-ae,0],[-Ae*at,0,-Ae,-Be*at,-Ae,-Be],[0,2*Be-me],[0,-Be*at,Ae*at,-Be,Ae,-Be]],A+Ae,j,[1,1],Ke,!0),this},b.__private__.ellipse=b.ellipse=function(A,j,ae,me,Ae){if(isNaN(A)||isNaN(j)||isNaN(ae)||isNaN(me)||!on(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ae,Ke=4/3*(Math.SQRT2-1)*me;return fl(A+ae,j),Ti(A+ae,j-Ke,A+Be,j-me,A,j-me),Ti(A-Be,j-me,A-ae,j-Ke,A-ae,j),Ti(A-ae,j+Ke,A-Be,j+me,A,j+me),Ti(A+Be,j+me,A+ae,j+Ke,A+ae,j),ko(Ae),this},b.__private__.circle=b.circle=function(A,j,ae,me){if(isNaN(A)||isNaN(j)||isNaN(ae)||!on(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,j,ae,ae,me)},b.setFont=function(A,j,ae){return ae&&(j=$(j,ae)),st=Ja(A,j,{disableWarning:!1}),this};var us=b.__private__.getFont=b.getFont=function(){return ht[Ja.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,j,ae={};for(A in It)if(It.hasOwnProperty(A))for(j in ae[A]=[],It[A])It[A].hasOwnProperty(j)&&ae[A].push(j);return ae},b.addFont=function(A,j,ae,me,Ae){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ae=$(ae,me)),ta.call(this,A,j,ae,Ae=Ae||"Identity-H")};var Fi,Es=n.lineWidth||.200025,Dt=b.__private__.getLineWidth=b.getLineWidth=function(){return Es},Fs=b.__private__.setLineWidth=b.setLineWidth=function(A){return Es=A,ce(O(R(A))+" w"),this};b.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(A,j){if(A=A||[],j=j||0,isNaN(j)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ae){return O(R(ae))}).join(" "),j=O(R(j)),ce("["+A+"] "+j+" d"),this};var Ql=b.__private__.getLineHeight=b.getLineHeight=function(){return Je*Fi};b.__private__.getLineHeight=b.getLineHeight=function(){return Je*Fi};var no=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Fi=A),this},xs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Fi};no(n.lineHeight);var Br=b.__private__.getHorizontalCoordinate=function(A){return R(A)},Ui=b.__private__.getVerticalCoordinate=function(A){return X===re?A:Pt[B].mediaBox.topRightY-Pt[B].mediaBox.bottomLeftY-R(A)},Us=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return O(Br(A))},Sa=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return O(Ui(A))},cs=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ai(cs)},b.__private__.setStrokeColor=b.setDrawColor=function(A,j,ae,me){return cs=Fr({ch1:A,ch2:j,ch3:ae,ch4:me,pdfColorType:"draw",precision:2}),ce(cs),this};var ro=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ai(ro)},b.__private__.setFillColor=b.setFillColor=function(A,j,ae,me){return ro=Fr({ch1:A,ch2:j,ch3:ae,ch4:me,pdfColorType:"fill",precision:2}),ce(ro),this};var Ni=n.textColor||"0 g",Bi=b.__private__.getTextColor=b.getTextColor=function(){return ai(Ni)};b.__private__.setTextColor=b.setTextColor=function(A,j,ae,me){return Ni=Fr({ch1:A,ch2:j,ch3:ae,ch4:me,pdfColorType:"text",precision:3}),this};var Ea=n.charSpace,qr=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Ea||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ea=A,this};var bn=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var j=b.CapJoinStyles[A];if(j===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bn=j,ce(j+" J"),this};var xa=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var j=b.CapJoinStyles[A];if(j===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xa=j,ce(j+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(O(R(A))+" M"),this},b.GState=Jm,b.setGState=function(A){(A=typeof A=="string"?Vt[ir[A]]:Ts(null,A)).equals(Gn)||(ce("/"+A.id+" gs"),Gn=A)};var Ts=function(A,j){if(!A||!ir[A]){var ae=!1;for(var me in Vt)if(Vt.hasOwnProperty(me)&&Vt[me].equals(j)){ae=!0;break}if(ae)j=Vt[me];else{var Ae="GS"+(Object.keys(Vt).length+1).toString(10);Vt[Ae]=j,j.id=Ae}return A&&(ir[A]=j.id),rn.publish("addGState",j),j}};b.addGState=function(A,j){return Ts(A,j),this},b.saveGraphicsState=function(){return ce("q"),Nn.push({key:st,size:Je,color:Ni}),this},b.restoreGraphicsState=function(){ce("Q");var A=Nn.pop();return st=A.key,Je=A.size,Ni=A.color,Gn=null,this},b.setCurrentTransformationMatrix=function(A){return ce(A.toString()+" cm"),this},b.comment=function(A){return ce("#"+A),this};var Ta=function(A,j){var ae=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Be){isNaN(Be)||(ae=parseFloat(Be))}});var me=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Be){isNaN(Be)||(me=parseFloat(Be))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Be){Ae=Be.toString()}}),this},Na=function(A,j,ae,me){Ta.call(this,A,j),this.type="rect";var Ae=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ke){isNaN(Ke)||(Ae=parseFloat(Ke))}});var Be=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ke){isNaN(Ke)||(Be=parseFloat(Ke))}}),this},ia=function(){this.page=gn,this.currentPage=B,this.pages=qe.slice(0),this.pagesContext=Pt.slice(0),this.x=bt,this.y=Tn,this.matrix=an,this.width=Ii(B),this.height=qi(B),this.outputDestination=rt,this.id="",this.objectNumber=-1};ia.prototype.restore=function(){gn=this.page,B=this.currentPage,Pt=this.pagesContext,qe=this.pages,bt=this.x,Tn=this.y,an=this.matrix,Po(B,this.width),Ci(B,this.height),rt=this.outputDestination};var hs=function(A,j,ae,me,Ae){di.push(new ia),gn=B=0,qe=[],bt=A,Tn=j,an=Ae,Cr([ae,me])};for(var Ns in b.beginFormObject=function(A,j,ae,me,Ae){return hs(A,j,ae,me,Ae),this},b.endFormObject=function(A){return(function(j){if(rs[j])di.pop().restore();else{var ae=new ia,me="Xo"+(Object.keys(pr).length+1).toString(10);ae.id=me,rs[j]=me,pr[me]=ae,rn.publish("addFormObject",ae),di.pop().restore()}})(A),this},b.doFormObject=function(A,j){var ae=pr[rs[A]];return ce("q"),ce(j.toString()+" cm"),ce("/"+ae.id+" Do"),ce("Q"),this},b.getFormObject=function(A){var j=pr[rs[A]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},b.save=function(A,j){return A=A||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Sc(na(os()),A),typeof Sc.unload=="function"&&Wt.setTimeout&&setTimeout(Sc.unload,911),this):new Promise(function(ae,me){try{var Ae=Sc(na(os()),A);typeof Sc.unload=="function"&&Wt.setTimeout&&setTimeout(Sc.unload,911),ae(Ae)}catch(Be){me(Be.message)}})},St.API)St.API.hasOwnProperty(Ns)&&(Ns==="events"&&St.API.events.length?(function(A,j){var ae,me,Ae;for(Ae=j.length-1;Ae!==-1;Ae--)ae=j[Ae][0],me=j[Ae][1],A.subscribe.apply(A,[ae].concat(typeof me=="function"?[me]:me))})(rn,St.API.events):b[Ns]=St.API[Ns]);var Ii=b.getPageWidth=function(A){return(Pt[A=A||B].mediaBox.topRightX-Pt[A].mediaBox.bottomLeftX)/Lt},Po=b.setPageWidth=function(A,j){Pt[A].mediaBox.topRightX=j*Lt+Pt[A].mediaBox.bottomLeftX},qi=b.getPageHeight=function(A){return(Pt[A=A||B].mediaBox.topRightY-Pt[A].mediaBox.bottomLeftY)/Lt},Ci=b.setPageHeight=function(A,j){Pt[A].mediaBox.topRightY=j*Lt+Pt[A].mediaBox.bottomLeftY};return b.internal={pdfEscape:Ir,getStyle:Aa,getFont:us,getFontSize:tt,getCharSpace:qr,getTextColor:Bi,getLineHeight:Ql,getLineHeightFactor:xs,getLineWidth:Dt,write:tn,getHorizontalCoordinate:Br,getVerticalCoordinate:Ui,getCoordinateString:Us,getVerticalCoordinateString:Sa,collections:{},newObject:Zn,newAdditionalObject:va,newObjectDeferred:Vr,newObjectDeferredBegin:cr,getFilters:Ur,putStream:Jn,events:rn,scaleFactor:Lt,pageSize:{getWidth:function(){return Ii(B)},setWidth:function(A){Po(B,A)},getHeight:function(){return qi(B)},setHeight:function(A){Ci(B,A)}},encryptionOptions:y,encryption:en,getEncryptor:function(A){return y!==null?en.encryptor(A,0):function(j){return j}},output:pi,getNumberOfPages:Za,pages:qe,out:ce,f2:I,f3:P,getPageInfo:mi,getPageInfoByObjId:to,getCurrentPageInfo:wa,getPDFVersion:F,Point:Ta,Rectangle:Na,Matrix:Ct,hasHotfix:eo},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ii(B)},set:function(A){Po(B,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return qi(B)},set:function(A){Ci(B,A)},enumerable:!0,configurable:!0}),(function(A){for(var j=0,ae=xt.length;j<ae;j++){var me=ta.call(this,A[j][0],A[j][1],A[j][2],xt[j][3],!0);w===!1&&(E[me]=!0);var Ae=A[j][0].split("-");ul({id:me,fontName:Ae[0],fontStyle:Ae[1]||""})}rn.publish("addFonts",{fonts:ht,dictionary:It})}).call(b,xt),st="F1",_a(s,t),rn.publish("initialized"),b}Th.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Th.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Th.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Th.prototype.processOwnerPassword=function(n,e){return m2(p2(e).substr(0,5),n)},Th.prototype.encryptor=function(n,e){var t=p2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return m2(t,r)}},Jm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.2";var $r=St.API,Dy=1,zc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(n){return n.toFixed(2)},Iu=function(n){return n.toFixed(5)};$r.__acroform__={};var Zs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Tw=function(n){return n*Dy},Yo=function(n){var e=new HS,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},fD=$r.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},dD=$r.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},pD=$r.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ni=$r.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pD(n,e-1)},ri=$r.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fD(n,e-1)},ii=$r.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dD(n,e-1)},mD=$r.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=r(o)||0,[Number(Xt(f.lowerLeft_X)),Number(Xt(f.lowerLeft_Y)),Number(Xt(f.upperRight_X)),Number(Xt(f.upperRight_Y))]},gD=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=g2(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Yo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},g2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=t,u=gt.internal.getHeight(n)||0;u=u<0?-u:u;var c=gt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(I,P,R){if(I+1<s.length){var ee=P+" "+s[I+1][0];return um(ee,n,R).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,y,w=um("3",n,o).height,E=n.multiline?u-o:(u-w)/2,b=E+=2,M=0,F=0,q=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+um(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var U="",te=0,re=0;re<s.length;re++)if(s.hasOwnProperty(re)){var X=!1;if(s[re].length!==1&&q!==s[re].length-1){if((w+2)*(te+2)+2>u)continue e;U+=s[re][q],X=!0,F=re,re--}else{U=(U+=s[re][q]+" ").substr(U.length-1)==" "?U.substr(0,U.length-1):U;var le=parseInt(re),Se=f(le,U,o),$=re>=s.length-1;if(Se&&!$){U+=" ",q=0;continue}if(Se||$){if($)F=le;else if(n.multiline&&(w+2)*(te+2)+2>u)continue e}else{if(!n.multiline||(w+2)*(te+2)+2>u)continue e;F=le}}for(var O="",k=M;k<=F;k++){var H=s[k];if(n.multiline){if(k===F){O+=H[q]+" ",q=(q+1)%H.length;continue}if(k===M){O+=H[H.length-1]+" ";continue}}O+=H[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,y=um(O,n,o).width,n.textAlign){case"right":d=c-y-2;break;case"center":d=(c-y)/2;break;default:d=2}e+=Xt(d)+" "+Xt(b)+` Td
`,e+="("+zc(O)+`) Tj
`,e+=-Xt(d)+` 0 Td
`,b=-(o+2),y=0,M=X?F:F+1,te++,U=""}break}return r.text=e,r.fontSize=o,r},um=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},yD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vD=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},_D=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(No.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(yD)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dy=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new GS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&vD(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=mD(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),Xn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=gD(c);f.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var w="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var b=c.appearanceStreamContent[E];if(w+="/"+E+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var M=b[u];typeof M=="function"&&(M=M.call(s,c)),w+="/"+u+" "+M+" ",s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M)}}else typeof(M=b)=="function"&&(M=M.call(s,c)),w+="/"+u+" "+M,s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(F,q){for(var U in F)if(F.hasOwnProperty(U)){var te=U,re=F[U];q.internal.newObjectDeferredBegin(re.objId,!0),Xn(re)==="object"&&typeof re.putStream=="function"&&re.putStream(),delete F[te]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},zS=$r.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Xn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+zc(r(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},S0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+zc(r(n))+")"},Xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xo.prototype.toString=function(){return this.objId+" 0 R"},Xo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:zS(s,this.objId,this.scope)}):s instanceof Xo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var HS=function(){Xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Zs(HS,Xo);var GS=function(){Xo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+zc(t(n))+")"}},set:function(t){n=t}})};Zs(GS,Xo);var No=function n(){Xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute F supplied.');e=U}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(e,3)},set:function(U){U?this.F=ri(e,3):this.F=ii(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute Ff supplied.');t=U}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(U){r=U!==void 0?U:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(U){r[0]=U}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(U){r[1]=U}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(U){r[2]=U}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(U){r[3]=U}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(U){switch(U){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=U;break;default:throw new Error('Invalid value "'+U+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof eg)return;o="FieldObject"+n.FieldNum++}var U=function(te){return te};return this.scope&&(U=this.scope.internal.getEncryptor(this.objId)),"("+zc(U(o))+")"},set:function(U){o=U.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(U){o=U}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(U){u=U}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(U){c=U}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(U){f=U}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Dy:d},set:function(U){d=U}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(U){y=U}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof eg||this instanceof Cc))return S0(w,this.objId,this.scope)},set:function(U){U=U.toString(),w=U}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof ji==0?S0(E,this.objId,this.scope):E},set:function(U){U=U.toString(),E=this instanceof ji==0?U.substr(0,1)==="("?bh(U.substr(1,U.length-2)):bh(U):U}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?bh(E.substr(1,E.length-1)):E},set:function(U){U=U.toString(),E=this instanceof ji==1?"/"+U:U}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(U){this.V=U}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ji==0?S0(b,this.objId,this.scope):b},set:function(U){U=U.toString(),b=this instanceof ji==0?U.substr(0,1)==="("?bh(U.substr(1,U.length-2)):bh(U):U}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?bh(b.substr(1,b.length-1)):b},set:function(U){U=U.toString(),b=this instanceof ji==1?"/"+U:U}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(U){U=!!U,F=U}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(U){M=U}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(U){U?this.Ff=ri(this.Ff,1):this.Ff=ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(U){U?this.Ff=ri(this.Ff,2):this.Ff=ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(U){U?this.Ff=ri(this.Ff,3):this.Ff=ii(this.Ff,3)}});var q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(q!==null)return q},set:function(U){if([0,1,2].indexOf(U)===-1)throw new Error('Invalid value "'+U+'" for attribute Q supplied.');q=U}}),Object.defineProperty(this,"textAlign",{get:function(){var U;switch(q){case 0:default:U="left";break;case 1:U="center";break;case 2:U="right"}return U},configurable:!0,enumerable:!0,set:function(U){switch(U){case"right":case 2:q=2;break;case"center":case 1:q=1;break;default:q=0}}})};Zs(No,Xo);var Dh=function(){No.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zS(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(t){t?this.Ff=ri(this.Ff,18):this.Ff=ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ri(this.Ff,19):this.Ff=ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(t){t?(this.Ff=ri(this.Ff,20),e.sort()):this.Ff=ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(t){t?this.Ff=ri(this.Ff,22):this.Ff=ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=ri(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(t){t?this.Ff=ri(this.Ff,27):this.Ff=ii(this.Ff,27)}}),this.hasAppearanceStream=!1};Zs(Dh,No);var Oh=function(){Dh.call(this),this.fontName="helvetica",this.combo=!1};Zs(Oh,Dh);var Mh=function(){Oh.call(this),this.combo=!0};Zs(Mh,Oh);var xm=function(){Mh.call(this),this.edit=!0};Zs(xm,Mh);var ji=function(){No.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(t){t?this.Ff=ri(this.Ff,15):this.Ff=ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(t){t?this.Ff=ri(this.Ff,16):this.Ff=ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(t){t?this.Ff=ri(this.Ff,17):this.Ff=ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=ri(this.Ff,26):this.Ff=ii(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+zc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Xn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Zs(ji,No);var Tm=function(){ji.call(this),this.pushButton=!0};Zs(Tm,ji);var jh=function(){ji.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Zs(jh,ji);var eg=function(){var n,e;No.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+zc(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Xn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zs(eg,No),jh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},jh.prototype.createOption=function(n){var e=new eg;return e.Parent=this,e.optionName=n,this.Kids.push(e),bD.call(this.scope,e),e};var Nm=function(){ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Zs(Nm,ji);var Cc=function(){No.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(e){e?this.Ff=ri(this.Ff,13):this.Ff=ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(e){e?this.Ff=ri(this.Ff,21):this.Ff=ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(e){e?this.Ff=ri(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(e){e?this.Ff=ri(this.Ff,24):this.Ff=ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(e){e?this.Ff=ri(this.Ff,25):this.Ff=ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(e){e?this.Ff=ri(this.Ff,26):this.Ff=ii(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zs(Cc,No);var Im=function(){Cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(n){n?this.Ff=ri(this.Ff,14):this.Ff=ii(this.Ff,14)}}),this.password=!0};Zs(Im,Cc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=g2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),u=gt.internal.getWidth(n),c=g2(n,n.caption);return s.push("1 g"),s.push("0 0 "+Xt(u)+" "+Xt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Xt(u-1)+" "+Xt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Xt(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Iu(gt.internal.getWidth(n)/2)+" "+Iu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),u=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Iu(gt.internal.getWidth(n)/2)+" "+Iu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Iu(gt.internal.getWidth(n)/2)+" "+Iu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Iu(gt.internal.getWidth(n)/2)+" "+Iu(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Xn(n)==="object"&&(e=Tw(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Xn(n)==="object"&&(e=Tw(n.Rect[3])),e};var bD=$r.addField=function(n){if(_D(this,n),!(n instanceof No))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};$r.AcroFormChoiceField=Dh,$r.AcroFormListBox=Oh,$r.AcroFormComboBox=Mh,$r.AcroFormEditBox=xm,$r.AcroFormButton=ji,$r.AcroFormPushButton=Tm,$r.AcroFormRadioButton=jh,$r.AcroFormCheckBox=Nm,$r.AcroFormTextField=Cc,$r.AcroFormPasswordField=Im,$r.AcroFormAppearance=gt,$r.AcroForm={ChoiceField:Dh,ListBox:Oh,ComboBox:Mh,EditBox:xm,Button:ji,PushButton:Tm,RadioButton:jh,CheckBox:Nm,TextField:Cc,PasswordField:Im,Appearance:gt},St.AcroForm={ChoiceField:Dh,ListBox:Oh,ComboBox:Mh,EditBox:xm,Button:ji,PushButton:Tm,RadioButton:jh,CheckBox:Nm,TextField:Cc,PasswordField:Im,Appearance:gt};St.AcroForm;function $S(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(I,P){var R,ee,ge,ne,pe,ie=t;if((P=P||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Se(I))for(pe in r)for(ge=r[pe],R=0;R<ge.length;R+=1){for(ne=!0,ee=0;ee<ge[R].length;ee+=1)if(ge[R][ee]!==void 0&&ge[R][ee]!==I[ee]){ne=!1;break}if(ne===!0){ie=pe;break}}else for(pe in r)for(ge=r[pe],R=0;R<ge.length;R+=1){for(ne=!0,ee=0;ee<ge[R].length;ee+=1)if(ge[R][ee]!==void 0&&ge[R][ee]!==I.charCodeAt(ee)){ne=!1;break}if(ne===!0){ie=pe;break}}return ie===t&&P!==t&&(ie=P),ie},o=function I(P){for(var R=this.internal.write,ee=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:P.width}),ne.push({key:"Height",value:P.height}),P.colorSpace===U.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===U.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var pe="",ie=0,be=P.transparency.length;ie<be;ie++)pe+=P.transparency[ie]+" "+P.transparency[ie]+" ";ne.push({key:"Mask",value:"["+pe+"]"})}P.sMask!==void 0&&ne.push({key:"SMask",value:P.objectId+1+" 0 R"});var Y=P.filter!==void 0?["/"+P.filter]:void 0;if(ee({data:P.data,additionalKeyValues:ne,alreadyAppliedFilters:Y,objectId:P.objectId}),R("endobj"),"sMask"in P&&P.sMask!==void 0){var he=(P.predictor!=null?"/Predictor "+P.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+P.width,C={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:he,data:P.sMask};"filter"in P&&(C.filter=P.filter),I.call(this,C)}if(P.colorSpace===U.INDEXED){var B=this.internal.newObject();ee({data:O(new Uint8Array(P.palette)),objectId:B}),R("endobj")}},u=function(){var I=this.internal.collections[e+"images"];for(var P in I)o.call(this,I[P])},c=function(){var I,P=this.internal.collections[e+"images"],R=this.internal.write;for(var ee in P)R("/I"+(I=P[ee]).index,I.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var I=this.internal.collections[e+"images"];return f.call(this),I},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(I){return typeof n["process"+I.toUpperCase()]=="function"},E=function(I){return Xn(I)==="object"&&I.nodeType===1},b=function(I,P){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var R=""+I.getAttribute("src");if(R.indexOf("data:image/")===0)return Em(unescape(R).split("base64,").pop());var ee=n.loadFile(R,!0);if(ee!==void 0)return ee}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ge;switch(P){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return Em(I.toDataURL(ge,1).split("base64,").pop())}},M=function(I){var P=this.internal.collections[e+"images"];if(P){for(var R in P)if(I===P[R].alias)return P[R]}},F=function(I,P,R){return I||P||(I=-96,P=-96),I<0&&(I=-1*R.width*72/I/this.internal.scaleFactor),P<0&&(P=-1*R.height*72/P/this.internal.scaleFactor),I===0&&(I=P*R.width/R.height),P===0&&(P=I*R.height/R.width),[I,P]},q=function(I,P,R,ee,ge,ne){var pe=F.call(this,R,ee,ge),ie=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Y=d.call(this);if(R=pe[0],ee=pe[1],Y[ge.index]=ge,ne){ne*=Math.PI/180;var he=Math.cos(ne),C=Math.sin(ne),B=function(ue){return ue.toFixed(4)},Z=[B(he),B(C),B(-1*C),B(he),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,ie(I),be(P+ee),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ie(R),"0","0",ie(ee),"0","0","cm"].join(" "))):this.internal.write([ie(R),"0","0",ie(ee),ie(I),be(P+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var te=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},re=n.__addimage__.sHashCode=function(I){var P,R,ee=0;if(typeof I=="string")for(R=I.length,P=0;P<R;P++)ee=(ee<<5)-ee+I.charCodeAt(P),ee|=0;else if(Se(I))for(R=I.byteLength/2,P=0;P<R;P++)ee=(ee<<5)-ee+I[P],ee|=0;return ee},X=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var P=!0;return I.length===0&&(P=!1),I.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(P=!1),P},le=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var P=I.indexOf(",");return P<0?null:I.substring(0,P).trim().endsWith("base64")?I.substring(P+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var Se=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},$=n.__addimage__.binaryStringToUint8Array=function(I){for(var P=I.length,R=new Uint8Array(P),ee=0;ee<P;ee++)R[ee]=I.charCodeAt(ee);return R},O=n.__addimage__.arrayBufferToBinaryString=function(I){for(var P="",R=Se(I)?I:new Uint8Array(I),ee=0;ee<R.length;ee+=8192)P+=String.fromCharCode.apply(null,R.subarray(ee,ee+8192));return P};n.addImage=function(){var I,P,R,ee,ge,ne,pe,ie,be;if(typeof arguments[1]=="number"?(P=t,R=arguments[1],ee=arguments[2],ge=arguments[3],ne=arguments[4],pe=arguments[5],ie=arguments[6],be=arguments[7]):(P=arguments[1],R=arguments[2],ee=arguments[3],ge=arguments[4],ne=arguments[5],pe=arguments[6],ie=arguments[7],be=arguments[8]),Xn(I=arguments[0])==="object"&&!E(I)&&"imageData"in I){var Y=I;I=Y.imageData,P=Y.format||P||t,R=Y.x||R||0,ee=Y.y||ee||0,ge=Y.w||Y.width||ge,ne=Y.h||Y.height||ne,pe=Y.alias||pe,ie=Y.compression||ie,be=Y.rotation||Y.angle||be}var he=this.internal.getFilters();if(ie===void 0&&he.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(R)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var C=k.call(this,I,P,pe,ie);return q.call(this,R,ee,ge,ne,C,be),this};var k=function(I,P,R,ee){var ge,ne,pe;if(typeof I=="string"&&s(I)===t){I=unescape(I);var ie=H(I,!1);(ie!==""||(ie=n.loadFile(I,!0))!==void 0)&&(I=ie)}if(E(I)&&(I=b(I,P)),P=s(I,P),!w(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((pe=R)==null||pe.length===0)&&(R=(function(be){return typeof be=="string"||Se(be)?re(be):Se(be.data)?re(be.data):null})(I)),(ge=M.call(this,R))||(I instanceof Uint8Array||P==="RGBA"||(ne=I,I=$(I)),ge=this["process"+P.toUpperCase()](I,y.call(this),R,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in n.image_compression?be:te.NONE})(ee),ne)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},H=n.__addimage__.convertBase64ToBinaryString=function(I,P){P=typeof P!="boolean"||P;var R,ee="";if(typeof I=="string"){var ge;R=(ge=le(I))!==null&&ge!==void 0?ge:I;try{ee=Em(R)}catch(ne){if(P)throw X(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};n.getImageProperties=function(I){var P,R,ee="";if(E(I)&&(I=b(I)),typeof I=="string"&&s(I)===t&&((ee=H(I,!1))===""&&(ee=n.loadFile(I)||""),I=ee),R=s(I),!w(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(I instanceof Uint8Array||(I=$(I)),!(P=this["process"+R.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=R,P}})(St.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,y=!1,w=0;w<d.length&&!y;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){r=d[E];var b=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),U=this.internal.getEncryptor(F.objId),te=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(U(r.contents))+")",o+=" /Popup "+q.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(U(te))+") >>",F.content=o;var re=F.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+re,r.open&&(o+=" /Open true"),o+=" >>",q.content=o,this.internal.write(F.objId,"0 R",q.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var X=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var le=this.annotations._nameMap[r.options.name];r.options.pageNumber=le.page,r.options.top=le.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Se=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Se+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var y=this.splitTextToSize(t,c).length;u=Math.ceil(d*y)}else c=f,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(St.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(F){return e[F.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},c=n.__arabicParser__.isArabicEndLetter=function(F){return u(F)&&o(F)&&e[F.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(F){return u(F)&&s.indexOf(F.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return u(F)&&o(F)&&e[F.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(F){return u(F)&&o(F)&&e[F.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(F){return u(F)&&o(F)&&e[F.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(F){return u(F)&&o(F)&&e[F.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(F){var q=0,U=t,te="",re=0;for(q=0;q<F.length;q+=1)U[F.charCodeAt(q)]!==void 0?(re++,typeof(U=U[F.charCodeAt(q)])=="number"&&(te+=String.fromCharCode(U),U=t,re=0),q===F.length-1&&(U=t,te+=F.charAt(q-(re-1)),q-=re-1,re=0)):(U=t,te+=F.charAt(q-re),q-=re,re=0);return te};n.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&r[F.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(F,q,U){return u(F)?o(F)===!1?-1:!d(F)||!u(q)&&!u(U)||!u(U)&&c(q)||c(F)&&!u(q)||c(F)&&f(q)||c(F)&&c(q)?0:y(F)&&u(q)&&!c(q)&&u(U)&&d(U)?3:c(F)||!u(U)?1:2:-1},b=function(F){var q=0,U=0,te=0,re="",X="",le="",Se=(F=F||"").split("\\s+"),$=[];for(q=0;q<Se.length;q+=1){for($.push(""),U=0;U<Se[q].length;U+=1)re=Se[q][U],X=Se[q][U-1],le=Se[q][U+1],u(re)?(te=E(re,X,le),$[q]+=te!==-1?String.fromCharCode(e[re.charCodeAt(0)][te]):re):$[q]+=re;$[q]=w($[q])}return $.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var F,q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,U=[];if(Array.isArray(q)){var te=0;for(U=[],te=0;te<q.length;te+=1)Array.isArray(q[te])?U.push([b(q[te][0]),q[te][1],q[te][2]]):U.push([b(q[te])]);F=U}else F=b(q);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};n.events.push(["preProcessText",M])})(St.API),St.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(St.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(F){f=F}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(F){d=F}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(F){y=F}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(F){w=F}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(F){E=F}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(F){b=F}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(F){M=F}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,b=0,M=0,F=0,q=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var U=d.maxWidth;U>0?typeof f=="string"?f=this.splitTextToSize(f,U):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(re,X){return re.concat(q.splitTextToSize(X,U))},[])):f=Array.isArray(f)?f:[f];for(var te=0;te<f.length;te++)b<(F=this.getStringUnitWidth(f[te],{font:w})*y)&&(b=F);return b!==0&&(M=f.length),{w:b/=E,h:Math.max((M*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&E&&(this.printHeaderRow(f.lineNumber,!0),f.y+=E[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,w,E){if(r.call(this),!y)throw new Error("No data for PDF table.");var b,M,F,q,U=[],te=[],re=[],X={},le={},Se=[],$=[],O=(E=E||{}).autoSize||!1,k=E.printHeaders!==!1,H=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,I=E.margins||Object.assign({width:this.getPageWidth()},e),P=typeof E.padding=="number"?E.padding:3,R=E.headerBackgroundColor||"#c8c8c8",ee=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=ee,this.setFontSize(H),w==null)te=U=Object.keys(y[0]),re=U.map(function(){return"left"});else if(Array.isArray(w)&&Xn(w[0])==="object")for(U=w.map(function(Y){return Y.name}),te=w.map(function(Y){return Y.prompt||Y.name||""}),re=w.map(function(Y){return Y.align||"left"}),b=0;b<w.length;b+=1)le[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(te=U=w,re=U.map(function(){return"left"}));if(O||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<U.length;b+=1){for(X[q=U[b]]=y.map(function(Y){return Y[q]}),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(te[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=X[q],this.setFont(void 0,"normal"),F=0;F<M.length;F+=1)Se.push(this.getTextDimensions(M[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[q]=Math.max.apply(null,Se)+P+P,Se=[]}if(k){var ge={};for(b=0;b<U.length;b+=1)ge[U[b]]={},ge[U[b]].text=te[b],ge[U[b]].align=re[b];var ne=c.call(this,ge,le);$=U.map(function(Y){return new o(f,d,le[Y],ne,ge[Y].text,void 0,ge[Y].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var pe=w.reduce(function(Y,he){return Y[he.name]=he.align,Y},{});for(b=0;b<y.length;b+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:b,data:y[b]},this);var ie=c.call(this,y[b],le);for(F=0;F<U.length;F+=1){var be=y[b][U[F]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:b,col:F,data:be},this),u.call(this,new o(f,d,le[U[F]],ie,be,b+2,pe[U[F]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(f).map(function(b){var M=f[b];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[b]-y-y)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/E+y+y},this).reduce(function(b,M){return Math.max(b,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){y=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,E.push(y)),y.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(M)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}})(St.API);var WS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y2=$S(YS),KS=[100,200,300,400,500,600,700,800,900],wD=$S(KS);function E0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return WS[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof y2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Nw(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var AD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Iw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Rw(n){return n.trimLeft()}function SD(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function ED(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var cm,Lw,kw,wh,hm,Pw,Dw,Ow,x0=["times"];function Mw(n,e,t,r){var s=4,o=Vw;switch(r){case St.API.image_compression.FAST:s=1,o=jw;break;case St.API.image_compression.MEDIUM:s=6,o=Fw;break;case St.API.image_compression.SLOW:s=9,o=Uw}n=(function(c,f,d,y){for(var w,E=c.length/f,b=new Uint8Array(c.length+E),M=[xD,jw,Vw,Fw,Uw],F=0;F<E;F+=1){var q=F*f,U=c.subarray(q,q+f);if(y)b.set(y(U,d,w),q+F);else{for(var te=M.length,re=[],X=0;X<te;X+=1)re[X]=M[X](U,d,w);var le=ND(re.concat());b.set(re[le],q+F)}w=U}return b})(n,e,t,o);var u=c2(n,{level:s});return St.API.__addimage__.arrayBufferToBinaryString(u)}function xD(n){var e=Array.apply([],n);return e.unshift(0),e}function jw(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function Vw(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function Fw(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function Uw(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=TD(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function TD(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function ND(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function T0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return QS(n,s)>>o&u}function Bw(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,y,w){if(y+1<d.byteLength)d.setUint16(y,w,!1);else{var E=w>>8&255;d.setUint8(y,E)}})(n,o,QS(n,o)&~(c<<u)&65535|f)}function QS(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function ID(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,y=[],w=0,E=null,b=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var F=n[e++];w=n[e++]|n[e++]<<8,E=n[e++],1&F||(E=null),b=F>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var q=n[e++]|n[e++]<<8,U=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,re=n[e++]|n[e++]<<8,X=n[e++],le=X>>6&1,Se=1<<1+(7&X),$=c,O=f,k=!1;X>>7&&(k=!0,$=e,O=Se,e+=3*Se);var H=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}y.push({x:q,y:U,width:te,height:re,has_local_palette:k,palette_offset:$,palette_size:O,data_offset:H,data_length:e-H,transparent_index:E,interlaced:!!le,delay:w,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return M},this.frameInfo=function(P){if(P<0||P>=y.length)throw new Error("Frame index out of range.");return y[P]},this.decodeAndBlitFrameBGRA=function(P,R){var ee=this.frameInfo(P),ge=ee.width*ee.height,ne=new Uint8Array(ge);qw(n,ee.data_offset,ne,ge);var pe=ee.palette_offset,ie=ee.transparent_index;ie===null&&(ie=256);var be=ee.width,Y=t-be,he=be,C=4*(ee.y*t+ee.x),B=4*((ee.y+ee.height)*t+ee.x),Z=C,ue=4*Y;ee.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ye=0,Ce=ne.length;ye<Ce;++ye){var ke=ne[ye];if(he===0&&(he=be,(Z+=ue)>=B&&(ue=4*Y+4*t*(fe-1),Z=C+(be+Y)*(fe<<1),fe>>=1)),ke===ie)Z+=4;else{var Ue=n[pe+3*ke],qe=n[pe+3*ke+1],nt=n[pe+3*ke+2];R[Z++]=nt,R[Z++]=qe,R[Z++]=Ue,R[Z++]=255}--he}},this.decodeAndBlitFrameRGBA=function(P,R){var ee=this.frameInfo(P),ge=ee.width*ee.height,ne=new Uint8Array(ge);qw(n,ee.data_offset,ne,ge);var pe=ee.palette_offset,ie=ee.transparent_index;ie===null&&(ie=256);var be=ee.width,Y=t-be,he=be,C=4*(ee.y*t+ee.x),B=4*((ee.y+ee.height)*t+ee.x),Z=C,ue=4*Y;ee.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ye=0,Ce=ne.length;ye<Ce;++ye){var ke=ne[ye];if(he===0&&(he=be,(Z+=ue)>=B&&(ue=4*Y+4*t*(fe-1),Z=C+(be+Y)*(fe<<1),fe>>=1)),ke===ie)Z+=4;else{var Ue=n[pe+3*ke],qe=n[pe+3*ke+1],nt=n[pe+3*ke+2];R[Z++]=Ue,R[Z++]=qe,R[Z++]=nt,R[Z++]=255}--he}}}function qw(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,y=0,w=0,E=0,b=n[e++],M=new Int32Array(4096),F=null;;){for(;y<16&&b!==0;)w|=n[e++]<<y,y+=8,b===1?b=n[e++]:--b;if(y<f)break;var q=w&d;if(w>>=f,y-=f,q!==o){if(q===u)break;for(var U=q<c?q:F,te=0,re=U;re>o;)re=M[re]>>8,++te;var X=re;if(E+te+(U!==q?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");t[E++]=X;var le=E+=te;for(U!==q&&(t[E++]=X),re=U;te--;)re=M[re],t[--le]=255&re,re>>=8;F!==null&&c<4096&&(M[c++]=F<<8|X,c>=d+1&&f<12&&(++f,d=d<<1|1)),F=q}else c=u+1,d=(1<<(f=s+1))-1,F=null}return E!==r&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N0(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),w=new Array(65535),E=new Array(65535),b=new Array(64),M=new Array(64),F=[],q=0,U=7,te=new Array(64),re=new Array(64),X=new Array(64),le=new Array(256),Se=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(C,B){for(var Z=0,ue=0,fe=new Array,ye=1;ye<=16;ye++){for(var Ce=1;Ce<=C[ye];Ce++)fe[B[ue]]=[],fe[B[ue]][0]=Z,fe[B[ue]][1]=ye,ue++,Z++;Z*=2}return fe}function pe(C){for(var B=C[0],Z=C[1]-1;Z>=0;)B&1<<Z&&(q|=1<<U),Z--,--U<0&&(q==255?(ie(255),ie(0)):ie(q),U=7,q=0)}function ie(C){F.push(C)}function be(C){ie(C>>8&255),ie(255&C)}function Y(C,B,Z,ue,fe){for(var ye,Ce=fe[0],ke=fe[240],Ue=(function(Je,yt){var tt,Yt,_t,mn,Bt,ct,wt,Tt,st,Lt,bt=0;for(st=0;st<8;++st){tt=Je[bt],Yt=Je[bt+1],_t=Je[bt+2],mn=Je[bt+3],Bt=Je[bt+4],ct=Je[bt+5],wt=Je[bt+6];var Tn=tt+(Tt=Je[bt+7]),an=tt-Tt,ht=Yt+wt,It=Yt-wt,Nn=_t+ct,At=_t-ct,nn=mn+Bt,Vt=mn-Bt,ir=Tn+nn,Gn=Tn-nn,gn=ht+Nn,Pt=ht-Nn;Je[bt]=ir+gn,Je[bt+4]=ir-gn;var rn=.707106781*(Pt+Gn);Je[bt+2]=Gn+rn,Je[bt+6]=Gn-rn;var Js=.382683433*((ir=Vt+At)-(Pt=It+an)),pr=.5411961*ir+Js,rs=1.306562965*Pt+Js,di=.707106781*(gn=At+It),Ct=an+di,In=an-di;Je[bt+5]=In+pr,Je[bt+3]=In-pr,Je[bt+1]=Ct+rs,Je[bt+7]=Ct-rs,bt+=8}for(bt=0,st=0;st<8;++st){tt=Je[bt],Yt=Je[bt+8],_t=Je[bt+16],mn=Je[bt+24],Bt=Je[bt+32],ct=Je[bt+40],wt=Je[bt+48];var $n=tt+(Tt=Je[bt+56]),Pn=tt-Tt,mr=Yt+wt,Zn=Yt-wt,Vr=_t+ct,cr=_t-ct,va=mn+Bt,is=mn-Bt,si=$n+va,ai=$n-va,Fr=mr+Vr,Ur=mr-Vr;Je[bt]=si+Fr,Je[bt+32]=si-Fr;var Jn=.707106781*(Ur+ai);Je[bt+16]=ai+Jn,Je[bt+48]=ai-Jn;var Wn=.382683433*((si=is+cr)-(Ur=Zn+Pn)),ss=.5411961*si+Wn,Ms=1.306562965*Ur+Wn,xi=.707106781*(Fr=cr+Zn),as=Pn+xi,Xa=Pn-xi;Je[bt+40]=Xa+ss,Je[bt+24]=Xa-ss,Je[bt+8]=as+Ms,Je[bt+56]=as-Ms,bt++}for(st=0;st<64;++st)Lt=Je[st]*yt[st],b[st]=Lt>0?Lt+.5|0:Lt-.5|0;return b})(C,B),qe=0;qe<64;++qe)M[$[qe]]=Ue[qe];var nt=M[0]-Z;Z=M[0],nt==0?pe(ue[0]):(pe(ue[E[ye=32767+nt]]),pe(w[ye]));for(var rt=63;rt>0&&M[rt]==0;)rt--;if(rt==0)return pe(Ce),Z;for(var Me,ce=1;ce<=rt;){for(var tn=ce;M[ce]==0&&ce<=rt;)++ce;var Nt=ce-tn;if(Nt>=16){Me=Nt>>4;for(var xt=1;xt<=Me;++xt)pe(ke);Nt&=15}ye=32767+M[ce],pe(fe[(Nt<<4)+E[ye]]),pe(w[ye]),ce++}return rt!=63&&pe(Ce),Z}function he(C){C=Math.min(Math.max(C,1),100),o!=C&&((function(B){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=u((Z[ue]*B+50)/100);fe=Math.min(Math.max(fe,1),255),c[$[ue]]=fe}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var ke=u((ye[Ce]*B+50)/100);ke=Math.min(Math.max(ke,1),255),f[$[Ce]]=ke}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,nt=0;nt<8;nt++)for(var rt=0;rt<8;rt++)d[qe]=1/(c[$[qe]]*Ue[nt]*Ue[rt]*8),y[qe]=1/(f[$[qe]]*Ue[nt]*Ue[rt]*8),qe++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),o=C)}this.encode=function(C,B){B&&he(B),F=new Array,q=0,U=7,be(65496),be(65504),be(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),be(1),be(1),ie(0),ie(0),(function(){be(65499),be(132),ie(0);for(var Yt=0;Yt<64;Yt++)ie(c[Yt]);ie(1);for(var _t=0;_t<64;_t++)ie(f[_t])})(),(function(Yt,_t){be(65472),be(17),ie(8),be(_t),be(Yt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(C.width,C.height),(function(){be(65476),be(418),ie(0);for(var Yt=0;Yt<16;Yt++)ie(O[Yt+1]);for(var _t=0;_t<=11;_t++)ie(k[_t]);ie(16);for(var mn=0;mn<16;mn++)ie(H[mn+1]);for(var Bt=0;Bt<=161;Bt++)ie(I[Bt]);ie(1);for(var ct=0;ct<16;ct++)ie(P[ct+1]);for(var wt=0;wt<=11;wt++)ie(R[wt]);ie(17);for(var Tt=0;Tt<16;Tt++)ie(ee[Tt+1]);for(var st=0;st<=161;st++)ie(ge[st])})(),be(65498),be(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var Z=0,ue=0,fe=0;q=0,U=7,this.encode.displayName="_encode_";for(var ye,Ce,ke,Ue,qe,nt,rt,Me,ce,tn=C.data,Nt=C.width,xt=C.height,Je=4*Nt,yt=0;yt<xt;){for(ye=0;ye<Je;){for(qe=Je*yt+ye,rt=-1,Me=0,ce=0;ce<64;ce++)nt=qe+(Me=ce>>3)*Je+(rt=4*(7&ce)),yt+Me>=xt&&(nt-=Je*(yt+1+Me-xt)),ye+rt>=Je&&(nt-=ye+rt-Je+4),Ce=tn[nt++],ke=tn[nt++],Ue=tn[nt++],te[ce]=(Se[Ce]+Se[ke+256|0]+Se[Ue+512|0]>>16)-128,re[ce]=(Se[Ce+768|0]+Se[ke+1024|0]+Se[Ue+1280|0]>>16)-128,X[ce]=(Se[Ce+1280|0]+Se[ke+1536|0]+Se[Ue+1792|0]>>16)-128;Z=Y(te,d,Z,e,r),ue=Y(re,y,ue,t,s),fe=Y(X,y,fe,t,s),ye+=32}yt+=8}if(U>=0){var tt=[];tt[1]=U+1,tt[0]=(1<<U+1)-1,pe(tt)}return be(65497),new Uint8Array(F)},n=n||50,(function(){for(var C=String.fromCharCode,B=0;B<256;B++)le[B]=C(B)})(),e=ne(O,k),t=ne(P,R),r=ne(H,I),s=ne(ee,ge),(function(){for(var C=1,B=2,Z=1;Z<=15;Z++){for(var ue=C;ue<B;ue++)E[32767+ue]=Z,w[32767+ue]=[],w[32767+ue][1]=Z,w[32767+ue][0]=ue;for(var fe=-(B-1);fe<=-C;fe++)E[32767+fe]=Z,w[32767+fe]=[],w[32767+fe][1]=Z,w[32767+fe][0]=B-1+fe;C<<=1,B<<=1}})(),(function(){for(var C=0;C<256;C++)Se[C]=19595*C,Se[C+256|0]=38470*C,Se[C+512|0]=7471*C+32768,Se[C+768|0]=-11059*C,Se[C+1024|0]=-21709*C,Se[C+1280|0]=32768*C+8421375,Se[C+1536|0]=-27439*C,Se[C+1792|0]=-5329*C})(),he(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zw(n){function e(k){if(!k)throw Error("assert :P")}function t(k,H,I){for(var P=0;4>P;P++)if(k[H+P]!=I.charCodeAt(P))return!0;return!1}function r(k,H,I,P,R){for(var ee=0;ee<R;ee++)k[H+ee]=I[P+ee]}function s(k,H,I,P){for(var R=0;R<P;R++)k[H+R]=I}function o(k){return new Int32Array(k)}function u(k,H){for(var I=[],P=0;P<k;P++)I.push(new H);return I}function c(k,H){var I=[];return(function P(R,ee,ge){for(var ne=ge[ee],pe=0;pe<ne&&(R.push(ge.length>ee+1?[]:new H),!(ge.length<ee+1));pe++)P(R[pe],ee+1,ge)})(I,0,k),I}var f=function(){var k=this;function H(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function I(p,v,S,T,V){e(!(T%S));do p[v+(T-=S)]=V;while(0<T)}function P(p,v,S,T,V){if(e(2328>=V),512>=V)var z=o(512);else if((z=o(V))==null)return 0;return(function(G,K,J,oe,ve,Re){var se,we,Te=K,je=1<<J,Ie=o(16),Fe=o(16);for(e(ve!=0),e(oe!=null),e(G!=null),e(0<J),we=0;we<ve;++we){if(15<oe[we])return 0;++Ie[oe[we]]}if(Ie[0]==ve)return 0;for(Fe[1]=0,se=1;15>se;++se){if(Ie[se]>1<<se)return 0;Fe[se+1]=Fe[se]+Ie[se]}for(we=0;we<ve;++we)se=oe[we],0<oe[we]&&(Re[Fe[se]++]=we);if(Fe[15]==1)return(oe=new R).g=0,oe.value=Re[0],I(G,Te,1,je,oe),je;var Ve,Xe=-1,We=je-1,vt=0,ot=1,Gt=1,ut=1<<J;for(we=0,se=1,ve=2;se<=J;++se,ve<<=1){if(ot+=Gt<<=1,0>(Gt-=Ie[se]))return 0;for(;0<Ie[se];--Ie[se])(oe=new R).g=se,oe.value=Re[we++],I(G,Te+vt,ve,ut,oe),vt=H(vt,se)}for(se=J+1,ve=2;15>=se;++se,ve<<=1){if(ot+=Gt<<=1,0>(Gt-=Ie[se]))return 0;for(;0<Ie[se];--Ie[se]){if(oe=new R,(vt&We)!=Xe){for(Te+=ut,Ve=1<<(Xe=se)-J;15>Xe&&!(0>=(Ve-=Ie[Xe]));)++Xe,Ve<<=1;je+=ut=1<<(Ve=Xe-J),G[K+(Xe=vt&We)].g=Ve+J,G[K+Xe].value=Te-K-Xe}oe.g=se-J,oe.value=Re[we++],I(G,Te+(vt>>J),ve,ut,oe),vt=H(vt,se)}}return ot!=2*Fe[15]-1?0:je})(p,v,S,T,V,z)}function R(){this.value=this.g=0}function ee(){this.value=this.g=0}function ge(){this.G=u(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(qs,ee)}function ne(p,v,S,T){e(p!=null),e(v!=null),e(2147483648>T),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+T,p.Zc=4<=T?S+T-4+1:S,Ce(p)}function pe(p,v){for(var S=0;0<v--;)S|=Ue(p,128)<<v;return S}function ie(p,v){var S=pe(p,v);return ke(p)?-S:S}function be(p,v,S,T){var V,z=0;for(e(p!=null),e(v!=null),e(4294967288>T),p.Sb=T,p.Ra=0,p.u=0,p.h=0,4<T&&(T=4),V=0;V<T;++V)z+=v[S+V]<<8*V;p.Ra=z,p.bb=T,p.oa=v,p.pa=S}function Y(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<so-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function he(p,v){if(e(0<=v),!p.h&&v<=Zl){var S=Z(p)&Ca[v];return p.u+=v,Y(p),S}return p.h=1,p.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&so-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>so}function fe(p,v){p.u=v,p.h=ue(p)}function ye(p){p.u>=wr&&(e(p.u>=wr),Y(p))}function Ce(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return pe(p,1)}function Ue(p,v){var S=p.Ca;0>p.b&&Ce(p);var T=p.b,V=S*v>>>8,z=(p.I>>>T>V)+0;for(z?(S-=V,p.I-=V+1<<T>>>0):S=V+1,T=S,V=0;256<=T;)V+=8,T>>=8;return T=7^V+nf[T],p.b-=T,p.Ca=(S<<T)-1,z}function qe(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function nt(p,v){return p[v+0]|p[v+1]<<8}function rt(p,v){return nt(p,v)|p[v+2]<<16}function Me(p,v){return nt(p,v)|nt(p,v+2)<<16}function ce(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function tn(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Nt(){this.X=[],this.Xa=this.Mb=0}function xt(p,v,S,T){e(S!=null),e(T!=null);var V=S[0],z=T[0];return V==0&&(V=(p*z+v/2)/v),z==0&&(z=(v*V+p/2)/p),0>=V||0>=z?0:(S[0]=V,T[0]=z,1)}function Je(p,v){return p+(1<<v)-1>>>v}function yt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function tt(p,v){k[v]=function(S,T,V,z,G,K,J){var oe;for(oe=0;oe<G;++oe){var ve=k[p](K[J+oe-1],V,z+oe);K[J+oe]=yt(S[T+oe],ve)}}}function Yt(){this.ud=this.hd=this.jd=0}function _t(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function mn(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Bt(p,v){return mn(p+(p-v+.5>>1))}function ct(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function wt(p,v,S,T,V,z,G){for(T=z[G-1],S=0;S<V;++S)z[G+S]=T=yt(p[v+S],T)}function Tt(p,v,S,T,V){var z;for(z=0;z<S;++z){var G=p[v+z],K=G>>8&255,J=16711935&(J=(J=16711935&G)+((K<<16)+K));T[V+z]=(4278255360&G)+J>>>0}}function st(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Lt(p,v,S,T,V,z){var G;for(G=0;G<T;++G){var K=v[S+G],J=K>>>8,oe=K,ve=255&(ve=(ve=K>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),V[z+G]=(4278255360&K)+(ve<<16)+oe}}function bt(p,v,S,T,V){k[v]=function(z,G,K,J,oe,ve,Re,se,we){for(J=Re;J<se;++J)for(Re=0;Re<we;++Re)oe[ve++]=V(K[T(z[G++])])},k[p]=function(z,G,K,J,oe,ve,Re){var se=8>>z.b,we=z.Ea,Te=z.K[0],je=z.w;if(8>se)for(z=(1<<z.b)-1,je=(1<<se)-1;G<K;++G){var Ie,Fe=0;for(Ie=0;Ie<we;++Ie)Ie&z||(Fe=T(J[oe++])),ve[Re++]=V(Te[Fe&je]),Fe>>=se}else k["VP8LMapColor"+S](J,oe,Te,je,ve,Re,G,K,we)}}function Tn(p,v,S,T,V){for(S=v+S;v<S;){var z=p[v++];T[V++]=z>>16&255,T[V++]=z>>8&255,T[V++]=255&z}}function an(p,v,S,T,V){for(S=v+S;v<S;){var z=p[v++];T[V++]=z>>16&255,T[V++]=z>>8&255,T[V++]=255&z,T[V++]=z>>24&255}}function ht(p,v,S,T,V){for(S=v+S;v<S;){var z=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;T[V++]=z,T[V++]=G}}function It(p,v,S,T,V){for(S=v+S;v<S;){var z=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;T[V++]=z,T[V++]=G}}function Nn(p,v,S,T,V){for(S=v+S;v<S;){var z=p[v++];T[V++]=255&z,T[V++]=z>>8&255,T[V++]=z>>16&255}}function At(p,v,S,T,V,z){if(z==0)for(S=v+S;v<S;)qe(T,((z=p[v++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else r(T,V,p,v,S)}function nn(p,v){k[v][0]=k[p+"0"],k[v][1]=k[p+"1"],k[v][2]=k[p+"2"],k[v][3]=k[p+"3"],k[v][4]=k[p+"4"],k[v][5]=k[p+"5"],k[v][6]=k[p+"6"],k[v][7]=k[p+"7"],k[v][8]=k[p+"8"],k[v][9]=k[p+"9"],k[v][10]=k[p+"10"],k[v][11]=k[p+"11"],k[v][12]=k[p+"12"],k[v][13]=k[p+"13"],k[v][14]=k[p+"0"],k[v][15]=k[p+"0"]}function Vt(p){return p==sc||p==Fo||p==oo||p==ru}function ir(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ir,this.f.kb=new Gn,this.sd=null}function Pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Js(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function pr(p,v){var S=p.T,T=v.ba.f.RGBA,V=T.eb,z=T.fb+p.ka*T.A,G=ui[v.ba.S],K=p.y,J=p.O,oe=p.f,ve=p.N,Re=p.ea,se=p.W,we=v.cc,Te=v.dc,je=v.Mc,Ie=v.Nc,Fe=p.ka,Ve=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(Fe==0?G(K,J,null,null,oe,ve,Re,se,oe,ve,Re,se,V,z,null,null,Xe):(G(v.ec,v.fc,K,J,we,Te,je,Ie,oe,ve,Re,se,V,z-T.A,V,z,Xe),++S);Fe+2<Ve;Fe+=2)we=oe,Te=ve,je=Re,Ie=se,ve+=p.Rc,se+=p.Rc,z+=2*T.A,G(K,(J+=2*p.fa)-p.fa,K,J,we,Te,je,Ie,oe,ve,Re,se,V,z-T.A,V,z,Xe);return J+=p.fa,p.j+Ve<p.o?(r(v.ec,v.fc,K,J,Xe),r(v.cc,v.dc,oe,ve,We),r(v.Mc,v.Nc,Re,se,We),S--):1&Ve||G(K,J,null,null,oe,ve,Re,se,oe,ve,Re,se,V,z+T.A,null,null,Xe),S}function rs(p,v,S){var T=p.F,V=[p.J];if(T!=null){var z=p.U,G=v.ba.S,K=G==yl||G==oo;v=v.ba.f.RGBA;var J=[0],oe=p.ka;J[0]=p.T,p.Kb&&(oe==0?--J[0]:(--oe,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-oe));var ve=v.eb;oe=v.fb+oe*v.A,p=Rs(T,V[0],p.width,z,J,ve,oe+(K?0:3),v.A),e(S==J),p&&Vt(G)&&tu(ve,oe,K,z,J,v.A)}return 0}function di(p){var v=p.ma,S=v.ba.S,T=11>S,V=S==nu||S==ic||S==yl||S==ao||S==12||Vt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!yi(v.Oa,p,V?11:12))return 0;if(V&&Vt(S)&&Do(),p.da)alert("todo:use_scaling");else{if(T){if(v.Ib=Js,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=pr,Do()}}else alert("todo:EmitYUV");V&&(v.Jb=rs,T&&Rr())}if(T&&!np){for(p=0;256>p;++p)Dg[p]=89858*(p-128)+Kr>>Ua,lc[p]=-22014*(p-128)+Kr,hf[p]=-45773*(p-128),Qr[p]=113618*(p-128)+Kr>>Ua;for(p=qo;p<Jc;++p)v=76283*(p-16)+Kr>>Ua,uc[p-qo]=fn(v,255),ff[p-qo]=fn(v+8>>4,15);np=1}return 1}function Ct(p){var v=p.ma,S=p.U,T=p.T;return e(!(1&p.ka)),0>=S||0>=T?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function In(p){p.ma.memory=null}function $n(p,v,S,T){return he(p,8)!=47?0:(v[0]=he(p,14)+1,S[0]=he(p,14)+1,T[0]=he(p,1),he(p,3)!=0?0:!p.h)}function Pn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+he(v,S)+1}function mr(p,v){return 120<v?v-120:1<=(S=((S=uo[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Zn(p,v,S){var T=Z(S),V=p[v+=255&T].g-8;return 0<V&&(fe(S,S.u+8),T=Z(S),v+=p[v].value,v+=T&(1<<V)-1),fe(S,S.u+p[v].g),p[v].value}function Vr(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function cr(p,v,S){var T=p.xc;return e((v=T==0?0:p.vc[p.md*(S>>T)+(v>>T)])<p.Wb),p.Ya[v]}function va(p,v,S,T){var V=p.ab,z=p.c*v,G=p.C;v=G+v;var K=S,J=T;for(T=p.Ta,S=p.Ua;0<V--;){var oe=p.gc[V],ve=G,Re=v,se=K,we=J,Te=(J=T,K=S,oe.Ea);switch(e(ve<Re),e(Re<=oe.nc),oe.hc){case 2:Jl(se,we,(Re-ve)*Te,J,K);break;case 0:var je=ve,Ie=Re,Fe=J,Ve=K,Xe=(ut=oe).Ea;je==0&&(Ra(se,we,null,null,1,Fe,Ve),wt(se,we+1,0,0,Xe-1,Fe,Ve+1),we+=Xe,Ve+=Xe,++je);for(var We=1<<ut.b,vt=We-1,ot=Je(Xe,ut.b),Gt=ut.K,ut=ut.w+(je>>ut.b)*ot;je<Ie;){var dn=Gt,Hr=ut,zt=1;for(La(se,we,Fe,Ve-Xe,1,Fe,Ve);zt<Xe;){var ft=(zt&~vt)+We;ft>Xe&&(ft=Xe),(0,jo[dn[Hr++]>>8&15])(se,we+ +zt,Fe,Ve+zt-Xe,ft-zt,Fe,Ve+zt),zt=ft}we+=Xe,Ve+=Xe,++je&vt||(ut+=ot)}Re!=oe.nc&&r(J,K-Te,J,K+(Re-ve-1)*Te,Te);break;case 1:for(Te=se,Ie=we,Xe=(se=oe.Ea)-(Ve=se&~(Fe=(we=1<<oe.b)-1)),je=Je(se,oe.b),We=oe.K,oe=oe.w+(ve>>oe.b)*je;ve<Re;){for(vt=We,ot=oe,Gt=new Yt,ut=Ie+Ve,dn=Ie+se;Ie<ut;)st(vt[ot++],Gt),Pa(Gt,Te,Ie,we,J,K),Ie+=we,K+=we;Ie<dn&&(st(vt[ot++],Gt),Pa(Gt,Te,Ie,Xe,J,K),Ie+=Xe,K+=Xe),++ve&Fe||(oe+=je)}break;case 3:if(se==J&&we==K&&0<oe.b){for(Ie=J,se=Te=K+(Re-ve)*Te-(Ve=(Re-ve)*Je(oe.Ea,oe.b)),we=J,Fe=K,je=[],Ve=(Xe=Ve)-1;0<=Ve;--Ve)je[Ve]=we[Fe+Ve];for(Ve=Xe-1;0<=Ve;--Ve)Ie[se+Ve]=je[Ve];tc(oe,ve,Re,J,Te,J,K)}else tc(oe,ve,Re,se,we,J,K)}K=T,J=S}J!=S&&r(T,S,K,J,z)}function is(p,v){var S=p.V,T=p.Ba+p.c*p.C,V=v-p.C;if(e(v<=p.l.o),e(16>=V),0<V){var z=p.l,G=p.Ta,K=p.Ua,J=z.width;if(va(p,V,S,T),V=K=[K],e((S=p.C)<(T=v)),e(z.v<z.va),T>z.o&&(T=z.o),S<z.j){var oe=z.j-S;S=z.j,V[0]+=oe*J}if(S>=T?S=0:(V[0]+=4*z.v,z.ka=S-z.j,z.U=z.va-z.v,z.T=T-S,S=1),S){if(K=K[0],11>(S=p.ca).S){var ve=S.f.RGBA,Re=(T=S.S,V=z.U,z=z.T,oe=ve.eb,ve.A),se=z;for(ve=ve.fb+p.Ma*ve.A;0<se--;){var we=G,Te=K,je=V,Ie=oe,Fe=ve;switch(T){case Ri:eu(we,Te,je,Ie,Fe);break;case nu:Gi(we,Te,je,Ie,Fe);break;case sc:Gi(we,Te,je,Ie,Fe),tu(Ie,Fe,0,je,1,0);break;case Ma:qn(we,Te,je,Ie,Fe);break;case ic:At(we,Te,je,Ie,Fe,1);break;case Fo:At(we,Te,je,Ie,Fe,1),tu(Ie,Fe,0,je,1,0);break;case yl:At(we,Te,je,Ie,Fe,0);break;case oo:At(we,Te,je,Ie,Fe,0),tu(Ie,Fe,1,je,1,0);break;case ao:Da(we,Te,je,Ie,Fe);break;case ru:Da(we,Te,je,Ie,Fe),Cs(Ie,Fe,je,1,0);break;case Yc:On(we,Te,je,Ie,Fe);break;default:e(0)}K+=J,ve+=Re}p.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function si(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,T=p.Ya[v].H;if(0<S[1][T[1]+0].g||0<S[2][T[2]+0].g||0<S[3][T[3]+0].g)return 0}return 1}function ai(p,v,S,T,V,z){if(p.Z!=0){var G=p.qd,K=p.rd;for(e(Va[p.Z]!=null);v<S;++v)Va[p.Z](G,K,T,V,T,V,z),G=T,K=V,V+=z;p.qd=G,p.rd=K}}function Fr(p,v){var S=p.l.ma,T=S.Z==0||S.Z==1?p.l.j:p.C;if(T=p.C<T?T:p.C,e(v<=p.l.o),v>T){var V=p.l.width,z=S.ca,G=S.tb+V*T,K=p.V,J=p.Ba+p.c*T,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),ka(oe[0],T,v,K,J,z,G),ai(S,T,v,z,G,V)}p.C=p.Ma=v}function Ur(p,v,S,T,V,z,G){var K=p.$/T,J=p.$%T,oe=p.m,ve=p.s,Re=S+p.$,se=Re;V=S+T*V;var we=S+T*z,Te=280+ve.ua,je=p.Pb?K:16777216,Ie=0<ve.ua?ve.Wa:null,Fe=ve.wc,Ve=Re<we?cr(ve,J,K):null;e(p.C<z),e(we<=V);var Xe=!1;e:for(;;){for(;Xe||Re<we;){var We=0;if(K>=je){var vt=Re-S;e((je=p).Pb),je.wd=je.m,je.xd=vt,0<je.s.ua&&tn(je.s.Wa,je.s.vb),je=K+Jd}if(J&Fe||(Ve=cr(ve,J,K)),e(Ve!=null),Ve.Qb&&(v[Re]=Ve.qb,Xe=!0),!Xe)if(ye(oe),Ve.jc){We=oe,vt=v;var ot=Re,Gt=Ve.pd[Z(We)&qs-1];e(Ve.jc),256>Gt.g?(fe(We,We.u+Gt.g),vt[ot]=Gt.value,We=0):(fe(We,We.u+Gt.g-256),e(256<=Gt.value),We=Gt.value),We==0&&(Xe=!0)}else We=Zn(Ve.G[0],Ve.H[0],oe);if(oe.h)break;if(Xe||256>We){if(!Xe)if(Ve.nd)v[Re]=(Ve.qb|We<<8)>>>0;else{if(ye(oe),Xe=Zn(Ve.G[1],Ve.H[1],oe),ye(oe),vt=Zn(Ve.G[2],Ve.H[2],oe),ot=Zn(Ve.G[3],Ve.H[3],oe),oe.h)break;v[Re]=(ot<<24|Xe<<16|We<<8|vt)>>>0}if(Xe=!1,++Re,++J>=T&&(J=0,++K,G!=null&&K<=z&&!(K%16)&&G(p,K),Ie!=null))for(;se<Re;)We=v[se++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else if(280>We){if(We=Pn(We-256,oe),vt=Zn(Ve.G[4],Ve.H[4],oe),ye(oe),vt=mr(T,vt=Pn(vt,oe)),oe.h)break;if(Re-S<vt||V-Re<We)break e;for(ot=0;ot<We;++ot)v[Re+ot]=v[Re+ot-vt];for(Re+=We,J+=We;J>=T;)J-=T,++K,G!=null&&K<=z&&!(K%16)&&G(p,K);if(e(Re<=V),J&Fe&&(Ve=cr(ve,J,K)),Ie!=null)for(;se<Re;)We=v[se++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We}else{if(!(We<Te))break e;for(Xe=We-280,e(Ie!=null);se<Re;)We=v[se++],Ie.X[(506832829*We&4294967295)>>>Ie.Mb]=We;We=Re,e(!(Xe>>>(vt=Ie).Xa)),v[We]=vt.X[Xe],Xe=!0}Xe||e(oe.h==ue(oe))}if(p.Pb&&oe.h&&Re<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&tn(p.s.vb,p.s.Wa);else{if(oe.h)break e;G?.(p,K>z?z:K),p.a=0,p.$=Re-S}return 1}return p.a=3,0}function Jn(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Wn(){var p=new er;return p==null?null:(p.a=0,p.xb=iu,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Jl=Tt,Pa=Lt,eu=Tn,Gi=an,Da=ht,On=It,qn=Nn,k.VP8LMapColor32b=oi,k.VP8LMapColor8b=Mo,p)}function ss(p,v,S,T,V){var z=1,G=[p],K=[v],J=T.m,oe=T.s,ve=null,Re=0;e:for(;;){if(S)for(;z&&he(J,1);){var se=G,we=K,Te=T,je=1,Ie=Te.m,Fe=Te.gc[Te.ab],Ve=he(Ie,2);if(Te.Oc&1<<Ve)z=0;else{switch(Te.Oc|=1<<Ve,Fe.hc=Ve,Fe.Ea=se[0],Fe.nc=we[0],Fe.K=[null],++Te.ab,e(4>=Te.ab),Ve){case 0:case 1:Fe.b=he(Ie,3)+2,je=ss(Je(Fe.Ea,Fe.b),Je(Fe.nc,Fe.b),0,Te,Fe.K),Fe.K=Fe.K[0];break;case 3:var Xe,We=he(Ie,8)+1,vt=16<We?0:4<We?1:2<We?2:3;if(se[0]=Je(Fe.Ea,vt),Fe.b=vt,Xe=je=ss(We,1,0,Te,Fe.K)){var ot,Gt=We,ut=Fe,dn=1<<(8>>ut.b),Hr=o(dn);if(Hr==null)Xe=0;else{var zt=ut.K[0],ft=ut.w;for(Hr[0]=ut.K[0][0],ot=1;ot<1*Gt;++ot)Hr[ot]=yt(zt[ft+ot],Hr[ot-1]);for(;ot<4*dn;++ot)Hr[ot]=0;ut.K[0]=null,ut.K[0]=Hr,Xe=1}}je=Xe;break;case 2:break;default:e(0)}z=je}}if(G=G[0],K=K[0],z&&he(J,1)&&!(z=1<=(Re=he(J,4))&&11>=Re)){T.a=3;break e}var et;if(et=z)t:{var vr,$t,Jt,dt=T,Kt=G,wn=K,or=Re,kr=S,Pr=dt.m,Sr=dt.s,hn=[null],An=1,Er=0,Ot=_l[or];n:for(;;){if(kr&&he(Pr,1)){var Xr=he(Pr,3)+2,Ps=Je(Kt,Xr),xr=Je(wn,Xr),Yi=Ps*xr;if(!ss(Ps,xr,0,dt,hn))break n;for(hn=hn[0],Sr.xc=Xr,vr=0;vr<Yi;++vr){var Yn=hn[vr]>>8&65535;hn[vr]=Yn,Yn>=An&&(An=Yn+1)}}if(Pr.h)break n;for($t=0;5>$t;++$t){var Dr=Ls[$t];!$t&&0<or&&(Dr+=1<<or),Er<Dr&&(Er=Dr)}var Ki=u(An*Ot,R),vi=An,tr=u(vi,ge);if(tr==null)var Cn=null;else e(65536>=vi),Cn=tr;var Li=o(Er);if(Cn==null||Li==null||Ki==null){dt.a=1;break n}var _i=Ki;for(vr=Jt=0;vr<An;++vr){var Un=Cn[vr],Qi=Un.G,Zr=Un.H,Ba=0,aa=1,Jr=0;for($t=0;5>$t;++$t){Dr=Ls[$t],Qi[$t]=_i,Zr[$t]=Jt,!$t&&0<or&&(Dr+=1<<or);i:{var cc,eh=Dr,hc=dt,au=Li,sp=_i,ap=Jt,fc=0,po=hc.m,Mg=he(po,1);if(s(au,0,0,eh),Mg){var op=he(po,1)+1,lp=he(po,1),df=he(po,lp==0?1:8);au[df]=1,op==2&&(au[df=he(po,8)]=1);var ou=1}else{var pf=o(19),mf=he(po,4)+4;if(19<mf){hc.a=3;var dc=0;break i}for(cc=0;cc<mf;++cc)pf[lo[cc]]=he(po,3);var th=void 0,lu=void 0,up=hc,cp=pf,mo=eh,pc=au,nh=0,oa=up.m,uu=8,gf=u(128,R);r:for(;P(gf,0,7,cp,19);){if(he(oa,1)){var hp=2+2*he(oa,3);if((th=2+he(oa,hp))>mo)break r}else th=mo;for(lu=0;lu<mo&&th--;){ye(oa);var yf=gf[0+(127&Z(oa))];fe(oa,oa.u+yf.g);var Al=yf.value;if(16>Al)pc[lu++]=Al,Al!=0&&(uu=Al);else{var fp=Al==16,vf=Al-16,_f=$s[vf],bf=he(oa,Kc[vf])+_f;if(lu+bf>mo)break r;for(var dp=fp?uu:0;0<bf--;)pc[lu++]=dp}}nh=1;break r}nh||(up.a=3),ou=nh}(ou=ou&&!po.h)&&(fc=P(sp,ap,8,au,eh)),ou&&fc!=0?dc=fc:(hc.a=3,dc=0)}if(dc==0)break n;if(aa&&vl[$t]==1&&(aa=_i[Jt].g==0),Ba+=_i[Jt].g,Jt+=dc,3>=$t){var Sl,rh=Li[0];for(Sl=1;Sl<Dr;++Sl)Li[Sl]>rh&&(rh=Li[Sl]);Jr+=rh}}if(Un.nd=aa,Un.Qb=0,aa&&(Un.qb=(Qi[3][Zr[3]+0].value<<24|Qi[1][Zr[1]+0].value<<16|Qi[2][Zr[2]+0].value)>>>0,Ba==0&&256>Qi[0][Zr[0]+0].value&&(Un.Qb=1,Un.qb+=Qi[0][Zr[0]+0].value<<8)),Un.jc=!Un.Qb&&6>Jr,Un.jc){var mc,go=Un;for(mc=0;mc<qs;++mc){var qa=mc,yo=go.pd[qa],gc=go.G[0][go.H[0]+qa];256<=gc.value?(yo.g=gc.g+256,yo.value=gc.value):(yo.g=0,yo.value=0,qa>>=Vr(gc,8,yo),qa>>=Vr(go.G[1][go.H[1]+qa],16,yo),qa>>=Vr(go.G[2][go.H[2]+qa],0,yo),Vr(go.G[3][go.H[3]+qa],24,yo))}}}Sr.vc=hn,Sr.Wb=An,Sr.Ya=Cn,Sr.yc=Ki,et=1;break t}et=0}if(!(z=et)){T.a=3;break e}if(0<Re){if(oe.ua=1<<Re,!ce(oe.Wa,Re)){T.a=1,z=0;break e}}else oe.ua=0;var yc=T,wf=G,pp=K,Af=yc.s,Sf=Af.xc;if(yc.c=wf,yc.i=pp,Af.md=Je(wf,Sf),Af.wc=Sf==0?-1:(1<<Sf)-1,S){T.xb=tp;break e}if((ve=o(G*K))==null){T.a=1,z=0;break e}z=(z=Ur(T,ve,0,G,K,K,null))&&!J.h;break e}return z?(V!=null?V[0]=ve:(e(ve==null),e(S)),T.$=0,S||Jn(oe)):Jn(oe),z}function Ms(p,v){var S=p.c*p.i,T=S+v+16*v;return e(p.c<=v),p.V=o(T),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function xi(p,v){var S=p.C,T=v-S,V=p.V,z=p.Ba+p.c*S;for(e(v<=p.l.o);0<T;){var G=16<T?16:T,K=p.l.ma,J=p.l.width,oe=J*G,ve=K.ca,Re=K.tb+J*S,se=p.Ta,we=p.Ua;va(p,G,V,z),pl(se,we,ve,Re,oe),ai(K,S,S+G,ve,Re,J),T-=G,V+=G*p.c,S+=G}e(S==v),p.C=p.Ma=v}function as(){this.ub=this.yd=this.td=this.Rb=0}function Xa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yl(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ea(){this.Yb=(function(){var p=[];return(function v(S,T,V){for(var z=V[T],G=0;G<z&&(S.push(V.length>T+1?[]:0),!(V.length<T+1));G++)v(S[G],T+1,V)})(p,0,[3,11]),p})()}function ul(){this.jb=o(3),this.Wc=c([4,8],ea),this.Xc=c([4,17],ea)}function ta(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function Cr(){this.Na=this.la=0}function _a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Co(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function js(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new Co),this.aa=0,this.l=new ba}function Za(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ja(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new as,this.Kc=new Xa,this.ed=new ta,this.Qa=new Yl,this.Ic=this.$c=this.Aa=0,this.D=new js,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,C),this.ia=0,this.pb=u(4,_a),this.Pa=new ul,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new Cr),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Co),this.L=this.aa=0,this.gd=c([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ro(){var p=new Ja;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Yr||(Yr=os)),p}function _n(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Lo(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Kl(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return _n(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,T=v.w,V=v.ha;if(4>V)return _n(p,7,"Truncated header.");var z=S[T+0]|S[T+1]<<8|S[T+2]<<16,G=p.Od;if(G.Rb=!(1&z),G.td=z>>1&7,G.yd=z>>4&1,G.ub=z>>5,3<G.td)return _n(p,3,"Incorrect keyframe parameters.");if(!G.yd)return _n(p,4,"Frame not displayable.");T+=3,V-=3;var K=p.Kc;if(G.Rb){if(7>V)return _n(p,7,"cannot parse picture header");if(!Lo(S,T,V))return _n(p,3,"Bad code word");K.c=16383&(S[T+4]<<8|S[T+3]),K.Td=S[T+4]>>6,K.i=16383&(S[T+6]<<8|S[T+5]),K.Ud=S[T+6]>>6,T+=7,V-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((z=p.Pa).jb,0,255,z.jb.length),e((z=p.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(G.ub>V)return _n(p,7,"bad partition length");ne(z=p.m,S,T,G.ub),T+=G.ub,V-=G.ub,G.Rb&&(K.Ld=ke(z),K.Kd=ke(z)),K=p.Qa;var J,oe=p.Pa;if(e(z!=null),e(K!=null),K.Cb=ke(z),K.Cb){if(K.Bb=ke(z),ke(z)){for(K.Fb=ke(z),J=0;4>J;++J)K.Zb[J]=ke(z)?ie(z,7):0;for(J=0;4>J;++J)K.Lb[J]=ke(z)?ie(z,6):0}if(K.Bb)for(J=0;3>J;++J)oe.jb[J]=ke(z)?pe(z,8):255}else K.Bb=0;if(z.Ka)return _n(p,3,"cannot parse segment header");if((K=p.ed).zd=ke(z),K.Tb=pe(z,6),K.wb=pe(z,3),K.Pc=ke(z),K.Pc&&ke(z)){for(oe=0;4>oe;++oe)ke(z)&&(K.vd[oe]=ie(z,6));for(oe=0;4>oe;++oe)ke(z)&&(K.od[oe]=ie(z,6))}if(p.L=K.Tb==0?0:K.zd?1:2,z.Ka)return _n(p,3,"cannot parse filter header");var ve=V;if(V=J=T,T=J+ve,K=ve,p.Xb=(1<<pe(p.m,2))-1,ve<3*(oe=p.Xb))S=7;else{for(J+=3*oe,K-=3*oe,ve=0;ve<oe;++ve){var Re=S[V+0]|S[V+1]<<8|S[V+2]<<16;Re>K&&(Re=K),ne(p.Jc[+ve],S,J,Re),J+=Re,K-=Re,V+=3}ne(p.Jc[+oe],S,J,K),S=J<T?0:5}if(S!=0)return _n(p,S,"cannot parse partitions");for(S=pe(J=p.m,7),V=ke(J)?ie(J,4):0,T=ke(J)?ie(J,4):0,K=ke(J)?ie(J,4):0,oe=ke(J)?ie(J,4):0,J=ke(J)?ie(J,4):0,ve=p.Qa,Re=0;4>Re;++Re){if(ve.Cb){var se=ve.Zb[Re];ve.Fb||(se+=S)}else{if(0<Re){p.pb[Re]=p.pb[0];continue}se=S}var we=p.pb[Re];we.Sc[0]=ac[fn(se+V,127)],we.Sc[1]=oc[fn(se+0,127)],we.Eb[0]=2*ac[fn(se+T,127)],we.Eb[1]=101581*oc[fn(se+K,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=ac[fn(se+oe,117)],we.Qc[1]=oc[fn(se+J,127)],we.lc=se+J}if(!G.Rb)return _n(p,4,"Not a key frame.");for(ke(z),G=p.Pa,S=0;4>S;++S){for(V=0;8>V;++V)for(T=0;3>T;++T)for(K=0;11>K;++K)oe=Ue(z,bl[S][V][T][K])?pe(z,8):ja[S][V][T][K],G.Wc[S][V].Yb[T][K]=oe;for(V=0;17>V;++V)G.Xc[S][V]=G.Wc[S][ep[V]]}return p.kc=ke(z),p.kc&&(p.Bd=pe(z,8)),p.cb=1}function os(p,v,S,T,V,z,G){var K=v[V].Yb[S];for(S=0;16>V;++V){if(!Ue(p,K[S+0]))return V;for(;!Ue(p,K[S+1]);)if(K=v[++V].Yb[0],S=0,V==16)return 16;var J=v[V+1].Yb;if(Ue(p,K[S+2])){var oe=p,ve=0;if(Ue(oe,(se=K)[(Re=S)+3]))if(Ue(oe,se[Re+6])){for(K=0,Re=2*(ve=Ue(oe,se[Re+8]))+(se=Ue(oe,se[Re+9+ve])),ve=0,se=Ar[Re];se[K];++K)ve+=ve+Ue(oe,se[K]);ve+=3+(8<<Re)}else Ue(oe,se[Re+7])?(ve=7+2*Ue(oe,165),ve+=Ue(oe,145)):ve=5+Ue(oe,159);else ve=Ue(oe,se[Re+4])?3+Ue(oe,se[Re+5]):2;K=J[2]}else ve=1,K=J[1];J=G+Mn[V],0>(oe=p).b&&Ce(oe);var Re,se=oe.b,we=(Re=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=we,oe.Ca|=1,oe.I-=(Re+1&we)<<se,z[J]=((ve^we)-we)*T[(0<V)+0]}return 16}function na(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function pi(p,v,S,T,V){V=p[v+S+32*T]+(V>>3),p[v+S+32*T]=-256&V?0>V?0:255:V}function eo(p,v,S,T,V,z){pi(p,v,0,S,T+V),pi(p,v,1,S,T+z),pi(p,v,2,S,T-z),pi(p,v,3,S,T-V)}function en(p){return(20091*p>>16)+p}function mi(p,v,S,T){var V,z=0,G=o(16);for(V=0;4>V;++V){var K=p[v+0]+p[v+8],J=p[v+0]-p[v+8],oe=(35468*p[v+4]>>16)-en(p[v+12]),ve=en(p[v+4])+(35468*p[v+12]>>16);G[z+0]=K+ve,G[z+1]=J+oe,G[z+2]=J-oe,G[z+3]=K-ve,z+=4,v++}for(V=z=0;4>V;++V)K=(p=G[z+0]+4)+G[z+8],J=p-G[z+8],oe=(35468*G[z+4]>>16)-en(G[z+12]),pi(S,T,0,0,K+(ve=en(G[z+4])+(35468*G[z+12]>>16))),pi(S,T,1,0,J+oe),pi(S,T,2,0,J-oe),pi(S,T,3,0,K-ve),z++,T+=32}function to(p,v,S,T){var V=p[v+0]+4,z=35468*p[v+4]>>16,G=en(p[v+4]),K=35468*p[v+1]>>16;eo(S,T,0,V+G,p=en(p[v+1]),K),eo(S,T,1,V+z,p,K),eo(S,T,2,V-z,p,K),eo(S,T,3,V-G,p,K)}function wa(p,v,S,T,V){mi(p,v,S,T),V&&mi(p,v+16,S,T+4)}function ra(p,v,S,T){yr(p,v+0,S,T,1),yr(p,v+32,S,T+128,1)}function on(p,v,S,T){var V;for(p=p[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)pi(S,T,v,V,p)}function Aa(p,v,S,T){p[v+0]&&$i(p,v+0,S,T),p[v+16]&&$i(p,v+16,S,T+4),p[v+32]&&$i(p,v+32,S,T+128),p[v+48]&&$i(p,v+48,S,T+128+4)}function Vi(p,v,S,T){var V,z=o(16);for(V=0;4>V;++V){var G=p[v+0+V]+p[v+12+V],K=p[v+4+V]+p[v+8+V],J=p[v+4+V]-p[v+8+V],oe=p[v+0+V]-p[v+12+V];z[0+V]=G+K,z[8+V]=G-K,z[4+V]=oe+J,z[12+V]=oe-J}for(V=0;4>V;++V)G=(p=z[0+4*V]+3)+z[3+4*V],K=z[1+4*V]+z[2+4*V],J=z[1+4*V]-z[2+4*V],oe=p-z[3+4*V],S[T+0]=G+K>>3,S[T+16]=oe+J>>3,S[T+32]=G-K>>3,S[T+48]=oe-J>>3,T+=64}function ls(p,v,S){var T,V=v-32,z=li,G=255-p[V-1];for(T=0;T<S;++T){var K,J=z,oe=G+p[v-1];for(K=0;K<S;++K)p[v+K]=J[oe+p[V+K]];v+=32}}function ko(p,v){ls(p,v,4)}function cl(p,v){ls(p,v,8)}function hl(p,v){ls(p,v,16)}function ec(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function fl(p,v){var S;for(S=16;0<S;--S)s(p,v,p[v-1],16),v+=32}function Vs(p,v,S){var T;for(T=0;16>T;++T)s(v,S+32*T,p,16)}function Ti(p,v){var S,T=16;for(S=0;16>S;++S)T+=p[v-1+32*S]+p[v+S-32];Vs(T>>5,p,v)}function us(p,v){var S,T=8;for(S=0;16>S;++S)T+=p[v-1+32*S];Vs(T>>4,p,v)}function Fi(p,v){var S,T=8;for(S=0;16>S;++S)T+=p[v+S-32];Vs(T>>4,p,v)}function Es(p,v){Vs(128,p,v)}function Dt(p,v,S){return p+2*v+S+2>>2}function Fs(p,v){var S,T=v-32;for(T=new Uint8Array([Dt(p[T-1],p[T+0],p[T+1]),Dt(p[T+0],p[T+1],p[T+2]),Dt(p[T+1],p[T+2],p[T+3]),Dt(p[T+2],p[T+3],p[T+4])]),S=0;4>S;++S)r(p,v+32*S,T,0,T.length)}function Ql(p,v){var S=p[v-1],T=p[v-1+32],V=p[v-1+64],z=p[v-1+96];qe(p,v+0,16843009*Dt(p[v-1-32],S,T)),qe(p,v+32,16843009*Dt(S,T,V)),qe(p,v+64,16843009*Dt(T,V,z)),qe(p,v+96,16843009*Dt(V,z,z))}function no(p,v){var S,T=4;for(S=0;4>S;++S)T+=p[v+S-32]+p[v-1+32*S];for(T>>=3,S=0;4>S;++S)s(p,v+32*S,T,4)}function xs(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],z=p[v-1-32],G=p[v+0-32],K=p[v+1-32],J=p[v+2-32],oe=p[v+3-32];p[v+0+96]=Dt(T,V,p[v-1+96]),p[v+1+96]=p[v+0+64]=Dt(S,T,V),p[v+2+96]=p[v+1+64]=p[v+0+32]=Dt(z,S,T),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Dt(G,z,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Dt(K,G,z),p[v+3+32]=p[v+2+0]=Dt(J,K,G),p[v+3+0]=Dt(oe,J,K)}function Br(p,v){var S=p[v+1-32],T=p[v+2-32],V=p[v+3-32],z=p[v+4-32],G=p[v+5-32],K=p[v+6-32],J=p[v+7-32];p[v+0+0]=Dt(p[v+0-32],S,T),p[v+1+0]=p[v+0+32]=Dt(S,T,V),p[v+2+0]=p[v+1+32]=p[v+0+64]=Dt(T,V,z),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Dt(V,z,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Dt(z,G,K),p[v+3+64]=p[v+2+96]=Dt(G,K,J),p[v+3+96]=Dt(K,J,J)}function Ui(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],z=p[v-1-32],G=p[v+0-32],K=p[v+1-32],J=p[v+2-32],oe=p[v+3-32];p[v+0+0]=p[v+1+64]=z+G+1>>1,p[v+1+0]=p[v+2+64]=G+K+1>>1,p[v+2+0]=p[v+3+64]=K+J+1>>1,p[v+3+0]=J+oe+1>>1,p[v+0+96]=Dt(V,T,S),p[v+0+64]=Dt(T,S,z),p[v+0+32]=p[v+1+96]=Dt(S,z,G),p[v+1+32]=p[v+2+96]=Dt(z,G,K),p[v+2+32]=p[v+3+96]=Dt(G,K,J),p[v+3+32]=Dt(K,J,oe)}function Us(p,v){var S=p[v+0-32],T=p[v+1-32],V=p[v+2-32],z=p[v+3-32],G=p[v+4-32],K=p[v+5-32],J=p[v+6-32],oe=p[v+7-32];p[v+0+0]=S+T+1>>1,p[v+1+0]=p[v+0+64]=T+V+1>>1,p[v+2+0]=p[v+1+64]=V+z+1>>1,p[v+3+0]=p[v+2+64]=z+G+1>>1,p[v+0+32]=Dt(S,T,V),p[v+1+32]=p[v+0+96]=Dt(T,V,z),p[v+2+32]=p[v+1+96]=Dt(V,z,G),p[v+3+32]=p[v+2+96]=Dt(z,G,K),p[v+3+64]=Dt(G,K,J),p[v+3+96]=Dt(K,J,oe)}function Sa(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],z=p[v-1+96];p[v+0+0]=S+T+1>>1,p[v+2+0]=p[v+0+32]=T+V+1>>1,p[v+2+32]=p[v+0+64]=V+z+1>>1,p[v+1+0]=Dt(S,T,V),p[v+3+0]=p[v+1+32]=Dt(T,V,z),p[v+3+32]=p[v+1+64]=Dt(V,z,z),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=z}function cs(p,v){var S=p[v-1+0],T=p[v-1+32],V=p[v-1+64],z=p[v-1+96],G=p[v-1-32],K=p[v+0-32],J=p[v+1-32],oe=p[v+2-32];p[v+0+0]=p[v+2+32]=S+G+1>>1,p[v+0+32]=p[v+2+64]=T+S+1>>1,p[v+0+64]=p[v+2+96]=V+T+1>>1,p[v+0+96]=z+V+1>>1,p[v+3+0]=Dt(K,J,oe),p[v+2+0]=Dt(G,K,J),p[v+1+0]=p[v+3+32]=Dt(S,G,K),p[v+1+32]=p[v+3+64]=Dt(T,S,G),p[v+1+64]=p[v+3+96]=Dt(V,T,S),p[v+1+96]=Dt(z,V,T)}function ro(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function Ni(p,v){var S;for(S=0;8>S;++S)s(p,v,p[v-1],8),v+=32}function Bi(p,v,S){var T;for(T=0;8>T;++T)s(v,S+32*T,p,8)}function Ea(p,v){var S,T=8;for(S=0;8>S;++S)T+=p[v+S-32]+p[v-1+32*S];Bi(T>>4,p,v)}function qr(p,v){var S,T=4;for(S=0;8>S;++S)T+=p[v+S-32];Bi(T>>3,p,v)}function bn(p,v){var S,T=4;for(S=0;8>S;++S)T+=p[v-1+32*S];Bi(T>>3,p,v)}function xa(p,v){Bi(128,p,v)}function Ts(p,v,S){var T=p[v-S],V=p[v+0],z=3*(V-T)+Wc[1020+p[v-2*S]-p[v+S]],G=gl[112+(z+4>>3)];p[v-S]=li[255+T+gl[112+(z+3>>3)]],p[v+0]=li[255+V-G]}function Ta(p,v,S,T){var V=p[v+0],z=p[v+S];return Gs[255+p[v-2*S]-p[v-S]]>T||Gs[255+z-V]>T}function Na(p,v,S,T){return 4*Gs[255+p[v-S]-p[v+0]]+Gs[255+p[v-2*S]-p[v+S]]<=T}function ia(p,v,S,T,V){var z=p[v-3*S],G=p[v-2*S],K=p[v-S],J=p[v+0],oe=p[v+S],ve=p[v+2*S],Re=p[v+3*S];return 4*Gs[255+K-J]+Gs[255+G-oe]>T?0:Gs[255+p[v-4*S]-z]<=V&&Gs[255+z-G]<=V&&Gs[255+G-K]<=V&&Gs[255+Re-ve]<=V&&Gs[255+ve-oe]<=V&&Gs[255+oe-J]<=V}function hs(p,v,S,T){var V=2*T+1;for(T=0;16>T;++T)Na(p,v+T,S,V)&&Ts(p,v+T,S)}function Ns(p,v,S,T){var V=2*T+1;for(T=0;16>T;++T)Na(p,v+T*S,1,V)&&Ts(p,v+T*S,1)}function Ii(p,v,S,T){var V;for(V=3;0<V;--V)hs(p,v+=4*S,S,T)}function Po(p,v,S,T){var V;for(V=3;0<V;--V)Ns(p,v+=4,S,T)}function qi(p,v,S,T,V,z,G,K){for(z=2*z+1;0<V--;){if(ia(p,v,S,z,G))if(Ta(p,v,S,K))Ts(p,v,S);else{var J=p,oe=v,ve=S,Re=J[oe-2*ve],se=J[oe-ve],we=J[oe+0],Te=J[oe+ve],je=J[oe+2*ve],Ie=27*(Ve=Wc[1020+3*(we-se)+Wc[1020+Re-Te]])+63>>7,Fe=18*Ve+63>>7,Ve=9*Ve+63>>7;J[oe-3*ve]=li[255+J[oe-3*ve]+Ve],J[oe-2*ve]=li[255+Re+Fe],J[oe-ve]=li[255+se+Ie],J[oe+0]=li[255+we-Ie],J[oe+ve]=li[255+Te-Fe],J[oe+2*ve]=li[255+je-Ve]}v+=T}}function Ci(p,v,S,T,V,z,G,K){for(z=2*z+1;0<V--;){if(ia(p,v,S,z,G))if(Ta(p,v,S,K))Ts(p,v,S);else{var J=p,oe=v,ve=S,Re=J[oe-ve],se=J[oe+0],we=J[oe+ve],Te=gl[112+(4+(je=3*(se-Re))>>3)],je=gl[112+(je+3>>3)],Ie=Te+1>>1;J[oe-2*ve]=li[255+J[oe-2*ve]+Ie],J[oe-ve]=li[255+Re+je],J[oe+0]=li[255+se-Te],J[oe+ve]=li[255+we-Ie]}v+=T}}function A(p,v,S,T,V,z){qi(p,v,S,1,16,T,V,z)}function j(p,v,S,T,V,z){qi(p,v,1,S,16,T,V,z)}function ae(p,v,S,T,V,z){var G;for(G=3;0<G;--G)Ci(p,v+=4*S,S,1,16,T,V,z)}function me(p,v,S,T,V,z){var G;for(G=3;0<G;--G)Ci(p,v+=4,1,S,16,T,V,z)}function Ae(p,v,S,T,V,z,G,K){qi(p,v,V,1,8,z,G,K),qi(S,T,V,1,8,z,G,K)}function Be(p,v,S,T,V,z,G,K){qi(p,v,1,V,8,z,G,K),qi(S,T,1,V,8,z,G,K)}function Ke(p,v,S,T,V,z,G,K){Ci(p,v+4*V,V,1,8,z,G,K),Ci(S,T+4*V,V,1,8,z,G,K)}function at(p,v,S,T,V,z,G,K){Ci(p,v+4,1,V,8,z,G,K),Ci(S,T+4,1,V,8,z,G,K)}function pt(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ln(){this.ua=0,this.Wa=new Nt,this.vb=new Nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new R}function er(){this.xb=this.a=0,this.l=new ba,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ln,this.ab=0,this.gc=u(4,qt),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dn(p,v,S,T,V,z,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)V[z+v]=p+S[T+v]&255,p=V[z+v]}function gr(p,v,S,T,V,z,G){var K;if(p==null)Dn(null,null,S,T,V,z,G);else for(K=0;K<G;++K)V[z+K]=p[v+K]+S[T+K]&255}function Bn(p,v,S,T,V,z,G){if(p==null)Dn(null,null,S,T,V,z,G);else{var K,J=p[v+0],oe=J,ve=J;for(K=0;K<G;++K)oe=ve+(J=p[v+K])-oe,ve=S[T+K]+(-256&oe?0>oe?0:255:oe)&255,oe=J,V[z+K]=ve}}function zr(p,v,S,T){var V=v.width,z=v.o;if(e(p!=null&&v!=null),0>S||0>=T||S+T>z)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new sr,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var K=p.Fa,J=p.P,oe=p.qc,ve=p.mb,Re=p.nb,se=J+1,we=oe-1,Te=G.l;if(e(K!=null&&ve!=null&&v!=null),Va[0]=null,Va[1]=Dn,Va[2]=gr,Va[3]=Bn,G.ca=ve,G.tb=Re,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=oe)v=0;else if(G.$a=3&K[J+0],G.Z=K[J+0]>>2&3,G.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)v=0;else if(Te.put=Ct,Te.ac=di,Te.bc=In,Te.ma=G,Te.width=v.width,Te.height=v.height,Te.Da=v.Da,Te.v=v.v,Te.va=v.va,Te.j=v.j,Te.o=v.o,G.$a)e:{e(G.$a==1),v=Wn();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,be(v.m,K,se,we),!ss(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&si(v.s)?(G.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Ms(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=we>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:T=z-S}e(p.ga!=null),e(S+T<=z);e:{if(v=(K=p.ga).c,z=K.l.o,K.$a==0){if(se=p.rc,we=p.Vc,Te=p.Fa,J=p.P+1+S*v,oe=p.mb,ve=p.nb+S*v,e(J<=p.P+p.qc),K.Z!=0)for(e(Va[K.Z]!=null),G=0;G<T;++G)Va[K.Z](se,we,Te,J,oe,ve,v),se=oe,we=ve,ve+=v,J+=v;else for(G=0;G<T;++G)r(oe,ve,Te,J,v),se=oe,we=ve,ve+=v,J+=v;p.rc=se,p.Vc=we}else{if(e(K.mc!=null),v=S+T,e((G=K.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(K.ic||Rr(),K.ic){K=G.V,se=G.Ba,we=G.c;var je=G.i,Ie=(Te=1,J=G.$/we,oe=G.$%we,ve=G.m,Re=G.s,G.$),Fe=we*je,Ve=we*v,Xe=Re.wc,We=Ie<Ve?cr(Re,oe,J):null;e(Ie<=Fe),e(v<=je),e(si(Re));t:for(;;){for(;!ve.h&&Ie<Ve;){if(oe&Xe||(We=cr(Re,oe,J)),e(We!=null),ye(ve),256>(je=Zn(We.G[0],We.H[0],ve)))K[se+Ie]=je,++Ie,++oe>=we&&(oe=0,++J<=v&&!(J%16)&&Fr(G,J));else{if(!(280>je)){Te=0;break t}je=Pn(je-256,ve);var vt,ot=Zn(We.G[4],We.H[4],ve);if(ye(ve),!(Ie>=(ot=mr(we,ot=Pn(ot,ve)))&&Fe-Ie>=je)){Te=0;break t}for(vt=0;vt<je;++vt)K[se+Ie+vt]=K[se+Ie+vt-ot];for(Ie+=je,oe+=je;oe>=we;)oe-=we,++J<=v&&!(J%16)&&Fr(G,J);Ie<Ve&&oe&Xe&&(We=cr(Re,oe,J))}e(ve.h==ue(ve))}Fr(G,J>v?v:J);break t}!Te||ve.h&&Ie<Fe?(Te=0,G.a=ve.h?5:3):G.$=Ie,v=Te}else v=Ur(G,G.V,G.Ba,G.c,G.i,v,xi);if(!v){T=0;break e}}S+T>=z&&(p.Cc=1),T=1}if(!T)return null;if(p.Cc&&((T=p.ga)!=null&&(T.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*V}function Bs(p,v,S,T,V,z){for(;0<V--;){var G,K=p,J=v+(S?1:0),oe=p,ve=v+(S?0:3);for(G=0;G<T;++G){var Re=oe[ve+4*G];Re!=255&&(Re*=32897,K[J+4*G+0]=K[J+4*G+0]*Re>>23,K[J+4*G+1]=K[J+4*G+1]*Re>>23,K[J+4*G+2]=K[J+4*G+2]*Re>>23)}v+=z}}function sa(p,v,S,T,V){for(;0<T--;){var z;for(z=0;z<S;++z){var G=p[v+2*z+0],K=15&(oe=p[v+2*z+1]),J=4369*K,oe=(240&oe|oe>>4)*J>>16;p[v+2*z+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,p[v+2*z+1]=240&oe|K}v+=V}}function Xl(p,v,S,T,V,z,G,K){var J,oe,ve=255;for(oe=0;oe<V;++oe){for(J=0;J<T;++J){var Re=p[v+J];z[G+4*J]=Re,ve&=Re}v+=S,G+=K}return ve!=255}function io(p,v,S,T,V){var z;for(z=0;z<V;++z)S[T+z]=p[v+z]>>8}function Rr(){tu=Bs,Cs=sa,Rs=Xl,pl=io}function fs(p,v,S){k[p]=function(T,V,z,G,K,J,oe,ve,Re,se,we,Te,je,Ie,Fe,Ve,Xe){var We,vt=Xe-1>>1,ot=K[J+0]|oe[ve+0]<<16,Gt=Re[se+0]|we[Te+0]<<16;e(T!=null);var ut=3*ot+Gt+131074>>2;for(v(T[V+0],255&ut,ut>>16,je,Ie),z!=null&&(ut=3*Gt+ot+131074>>2,v(z[G+0],255&ut,ut>>16,Fe,Ve)),We=1;We<=vt;++We){var dn=K[J+We]|oe[ve+We]<<16,Hr=Re[se+We]|we[Te+We]<<16,zt=ot+dn+Gt+Hr+524296,ft=zt+2*(dn+Gt)>>3;ut=ft+ot>>1,ot=(zt=zt+2*(ot+Hr)>>3)+dn>>1,v(T[V+2*We-1],255&ut,ut>>16,je,Ie+(2*We-1)*S),v(T[V+2*We-0],255&ot,ot>>16,je,Ie+(2*We-0)*S),z!=null&&(ut=zt+Gt>>1,ot=ft+Hr>>1,v(z[G+2*We-1],255&ut,ut>>16,Fe,Ve+(2*We-1)*S),v(z[G+2*We+0],255&ot,ot>>16,Fe,Ve+(2*We+0)*S)),ot=dn,Gt=Hr}1&Xe||(ut=3*ot+Gt+131074>>2,v(T[V+Xe-1],255&ut,ut>>16,je,Ie+(Xe-1)*S),z!=null&&(ut=3*Gt+ot+131074>>2,v(z[G+Xe-1],255&ut,ut>>16,Fe,Ve+(Xe-1)*S)))}}function Do(){ui[Ri]=ho,ui[nu]=Fa,ui[Ma]=Bo,ui[ic]=Qc,ui[yl]=Xc,ui[ao]=su,ui[Yc]=Zc,ui[sc]=Fa,ui[Fo]=Qc,ui[oo]=Xc,ui[ru]=su}function zi(p){return p&-16384?0>p?0:255:p>>Pg}function m(p,v){return zi((19077*p>>8)+(26149*v>>8)-14234)}function x(p,v,S){return zi((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function L(p,v){return zi((19077*p>>8)+(33050*v>>8)-17685)}function Q(p,v,S,T,V){T[V+0]=m(p,S),T[V+1]=x(p,v,S),T[V+2]=L(p,v)}function xe(p,v,S,T,V){T[V+0]=L(p,v),T[V+1]=x(p,v,S),T[V+2]=m(p,S)}function Oe(p,v,S,T,V){var z=x(p,v,S);v=z<<3&224|L(p,v)>>3,T[V+0]=248&m(p,S)|z>>5,T[V+1]=v}function Ze(p,v,S,T,V){var z=240&L(p,v)|15;T[V+0]=240&m(p,S)|x(p,v,S)>>4,T[V+1]=z}function un(p,v,S,T,V){T[V+0]=255,Q(p,v,S,T,V+1)}function hr(p,v,S,T,V){xe(p,v,S,T,V),T[V+3]=255}function cn(p,v,S,T,V){Q(p,v,S,T,V),T[V+3]=255}function fn(p,v){return 0>p?0:p>v?v:p}function jn(p,v,S){k[p]=function(T,V,z,G,K,J,oe,ve,Re){for(var se=ve+(-2&Re)*S;ve!=se;)v(T[V+0],z[G+0],K[J+0],oe,ve),v(T[V+1],z[G+0],K[J+0],oe,ve+S),V+=2,++G,++J,ve+=2*S;1&Re&&v(T[V+0],z[G+0],K[J+0],oe,ve)}}function Is(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Lr(p,v,S,T,V){switch(p>>>30){case 3:yr(v,S,T,V,0);break;case 2:Oa(v,S,T,V);break;case 1:$i(v,S,T,V)}}function gi(p,v){var S,T,V=v.M,z=v.Nb,G=p.oc,K=p.pc+40,J=p.oc,oe=p.pc+584,ve=p.oc,Re=p.pc+600;for(S=0;16>S;++S)G[K+32*S-1]=129;for(S=0;8>S;++S)J[oe+32*S-1]=129,ve[Re+32*S-1]=129;for(0<V?G[K-1-32]=J[oe-1-32]=ve[Re-1-32]=129:(s(G,K-32-1,127,21),s(J,oe-32-1,127,9),s(ve,Re-32-1,127,9)),T=0;T<p.za;++T){var se=v.ya[v.aa+T];if(0<T){for(S=-1;16>S;++S)r(G,K+32*S-4,G,K+32*S+12,4);for(S=-1;8>S;++S)r(J,oe+32*S-4,J,oe+32*S+4,4),r(ve,Re+32*S-4,ve,Re+32*S+4,4)}var we=p.Gd,Te=p.Hd+T,je=se.ad,Ie=se.Hc;if(0<V&&(r(G,K-32,we[Te].y,0,16),r(J,oe-32,we[Te].f,0,8),r(ve,Re-32,we[Te].ea,0,8)),se.Za){var Fe=G,Ve=K-32+16;for(0<V&&(T>=p.za-1?s(Fe,Ve,we[Te].y[15],4):r(Fe,Ve,we[Te+1].y,0,4)),S=0;4>S;S++)Fe[Ve+128+S]=Fe[Ve+256+S]=Fe[Ve+384+S]=Fe[Ve+0+S];for(S=0;16>S;++S,Ie<<=2)Fe=G,Ve=K+wl[S],Wi[se.Ob[S]](Fe,Ve),Lr(Ie,je,16*+S,Fe,Ve)}else if(Fe=Is(T,V,se.Ob[0]),co[Fe](G,K),Ie!=0)for(S=0;16>S;++S,Ie<<=2)Lr(Ie,je,16*+S,G,K+wl[S]);for(S=se.Gc,Fe=Is(T,V,se.Dd),ks[Fe](J,oe),ks[Fe](ve,Re),Ie=je,Fe=J,Ve=oe,255&(se=0|S)&&(170&se?zs(Ie,256,Fe,Ve):dl(Ie,256,Fe,Ve)),se=ve,Ie=Re,255&(S>>=8)&&(170&S?zs(je,320,se,Ie):dl(je,320,se,Ie)),V<p.Ub-1&&(r(we[Te].y,0,G,K+480,16),r(we[Te].f,0,J,oe+224,8),r(we[Te].ea,0,ve,Re+224,8)),S=8*z*p.B,we=p.sa,Te=p.ta+16*T+16*z*p.R,je=p.qa,se=p.ra+8*T+S,Ie=p.Ha,Fe=p.Ia+8*T+S,S=0;16>S;++S)r(we,Te+S*p.R,G,K+32*S,16);for(S=0;8>S;++S)r(je,se+S*p.B,J,oe+32*S,8),r(Ie,Fe+S*p.B,ve,Re+32*S,8)}}function Ia(p,v,S,T,V,z,G,K,J){var oe=[0],ve=[0],Re=0,se=J!=null?J.kd:0,we=J??new kt;if(p==null||12>S)return 7;we.data=p,we.w=v,we.ha=S,v=[v],S=[S],we.gb=[we.gb];e:{var Te=v,je=S,Ie=we.gb;if(e(p!=null),e(je!=null),e(Ie!=null),Ie[0]=0,12<=je[0]&&!t(p,Te[0],"RIFF")){if(t(p,Te[0]+8,"WEBP")){Ie=3;break e}var Fe=Me(p,Te[0]+4);if(12>Fe||4294967286<Fe){Ie=3;break e}if(se&&Fe>je[0]-8){Ie=7;break e}Ie[0]=Fe,Te[0]+=12,je[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Fe=0<we.gb[0],S=S[0];;){e:{var Ve=p;je=v,Ie=S;var Xe=oe,We=ve,vt=Te=[0];if((ut=Re=[Re])[0]=0,8>Ie[0])Ie=7;else{if(!t(Ve,je[0],"VP8X")){if(Me(Ve,je[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var ot=Me(Ve,je[0]+8),Gt=1+rt(Ve,je[0]+12);if(2147483648<=Gt*(Ve=1+rt(Ve,je[0]+15))){Ie=3;break e}vt!=null&&(vt[0]=ot),Xe!=null&&(Xe[0]=Gt),We!=null&&(We[0]=Ve),je[0]+=18,Ie[0]-=18,ut[0]=1}Ie=0}}if(Re=Re[0],Te=Te[0],Ie!=0)return Ie;if(je=!!(2&Te),!Fe&&Re)return 3;if(z!=null&&(z[0]=!!(16&Te)),G!=null&&(G[0]=je),K!=null&&(K[0]=0),G=oe[0],Te=ve[0],Re&&je&&J==null){Ie=0;break}if(4>S){Ie=7;break}if(Fe&&Re||!Fe&&!Re&&!t(p,v[0],"ALPH")){S=[S],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{ot=p,Ie=v,Fe=S;var ut=we.gb;Xe=we.na,We=we.P,vt=we.Sa,Gt=22,e(ot!=null),e(Fe!=null),Ve=Ie[0];var dn=Fe[0];for(e(Xe!=null),e(vt!=null),Xe[0]=null,We[0]=null,vt[0]=0;;){if(Ie[0]=Ve,Fe[0]=dn,8>dn){Ie=7;break e}var Hr=Me(ot,Ve+4);if(4294967286<Hr){Ie=3;break e}var zt=8+Hr+1&-2;if(Gt+=zt,0<ut&&Gt>ut){Ie=3;break e}if(!t(ot,Ve,"VP8 ")||!t(ot,Ve,"VP8L")){Ie=0;break e}if(dn[0]<zt){Ie=7;break e}t(ot,Ve,"ALPH")||(Xe[0]=ot,We[0]=Ve+8,vt[0]=Hr),Ve+=zt,dn-=zt}}if(S=S[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ie!=0)break}S=[S],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ut=p,Ie=v,Fe=S,Xe=we.gb[0],We=we.Ja,vt=we.xa,ot=Ie[0],Ve=!t(ut,ot,"VP8 "),Gt=!t(ut,ot,"VP8L"),e(ut!=null),e(Fe!=null),e(We!=null),e(vt!=null),8>Fe[0])Ie=7;else{if(Ve||Gt){if(ut=Me(ut,ot+4),12<=Xe&&ut>Xe-12){Ie=3;break e}if(se&&ut>Fe[0]-8){Ie=7;break e}We[0]=ut,Ie[0]+=8,Fe[0]-=8,vt[0]=Gt}else vt[0]=5<=Fe[0]&&ut[ot+0]==47&&!(ut[ot+4]>>5),We[0]=Fe[0];Ie=0}if(S=S[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],Ie!=0)break;if(4294967286<we.Ja)return 3;if(K==null||je||(K[0]=we.xa?2:1),G=[G],Te=[Te],we.xa){if(5>S){Ie=7;break}K=G,se=Te,je=z,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Fe=[0],ut=[0],Xe=[0],be(We=new B,p,v,S),$n(We,Fe,ut,Xe)?(K!=null&&(K[0]=Fe[0]),se!=null&&(se[0]=ut[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>S){Ie=7;break}K=Te,p==null||10>S||!Lo(p,v+3,S-3)?p=0:(se=p[v+0]|p[v+1]<<8|p[v+2]<<16,je=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=we.Ja||!je||!p?p=0:(G&&(G[0]=je),K&&(K[0]=p),p=1))}if(!p||(G=G[0],Te=Te[0],Re&&(oe[0]!=G||ve[0]!=Te)))return 3;J!=null&&(J[0]=we,J.offset=v-J.w,e(4294967286>v-J.w),e(J.offset==J.ha-S));break}return Ie==0||Ie==7&&Re&&J==null?(z!=null&&(z[0]|=we.na!=null&&0<we.na.length),T!=null&&(T[0]=G),V!=null&&(V[0]=Te),0):Ie}function yi(p,v,S){var T=v.width,V=v.height,z=0,G=0,K=T,J=V;if(v.Da=p!=null&&0<p.Da,v.Da&&(K=p.cd,J=p.bd,z=p.v,G=p.j,11>S||(z&=-2,G&=-2),0>z||0>G||0>=K||0>=J||z+K>T||G+J>V))return 0;if(v.v=z,v.j=G,v.va=z+K,v.o=G+J,v.U=K,v.T=J,v.da=p!=null&&0<p.da,v.da){if(!xt(K,J,S=[p.ib],z=[p.hb]))return 0;v.ib=S[0],v.hb=z[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*T/4&&v.hb<3*V/4,v.Kb=0),1}function Hi(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Oo(p,v,S,T){if(T==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var V=S.cd,z=S.bd,G=-2&S.v,K=-2&S.j;if(0>G||0>K||0>=V||0>=z||G+V>p||K+z>v)return 2;p=V,v=z}if(S.da){if(!xt(p,v,V=[S.ib],z=[S.hb]))return 2;p=V[0],v=z[0]}}T.width=p,T.height=v;e:{var J=T.width,oe=T.height;if(p=T.S,0>=J||0>=oe||!(p>=Ri&&13>p))p=2;else{if(0>=T.Rd&&T.sd==null){G=z=V=v=0;var ve=(K=J*ip[p])*oe;if(11>p||(z=(oe+1)/2*(v=(J+1)/2),p==12&&(G=(V=J)*oe)),(oe=o(ve+2*z+G))==null){p=1;break e}T.sd=oe,11>p?((J=T.f.RGBA).eb=oe,J.fb=0,J.A=K,J.size=ve):((J=T.f.kb).y=oe,J.O=0,J.fa=K,J.Fd=ve,J.f=oe,J.N=0+ve,J.Ab=v,J.Cd=z,J.ea=oe,J.W=0+ve+z,J.Db=v,J.Ed=z,p==12&&(J.F=oe,J.J=0+ve+2*z),J.Tc=G,J.lb=V)}if(v=1,V=T.S,z=T.width,G=T.height,V>=Ri&&13>V)if(11>V)p=T.f.RGBA,v&=(K=Math.abs(p.A))*(G-1)+z<=p.size,v&=K>=z*ip[V],v&=p.eb!=null;else{p=T.f.kb,K=(z+1)/2,ve=(G+1)/2,J=Math.abs(p.fa),oe=Math.abs(p.Ab);var Re=Math.abs(p.Db),se=Math.abs(p.lb),we=se*(G-1)+z;v&=J*(G-1)+z<=p.Fd,v&=oe*(ve-1)+K<=p.Cd,v=(v&=Re*(ve-1)+K<=p.Ed)&J>=z&oe>=K&Re>=K,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,V==12&&(v&=se>=z,v&=we<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Hi(T)),p}var qs=64,Ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zl=24,so=32,wr=8,nf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(p){return p},k.Predictor2=function(p,v,S){return v[S+0]},k.Predictor3=function(p,v,S){return v[S+1]},k.Predictor4=function(p,v,S){return v[S-1]},k.Predictor5=function(p,v,S){return _t(_t(p,v[S+1]),v[S+0])},k.Predictor6=function(p,v,S){return _t(p,v[S-1])},k.Predictor7=function(p,v,S){return _t(p,v[S+0])},k.Predictor8=function(p,v,S){return _t(v[S-1],v[S+0])},k.Predictor9=function(p,v,S){return _t(v[S+0],v[S+1])},k.Predictor10=function(p,v,S){return _t(_t(p,v[S-1]),_t(v[S+0],v[S+1]))},k.Predictor11=function(p,v,S){var T=v[S+0];return 0>=ct(T>>24&255,p>>24&255,(v=v[S-1])>>24&255)+ct(T>>16&255,p>>16&255,v>>16&255)+ct(T>>8&255,p>>8&255,v>>8&255)+ct(255&T,255&p,255&v)?T:p},k.Predictor12=function(p,v,S){var T=v[S+0];return(mn((p>>24&255)+(T>>24&255)-((v=v[S-1])>>24&255))<<24|mn((p>>16&255)+(T>>16&255)-(v>>16&255))<<16|mn((p>>8&255)+(T>>8&255)-(v>>8&255))<<8|mn((255&p)+(255&T)-(255&v)))>>>0},k.Predictor13=function(p,v,S){var T=v[S-1];return(Bt((p=_t(p,v[S+0]))>>24&255,T>>24&255)<<24|Bt(p>>16&255,T>>16&255)<<16|Bt(p>>8&255,T>>8&255)<<8|Bt(255&p,255&T))>>>0};var Ra=k.PredictorAdd0;k.PredictorAdd1=wt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var La=k.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Jl,tc=k.ColorIndexInverseTransform,oi=k.MapARGB,ka=k.VP8LColorIndexInverseTransformAlpha,Mo=k.MapAlpha,jo=k.VP8LPredictorsAdd=[];jo.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Pa,eu,Gi,Da,On,qn,ar,yr,Oa,zs,$i,dl,rf,Vo,sf,af,of,Qd,Xd,Zd,lf,uf,Hc,Hs,tu,Cs,Rs,pl,Gc=o(511),nc=o(2041),rc=o(225),$c=o(767),ml=0,Wc=nc,gl=rc,li=$c,Gs=Gc,Ri=0,nu=1,Ma=2,ic=3,yl=4,ao=5,Yc=6,sc=7,Fo=8,oo=9,ru=10,Kc=[2,3,7],$s=[3,3,11],Ls=[280,256,256,256,40],vl=[0,1,1,1,0],lo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_l=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jd=8,ac=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yr=null,Ar=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ja=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ep=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],co=[],Wi=[],ks=[],tp=1,iu=2,Va=[],ui=[];fs("UpsampleRgbLinePair",Q,3),fs("UpsampleBgrLinePair",xe,3),fs("UpsampleRgbaLinePair",cn,4),fs("UpsampleBgraLinePair",hr,4),fs("UpsampleArgbLinePair",un,4),fs("UpsampleRgba4444LinePair",Ze,2),fs("UpsampleRgb565LinePair",Oe,2);var ho=k.UpsampleRgbLinePair,Bo=k.UpsampleBgrLinePair,Fa=k.UpsampleRgbaLinePair,Qc=k.UpsampleBgraLinePair,Xc=k.UpsampleArgbLinePair,su=k.UpsampleRgba4444LinePair,Zc=k.UpsampleRgb565LinePair,Ua=16,Kr=1<<Ua-1,qo=-227,Jc=482,Pg=6,np=0,Dg=o(256),Qr=o(256),hf=o(256),lc=o(256),uc=o(Jc-qo),ff=o(Jc-qo);jn("YuvToRgbRow",Q,3),jn("YuvToBgrRow",xe,3),jn("YuvToRgbaRow",cn,4),jn("YuvToBgraRow",hr,4),jn("YuvToArgbRow",un,4),jn("YuvToRgba4444Row",Ze,2),jn("YuvToRgb565Row",Oe,2);var wl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fo=[0,2,8],Og=[8,7,6,4,4,2,2,2,1,1,1,1],rp=1;this.WebPDecodeRGBA=function(p,v,S,T,V){var z=nu,G=new pt,K=new gn;G.ba=K,K.S=z,K.width=[K.width],K.height=[K.height];var J=K.width,oe=K.height,ve=new Pt;if(ve==null||p==null)var Re=2;else e(ve!=null),Re=Ia(p,v,S,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Re!=0?J=0:(J!=null&&(J[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],T!=null&&(T[0]=K.width),V!=null&&(V[0]=K.height);e:{if(T=new ba,(V=new kt).data=p,V.w=v,V.ha=S,V.kd=1,v=[0],e(V!=null),((p=Ia(V.data,V.w,V.ha,null,null,null,v,null,V))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),T.data=V.data,T.w=V.w+V.offset,T.ha=V.ha-V.offset,T.put=Ct,T.ac=di,T.bc=In,T.ma=G,V.xa){if((p=Wn())==null){G=1;break e}if((function(se,we){var Te=[0],je=[0],Ie=[0];t:for(;;){if(se==null)return 0;if(we==null)return se.a=2,0;if(se.l=we,se.a=0,be(se.m,we.data,we.w,we.ha),!$n(se.m,Te,je,Ie)){se.a=3;break t}if(se.xb=iu,we.width=Te[0],we.height=je[0],!ss(Te[0],je[0],1,se,null))break t;return 1}return e(se.a!=0),0})(p,T)){if(T=(v=Oo(T.width,T.height,G.Oa,G.ba))==0){t:{T=p;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((S=T.l)!=null),e((V=S.ma)!=null),T.xb!=0){if(T.ca=V.ba,T.tb=V.tb,e(T.ca!=null),!yi(V.Oa,S,ic)){T.a=2;break n}if(!Ms(T,S.width)||S.da)break n;if((S.da||Vt(T.ca.S))&&Rr(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Rr()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!ce(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Ur(T,T.V,T.Ba,T.c,T.i,S.o,is))break n;V.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(v=p.a)}else v=p.a}else{if((p=new Ro)==null){G=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,Kl(p,T)){if((v=Oo(T.width,T.height,G.Oa,G.ba))==0){if(p.Aa=0,S=G.Oa,e((V=p)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(oe=ve=0;4>oe;++oe)12>(Re=V.pb[oe]).lc&&(Re.ia=J*Og[0>Re.lc?0:Re.lc]>>3),ve|=Re.ia;ve&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=S.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(se,we){if(se==null)return 0;if(we==null)return _n(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Kl(se,we))return 0;if(e(se.cb),we.ac==null||we.ac(we)){we.ob&&(se.L=0);var Te=fo[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=we.v-Te>>4,se.zb=we.j-Te>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=we.o+15+Te>>4,se.Hb=we.va+15+Te>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var je=se.ed;for(Te=0;4>Te;++Te){var Ie;if(se.Qa.Cb){var Fe=se.Qa.Lb[Te];se.Qa.Fb||(Fe+=je.Tb)}else Fe=je.Tb;for(Ie=0;1>=Ie;++Ie){var Ve=se.gd[Te][Ie],Xe=Fe;if(je.Pc&&(Xe+=je.vd[0],Ie&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<je.wb&&(We=4<je.wb?We>>2:We>>1)>9-je.wb&&(We=9-je.wb),1>We&&(We=1),Ve.dd=We,Ve.tc=2*Xe+We,Ve.ld=40<=Xe?2:15<=Xe?1:0}else Ve.tc=0;Ve.La=Ie}}}Te=0}else _n(se,6,"Frame setup failed"),Te=se.a;if(Te=Te==0){if(Te){se.$c=0,0<se.Aa||(se.Ic=rp);t:{Te=se.Ic,je=4*(We=se.za);var vt=32*We,ot=We+1,Gt=0<se.L?We*(0<se.Aa?2:1):0,ut=(se.Aa==2?2:1)*We;if((Ve=je+832+(Ie=3*(16*Te+fo[se.L])/2*vt)+(Fe=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Ve)Te=0;else{if(Ve>se.Vb){if(se.Vb=0,se.Ec=o(Ve),se.Fc=0,se.Ec==null){Te=_n(se,1,"no memory during frame initialization.");break t}se.Vb=Ve}Ve=se.Ec,Xe=se.Fc,se.Ac=Ve,se.Bc=Xe,Xe+=je,se.Gd=u(vt,Za),se.Hd=0,se.rb=u(ot+1,Cr),se.sb=1,se.wa=Gt?u(Gt,Ir):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=We),e(!0),se.oc=Ve,se.pc=Xe,Xe+=832,se.ya=u(ut,Co),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=We),se.R=16*We,se.B=8*We,We=(vt=fo[se.L])*se.R,vt=vt/2*se.B,se.sa=Ve,se.ta=Xe+We,se.qa=se.sa,se.ra=se.ta+16*Te*se.R+vt,se.Ha=se.qa,se.Ia=se.ra+8*Te*se.B+vt,se.$c=0,Xe+=Ie,se.mb=Fe?Ve:null,se.nb=Fe?Xe:null,e(Xe+Fe<=se.Fc+se.Vb),na(se),s(se.Ac,se.Bc,0,je),Te=1}}if(Te){if(we.ka=0,we.y=se.sa,we.O=se.ta,we.f=se.qa,we.N=se.ra,we.ea=se.Ha,we.Vd=se.Ia,we.fa=se.R,we.Rc=se.B,we.F=null,we.J=0,!ml){for(Te=-255;255>=Te;++Te)Gc[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)nc[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)rc[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)$c[255+Te]=0>Te?0:255<Te?255:Te;ml=1}ar=Vi,yr=wa,zs=ra,$i=on,dl=Aa,Oa=to,rf=A,Vo=j,sf=Ae,af=Be,of=ae,Qd=me,Xd=Ke,Zd=at,lf=hs,uf=Ns,Hc=Ii,Hs=Po,Wi[0]=no,Wi[1]=ko,Wi[2]=Fs,Wi[3]=Ql,Wi[4]=xs,Wi[5]=Ui,Wi[6]=Br,Wi[7]=Us,Wi[8]=cs,Wi[9]=Sa,co[0]=Ti,co[1]=hl,co[2]=ec,co[3]=fl,co[4]=us,co[5]=Fi,co[6]=Es,ks[0]=Ea,ks[1]=cl,ks[2]=ro,ks[3]=Ni,ks[4]=bn,ks[5]=qr,ks[6]=xa,Te=1}else Te=0}Te&&(Te=(function(dn,Hr){for(dn.M=0;dn.M<dn.Va;++dn.M){var zt,ft=dn.Jc[dn.M&dn.Xb],et=dn.m,vr=dn;for(zt=0;zt<vr.za;++zt){var $t=et,Jt=vr,dt=Jt.Ac,Kt=Jt.Bc+4*zt,wn=Jt.zc,or=Jt.ya[Jt.aa+zt];if(Jt.Qa.Bb?or.$b=Ue($t,Jt.Pa.jb[0])?2+Ue($t,Jt.Pa.jb[2]):Ue($t,Jt.Pa.jb[1]):or.$b=0,Jt.kc&&(or.Ad=Ue($t,Jt.Bd)),or.Za=!Ue($t,145)+0,or.Za){var kr=or.Ob,Pr=0;for(Jt=0;4>Jt;++Jt){var Sr,hn=wn[0+Jt];for(Sr=0;4>Sr;++Sr){hn=cf[dt[Kt+Sr]][hn];for(var An=Uo[Ue($t,hn[0])];0<An;)An=Uo[2*An+Ue($t,hn[An])];hn=-An,dt[Kt+Sr]=hn}r(kr,Pr,dt,Kt,4),Pr+=4,wn[0+Jt]=hn}}else hn=Ue($t,156)?Ue($t,128)?1:3:Ue($t,163)?2:0,or.Ob[0]=hn,s(dt,Kt,hn,4),s(wn,0,hn,4);or.Dd=Ue($t,142)?Ue($t,114)?Ue($t,183)?1:3:2:0}if(vr.m.Ka)return _n(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(vr=ft,$t=(et=dn).rb[et.sb-1],dt=et.rb[et.sb+et.ja],zt=et.ya[et.aa+et.ja],Kt=et.kc?zt.Ad:0)$t.la=dt.la=0,zt.Za||($t.Na=dt.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var Er,Ot;if($t=dt,dt=vr,Kt=et.Pa.Xc,wn=et.ya[et.aa+et.ja],or=et.pb[wn.$b],Jt=wn.ad,kr=0,Pr=et.rb[et.sb-1],hn=Sr=0,s(Jt,kr,0,384),wn.Za)var Xr=0,Ps=Kt[3];else{An=o(16);var xr=$t.Na+Pr.Na;if(xr=Yr(dt,Kt[1],xr,or.Eb,0,An,0),$t.Na=Pr.Na=(0<xr)+0,1<xr)ar(An,0,Jt,kr);else{var Yi=An[0]+3>>3;for(An=0;256>An;An+=16)Jt[kr+An]=Yi}Xr=1,Ps=Kt[0]}var Yn=15&$t.la,Dr=15&Pr.la;for(An=0;4>An;++An){var Ki=1&Dr;for(Yi=Ot=0;4>Yi;++Yi)Yn=Yn>>1|(Ki=(xr=Yr(dt,Ps,xr=Ki+(1&Yn),or.Sc,Xr,Jt,kr))>Xr)<<7,Ot=Ot<<2|(3<xr?3:1<xr?2:Jt[kr+0]!=0),kr+=16;Yn>>=4,Dr=Dr>>1|Ki<<7,Sr=(Sr<<8|Ot)>>>0}for(Ps=Yn,Xr=Dr>>4,Er=0;4>Er;Er+=2){for(Ot=0,Yn=$t.la>>4+Er,Dr=Pr.la>>4+Er,An=0;2>An;++An){for(Ki=1&Dr,Yi=0;2>Yi;++Yi)xr=Ki+(1&Yn),Yn=Yn>>1|(Ki=0<(xr=Yr(dt,Kt[2],xr,or.Qc,0,Jt,kr)))<<3,Ot=Ot<<2|(3<xr?3:1<xr?2:Jt[kr+0]!=0),kr+=16;Yn>>=2,Dr=Dr>>1|Ki<<5}hn|=Ot<<4*Er,Ps|=Yn<<4<<Er,Xr|=(240&Dr)<<Er}$t.la=Ps,Pr.la=Xr,wn.Hc=Sr,wn.Gc=hn,wn.ia=43690&hn?0:or.ia,Kt=!(Sr|hn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[zt.$b][zt.Za],et.wa[et.Y+et.ja].La|=!Kt),vr.Ka)return _n(dn,7,"Premature end-of-file encountered.")}if(na(dn),et=Hr,vr=1,zt=(ft=dn).D,$t=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(zt.M=ft.M,zt.uc=$t,gi(ft,zt),vr=1,zt=(Ot=ft.D).Nb,$t=(hn=fo[ft.L])*ft.R,dt=hn/2*ft.B,An=16*zt*ft.R,Yi=8*zt*ft.B,Kt=ft.sa,wn=ft.ta-$t+An,or=ft.qa,Jt=ft.ra-dt+Yi,kr=ft.Ha,Pr=ft.Ia-dt+Yi,Dr=(Yn=Ot.M)==0,Sr=Yn>=ft.Va-1,ft.Aa==2&&gi(ft,Ot),Ot.uc)for(Ki=(xr=ft).D.M,e(xr.D.uc),Ot=xr.yb;Ot<xr.Hb;++Ot){Xr=Ot,Ps=Ki;var vi=(tr=(Jr=xr).D).Nb;Er=Jr.R;var tr=tr.wa[tr.Y+Xr],Cn=Jr.sa,Li=Jr.ta+16*vi*Er+16*Xr,_i=tr.dd,Un=tr.tc;if(Un!=0)if(e(3<=Un),Jr.L==1)0<Xr&&uf(Cn,Li,Er,Un+4),tr.La&&Hs(Cn,Li,Er,Un),0<Ps&&lf(Cn,Li,Er,Un+4),tr.La&&Hc(Cn,Li,Er,Un);else{var Qi=Jr.B,Zr=Jr.qa,Ba=Jr.ra+8*vi*Qi+8*Xr,aa=Jr.Ha,Jr=Jr.Ia+8*vi*Qi+8*Xr;vi=tr.ld,0<Xr&&(Vo(Cn,Li,Er,Un+4,_i,vi),af(Zr,Ba,aa,Jr,Qi,Un+4,_i,vi)),tr.La&&(Qd(Cn,Li,Er,Un,_i,vi),Zd(Zr,Ba,aa,Jr,Qi,Un,_i,vi)),0<Ps&&(rf(Cn,Li,Er,Un+4,_i,vi),sf(Zr,Ba,aa,Jr,Qi,Un+4,_i,vi)),tr.La&&(of(Cn,Li,Er,Un,_i,vi),Xd(Zr,Ba,aa,Jr,Qi,Un,_i,vi))}}if(ft.ia&&alert("todo:DitherRow"),et.put!=null){if(Ot=16*Yn,Yn=16*(Yn+1),Dr?(et.y=ft.sa,et.O=ft.ta+An,et.f=ft.qa,et.N=ft.ra+Yi,et.ea=ft.Ha,et.W=ft.Ia+Yi):(Ot-=hn,et.y=Kt,et.O=wn,et.f=or,et.N=Jt,et.ea=kr,et.W=Pr),Sr||(Yn-=hn),Yn>et.o&&(Yn=et.o),et.F=null,et.J=null,ft.Fa!=null&&0<ft.Fa.length&&Ot<Yn&&(et.J=zr(ft,et,Ot,Yn-Ot),et.F=ft.mb,et.F==null&&et.F.length==0)){vr=_n(ft,3,"Could not decode alpha data.");break t}Ot<et.j&&(hn=et.j-Ot,Ot=et.j,e(!(1&hn)),et.O+=ft.R*hn,et.N+=ft.B*(hn>>1),et.W+=ft.B*(hn>>1),et.F!=null&&(et.J+=et.width*hn)),Ot<Yn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=Ot-et.j,et.U=et.va-et.v,et.T=Yn-Ot,vr=et.put(et))}zt+1!=ft.Ic||Sr||(r(ft.sa,ft.ta-$t,Kt,wn+16*ft.R,$t),r(ft.qa,ft.ra-dt,or,Jt+8*ft.B,dt),r(ft.Ha,ft.Ia-dt,kr,Pr+8*ft.B,dt))}if(!vr)return _n(dn,6,"Output aborted.")}return 1})(se,we)),we.bc!=null&&we.bc(we),Te&=1}return Te?(se.cb=0,Te):0})(p,T)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Hi(G.ba))}G=v}z=G!=0?null:11>z?K.f.RGBA.eb:K.f.kb.y}else z=null;return z};var ip=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,H){for(var I="",P=0;P<4;P++)I+=String.fromCharCode(k[H++]);return I}function y(k,H){return k[H+0]|k[H+1]<<8}function w(k,H){return(k[H+0]|k[H+1]<<8|k[H+2]<<16)>>>0}function E(k,H){return(k[H+0]|k[H+1]<<8|k[H+2]<<16|k[H+3]<<24)>>>0}new f;var b=[0],M=[0],F=[],q=new f,U=n,te=(function(k,H){var I={},P=0,R=!1,ee=0,ge=0;if(I.frames=[],!(function(C,B){for(var Z=0;Z<4;Z++)if(C[B+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(k,H)){for(E(k,H+=4),H+=8;H<k.length;){var ne=d(k,H),pe=E(k,H+=4);H+=4;var ie=pe+(1&pe);switch(ne){case"VP8 ":case"VP8L":I.frames[P]===void 0&&(I.frames[P]={}),(he=I.frames[P]).src_off=R?ge:H-8,he.src_size=ee+pe+8,P++,R&&(R=!1,ee=0,ge=0);break;case"VP8X":(he=I.header={}).feature_flags=k[H];var be=H+4;he.canvas_width=1+w(k,be),be+=3,he.canvas_height=1+w(k,be),be+=3;break;case"ALPH":R=!0,ee=ie+8,ge=H-8;break;case"ANIM":(he=I.header).bgcolor=E(k,H),be=H+4,he.loop_count=y(k,be),be+=2;break;case"ANMF":var Y,he;(he=I.frames[P]={}).offset_x=2*w(k,H),H+=3,he.offset_y=2*w(k,H),H+=3,he.width=1+w(k,H),H+=3,he.height=1+w(k,H),H+=3,he.duration=w(k,H),H+=3,Y=k[H++],he.dispose=1&Y,he.blend=Y>>1&1}ne!="ANMF"&&(H+=ie)}return I}})(U,0);te.response=U,te.rgbaoutput=!0,te.dataurl=!1;var re=te.header?te.header:null,X=te.frames?te.frames:null;if(re){re.loop_counter=re.loop_count,b=[re.canvas_height],M=[re.canvas_width];for(var le=0;le<X.length&&X[le].blend!=0;le++);}var Se=X[0],$=q.WebPDecodeRGBA(U,Se.src_off,Se.src_size,M,b);Se.rgba=$,Se.imgwidth=M[0],Se.imgheight=b[0];for(var O=0;O<M[0]*b[0]*4;O++)F[O]=$[O];return this.width=M,this.height=b,this.data=F,this}(function(n){var e,t,r,s,o,u,c,f,d,y=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new f,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new u,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new u,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var w=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=C;Object.defineProperty(this,"pdf",{get:function(){return B}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Me){Z=!!Me}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Me){ue=!!Me}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Me){isNaN(Me)||(fe=Me)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Me){isNaN(Me)||(ye=Me)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Me){var ce;typeof Me=="number"?ce=[Me,Me,Me,Me]:((ce=new Array(4))[0]=Me[0],ce[1]=Me.length>=2?Me[1]:ce[0],ce[2]=Me.length>=3?Me[2]:ce[0],ce[3]=Me.length>=4?Me[3]:ce[1]),d.margin=ce}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Me){Ce=Me}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Me){ke=Me}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(Me){Ue=Me}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Me){Me instanceof y&&(d=Me)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Me){d.path=Me}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Me){qe=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var ce;ce=E(Me),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var ce=E(Me);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var nt=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(Me){nt=null,rt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var ce;if(this.ctx.font=Me,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var tn=ce[1];ce[2];var Nt=ce[3],xt=ce[4];ce[5];var Je=ce[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(yt==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var tt=(function(Lt){var bt,Tn,an=[],ht=Lt.trim();if(ht==="")return x0;if(ht in Iw)return[Iw[ht]];for(;ht!=="";){switch(Tn=null,bt=(ht=Rw(ht)).charAt(0)){case'"':case"'":Tn=SD(ht.substring(1),bt);break;default:Tn=ED(ht)}if(Tn===null||(an.push(Tn[0]),(ht=Rw(Tn[1]))!==""&&ht.charAt(0)!==","))return x0;ht=ht.replace(/^,/,"")}return an})(Je);if(this.fontFaces){var Yt=(function(Lt,bt){if(nt===null){var Tn=(function(an){var ht=[];return Object.keys(an).forEach(function(It){an[It].forEach(function(Nn){var At=null;switch(Nn){case"bold":At={family:It,weight:"bold"};break;case"italic":At={family:It,style:"italic"};break;case"bolditalic":At={family:It,weight:"bold",style:"italic"};break;case"":case"normal":At={family:It}}At!==null&&(At.ref={name:It,style:Nn},ht.push(At))})}),ht})(Lt.getFontList());nt=(function(an){for(var ht={},It=0;It<an.length;++It){var Nn=E0(an[It]),At=Nn.family,nn=Nn.stretch,Vt=Nn.style,ir=Nn.weight;ht[At]=ht[At]||{},ht[At][nn]=ht[At][nn]||{},ht[At][nn][Vt]=ht[At][nn][Vt]||{},ht[At][nn][Vt][ir]=Nn}return ht})(Tn.concat(bt))}return nt})(this.pdf,this.fontFaces),_t=tt.map(function(Lt){return{family:Lt,stretch:"normal",weight:Nt,style:tn}}),mn=(function(Lt,bt,Tn){for(var an=(Tn=Tn||{}).defaultFontFamily||"times",ht=Object.assign({},AD,Tn.genericFontFamilies||{}),It=null,Nn=null,At=0;At<bt.length;++At)if(ht[(It=E0(bt[At])).family]&&(It.family=ht[It.family]),Lt.hasOwnProperty(It.family)){Nn=Lt[It.family];break}if(!(Nn=Nn||Lt[an]))throw new Error("Could not find a font-family for the rule '"+Cw(It)+"' and default family '"+an+"'.");if(Nn=(function(nn,Vt){if(Vt[nn])return Vt[nn];var ir=y2[nn],Gn=ir<=y2.normal?-1:1,gn=Nw(Vt,YS,ir,Gn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+nn);return gn})(It.stretch,Nn),Nn=(function(nn,Vt){if(Vt[nn])return Vt[nn];for(var ir=WS[nn],Gn=0;Gn<ir.length;++Gn)if(Vt[ir[Gn]])return Vt[ir[Gn]];throw new Error("Could not find a matching font-style for "+nn)})(It.style,Nn),!(Nn=(function(nn,Vt){if(Vt[nn])return Vt[nn];if(nn===400&&Vt[500])return Vt[500];if(nn===500&&Vt[400])return Vt[400];var ir=wD[nn],Gn=Nw(Vt,KS,ir,nn<400?-1:1);if(!Gn)throw new Error("Could not find a matching font-weight for value "+nn);return Gn})(It.weight,Nn)))throw new Error("Failed to resolve a font for the rule '"+Cw(It)+"'.");return Nn})(Yt,_t);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var Bt="";(Nt==="bold"||parseInt(Nt,10)>=700||tn==="bold")&&(Bt="bold"),tn==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var ct="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<tt.length;Tt++){if(this.pdf.internal.getFont(tt[Tt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){ct=tt[Tt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(tt[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=tt[Tt],Bt="bold";else if(this.pdf.internal.getFont(tt[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=tt[Tt],Bt="normal";break}}if(ct===""){for(var st=0;st<tt.length;st++)if(wt[tt[st]]){ct=wt[tt[st]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};w.prototype.setLineDash=function(C){this.lineDash=C},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){X.call(this,"fill",!1)},w.prototype.stroke=function(){X.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(C,B){if(isNaN(C)||isNaN(B))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new u(C,B));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(C,B)},w.prototype.closePath=function(){var C=new u(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Xn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){C=new u(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(C.x,C.y)},w.prototype.lineTo=function(C,B){if(isNaN(C)||isNaN(B))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new u(C,B));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(Z.x,Z.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},w.prototype.quadraticCurveTo=function(C,B,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(C)||isNaN(B))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new u(Z,ue)),ye=this.ctx.transform.applyToPoint(new u(C,B));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new u(fe.x,fe.y)},w.prototype.bezierCurveTo=function(C,B,Z,ue,fe,ye){if(isNaN(fe)||isNaN(ye)||isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new u(fe,ye)),ke=this.ctx.transform.applyToPoint(new u(C,B)),Ue=this.ctx.transform.applyToPoint(new u(Z,ue));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Ue.x,y2:Ue.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new u(Ce.x,Ce.y)},w.prototype.arc=function(C,B,Z,ue,fe,ye){if(isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue)||isNaN(fe))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new u(C,B));C=Ce.x,B=Ce.y;var ke=this.ctx.transform.applyToPoint(new u(0,Z)),Ue=this.ctx.transform.applyToPoint(new u(0,0));Z=Math.sqrt(Math.pow(ke.x-Ue.x,2)+Math.pow(ke.y-Ue.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:C,y:B,radius:Z,startAngle:ue,endAngle:fe,counterclockwise:ye})},w.prototype.arcTo=function(C,B,Z,ue,fe){throw new Error("arcTo not implemented.")},w.prototype.rect=function(C,B,Z,ue){if(isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,B),this.lineTo(C+Z,B),this.lineTo(C+Z,B+ue),this.lineTo(C,B+ue),this.lineTo(C,B),this.lineTo(C+Z,B),this.lineTo(C,B)},w.prototype.fillRect=function(C,B,Z,ue){if(isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,B,Z,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},w.prototype.strokeRect=function(C,B,Z,ue){if(isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(C,B,Z,ue),this.stroke())},w.prototype.clearRect=function(C,B,Z,ue){if(isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,B,Z,ue))},w.prototype.save=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},w.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(B),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(C){var B,Z,ue,fe;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))B=0,Z=0,ue=0,fe=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ye!==null)B=parseInt(ye[1]),Z=parseInt(ye[2]),ue=parseInt(ye[3]),fe=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)B=parseInt(ye[1]),Z=parseInt(ye[2]),ue=parseInt(ye[3]),fe=parseFloat(ye[4]);else{if(fe=1,typeof C=="string"&&C.charAt(0)!=="#"){var Ce=new US(C);C=Ce.ok?Ce.toHex():"#000000"}C.length===4?(B=C.substring(1,2),B+=B,Z=C.substring(2,3),Z+=Z,ue=C.substring(3,4),ue+=ue):(B=C.substring(1,3),Z=C.substring(3,5),ue=C.substring(5,7)),B=parseInt(B,16),Z=parseInt(Z,16),ue=parseInt(ue,16)}}return{r:B,g:Z,b:ue,a:fe,style:C}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(C,B,Z,ue){if(isNaN(B)||isNaN(Z)||typeof C!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!b.call(this)){var fe=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;P.call(this,{text:C,x:B,y:Z,scale:ye,angle:fe,align:this.textAlign,maxWidth:ue})}},w.prototype.strokeText=function(C,B,Z,ue){if(isNaN(B)||isNaN(Z)||typeof C!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){ue=isNaN(ue)?void 0:ue;var fe=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;P.call(this,{text:C,x:B,y:Z,scale:ye,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},w.prototype.measureText=function(C){if(typeof C!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,Z=this.pdf.internal.scaleFactor,ue=B.internal.getFontSize(),fe=B.getStringUnitWidth(C)*ue/B.internal.scaleFactor;return new function(ye){var Ce=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:fe*=Math.round(96*Z/72*1e4)/1e4})},w.prototype.scale=function(C,B){if(isNaN(C)||isNaN(B))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(C,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.rotate=function(C){if(isNaN(C))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new f(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},w.prototype.translate=function(C,B){if(isNaN(C)||isNaN(B))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,C,B);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.transform=function(C,B,Z,ue,fe,ye){if(isNaN(C)||isNaN(B)||isNaN(Z)||isNaN(ue)||isNaN(fe)||isNaN(ye))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new f(C,B,Z,ue,fe,ye);this.ctx.transform=this.ctx.transform.multiply(Ce)},w.prototype.setTransform=function(C,B,Z,ue,fe,ye){C=isNaN(C)?1:C,B=isNaN(B)?0:B,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,ye=isNaN(ye)?0:ye,this.ctx.transform=new f(C,B,Z,ue,fe,ye)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(C,B,Z,ue,fe,ye,Ce,ke,Ue){var qe=this.pdf.getImageProperties(C),nt=1,rt=1,Me=1,ce=1;ue!==void 0&&ke!==void 0&&(Me=ke/ue,ce=Ue/fe,nt=qe.width/ue*ke/ue,rt=qe.height/fe*Ue/fe),ye===void 0&&(ye=B,Ce=Z,B=0,Z=0),ue!==void 0&&ke===void 0&&(ke=ue,Ue=fe),ue===void 0&&ke===void 0&&(ke=qe.width,Ue=qe.height);for(var tn,Nt=this.ctx.transform.decompose(),xt=ie(Nt.rotate.shx),Je=new f,yt=(Je=(Je=(Je=Je.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new c(ye-B*Me,Ce-Z*ce,ue*nt,fe*rt)),tt=q.call(this,yt),Yt=[],_t=0;_t<tt.length;_t+=1)Yt.indexOf(tt[_t])===-1&&Yt.push(tt[_t]);if(re(Yt),this.autoPaging)for(var mn=Yt[0],Bt=Yt[Yt.length-1],ct=mn;ct<Bt+1;ct++){this.pdf.setPage(ct);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=ct===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=ct===1?0:st+(ct-2)*Lt;if(this.ctx.clip_path.length!==0){var Tn=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(tn,this.posX+this.margin[3],-bt+Tt+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=Tn}var an=JSON.parse(JSON.stringify(yt));an=te([an],this.posX+this.margin[3],-bt+Tt+this.ctx.prevPageLastElemOffset)[0];var ht=(ct>mn||ct<Bt)&&F.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Lt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",an.x,an.y,an.w,an.h,null,null,xt),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,xt)};var q=function(C,B,Z){var ue=[];B=B||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":ue.push(Math.floor((C.y+fe)/Z)+1);break;case"arc":ue.push(Math.floor((C.y+fe-C.radius)/Z)+1),ue.push(Math.floor((C.y+fe+C.radius)/Z)+1);break;case"qct":var ye=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);ue.push(Math.floor((ye.y+fe)/Z)+1),ue.push(Math.floor((ye.y+ye.h+fe)/Z)+1);break;case"bct":var Ce=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);ue.push(Math.floor((Ce.y+fe)/Z)+1),ue.push(Math.floor((Ce.y+Ce.h+fe)/Z)+1);break;case"rect":ue.push(Math.floor((C.y+fe)/Z)+1),ue.push(Math.floor((C.y+C.h+fe)/Z)+1)}for(var ke=0;ke<ue.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ke];)U.call(this);return ue},U=function(){var C=this.fillStyle,B=this.strokeStyle,Z=this.font,ue=this.lineCap,fe=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=B,this.font=Z,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=ye},te=function(C,B,Z){for(var ue=0;ue<C.length;ue++)switch(C[ue].type){case"bct":C[ue].x2+=B,C[ue].y2+=Z;case"qct":C[ue].x1+=B,C[ue].y1+=Z;default:C[ue].x+=B,C[ue].y+=Z}return C},re=function(C){return C.sort(function(B,Z){return B-Z})},X=function(C,B){for(var Z,ue,fe=this.fillStyle,ye=this.strokeStyle,Ce=this.lineCap,ke=this.lineWidth,Ue=Math.abs(ke*this.ctx.transform.scaleX),qe=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),Me=[],ce=0;ce<rt.length;ce++)if(rt[ce].x!==void 0)for(var tn=q.call(this,rt[ce]),Nt=0;Nt<tn.length;Nt+=1)Me.indexOf(tn[Nt])===-1&&Me.push(tn[Nt]);for(var xt=0;xt<Me.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Me[xt];)U.call(this);if(re(Me),this.autoPaging)for(var Je=Me[0],yt=Me[Me.length-1],tt=Je;tt<yt+1;tt++){this.pdf.setPage(tt),this.fillStyle=fe,this.strokeStyle=ye,this.lineCap=Ce,this.lineWidth=Ue,this.lineJoin=qe;var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=tt===1?this.posY+this.margin[0]:this.margin[0],mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=tt===1?0:mn+(tt-2)*Bt;if(this.ctx.clip_path.length!==0){var wt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Z,this.posX+this.margin[3],-ct+_t+this.ctx.prevPageLastElemOffset),le.call(this,C,!0),this.path=wt}if(ue=JSON.parse(JSON.stringify(nt)),this.path=te(ue,this.posX+this.margin[3],-ct+_t+this.ctx.prevPageLastElemOffset),B===!1||tt===0){var Tt=(tt>Je||tt<yt)&&F.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Bt,null).clip().discardPath()),le.call(this,C,B),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=Ue,le.call(this,C,B),this.lineWidth=ke;this.path=nt},le=function(C,B){if((C!=="stroke"||B||!M.call(this))&&(C==="stroke"||B||!b.call(this))){for(var Z,ue,fe=[],ye=this.path,Ce=0;Ce<ye.length;Ce++){var ke=ye[Ce];switch(ke.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ke,deltas:[],abs:[]});break;case"lt":var Ue=fe.length;if(ye[Ce-1]&&!isNaN(ye[Ce-1].x)&&(Z=[ke.x-ye[Ce-1].x,ke.y-ye[Ce-1].y],Ue>0)){for(;Ue>=0;Ue--)if(fe[Ue-1].close!==!0&&fe[Ue-1].begin!==!0){fe[Ue-1].deltas.push(Z),fe[Ue-1].abs.push(ke);break}}break;case"bct":Z=[ke.x1-ye[Ce-1].x,ke.y1-ye[Ce-1].y,ke.x2-ye[Ce-1].x,ke.y2-ye[Ce-1].y,ke.x-ye[Ce-1].x,ke.y-ye[Ce-1].y],fe[fe.length-1].deltas.push(Z);break;case"qct":var qe=ye[Ce-1].x+2/3*(ke.x1-ye[Ce-1].x),nt=ye[Ce-1].y+2/3*(ke.y1-ye[Ce-1].y),rt=ke.x+2/3*(ke.x1-ke.x),Me=ke.y+2/3*(ke.y1-ke.y),ce=ke.x,tn=ke.y;Z=[qe-ye[Ce-1].x,nt-ye[Ce-1].y,rt-ye[Ce-1].x,Me-ye[Ce-1].y,ce-ye[Ce-1].x,tn-ye[Ce-1].y],fe[fe.length-1].deltas.push(Z);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ke)}}ue=B?null:C==="stroke"?"stroke":"fill";for(var Nt=!1,xt=0;xt<fe.length;xt++)if(fe[xt].arc)for(var Je=fe[xt].abs,yt=0;yt<Je.length;yt++){var tt=Je[yt];tt.type==="arc"?O.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,B,!Nt):R.call(this,tt.x,tt.y),Nt=!0}else if(fe[xt].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(fe[xt].begin!==!0){var Yt=fe[xt].start.x,_t=fe[xt].start.y;ee.call(this,fe[xt].deltas,Yt,_t),Nt=!0}ue&&k.call(this,ue),B&&H.call(this)}},Se=function(C){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-Z;case"top":return C+B-Z;case"hanging":return C+B-2*Z;case"middle":return C+B/2-Z;default:return C}},$=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(B,Z){this.colorStops.push([B,Z])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(C,B,Z,ue,fe,ye,Ce,ke,Ue){for(var qe=ne.call(this,Z,ue,fe,ye),nt=0;nt<qe.length;nt++){var rt=qe[nt];nt===0&&(Ue?I.call(this,rt.x1+C,rt.y1+B):R.call(this,rt.x1+C,rt.y1+B)),ge.call(this,C,B,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}ke?H.call(this):k.call(this,Ce)},k=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(C,B){this.pdf.internal.out(t(C)+" "+r(B)+" m")},P=function(C){var B;switch(C.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var Z=this.pdf.getTextDimensions(C.text),ue=Se.call(this,C.y),fe=$.call(this,ue)-Z.h,ye=this.ctx.transform.applyToPoint(new u(C.x,ue)),Ce=this.ctx.transform.decompose(),ke=new f;ke=(ke=(ke=ke.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Ue,qe,nt,rt=this.ctx.transform.applyToRectangle(new c(C.x,ue,Z.w,Z.h)),Me=ke.applyToRectangle(new c(C.x,fe,Z.w,Z.h)),ce=q.call(this,Me),tn=[],Nt=0;Nt<ce.length;Nt+=1)tn.indexOf(ce[Nt])===-1&&tn.push(ce[Nt]);if(re(tn),this.autoPaging)for(var xt=tn[0],Je=tn[tn.length-1],yt=xt;yt<Je+1;yt++){this.pdf.setPage(yt);var tt=yt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],mn=_t-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],ct=Bt-this.margin[3],wt=yt===1?0:Yt+(yt-2)*mn;if(this.ctx.clip_path.length!==0){var Tt=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Ue,this.posX+this.margin[3],-1*wt+tt),le.call(this,"fill",!0),this.path=Tt}var st=te([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*C.scale),nt=this.lineWidth,this.lineWidth=nt*C.scale);var Lt=this.autoPaging!=="text";if(Lt||st.y+st.h<=_t){if(Lt||st.y>=tt&&st.x<=Bt){var bt=Lt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Bt-st.x)[0],Tn=te([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-wt+tt+this.ctx.prevPageLastElemOffset)[0],an=Lt&&(yt>xt||yt<Je)&&F.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,mn,null).clip().discardPath()),this.pdf.text(bt,Tn.x,Tn.y,{angle:C.angle,align:B,renderingMode:C.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else st.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-st.y);C.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=nt)}else C.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*C.scale),nt=this.lineWidth,this.lineWidth=nt*C.scale),this.pdf.text(C.text,ye.x+this.posX,ye.y+this.posY,{angle:C.angle,align:B,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=nt)},R=function(C,B,Z,ue){Z=Z||0,ue=ue||0,this.pdf.internal.out(t(C+Z)+" "+r(B+ue)+" l")},ee=function(C,B,Z){return this.pdf.lines(C,B,Z,null,null)},ge=function(C,B,Z,ue,fe,ye,Ce,ke){this.pdf.internal.out([e(s(Z+C)),e(o(ue+B)),e(s(fe+C)),e(o(ye+B)),e(s(Ce+C)),e(o(ke+B)),"c"].join(" "))},ne=function(C,B,Z,ue){for(var fe=2*Math.PI,ye=Math.PI/2;B>Z;)B-=fe;var Ce=Math.abs(Z-B);Ce<fe&&ue&&(Ce=fe-Ce);for(var ke=[],Ue=ue?-1:1,qe=B;Ce>1e-5;){var nt=qe+Ue*Math.min(Ce,ye);ke.push(pe.call(this,C,qe,nt)),Ce-=Math.abs(nt-qe),qe=nt}return ke},pe=function(C,B,Z){var ue=(Z-B)/2,fe=C*Math.cos(ue),ye=C*Math.sin(ue),Ce=fe,ke=-ye,Ue=Ce*Ce+ke*ke,qe=Ue+Ce*fe+ke*ye,nt=4/3*(Math.sqrt(2*Ue*qe)-qe)/(Ce*ye-ke*fe),rt=Ce-nt*ke,Me=ke+nt*Ce,ce=rt,tn=-Me,Nt=ue+B,xt=Math.cos(Nt),Je=Math.sin(Nt);return{x1:C*Math.cos(B),y1:C*Math.sin(B),x2:rt*xt-Me*Je,y2:rt*Je+Me*xt,x3:ce*xt-tn*Je,y3:ce*Je+tn*xt,x4:C*Math.cos(Z),y4:C*Math.sin(Z)}},ie=function(C){return 180*C/Math.PI},be=function(C,B,Z,ue,fe,ye){var Ce=C+.5*(Z-C),ke=B+.5*(ue-B),Ue=fe+.5*(Z-fe),qe=ye+.5*(ue-ye),nt=Math.min(C,fe,Ce,Ue),rt=Math.max(C,fe,Ce,Ue),Me=Math.min(B,ye,ke,qe),ce=Math.max(B,ye,ke,qe);return new c(nt,Me,rt-nt,ce-Me)},Y=function(C,B,Z,ue,fe,ye,Ce,ke){var Ue,qe,nt,rt,Me,ce,tn,Nt,xt,Je,yt,tt,Yt,_t,mn=Z-C,Bt=ue-B,ct=fe-Z,wt=ye-ue,Tt=Ce-fe,st=ke-ye;for(qe=0;qe<41;qe++)xt=(tn=(nt=C+(Ue=qe/40)*mn)+Ue*((Me=Z+Ue*ct)-nt))+Ue*(Me+Ue*(fe+Ue*Tt-Me)-tn),Je=(Nt=(rt=B+Ue*Bt)+Ue*((ce=ue+Ue*wt)-rt))+Ue*(ce+Ue*(ye+Ue*st-ce)-Nt),qe==0?(yt=xt,tt=Je,Yt=xt,_t=Je):(yt=Math.min(yt,xt),tt=Math.min(tt,Je),Yt=Math.max(Yt,xt),_t=Math.max(_t,Je));return new c(Math.round(yt),Math.round(tt),Math.round(Yt-yt),Math.round(_t-tt))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,B,Z=(C=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:B}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(St.API),(function(n){var e=function(u){var c,f,d,y,w,E,b,M,F,q;for(f=[],d=0,y=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;y>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(E=(w=((w=((w=((w=(w-(q=w%85))/85)-(F=w%85))/85)-(M=w%85))/85)-(b=w%85))/85)%85,f.push(E+33,b+33,M+33,F+33,q+33)):f.push(122);return(function(U,te){for(var re=te;re>0;re--)U.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,y,w,E=String,b="length",M=255,F="charCodeAt",q="slice",U="replace";for(u[q](-2),u=u[q](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),d=[],y=0,w=(u+=c="uuuuu"[q](u[b]%5||5))[b];w>y;y+=5)f=52200625*(u[F](y)-33)+614125*(u[F](y+1)-33)+7225*(u[F](y+2)-33)+85*(u[F](y+3)-33)+(u[F](y+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function(te,re){for(var X=re;X>0;X--)te.pop()})(d,c[b]),E.fromCharCode.apply(E,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=c2(c)).reduce(function(d,y){return d+String.fromCharCode(y)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:y.reverse().join(" ")}}})(St.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,y){var w=new XMLHttpRequest,E=0,b=function(M){var F=M.length,q=[],U=String.fromCharCode;for(E=0;E<F;E+=1)q.push(U(255&M.charCodeAt(E)));return q.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?y(b(this.responseText)):y(void 0)}),w.send(null),d&&w.status===200)return b(w.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(St.API),(function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):a0(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):a0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Xn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var y in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[y]=f.style[y];return d},o=function c(f,d){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),d);return(y=y.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,y=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=y,y)for(var b=0;b<y.length;++b){var M=y[b],F=M.src.find(function(q){return q.format==="truetype"});F&&d.addFont(F.url,M.ref.name,M.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,d.context2d.save(!0),f(this.prop.container,E)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,y){return Math.floor(d*y/72*96)}return this.then(function(){(c=c||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,y){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,y){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(y,w){return d.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(E){return d.updateProgress(null,y),E}).then(y,w).then(function(E){return d.updateProgress(1),E})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var y=this;c&&(c=c.bind(y)),f&&(f=f.bind(y));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),E=d.call(w,c,f);return u.convert(E,y.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,St.getPageSize=function(c,f,d){if(Xn(c)==="object"){var y=c;c=y.orientation,f=y.unit||f,d=y.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,E=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var M,F=0,q=0;if(b.hasOwnProperty(E))F=b[E][1]/w,q=b[E][0]/w;else try{F=d[1],q=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",q>F&&(M=q,q=F,F=M);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",F>q&&(M=q,q=F,F=M)}return{width:q,height:F,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(E0):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(St.API),St.API.addJS=function(n){return kw=n,this.internal.events.subscribe("postPutResources",function(){cm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Lw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cm!==void 0&&Lw!==void 0&&this.internal.out("/Names <</JavaScript "+cm+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var w=t.internal.newObject();y.push(w);var E=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(St.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var f,d=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var E,b=256*w.charCodeAt(4)+w.charCodeAt(5),M=w.length,F={width:0,height:0,numcomponents:1},q=4;q<M;q+=2){if(q+=b,e.indexOf(w.charCodeAt(q+1))!==-1){E=256*w.charCodeAt(q+5)+w.charCodeAt(q+6),F={width:256*w.charCodeAt(q+7)+w.charCodeAt(q+8),height:E,numcomponents:w.charCodeAt(q+9)};break}b=256*w.charCodeAt(q+2)+w.charCodeAt(q+3)}return F})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return y}})(St.API),St.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=oD(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,y=o.depth;s=d&&f===1?(function($){for(var O=$.width,k=$.height,H=$.data,I=$.palette,P=$.depth,R=!1,ee=[],ge=[],ne=void 0,pe=!1,ie=0,be=0;be<I.length;be++){var Y=Mb(I[be],4),he=Y[0],C=Y[1],B=Y[2],Z=Y[3];ee.push(he,C,B),Z!=null&&(Z===0?(ie++,ge.length<1&&ge.push(be)):Z<255&&(pe=!0))}if(pe||ie>1){R=!0,ge=void 0;var ue=O*k;ne=new Uint8Array(ue);for(var fe=new DataView(H.buffer),ye=0;ye<ue;ye++){var Ce=T0(fe,ye,P),ke=Mb(I[Ce],4)[3];ne[ye]=ke}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:H,alphaBytes:ne,needSMask:R,palette:ee,mask:ge}})(o):f===2||f===4?(function($){for(var O=$.data,k=$.width,H=$.height,I=$.channels,P=$.depth,R=I===2?"DeviceGray":"DeviceRGB",ee=I-1,ge=k*H,ne=ee,pe=ge*ne,ie=1*ge,be=Math.ceil(pe*P/8),Y=Math.ceil(ie*P/8),he=new Uint8Array(be),C=new Uint8Array(Y),B=new DataView(O.buffer),Z=new DataView(he.buffer),ue=new DataView(C.buffer),fe=!1,ye=0;ye<ge;ye++){for(var Ce=ye*I,ke=0;ke<ne;ke++)Bw(Z,T0(B,Ce+ke,P),ye*ne+ke,P);var Ue=T0(B,Ce+ne,P);Ue<(1<<P)-1&&(fe=!0),Bw(ue,Ue,1*ye,P)}return{colorSpace:R,colorsPerPixel:ee,colorBytes:he,alphaBytes:C,needSMask:fe}})(o):(function($){var O=$.data,k=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:k,colorsPerPixel:k==="DeviceGray"?1:3,colorBytes:O instanceof Uint8Array?O:new Uint8Array(O.buffer),needSMask:!1}})(o);var w,E,b,M=s,F=M.colorSpace,q=M.colorsPerPixel,U=M.colorBytes,te=M.alphaBytes,re=M.needSMask,X=M.palette,le=M.mask,Se=null;return r!==St.API.image_compression.NONE&&typeof c2=="function"?(Se=(function($){var O;switch($){case St.API.image_compression.FAST:O=11;break;case St.API.image_compression.MEDIUM:O=13;break;case St.API.image_compression.SLOW:O=14;break;default:O=12}return O})(r),w=this.decode.FLATE_DECODE,E="/Predictor ".concat(Se," "),n=Mw(U,u*q,q,r),re&&(b=Mw(te,u,1,r))):(w=void 0,E="",n=U,re&&(b=te)),E+="/Colors ".concat(q," /BitsPerComponent ").concat(y," /Columns ").concat(u),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:w,decodeParameters:E,transparency:le,palette:X,sMask:b,predictor:Se,width:u,height:c,bitsPerComponent:y,colorSpace:F}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new ID(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},y=new N0(100).encode(d,100);return n.processJPEG.call(this,y,t,r,s)},n.processGIF87A=n.processGIF89A})(St.API),bo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ur.log("bit decode error:"+t)}},bo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},bo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},bo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},bo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,y=r*this.width*4+4*s;this.data[y]=f,this.data[y+1]=c,this.data[y+2]=u,this.data[y+3]=d}this.pos+=n}},bo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,y=s*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=255}this.pos+=n}},bo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},bo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},bo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new bo(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new N0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(St.API),zw.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new zw(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new N0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(St.API),St.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var y=r[d],w=r[d+1],E=r[d+2],b=r[d+3];o[c++]=y,o[c++]=w,o[c++]=E,u[f++]=b}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},St.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wh=St.API,hm=wh.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,y=d.fof?d.fof:1,w=e.doKerning!==!1,E=0,b=n.length,M=0,F=c[0]||f,q=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?q.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(E=w&&Xn(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/y:0,q.push((c[r]||F)/f+E)),M=r;return q},Pw=wh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return wh.processArabic&&(n=wh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:hm.apply(this,arguments).reduce(function(o,u){return o+u},0)},Dw=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Ow=function(n,e,t){t||(t={});var r,s,o,u,c,f,d,y=[],w=[y],E=t.textIndent||0,b=0,M=0,F=n.split(" "),q=hm.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?F[0].length+2:t.lineIndent||0){var U=Array(f).join(" "),te=[];F.map(function(X){(X=X.split(/\s*\n/)).length>1?te=te.concat(X.map(function(le,Se){return(Se&&le.length?`
`:"")+le})):te.push(X[0])}),F=te,f=Pw.apply(this,[U,t])}for(o=0,u=F.length;o<u;o++){var re=0;if(r=F[o],f&&r[0]==`
`&&(r=r.substr(1),re=1),E+b+(M=(s=hm.apply(this,[r,t])).reduce(function(X,le){return X+le},0))>e||re){if(M>e){for(c=Dw.apply(this,[r,s,e-(E+b),e]),y.push(c.shift()),y=[c.pop()];c.length;)w.push([c.shift()]);M=s.slice(r.length-(y[0]?y[0].length:0)).reduce(function(X,le){return X+le},0)}else y=[r];w.push(y),E=M+f,b=q}else y.push(r),E+=b+M,b=q}return d=f?function(X,le){return(le?U:"")+X.join(" ")}:function(X){return X.join(" ")},w.map(d)},wh.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle),E="Unicode";return w.metadata[E]?{widths:w.metadata[E].widths||{0:1},kerning:w.metadata[E].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(Ow.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(E){return"0x"+parseInt(E,10).toString(16)},c=n.__fontmetrics__.compress=function(E){var b,M,F,q,U=["{"];for(var te in E){if(b=E[te],isNaN(parseInt(te,10))?M="'"+te+"'":(te=parseInt(te,10),M=(M=u(te).slice(2)).slice(0,-1)+s[M.slice(-1)]),typeof b=="number")b<0?(F=u(b).slice(3),q="-"):(F=u(b).slice(2),q=""),F=q+F.slice(0,-1)+s[F.slice(-1)];else{if(Xn(b)!=="object")throw new Error("Don't know what to do with value type "+Xn(b)+".");F=c(b)}U.push(M+F)}return U.push("}"),U.join("")},f=n.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,M,F,q,U={},te=1,re=U,X=[],le="",Se="",$=E.length-1,O=1;O<$;O+=1)(q=E[O])=="'"?b?(F=b.join(""),b=void 0):b=[]:b?b.push(q):q=="{"?(X.push([re,F]),re={},F=void 0):q=="}"?((M=X.pop())[0][M[1]]=re,F=void 0,re=M[0]):q=="-"?te=-1:F===void 0?r.hasOwnProperty(q)?(le+=r[q],F=parseInt(le,16)*te,te=1,le=""):le+=q:r.hasOwnProperty(q)?(Se+=r[q],re[F]=parseInt(Se,16)*te,te=1,F=void 0,Se=""):Se+=q;return U},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(E){var b=E.font,M=w.Unicode[b.postScriptName];M&&(b.metadata.Unicode={},b.metadata.Unicode.widths=M.widths,b.metadata.Unicode.kerning=M.kerning);var F=y.Unicode[b.postScriptName];F&&(b.metadata.Unicode.encoding=F,b.encoding=F.codePages[0])}])})(St.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Em(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(St),St.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Wt.canvg?Promise.resolve(Wt.canvg):a0(()=>import("./index.es-Cc2AKi1N.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(d,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(y)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},St.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},St.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,y=0,w=0;function E(M,F){var q,U=!1;for(q=0;q<M.length;q+=1)M[q]===F&&(U=!0);return U}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(Xn(n)==="object"){for(s in n)if(o=n[s],E(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&E(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,F=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?F.push("/"+M+" /"+t[M].value):F.push("/"+M+" "+t[M].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(St.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],w=0,E=o.length;w<E;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(d[4-c.length],c)}return y.join("")},r=function(o){var u,c,f,d,y,w,E;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,E=(c=Object.keys(o).sort(function(b,M){return b-M})).length;w<E;w++)u=c[w],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",M=0;M<E.length;M++)b+=String.fromCharCode(E[M]);var F=d();y({data:b,addLength1:!0,objectId:F}),f("endobj");var q=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:q}),f("endobj");var U=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Nh(c.fontName)),f("/FontFile2 "+F+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var te=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Nh(c.fontName)),f("/FontDescriptor "+U+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+q+" 0 R"),f("/BaseFont /"+Nh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+te+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,E="",b=0;b<w.length;b++)E+=String.fromCharCode(w[b]);var M=d();y({data:E,addLength1:!0,objectId:M}),f("endobj");var F=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:F}),f("endobj");var q=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Nh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var U=0;U<c.metadata.hmtx.widths.length;U++)c.metadata.hmtx.widths[U]=parseInt(c.metadata.hmtx.widths[U]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+Nh(c.fontName)+"/FontDescriptor "+q+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,y=o.options||{},w=o.mutex||{},E=w.pdfEscape,b=w.activeFontKey,M=w.fonts,F=b,q="",U=0,te="",re=M[F].encoding;if(M[F].encoding!=="Identity-H")return{text:c,x:f,y:d,options:y,mutex:w};for(te=c,F=b,Array.isArray(c)&&(te=c[0]),U=0;U<te.length;U+=1)M[F].metadata.hasOwnProperty("cmap")&&(u=M[F].metadata.cmap.unicode.codeMap[te[U].charCodeAt(0)]),u||te[U].charCodeAt(0)<256&&M[F].metadata.hasOwnProperty("Unicode")?q+=te[U]:q+="";var X="";return parseInt(F.slice(1))<14||re==="WinAnsiEncoding"?X=E(q,F).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):re==="Identity-H"&&(X=t(q,M[F])),w.isHex=!0,{text:X,x:f,y:d,options:y,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(St),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(St.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,f,d,y,w=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},q=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],U=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),te=!1,re=0;this.__bidiEngine__={};var X=function(I){var P=I.charCodeAt(),R=P>>8,ee=F[R];return ee!==void 0?w[256*ee+(255&P)]:R===252||R===253?"AL":U.test(R)?"L":R===8?"R":"N"},le=function(I){for(var P,R=0;R<I.length;R++){if((P=X(I.charAt(R)))==="L")return!1;if(P==="R")return!0}return!1},Se=function(I,P,R,ee){var ge,ne,pe,ie,be=P[ee];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":te=!1;break;case"N":case"AN":break;case"EN":te&&(be="AN");break;case"AL":te=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":ee<1||ee+1>=P.length||(ge=R[ee-1])!=="EN"&&ge!=="AN"||(ne=P[ee+1])!=="EN"&&ne!=="AN"?be="N":te&&(ne="AN"),be=ne===ge?ne:"N";break;case"ES":be=(ge=ee>0?R[ee-1]:"B")==="EN"&&ee+1<P.length&&P[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&R[ee-1]==="EN"){be="EN";break}if(te){be="N";break}for(pe=ee+1,ie=P.length;pe<ie&&P[pe]==="ET";)pe++;be=pe<ie&&P[pe]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(ie=P.length,pe=ee+1;pe<ie&&P[pe]==="NSM";)pe++;if(pe<ie){var Y=I[ee],he=Y>=1425&&Y<=2303||Y===64286;if(ge=P[pe],he&&(ge==="R"||ge==="AL")){be="R";break}}}be=ee<1||(ge=P[ee-1])==="B"?"N":R[ee-1];break;case"B":te=!1,s=!0,be=re;break;case"S":o=!0,be="N"}return be},$=function(I,P,R){var ee=I.split("");return R&&O(ee,R,{hiLevel:re}),ee.reverse(),P&&P.reverse(),ee.join("")},O=function(I,P,R){var ee,ge,ne,pe,ie,be=-1,Y=I.length,he=0,C=[],B=re?b:E,Z=[];for(te=!1,s=!1,o=!1,ge=0;ge<Y;ge++)Z[ge]=X(I[ge]);for(ne=0;ne<Y;ne++){if(ie=he,C[ne]=Se(I,Z,C,ne),ee=240&(he=B[ie][M[C[ne]]]),he&=15,P[ne]=pe=B[he][5],ee>0)if(ee===16){for(ge=be;ge<ne;ge++)P[ge]=1;be=-1}else be=-1;if(B[he][6])be===-1&&(be=ne);else if(be>-1){for(ge=be;ge<ne;ge++)P[ge]=pe;be=-1}Z[ne]==="B"&&(P[ne]=0),R.hiLevel|=pe}o&&(function(ue,fe,ye){for(var Ce=0;Ce<ye;Ce++)if(ue[Ce]==="S"){fe[Ce]=re;for(var ke=Ce-1;ke>=0&&ue[ke]==="WS";ke--)fe[ke]=re}})(Z,P,Y)},k=function(I,P,R,ee,ge){if(!(ge.hiLevel<I)){if(I===1&&re===1&&!s)return P.reverse(),void(R&&R.reverse());for(var ne,pe,ie,be,Y=P.length,he=0;he<Y;){if(ee[he]>=I){for(ie=he+1;ie<Y&&ee[ie]>=I;)ie++;for(be=he,pe=ie-1;be<pe;be++,pe--)ne=P[be],P[be]=P[pe],P[pe]=ne,R&&(ne=R[be],R[be]=R[pe],R[pe]=ne);he=ie}he++}}},H=function(I,P,R){var ee=I.split(""),ge={hiLevel:re};return R||(R=[]),O(ee,R,ge),(function(ne,pe,ie){if(ie.hiLevel!==0&&y)for(var be,Y=0;Y<ne.length;Y++)pe[Y]===1&&(be=q.indexOf(ne[Y]))>=0&&(ne[Y]=q[be+1])})(ee,R,ge),k(2,ee,P,R,ge),k(1,ee,P,R,ge),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(I,P,R){if((function(ge,ne){if(ne)for(var pe=0;pe<ge.length;pe++)ne[pe]=pe;c===void 0&&(c=le(ge)),d===void 0&&(d=le(ge))})(I,P),u||!f||d)if(u&&f&&c^d)re=c?1:0,I=$(I,P,R);else if(!u&&f&&d)re=c?1:0,I=H(I,P,R),I=$(I,P);else if(!u||c||f||d){if(u&&!f&&c^d)I=$(I,P),c?(re=0,I=H(I,P,R)):(re=1,I=H(I,P,R),I=$(I,P));else if(u&&c&&!f&&d)re=1,I=H(I,P,R),I=$(I,P);else if(!u&&!f&&c^d){var ee=y;c?(re=1,I=H(I,P,R),re=0,y=!1,I=H(I,P,R),y=ee):(re=0,I=H(I,P,R),I=$(I,P),re=1,y=!1,I=H(I,P,R),y=ee,I=$(I,P))}}else re=0,I=H(I,P,R);else re=c?1:0,I=H(I,P,R);return I},this.__bidiEngine__.setOptions=function(I){I&&(u=I.isInputVisual,f=I.isOutputVisual,c=I.isInputRtl,d=I.isOutputRtl,y=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(St),St.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Yu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new zD(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new CD(this.contents),this.head=new LD(this),this.name=new MD(this),this.cmap=new XS(this),this.toUnicode={},this.hhea=new kD(this),this.maxp=new jD(this),this.hmtx=new VD(this),this.post=new DD(this),this.os2=new PD(this),this.loca=new qD(this),this.glyf=new FD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Io,Yu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),CD=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,f,d,y,w,E,b,M,F;for(F in b=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),u=Math.floor(w/f),y=16*b-w,(s=new Yu).writeInt(this.scalarType),s.writeShort(b),s.writeShort(w),s.writeShort(u),s.writeShort(y),o=16*b,d=s.pos+o,c=null,M=[],t)for(E=t[F],s.writeString(F),s.writeInt(n(E)),s.writeInt(d),s.writeInt(E.length),M=M.concat(E),F==="head"&&(c=d),d+=E.length;d%4;)M.push(0),d++;return s.write(M),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=ZS.call(t);t.length%4;)t.push(0);for(o=new Yu(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),RD={}.hasOwnProperty,ll=function(n,e){for(var t in e)RD.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Io=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var LD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Yu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Hw=(function(){function n(e,t){var r,s,o,u,c,f,d,y,w,E,b,M,F,q,U,te,re;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),E=b/2,e.pos+=6,o=(function(){var X,le;for(le=[],f=X=0;0<=E?X<E:X>E;f=0<=E?++X:--X)le.push(e.readUInt16());return le})(),e.pos+=2,F=(function(){var X,le;for(le=[],f=X=0;0<=E?X<E:X>E;f=0<=E?++X:--X)le.push(e.readUInt16());return le})(),d=(function(){var X,le;for(le=[],f=X=0;0<=E?X<E:X>E;f=0<=E?++X:--X)le.push(e.readUInt16());return le})(),y=(function(){var X,le;for(le=[],f=X=0;0<=E?X<E:X>E;f=0<=E?++X:--X)le.push(e.readUInt16());return le})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var X,le;for(le=[],f=X=0;0<=s?X<s:X>s;f=0<=s?++X:--X)le.push(e.readUInt16());return le})(),f=U=0,re=o.length;U<re;f=++U)for(q=o[f],r=te=M=F[f];M<=q?te<=q:te>=q;r=M<=q?++te:--te)y[f]===0?u=r+d[f]:(u=c[y[f]/2+(r-M)-(E-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,s,o,u,c,f,d,y,w,E,b,M,F,q,U,te,re,X,le,Se,$,O,k,H,I,P,R,ee,ge,ne,pe,ie,be,Y,he,C,B,Z,ue,fe,ye,Ce,ke,Ue,qe,nt;switch(ee=new Yu,u=Object.keys(e).sort(function(rt,Me){return rt-Me}),t){case"macroman":for(F=0,q=(function(){var rt=[];for(M=0;M<256;++M)rt.push(0);return rt})(),te={0:0},o={},ge=0,be=u.length;ge<be;ge++)te[ke=e[s=u[ge]]]==null&&(te[ke]=++F),o[s]={old:e[s],new:te[e[s]]},q[s]=te[e[s]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(q),{charMap:o,subtable:ee.data,maxGlyphID:F+1};case"unicode":for(P=[],w=[],re=0,te={},r={},U=d=null,ne=0,Y=u.length;ne<Y;ne++)te[le=e[s=u[ne]]]==null&&(te[le]=++re),r[s]={old:le,new:te[le]},c=te[le]-s,U!=null&&c===d||(U&&w.push(U),P.push(s),d=c),U=s;for(U&&w.push(U),w.push(65535),P.push(65535),H=2*(k=P.length),O=2*Math.pow(Math.log(k)/Math.LN2,2),E=Math.log(O/2)/Math.LN2,$=2*k-O,f=[],Se=[],b=[],M=pe=0,he=P.length;pe<he;M=++pe){if(I=P[M],y=w[M],I===65535){f.push(0),Se.push(0);break}if(I-(R=r[I].new)>=32768)for(f.push(0),Se.push(2*(b.length+k-M)),s=ie=I;I<=y?ie<=y:ie>=y;s=I<=y?++ie:--ie)b.push(r[s].new);else f.push(R-I),Se.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*k+2*b.length),ee.writeUInt16(0),ee.writeUInt16(H),ee.writeUInt16(O),ee.writeUInt16(E),ee.writeUInt16($),ye=0,C=w.length;ye<C;ye++)s=w[ye],ee.writeUInt16(s);for(ee.writeUInt16(0),Ce=0,B=P.length;Ce<B;Ce++)s=P[Ce],ee.writeUInt16(s);for(Ue=0,Z=f.length;Ue<Z;Ue++)c=f[Ue],ee.writeUInt16(c);for(qe=0,ue=Se.length;qe<ue;qe++)X=Se[qe],ee.writeUInt16(X);for(nt=0,fe=b.length;nt<fe;nt++)F=b[nt],ee.writeUInt16(F);return{charMap:r,subtable:ee.data,maxGlyphID:re+1}}},n})(),XS=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new Hw(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=Hw.encode(e,t),(s=new Yu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),kD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),PD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),DD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),OD=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},MD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,f,d,y,w,E;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=y=0,w=r.length;y<w;o=++y)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new OD(d,s),f[E=s.nameID]==null&&(f[E]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),jD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),VD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,y;for(y=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)y.push(e.readInt16());return y})(),this.widths=(function(){var d,y,w,E;for(E=[],d=0,y=(w=this.metrics).length;d<y;d++)o=w[d],E.push(o.advance);return E}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),ZS=[].slice,FD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,f,d,y,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Yu(t.read(s))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),y=c.readShort(),this.cache[e]=u===-1?new BD(c,d,w,f,y):new UD(c,u,d,w,f,y),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),UD=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),BD=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Yu(ZS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),qD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,Io),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*r.length),y=0;y<r.length;++y)d[4*y+3]=255&r[y],d[4*y+2]=(65280&r[y])>>8,d[4*y+1]=(16711680&r[y])>>16,d[4*y]=(4278190080&r[y])>>24;return d},n})(),zD=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,f,d,y,w,E,b,M,F,q,U;for(s in r=XS.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},U=r.charMap)b[(f=U[s]).old]=f.new;for(M in E=r.maxGlyphID,u)M in b||(b[M]=E++);return y=(function(te){var re,X;for(re in X={},te)X[te[re]]=re;return X})(b),w=Object.keys(y).sort(function(te,re){return te-re}),F=(function(){var te,re,X;for(X=[],te=0,re=w.length;te<re;te++)c=w[te],X.push(y[c]);return X})(),o=this.font.glyf.encode(u,F,b),d=this.font.loca.encode(o.offsets,F),q={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(q)},n})();St.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function JS(n,e,t,r,s){r=r||{};var o=1.15,u=s.internal.scaleFactor,c=s.internal.getFontSize()/u,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=c*f,y=/\r\n|\r|\n/g,w="",E=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(w=typeof n=="string"?n.split(y):n,E=w.length||1),t+=c*(2-o),r.valign==="middle"?t-=E/2*d:r.valign==="bottom"&&(t-=E*d),r.halign==="center"||r.halign==="right"){var b=c;if(r.halign==="center"&&(b*=.5),w&&E>=1){for(var M=0;M<w.length;M++)s.text(w[M],e-s.getStringUnitWidth(w[M])*b,t),t+=d;return s}e-=s.getStringUnitWidth(n)*b}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Gw={},Vh=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Gw=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var y=n.unifyColor(e.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(e.textColor),y&&(s=this.jsPDFDocument).setTextColor.apply(s,y),y=n.unifyColor(e.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Gw||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),v2=function(n,e){return v2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},v2(n,e)};function eE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");v2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var tE=(function(n){eE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function HD(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function GD(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function tg(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function nE(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var u=rE(s,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function rE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function kg(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function iE(n,e){var t=kg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function $D(n,e,t,r,s){var o={},u=1.3333333333333333,c=I0(e,function(re){return s.getComputedStyle(re).backgroundColor});c!=null&&(o.fillColor=c);var f=I0(e,function(re){return s.getComputedStyle(re).color});f!=null&&(o.textColor=f);var d=YD(r,t);d&&(o.cellPadding=d);var y="borderTopColor",w=u*t,E=r.borderTopWidth;if(r.borderBottomWidth===E&&r.borderRightWidth===E&&r.borderLeftWidth===E){var b=(parseFloat(E)||0)/w;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/w,right:(parseFloat(r.borderRightWidth)||0)/w,bottom:(parseFloat(r.borderBottomWidth)||0)/w,left:(parseFloat(r.borderLeftWidth)||0)/w},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var M=I0(e,function(re){return s.getComputedStyle(re)[y]});M!=null&&(o.lineColor=M);var F=["left","right","center","justify"];F.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),F=["middle","bottom","top"],F.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var q=parseInt(r.fontSize||"");isNaN(q)||(o.fontSize=q/u);var U=WD(r);U&&(o.fontStyle=U);var te=(r.fontFamily||"").toLowerCase();return n.indexOf(te)!==-1&&(o.font=te),o}function WD(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function I0(n,e){var t=sE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function sE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:sE(n.parentElement,e):t}function YD(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),u=kg(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function aE(n,e,t,r,s){var o,u;r===void 0&&(r=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],w=[],E=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:y,body:w,foot:E};for(var b=0;b<c.rows.length;b++){var M=c.rows[b],F=(u=(o=M?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),q=KD(f,d,t,M,r,s);q&&(F==="thead"?y.push(q):F==="tfoot"?E.push(q):w.push(q))}return{head:y,body:w,foot:E}}function KD(n,e,t,r,s,o){for(var u=new tE(r),c=0;c<r.cells.length;c++){var f=r.cells[c],d=t.getComputedStyle(f);if(s||d.display!=="none"){var y=void 0;o&&(y=$D(n,f,e,d,t)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:QD(f)})}}var w=t.getComputedStyle(r);if(u.length>0&&(s||w.display!=="none"))return u}function QD(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function XD(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function jl(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function ZD(n,e){var t=new Vh(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();XD(s,r,e);var o=jl({},s,r,e),u;typeof window<"u"&&(u=window);var c=JD(s,r,e),f=eO(s,r,e),d=tO(t,o),y=rO(t,o,u);return{id:e.tableId,content:y,hooks:f,styles:c,settings:d}}function JD(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],y=e[f],w=t[f];r.columnStyles=jl({},d,y,w)}else{var E=[n,e,t],b=E.map(function(M){return M[f]||{}});r[f]=jl({},b[0],b[1],b[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];s(c)}return r}function eO(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function tO(n,e){var t,r,s,o,u,c,f,d,y,w,E,b,M=kg(e.margin,40/n.scaleFactor()),F=(t=nO(n,e.startY))!==null&&t!==void 0?t:M.top,q;e.showFoot===!0?q="everyPage":e.showFoot===!1?q="never":q=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var U;e.showHead===!0?U="everyPage":e.showHead===!1?U="never":U=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var te=(o=e.useCss)!==null&&o!==void 0?o:!1,re=e.theme||(te?"plain":"striped"),X=!!e.horizontalPageBreak,le=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:te,theme:re,startY:F,margin:M,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=e.tableWidth)!==null&&y!==void 0?y:"auto",showHead:U,showFoot:q,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(E=e.tableLineColor)!==null&&E!==void 0?E:200,horizontalPageBreak:X,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function nO(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;o=u===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function rO(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var c=aE(n,e.html,t,u,e.useCss)||{};r=c.head||r,s=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||iO(r,s,o);return{columns:f,head:r,body:s,foot:o}}function iO(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};s.push(y)}}),s}var _2=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),sO=(function(n){eE(e,n);function e(t,r,s,o,u,c){var f=n.call(this,t,r,c)||this;return f.cell=s,f.row=o,f.column=u,f.section=o.section,f}return e})(_2),aO=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,u){for(var c=0,f=t;c<f.length;c++){var d=f[c],y=new sO(e,this,r,s,o,u),w=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],w)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new _2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new _2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),oE=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof tE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var u=r.cells[o.index];if(!u)return 0;var c=t.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+c;return d>s?d:s},0)},n})(),lE=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=kg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),oO=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n})();function lO(n,e){uO(n,e);var t=[],r=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=b2(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=b2(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),hO(e),fO(e,n),cO(e)}function uO(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=iE(n,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){var y=e.hooks.didParseCell;e.callCellHooks(n,y,d,o,f,null);var w=d.padding("horizontal");d.contentWidth=tg(d.text,d.styles,n)+w;var E=tg(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=E+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var b=10/t;d.minWidth=d.styles.minCellWidth||b,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},w=y.cellWidth||y.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function b2(n,e,t){for(var r=e,s=n.reduce(function(b,M){return b+M.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/s,f=r*c,d=u.width+f,y=t(u),w=d<y?y:d;e-=w-u.width,u.width=w}if(e=Math.round(e*1e10)/1e10,e){var E=n.filter(function(b){return e<0?b.width>t(b):!0});E.length&&(e=b2(E,e,t))}return e}function cO(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var w=r.length-s,E=y.rowSpan>w?w:y.rowSpan;e[f.index]={cell:y,left:E,row:o}}}}}function hO(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,u=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=f.width,delete r.cells[f.index];else if(s){var d=s;delete r.cells[f.index],s=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function fO(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,y+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=$w(d.text,y,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=$w(d.text,y,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,y);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var E=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<E*d.rowSpan?t={height:E,count:d.rowSpan}:t&&t.count>0&&t.height>E&&(E=t.height),E>o.height&&(o.height=E)}}t.count--}}function $w(n,e,t,r,s){return n.map(function(o){return dO(o,e,t,r,s)})}function dO(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=tg(n,t,r))return n;for(;e<tg(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function pO(n,e){var t=new Vh(n),r=mO(e,t.scaleFactor()),s=new aO(e,r);return lO(t,s),t.applyStyles(t.userStyles),s}function mO(n,e){var t=n.content,r=yO(t.columns);if(t.head.length===0){var s=Ww(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=Ww(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,u=n.styles;return{columns:r,head:C0("head",t.head,r,u,o,e),body:C0("body",t.body,r,u,o,e),foot:C0("foot",t.foot,r,u,o,e)}}function C0(n,e,t,r,s,o){var u={},c=e.map(function(f,d){for(var y=0,w={},E=0,b=0,M=0,F=t;M<F.length;M++){var q=F[M];if(u[q.index]==null||u[q.index].left===0)if(b===0){var U=void 0;Array.isArray(f)?U=f[q.index-E-y]:U=f[q.dataKey];var te={};typeof U=="object"&&!Array.isArray(U)&&(te=U?.styles||{});var re=vO(n,q,d,s,r,o,te),X=new lE(U,re,n);w[q.dataKey]=X,w[q.index]=X,b=X.colSpan-1,u[q.index]={left:X.rowSpan-1,times:b}}else b--,E++;else u[q.index].left--,b=u[q.index].times,y++}return new oE(f,d,n,w)});return c}function Ww(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=gO(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function gO(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function yO(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new oO(s,e,t)})}function vO(n,e,t,r,s,o,u){var c=GD(r),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=jl({},c.table,c[n],s.styles,f),y=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},w=n==="body"?y:{},E=n==="body"&&t%2===0?jl({},c.alternateRow,s.alternateRowStyles):{},b=HD(o),M=jl({},b,d,E,w);return jl(M,u)}function _O(n,e,t){var r;t===void 0&&(t={});var s=iE(n,e),o=new Map,u=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(E){var b=e.columns.find(function(M){return M.dataKey===E||M.index===E});b&&!o.has(b.index)&&(o.set(b.index,!0),u.push(b.index),c.push(e.columns[b.index]),s-=b.wrappedWidth)});for(var d=!0,y=(r=t?.start)!==null&&r!==void 0?r:0;y<e.columns.length;){if(o.has(y)){y++;continue}var w=e.columns[y].wrappedWidth;if(d||s>=w)d=!1,u.push(y),c.push(e.columns[y]),s-=w;else break;y++}return{colIndexes:u,columns:c,lastIndex:y-1}}function bO(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=_O(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function wO(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+s.bottom+u;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(E,b){return E+b.height},0);c+=d}var y=new Vh(n);(t.pageBreak==="always"||t.startY!=null&&c>y.pageSize().height)&&(cE(y),o.y=s.top),e.callWillDrawPageHooks(y,o);var w=jl({},o);e.startPageNumber=y.pageNumber(),t.horizontalPageBreak?AO(y,e,w,o):(y.applyStyles(y.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(E){return Gl(y,e,E,o,e.columns)}),y.applyStyles(y.userStyles),e.body.forEach(function(E,b){var M=b===e.body.length-1;ng(y,e,E,M,w,o,e.columns)}),y.applyStyles(y.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(E){return Gl(y,e,E,o,e.columns)})),nE(y,e,w,o),e.callEndPageHooks(y,o),e.finalY=o.y,n.lastAutoTable=e,y.applyStyles(y.userStyles)}function AO(n,e,t,r){var s=bO(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?fd(n,e,t,r,d.columns,!0):Yw(n,e,r,d.columns),SO(n,e,t,r,d.columns),R0(n,e,r,d.columns)});else for(var u=-1,c=s[0],f=function(){var d=u;if(c){n.applyStyles(n.userStyles);var y=c.columns;u>=0?fd(n,e,t,r,y,!0):Yw(n,e,r,y),d=Kw(n,e,u+1,r,y),R0(n,e,r,y)}var w=d-u;s.slice(1).forEach(function(E){n.applyStyles(n.userStyles),fd(n,e,t,r,E.columns,!0),Kw(n,e,u+1,r,E.columns,w),R0(n,e,r,E.columns)}),u=d};u<e.body.length-1;)f()}function Yw(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return Gl(n,e,o,t,r)})}function SO(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;ng(n,e,o,c,t,r,s)})}function Kw(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var u=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,u).forEach(function(f,d){var y=t+d===e.body.length-1,w=uE(n,e,y,r);f.canEntireRowFit(w,s)&&(Gl(n,e,f,r,s),c=t+d)}),c}function R0(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return Gl(n,e,o,t,r)})}function EO(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function xO(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=t.columns;u<c.length;u++){var f=c[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new lE(d.raw,d.styles,d.section);y=jl(y,d),y.text=[];var w=EO(d,e,r);d.text.length>w&&(y.text=d.text.splice(w,d.text.length));var E=r.scaleFactor(),b=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(E,b),d.contentHeight>=e&&(d.contentHeight=e,y.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(E,b),y.contentHeight>o&&(o=y.contentHeight),s[f.index]=y}}var M=new oE(n.raw,-1,n.section,s,!0);M.height=o;for(var F=0,q=t.columns;F<q.length;F++){var f=q[F],y=M.cells[f.index];y&&(y.height=M.height);var d=n.cells[f.index];d&&(d.height=n.height)}return M}function TO(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=s-u;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=e.hasRowSpan(r.columns),w=e.getMaxCellHeight(r.columns)>c;return w?(y&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function ng(n,e,t,r,s,o,u){var c=uE(n,e,r,o);if(t.canEntireRowFit(c,u))Gl(n,e,t,o,u);else if(TO(n,t,c,e)){var f=xO(t,c,e,n);Gl(n,e,t,o,u),fd(n,e,s,o,u),ng(n,e,f,r,s,o,u)}else fd(n,e,s,o,u),ng(n,e,t,r,s,o,u)}function Gl(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var c=u[o],f=t.cells[c.index];if(!f){r.x+=c.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,c,r);if(d===!1){r.x+=c.width;continue}NO(n,f,r);var y=f.getTextPos();JS(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,c,r),r.x+=c.width}r.y+=t.height}function NO(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=rE(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),IO(n,e,t,r.lineWidth))}function IO(n,e,t,r){var s,o,u,c;r.top&&(s=t.x,o=t.y,u=t.x+e.width,c=t.y,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),f(r.top,s,o,u,c)),r.bottom&&(s=t.x,o=t.y+e.height,u=t.x+e.width,c=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),f(r.bottom,s,o,u,c)),r.left&&(s=t.x,o=t.y,u=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.left,s,o,u,c)),r.right&&(s=t.x+e.width,o=t.y,u=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.right,s,o,u,c));function f(d,y,w,E,b){n.getDocument().setLineWidth(d),n.getDocument().line(y,w,E,b,"S")}}function uE(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function fd(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return Gl(n,e,c,r,s)}),e.callEndPageHooks(n,r);var u=e.settings.margin;nE(n,e,t,r),cE(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Gl(n,e,c,r,s)}),n.applyStyles(n.userStyles))}function cE(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function CO(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=ZD(this,r),o=pO(this,s);return wO(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){JS(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return Vh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Vh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Vh(this),o=aE(s,e,window,t,!1),u=o.head,c=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var L0;try{if(typeof window<"u"&&window){var Qw=window,Xw=Qw.jsPDF||((L0=Qw.jspdf)===null||L0===void 0?void 0:L0.jsPDF);Xw&&CO(Xw)}}catch(n){console.error("Could not apply autoTable plugin",n)}const hE=(n,e="Factura",t="Cliente")=>{const r=new St;r.setFontSize(16),r.text(e,14,20),r.setFontSize(10),r.text(`Nmero: ${n.invoiceNumber||"SINID"}`,14,28),t==="Cliente"?r.text(`Cliente: ${n.clientName||n.clientId||"N/A"}`,14,34):r.text(`Proveedor: ${n.supplierName||n.supplierId||"N/A"}`,14,34);const s=(n.items||[]).map(u=>[u.name||"",u.quantity||0,`$${u.price||0}`,`${u.discount??0}%`,`${u.tax??0}%`,`${u.retention??0}%`,`$${((u.price||0)*(u.quantity||0)).toFixed(2)}`]);s.length>0&&r.autoTable({head:[["Producto","Cant.","Precio","Desc.","IVA","Ret.","Total"]],body:s,startY:40});const o=r.lastAutoTable&&r.lastAutoTable.finalY||40;r.text(`Subtotal: $${n.subtotal||0}`,14,o+10),r.text(`IVA: $${n.iva||0}`,14,o+16),r.text(`Retenciones: -$${n.retenciones||0}`,14,o+22),r.setFontSize(12),r.text(`Total Neto: $${n.total||0}`,14,o+32),r.save(`${e}_${n.invoiceNumber||"SINID"}.pdf`)},Yd=()=>N.jsx("div",{className:"flex justify-center items-center h-full",children:N.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-500"})}),Kd=({isOpen:n,onClose:e,title:t,children:r})=>n?N.jsx("div",{className:"fixed inset-0 backdrop-blur-sm z-50 flex justify-center items-center p-4",children:N.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-7xl h-[90vh] overflow-y-auto",children:[N.jsxs("div",{className:"flex justify-between items-center p-4 border-b sticky top-0 bg-white z-10",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:Fn.close})]}),N.jsx("div",{className:"p-6",children:r})]})}):null,ws=({id:n,label:e,children:t,...r})=>N.jsxs("div",{children:[N.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),N.jsx("select",{id:n,...r,className:"w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:t})]}),RO=({isOpen:n,onClose:e,onSubmit:t,clients:r,products:s,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=Wl(),[f,d]=ze.useState("Fsica"),[y,w]=ze.useState(""),[E,b]=ze.useState(()=>{const ie=new Date;return new Date(ie.getTime()-ie.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[M,F]=ze.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[q,U]=ze.useState("Efectivo"),[te,re]=ze.useState(""),[X,le]=ze.useState(0),[Se,$]=ze.useState(0),[O,k]=ze.useState(0),[H,I]=ze.useState(0),P=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1},{label:"Retencin por combustible 0.10%",value:.1}],R=ie=>{if(!ie)return"FV-001";const be=ie.match(/^FV-(\d+)$/);if(!be)return null;const Y=parseInt(be[1],10)+1;return`FV-${String(Y).padStart(3,"0")}`};ze.useEffect(()=>{o&&(d(o.tipoFactura||"Electrnica"),w(o.clientId||""),b(o.date?new Date(o.date.seconds?o.date.seconds*1e3:o.date).toISOString().split("T")[0]:E),F(o.items||[]),U(o.paymentMethod||"Efectivo"),re(o.observaciones||""))},[o,E]);const ee=(ie,be,Y)=>{const he=[...M];if(he[ie][be]=Y,be==="productId")if(Y==="")he[ie]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const C=s.find(B=>B.id===Y);C&&(he[ie].price=C.unitValue||0,he[ie].tax=C.iva??"",he[ie].code=C.code||"",he[ie].name=C.name||C.description||"")}F(he)},ge=()=>F([...M,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),ne=ie=>F(M.filter((be,Y)=>Y!==ie));ze.useEffect(()=>{let ie=0,be=0,Y=0;M.forEach(he=>{const C=Number(he.quantity)||0,B=Number(he.price)||0,Z=(Number(he.discount)||0)/100,ue=C*B*(1-Z),fe=he.tax===""?0:Number(he.tax)/100,ye=he.retention===""?0:Number(he.retention)/100;ie+=ue,be+=ue*fe,Y+=ue*ye}),le(ie),$(be),k(Y),I(ie+be-Y)},[M]);const pe=ie=>{ie.preventDefault();const be=o?o.invoiceNumber:R(u);let Y;if(E){const[C,B,Z]=E.split("-");Y=new Date(Number(C),Number(B)-1,Number(Z))}else{const C=new Date;Y=new Date(C.getFullYear(),C.getMonth(),C.getDate())}const he={id:o?.id||null,tipoFactura:f,clientId:y,vendedor:c?.name||"Usuario",date:Y,items:M.map(C=>({...C,quantity:Number(C.quantity),price:Number(C.price),discount:Number(C.discount),tax:C.tax===""?null:Number(C.tax),retention:C.retention===""?null:Number(C.retention)})),paymentMethod:q,observaciones:te,subtotal:X,iva:Se,retenciones:O,total:H,invoiceNumber:be};t(he),e()};return N.jsx(Kd,{isOpen:n,onClose:e,title:o?"Editar Factura de Venta":"Crear Nueva Factura de Venta",children:N.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[!o&&u&&N.jsxs("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:[N.jsxs("p",{children:["ltima factura registrada: ",N.jsx("b",{children:u})]}),R(u)&&N.jsxs("p",{children:["Siguiente sugerida:"," ",N.jsx("b",{children:R(u)})]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsxs(ws,{label:"Tipo de Factura",value:f,onChange:ie=>d(ie.target.value),children:[N.jsx("option",{value:"Fsica",children:"FV-1 Documento Ingreso"}),N.jsx("option",{value:"Electrnica",children:"FV-2 Factura Electrnica"})]}),N.jsxs(ws,{label:"Cliente",value:y,onChange:ie=>w(ie.target.value),required:!0,children:[N.jsx("option",{value:"",children:"Seleccione un cliente"}),r.map(ie=>N.jsxs("option",{value:ie.id,children:[ie.name," - ",ie.idNumber]},ie.id))]}),N.jsx(zn,{label:"Vendedor",value:c?.name||"",readOnly:!0}),N.jsx(zn,{label:"Fecha",type:"date",value:E,onChange:ie=>b(ie.target.value)})]}),N.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"tems de la Factura"}),N.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[N.jsx("div",{className:"col-span-3",children:"Producto"}),N.jsx("div",{className:"col-span-2",children:"Cantidad"}),N.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),N.jsx("div",{className:"col-span-2",children:"% Desc."}),N.jsx("div",{className:"col-span-2",children:"Impuesto"}),N.jsx("div",{className:"col-span-1",children:"% Ret."}),N.jsx("div",{className:"col-span-1",children:"Valor Total"}),N.jsx("div",{className:"w-8 flex justify-center"})]}),M.map((ie,be)=>{const Y=Number(ie.quantity)||0,he=Number(ie.price)||0,C=(Number(ie.discount)||0)/100,B=Y*he*(1-C),Z=ie.tax===""?0:Number(ie.tax)/100,ue=ie.retention===""?0:Number(ie.retention)/100,fe=B+B*Z-B*ue;return N.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[N.jsx("div",{className:"col-span-3",children:N.jsxs(ws,{value:ie.productId,onChange:ye=>ee(be,"productId",ye.target.value),children:[N.jsx("option",{value:"",children:"Seleccione producto"}),s.map(ye=>N.jsxs("option",{value:ye.id,children:[ye.code," - ",ye.name]},ye.id))]})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:ie.quantity,min:"1",onChange:ye=>ee(be,"quantity",ye.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:ie.price,onChange:ye=>ee(be,"price",ye.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:ie.discount,onChange:ye=>ee(be,"discount",ye.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsxs(ws,{value:ie.tax,onChange:ye=>ee(be,"tax",ye.target.value),children:[N.jsx("option",{value:"",children:" "}),N.jsx("option",{value:0,children:"0% (Exento)"}),N.jsx("option",{value:5,children:"5%"}),N.jsx("option",{value:19,children:"19%"})]})}),N.jsx("div",{className:"col-span-1",children:N.jsx(ws,{value:ie.retention,onChange:ye=>ee(be,"retention",ye.target.value),children:P.map((ye,Ce)=>N.jsx("option",{value:ye.value,children:ye.label},`${ye.value}-${Ce}`))})}),N.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(fe)}),N.jsx("div",{className:"w-8 flex justify-center items-center",children:N.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ne(be),children:Fn.trash})})]},be)}),N.jsx(Ei,{type:"button",variant:"secondary",onClick:ge,children:"Aadir tem"}),N.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[N.jsxs("p",{children:["Subtotal: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(X)]})]}),N.jsxs("p",{children:["IVA: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(Se)]})]}),N.jsxs("p",{children:["Retenciones:"," ",N.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(O)]})]}),N.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(H)]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[N.jsxs(ws,{label:"Forma de Pago",value:q,onChange:ie=>U(ie.target.value),children:[N.jsx("option",{value:"Efectivo",children:"Efectivo"}),N.jsx("option",{value:"Crdito",children:"Crdito"})]}),N.jsx(zn,{label:"Observaciones",value:te,onChange:ie=>re(ie.target.value)})]}),N.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[N.jsx(Ei,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),N.jsx(Ei,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})},fE=({isOpen:n,onClose:e,invoice:t,entityName:r="Cliente",onDownloadPDF:s})=>{if(!n||!t)return null;const o=()=>{typeof s=="function"?s(t):console.warn("InvoiceDetailModal: onDownloadPDF no est definido.")};return N.jsxs(Kd,{isOpen:n,onClose:e,title:"Detalle de Factura",children:[N.jsxs("div",{className:"space-y-3 text-sm",children:[N.jsxs("p",{children:[N.jsx("b",{children:"Nmero:"})," ",t.invoiceNumber]}),N.jsxs("p",{children:[N.jsx("b",{children:"Fecha:"})," ",t.date?.seconds?new Date(t.date.seconds*1e3).toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):"N/A"]}),N.jsxs("p",{children:[N.jsxs("b",{children:[r,":"]})," ",r==="Cliente"?t.clientName||t.clientId:t.supplierName||t.supplierId]}),t.vendedor&&N.jsxs("p",{children:[N.jsx("b",{children:"Vendedor:"})," ",t.vendedor]}),N.jsxs("table",{className:"w-full border text-xs",children:[N.jsx("thead",{className:"bg-gray-100",children:N.jsxs("tr",{children:[N.jsx("th",{children:"Producto"}),N.jsx("th",{children:"Cant."}),N.jsx("th",{children:"Precio"}),N.jsx("th",{children:"Desc."}),N.jsx("th",{children:"IVA"}),N.jsx("th",{children:"Ret."}),N.jsx("th",{children:"Total"})]})}),N.jsx("tbody",{children:t.items.map((u,c)=>{const f=u.quantity,d=u.price*f*(1-(u.discount||0)/100),y=d*((u.tax||0)/100),w=d*((u.retention||0)/100),E=d+y-w;return N.jsxs("tr",{children:[N.jsx("td",{children:u.name}),N.jsx("td",{children:f}),N.jsxs("td",{children:["$",u.price]}),N.jsxs("td",{children:[u.discount??0,"%"]}),N.jsxs("td",{children:[u.tax??0,"%"]}),N.jsxs("td",{children:[u.retention??0,"%"]}),N.jsxs("td",{children:["$",E.toFixed(2)]})]},c)})})]}),N.jsxs("div",{className:"text-right space-y-1",children:[N.jsxs("p",{children:["Subtotal: $",t.subtotal?.toFixed(2)]}),N.jsxs("p",{children:["IVA: $",t.iva?.toFixed(2)]}),N.jsxs("p",{children:["Retenciones: -$",t.retenciones?.toFixed(2)]}),N.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",t.total?.toFixed(2)]})]})]}),N.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[N.jsx(Ei,{variant:"secondary",onClick:e,children:"Cerrar"}),N.jsx(Ei,{variant:"primary",onClick:o,children:"Descargar PDF"})]})]})},LO=({setActiveView:n})=>{const{companyData:e}=Wl(),[t,r]=ze.useState(!1),[s,o]=ze.useState(null),[u,c]=ze.useState(null),[f,d]=ze.useState(!1),[y,w]=ze.useState([]),[E,b]=ze.useState([]),[M,F]=ze.useState([]),[q,U]=ze.useState([]),[te,re]=ze.useState(!0),[X,le]=ze.useState(null),[Se,$]=ze.useState(""),O=R=>R?R.seconds?new Date(R.seconds*1e3).toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):typeof R.toDate=="function"?R.toDate().toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):R instanceof Date?R.toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):typeof R=="string"?R:String(R):"N/A";ze.useEffect(()=>{if(!e)return;re(!0);const R=pa(Ai(kn,`companies/${e.id}/invoices_sales`)),ee=Ya(R,ge=>{const ne=ge.docs.map(pe=>({id:pe.id,...pe.data()}));w(ne),re(!1)},ge=>{console.error("Error fetching invoices: ",ge),re(!1)});return()=>ee()},[e]),ze.useEffect(()=>{if(!e)return;const R=pa(Ai(kn,`companies/${e.id}/thirdparties`)),ee=pa(Ai(kn,`companies/${e.id}/products`)),ge=pa(Ai(kn,`companies/${e.id}/retenciones`)),ne=Ya(R,be=>{b(be.docs.map(Y=>({id:Y.id,...Y.data()})))}),pe=Ya(ee,be=>{F(be.docs.map(Y=>({id:Y.id,...Y.data()})))}),ie=Ya(ge,be=>{U(be.docs.map(Y=>({id:Y.id,...Y.data()})))});return()=>{ne(),pe(),ie()}},[e]),ze.useEffect(()=>{if(!e)return;const R=pa(Ai(kn,`companies/${e.id}/invoices_sales`),kA("createdAt","desc"),by(1)),ee=Ya(R,ge=>{if(ge.empty)le(null);else{const ne=ge.docs[0].data();le(ne.invoiceNumber)}});return()=>ee()},[e]);const k=async R=>{if(!e)return;const ee=Oi.loading("Creando factura...");try{const ge=As(kn,`companies/${e.id}/counters/invoices_sales`);await Tg(ge,{lastNumber:Sy(1)},{merge:!0});const ne=await xd(ge),pe=ne.exists()?ne.data().lastNumber:1,ie=`FV-${String(pe).padStart(3,"0")}`;let be=null;if(R?.date)if(typeof R.date=="string"){const[C,B,Z]=R.date.split("-");be=new Date(Number(C),Number(B)-1,Number(Z))}else R instanceof Date?be=new Date(R.getFullYear(),R.getMonth(),R.getDate()):R.date.seconds&&(be=new Date(R.date.seconds*1e3));const Y=Ai(kn,`companies/${e.id}/invoices_sales`),he=await Gd(Y,{...R,date:be||new Date,companyId:e.id,invoiceNumber:ie,createdAt:ol(),status:"Pendiente"});await Gh(he,{id:he.id}),r(!1),Oi.success(" Factura creada con xito",{id:ee})}catch(ge){console.error("Error creating invoice: ",ge),Oi.error(" Error al crear la factura",{id:ee})}},H=async R=>{if(!e||!s)return;const ee=Oi.loading("Actualizando factura...");try{const ge=As(kn,`companies/${e.id}/invoices_sales/${s.id}`);let ne;if(R?.date)if(typeof R.date=="string"){const[ie,be,Y]=R.date.split("-");ne=new Date(Number(ie),Number(be)-1,Number(Y))}else R instanceof Date?ne=new Date(R.getFullYear(),R.getMonth(),R.getDate()):R.date.seconds&&(ne=new Date(R.date.seconds*1e3));const pe={...R,updatedAt:ol()};ne&&(pe.date=ne),await Gh(ge,pe),o(null),r(!1),Oi.success(" Factura actualizada correctamente",{id:ee})}catch(ge){console.error("Error updating invoice: ",ge),Oi.error(" Error al actualizar la factura",{id:ee})}},I=async R=>{if(!e||!window.confirm("Seguro que deseas eliminar esta factura?"))return;const ee=Oi.loading("Eliminando factura...");try{const ge=`companies/${e.id}/invoices_sales/${R}`;await Ng(As(kn,ge)),Oi.success(" Factura eliminada correctamente",{id:ee})}catch(ge){console.error(" Error deleting invoice: ",ge),Oi.error(" Error eliminando factura",{id:ee})}},P=y.filter(R=>{const ee=E.find(ie=>ie.id===R.clientId),ge=ee?.idNumber?.toLowerCase()||"",ne=ee?.name?.toLowerCase()||"",pe=Se.toLowerCase();return ge.includes(pe)||ne.includes(pe)});return N.jsxs("div",{children:[N.jsx("div",{className:"border-b mb-4",children:N.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[N.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de venta"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Facturas recurrentes"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Clientes"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Seguimiento comercial"})]})}),N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("div",{className:"flex space-x-2",children:N.jsx("input",{type:"text",placeholder:"Buscar por Identificacin o Cliente",className:"border px-3 py-2 rounded-lg text-sm w-80",value:Se,onChange:R=>$(R.target.value)})}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsxs(Ei,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[Fn.userPlus," Crear Cliente"]}),N.jsxs(Ei,{onClick:()=>{o(null),r(!0)},children:[Fn.plus," Crear Factura"]})]})]}),N.jsx($h,{title:"Facturas de Venta",children:te?N.jsx(Yd,{}):N.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3",children:"Fecha"}),N.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),N.jsx("th",{className:"px-6 py-3",children:"Identificacin"}),N.jsx("th",{className:"px-6 py-3",children:"Cliente"}),N.jsx("th",{className:"px-6 py-3",children:"Total"}),N.jsx("th",{className:"px-6 py-3",children:"Moneda"}),N.jsx("th",{className:"px-6 py-3",children:"Estado"}),N.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),N.jsx("tbody",{children:P.map(R=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-4",children:O(R.date)}),N.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:R.invoiceNumber||"FV-SINID"}),N.jsx("td",{className:"px-6 py-4",children:E.find(ee=>ee.id===R.clientId)?.idNumber||"N/A"}),N.jsx("td",{className:"px-6 py-4",children:E.find(ee=>ee.id===R.clientId)?.name||"Consumidor Final"}),N.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(R.total||0)]}),N.jsx("td",{className:"px-6 py-4",children:"COP"}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="Pagada"?"bg-green-100 text-green-800":R.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status||"Pendiente"})}),N.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[N.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(R),d(!0)},children:Fn.eye}),N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(R),r(!0)},children:Fn.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(R.id),children:Fn.trash})]})]},R.id))})]})}),N.jsx(RO,{isOpen:t,onClose:()=>{r(!1),o(null)},onSubmit:s?H:k,clients:E,products:M,retenciones:q,initialData:s,lastInvoiceNumber:X}),f&&u&&N.jsx(fE,{isOpen:f,onClose:()=>{d(!1),c(null)},invoice:u,entityName:"Cliente",onDownloadPDF:R=>hE(R,"Factura de Venta","Cliente")})]})},kO=({isOpen:n,onClose:e,onSubmit:t,suppliers:r,products:s,initialData:o,lastInvoiceNumber:u})=>{const{userData:c}=Wl(),[f,d]=ze.useState("FC-1-Compra"),[y,w]=ze.useState(""),[E,b]=ze.useState(()=>{const C=new Date;return new Date(C.getTime()-C.getTimezoneOffset()*6e4).toISOString().split("T")[0]}),[M,F]=ze.useState("FC"),[q,U]=ze.useState(""),[te,re]=ze.useState([{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),[X,le]=ze.useState("Efectivo"),[Se,$]=ze.useState(""),[O,k]=ze.useState(0),[H,I]=ze.useState(0),[P,R]=ze.useState(0),[ee,ge]=ze.useState(0),ne=[{label:" ",value:""},{label:"Retefuente 20%",value:20},{label:"Retefuente 11%",value:11},{label:"Retefuente 10%",value:10},{label:"Retefuente 7%",value:7},{label:"Retefuente 6%",value:6},{label:"Retefuente 4%",value:4},{label:"Retefuente 3.5%",value:3.5},{label:"Retefuente 2.5%",value:2.5},{label:"Retefuente 2%",value:2},{label:"Retefuente 1.5%",value:1.5},{label:"Retefuente 1%",value:1},{label:"Retefuente 0.50%",value:.5},{label:"Retefuente 0.10%",value:.1}],pe=C=>{if(!C)return"FC-001";const B=C.match(/^FC-(\d+)$/);if(!B)return null;const Z=parseInt(B[1],10)+1;return`FC-${String(Z).padStart(3,"0")}`};ze.useEffect(()=>{if(o){if(d(o.tipoFactura||"FC-1-Compra"),w(o.supplierId||""),b(o.date?new Date(o.date.seconds*1e3).toISOString().split("T")[0]:E),o.supplierInvoice){const C=o.supplierInvoice.split("-");F(C[0]||"FC"),U(C[1]||"")}re(o.items||[]),le(o.paymentMethod||"Efectivo"),$(o.observaciones||"")}},[o,E]);const ie=(C,B,Z)=>{const ue=[...te];if(ue[C][B]=Z,B==="productId")if(Z==="")ue[C]={productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""};else{const fe=s.find(ye=>ye.id===Z);fe&&(ue[C].price=fe.unitValue||0,ue[C].tax=fe.iva??"",ue[C].code=fe.code||"",ue[C].name=fe.name||fe.description||"")}re(ue)},be=()=>re([...te,{productId:"",code:"",name:"",quantity:1,price:0,discount:0,tax:"",retention:""}]),Y=C=>re(te.filter((B,Z)=>Z!==C));ze.useEffect(()=>{let C=0,B=0,Z=0;te.forEach(ue=>{const fe=Number(ue.quantity)||0,ye=Number(ue.price)||0,Ce=(Number(ue.discount)||0)/100,ke=fe*ye*(1-Ce),Ue=ue.tax===""?0:Number(ue.tax)/100,qe=ue.retention===""?0:Number(ue.retention)/100;C+=ke,B+=ke*Ue,Z+=ke*qe}),k(C),I(B),R(Z),ge(C+B-Z)},[te]);const he=C=>{C.preventDefault();const B=o?o.invoiceNumber:pe(u),Z={id:o?.id||null,tipoFactura:f,supplierId:y,supplierInvoice:`${M}-${q}`,comprador:c?.name||"Usuario",date:E,items:te.map(ue=>({...ue,quantity:Number(ue.quantity),price:Number(ue.price),discount:Number(ue.discount),tax:ue.tax===""?null:Number(ue.tax),retention:ue.retention===""?null:Number(ue.retention)})),paymentMethod:X,observaciones:Se,subtotal:O,iva:H,retenciones:P,total:ee,invoiceNumber:B};t(Z),e()};return N.jsx(Kd,{isOpen:n,onClose:e,title:o?"Editar Factura de Compra":"Nueva Factura de Compra",children:N.jsxs("form",{onSubmit:he,className:"space-y-4",children:[!o&&N.jsx("div",{className:"p-2 bg-gray-100 rounded text-sm text-gray-700 space-y-1",children:u?N.jsxs(N.Fragment,{children:[N.jsxs("p",{children:["ltima factura registrada: ",N.jsx("b",{children:u})]}),pe(u)&&N.jsxs("p",{children:["Siguiente sugerida:"," ",N.jsx("b",{children:pe(u)})]})]}):N.jsxs("p",{children:["No hay facturas registradas an. Sugerida: ",N.jsx("b",{children:"FC-001"})]})}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsx(ws,{label:"Tipo de Factura",value:f,onChange:C=>d(C.target.value),required:!0,children:N.jsx("option",{value:"FC-1-Compra",children:"FC-1-Compra"})}),N.jsxs(ws,{label:"Proveedor",value:y,onChange:C=>w(C.target.value),required:!0,children:[N.jsx("option",{value:"",children:"Seleccione un proveedor"}),r.map(C=>N.jsxs("option",{value:C.id,children:[C.name," - ",C.idNumber]},C.id))]}),N.jsx(zn,{label:"Fecha de Elaboracin",type:"date",value:E,onChange:C=>b(C.target.value)}),N.jsxs("div",{className:"flex items-end space-x-2",children:[N.jsx(zn,{label:"N Factura Proveedor (Prefijo)",value:M,onChange:C=>F(C.target.value)}),N.jsx(zn,{label:"Consecutivo",value:q,onChange:C=>U(C.target.value)})]}),N.jsx(zn,{label:"Comprador",value:c?.name||"",readOnly:!0})]}),N.jsx("h4",{className:"text-md font-semibold pt-4 border-t",children:"tems de la Compra"}),N.jsxs("div",{className:"grid grid-cols-14 gap-2 font-semibold text-gray-600 text-sm border-b pb-1",children:[N.jsx("div",{className:"col-span-3",children:"Producto"}),N.jsx("div",{className:"col-span-2",children:"Cantidad"}),N.jsx("div",{className:"col-span-2",children:"Valor Unitario"}),N.jsx("div",{className:"col-span-2",children:"% Desc."}),N.jsx("div",{className:"col-span-2",children:"Impuesto"}),N.jsx("div",{className:"col-span-1",children:"% Ret."}),N.jsx("div",{className:"col-span-1",children:"Valor Total"}),N.jsx("div",{className:"w-8 flex justify-center"})]}),te.map((C,B)=>{const Z=Number(C.quantity)||0,ue=Number(C.price)||0,fe=(Number(C.discount)||0)/100,ye=Z*ue*(1-fe),Ce=C.tax===""?0:Number(C.tax)/100,ke=C.retention===""?0:Number(C.retention)/100,Ue=ye+ye*Ce-ye*ke;return N.jsxs("div",{className:"grid grid-cols-14 gap-2 items-center",children:[N.jsx("div",{className:"col-span-3",children:N.jsxs(ws,{value:C.productId,onChange:qe=>ie(B,"productId",qe.target.value),children:[N.jsx("option",{value:"",children:"Seleccione producto"}),s.map(qe=>N.jsxs("option",{value:qe.id,children:[qe.code," - ",qe.name]},qe.id))]})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:C.quantity,min:"1",onChange:qe=>ie(B,"quantity",qe.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:C.price,onChange:qe=>ie(B,"price",qe.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsx(zn,{type:"number",value:C.discount,onChange:qe=>ie(B,"discount",qe.target.value)})}),N.jsx("div",{className:"col-span-2",children:N.jsxs(ws,{value:C.tax,onChange:qe=>ie(B,"tax",qe.target.value),children:[N.jsx("option",{value:"",children:" "}),N.jsx("option",{value:0,children:"0% (Exento)"}),N.jsx("option",{value:5,children:"5%"}),N.jsx("option",{value:19,children:"19%"})]})}),N.jsx("div",{className:"col-span-1",children:N.jsx(ws,{value:C.retention,onChange:qe=>ie(B,"retention",qe.target.value),children:ne.map(qe=>N.jsx("option",{value:qe.value,children:qe.label},qe.value))})}),N.jsx("div",{className:"col-span-1 text-right font-semibold",children:new Intl.NumberFormat("es-CO").format(Ue)}),N.jsx("div",{className:"w-8 flex justify-center items-center",children:N.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Y(B),children:Fn.trash})})]},B)}),N.jsx(Ei,{type:"button",variant:"secondary",onClick:be,children:"Aadir tem"}),N.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-right",children:[N.jsxs("p",{children:["Subtotal: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(O)]})]}),N.jsxs("p",{children:["IVA: ",N.jsxs("b",{children:["$",new Intl.NumberFormat("es-CO").format(H)]})]}),N.jsxs("p",{children:["Retenciones:"," ",N.jsxs("b",{children:["-$",new Intl.NumberFormat("es-CO").format(P)]})]}),N.jsxs("p",{className:"text-lg font-bold",children:["Total Neto: $",new Intl.NumberFormat("es-CO").format(ee)]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 border-t pt-4",children:[N.jsxs(ws,{label:"Forma de Pago",value:X,onChange:C=>le(C.target.value),children:[N.jsx("option",{value:"Efectivo",children:"Efectivo"}),N.jsx("option",{value:"Crdito",children:"Crdito"})]}),N.jsx(zn,{label:"Observaciones",value:Se,onChange:C=>$(C.target.value)})]}),N.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[N.jsx(Ei,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),N.jsx(Ei,{type:"submit",variant:"primary",children:o?"Actualizar Factura":"Guardar Factura"})]})]})})},PO=({setActiveView:n})=>{const{companyData:e}=Wl(),[t,r]=ze.useState(!1),[s,o]=ze.useState(null),[u,c]=ze.useState(null),[f,d]=ze.useState(!1),[y,w]=ze.useState([]),[E,b]=ze.useState([]),[M,F]=ze.useState([]),[q,U]=ze.useState([]),[te,re]=ze.useState(!0),[X,le]=ze.useState(null),[Se,$]=ze.useState(""),O=ee=>ee?new Date(ee.seconds*1e3).toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):"N/A",k=ee=>{if(!ee)return null;if(typeof ee=="string"){const[ge,ne,pe]=ee.split("-");return new Date(Number(ge),Number(ne)-1,Number(pe))}return ee instanceof Date?new Date(ee.getFullYear(),ee.getMonth(),ee.getDate()):ee?.seconds?new Date(ee.seconds*1e3):null};ze.useEffect(()=>{if(!e)return;re(!0);const ee=pa(Ai(kn,`companies/${e.id}/invoices_purchases`)),ge=Ya(ee,ne=>{const pe=ne.docs.map(ie=>({id:ie.id,...ie.data()}));w(pe),re(!1)},ne=>{console.error("Error fetching purchase invoices: ",ne),re(!1)});return()=>ge()},[e]),ze.useEffect(()=>{if(!e)return;const ee=pa(Ai(kn,`companies/${e.id}/thirdparties`)),ge=pa(Ai(kn,`companies/${e.id}/products`)),ne=pa(Ai(kn,`companies/${e.id}/retenciones`)),pe=Ya(ee,Y=>{const C=Y.docs.map(B=>({id:B.id,...B.data()})).filter(B=>Array.isArray(B.type)&&B.type.includes("proveedor")||B.type==="proveedor"||B.type==="Proveedor");b(C)}),ie=Ya(ge,Y=>{F(Y.docs.map(he=>({id:he.id,...he.data()})))}),be=Ya(ne,Y=>{U(Y.docs.map(he=>({id:he.id,...he.data()})))});return()=>{pe(),ie(),be()}},[e]),ze.useEffect(()=>{if(!e)return;const ee=pa(Ai(kn,`companies/${e.id}/invoices_purchases`),kA("createdAt","desc"),by(1)),ge=Ya(ee,ne=>{if(ne.empty)le(null);else{const pe=ne.docs[0].data();le(pe.invoiceNumber)}});return()=>ge()},[e]);const H=async ee=>{if(!e)return;const ge=Oi.loading("Creando factura de compra...");try{const ne=As(kn,`companies/${e.id}/counters/invoices_purchases`);await Tg(ne,{lastNumber:Sy(1)},{merge:!0});const pe=await xd(ne),ie=pe.exists()?pe.data().lastNumber:1,be=`FC-${String(ie).padStart(3,"0")}`,Y=Ai(kn,`companies/${e.id}/invoices_purchases`),he=await Gd(Y,{...ee,date:k(ee.date),companyId:e.id,invoiceNumber:be,createdAt:ol(),status:"Pendiente"});await Gh(he,{id:he.id}),r(!1),Oi.success(" Factura de compra creada con xito",{id:ge})}catch(ne){console.error("Error creating purchase invoice: ",ne),Oi.error(" Error al crear la factura de compra",{id:ge})}},I=async ee=>{if(!e||!s)return;const ge=Oi.loading("Actualizando factura de compra...");try{const ne=As(kn,`companies/${e.id}/invoices_purchases/${s.id}`);await Gh(ne,{...ee,date:k(ee.date),updatedAt:ol()}),o(null),r(!1),Oi.success(" Factura de compra actualizada correctamente",{id:ge})}catch(ne){console.error("Error updating purchase invoice: ",ne),Oi.error(" Error al actualizar la factura de compra",{id:ge})}},P=async ee=>{if(!e||!window.confirm("Seguro que deseas eliminar esta factura de compra?"))return;const ge=Oi.loading("Eliminando factura de compra...");try{const ne=`companies/${e.id}/invoices_purchases/${ee}`;await Ng(As(kn,ne)),Oi.success(" Factura eliminada correctamente",{id:ge})}catch(ne){console.error(" Error deleting purchase invoice: ",ne),Oi.error(" Error eliminando factura",{id:ge})}},R=y.filter(ee=>{const ge=E.find(be=>be.id===ee.supplierId),ne=ge?.idNumber?.toLowerCase()||"",pe=ge?.name?.toLowerCase()||"",ie=Se.toLowerCase();return ne.includes(ie)||pe.includes(ie)});return N.jsxs("div",{children:[N.jsx("div",{className:"border-b mb-4",children:N.jsxs("nav",{className:"flex space-x-6 text-sm font-medium text-gray-600",children:[N.jsx("button",{className:"border-b-2 border-blue-600 text-blue-600 pb-2",children:"Documentos de compra"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"Proveedores"}),N.jsx("button",{className:"pb-2 hover:text-blue-600",children:"rdenes de compra"})]})}),N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("div",{className:"flex space-x-2",children:N.jsx("input",{type:"text",placeholder:"Buscar por Identificacin o Proveedor",className:"border px-3 py-2 rounded-lg text-sm w-80",value:Se,onChange:ee=>$(ee.target.value)})}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsxs(Ei,{type:"button",variant:"secondary",onClick:()=>n("thirdparties"),children:[Fn.userPlus," Crear Proveedor"]}),N.jsxs(Ei,{onClick:()=>{o(null),r(!0)},children:[Fn.plus," Nueva Factura de Compra"]})]})]}),N.jsx($h,{title:"Facturas de Compra",children:te?N.jsx(Yd,{}):N.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3",children:"Fecha"}),N.jsx("th",{className:"px-6 py-3",children:"Comprobante"}),N.jsx("th",{className:"px-6 py-3",children:"Identificacin"}),N.jsx("th",{className:"px-6 py-3",children:"Proveedor"}),N.jsx("th",{className:"px-6 py-3",children:"Total"}),N.jsx("th",{className:"px-6 py-3",children:"Moneda"}),N.jsx("th",{className:"px-6 py-3",children:"Estado"}),N.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),N.jsx("tbody",{children:R.map(ee=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-4",children:ee.date?.seconds?O(ee.date):"N/A"}),N.jsx("td",{className:"px-6 py-4 font-medium text-blue-600",children:ee.invoiceNumber||"FC-SINID"}),N.jsx("td",{className:"px-6 py-4",children:E.find(ge=>ge.id===ee.supplierId)?.idNumber||"N/A"}),N.jsx("td",{className:"px-6 py-4",children:E.find(ge=>ge.id===ee.supplierId)?.name||"Proveedor"}),N.jsxs("td",{className:"px-6 py-4",children:["$",new Intl.NumberFormat("es-CO").format(ee.total||0)]}),N.jsx("td",{className:"px-6 py-4",children:"COP"}),N.jsx("td",{className:"px-6 py-4",children:N.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ee.status==="Pagada"?"bg-green-100 text-green-800":ee.status==="Vencida"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ee.status||"Pendiente"})}),N.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[N.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(ee),d(!0)},children:Fn.eye}),N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>{o(ee),r(!0)},children:Fn.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>P(ee.id),children:Fn.trash})]})]},ee.id))})]})}),N.jsx(kO,{isOpen:t,onClose:()=>{r(!1),o(null)},onSubmit:s?I:H,suppliers:E,products:M,retenciones:q,initialData:s,lastInvoiceNumber:X}),f&&u&&N.jsx(fE,{isOpen:f,onClose:()=>{d(!1),c(null)},invoice:u,entityName:"Proveedor",onDownloadPDF:ee=>hE(ee,"Factura de Compra","Proveedor")})]})},DO=()=>{const{companyData:n}=Wl(),[e,t]=ze.useState([]),[r,s]=ze.useState(!0),[o,u]=ze.useState(!1),[c,f]=ze.useState(null),[d,y]=ze.useState(""),[w,E]=ze.useState({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),b=le=>le.personType==="empresa"?le.tradeName||`${le.name}`||"":`${le.name||""} ${le.lastName||""}`.trim(),M=le=>le==="NIT"?"NIT":"CC";ze.useEffect(()=>{if(!n)return;const le=pa(Ai(kn,`companies/${n.id}/thirdparties`)),Se=Ya(le,$=>{t($.docs.map(O=>({id:O.id,...O.data()}))),s(!1)},$=>{console.error("Error loading third parties:",$),s(!1)});return()=>Se()},[n]);const F=e.filter(le=>{const Se=d.toLowerCase();return(le.idNumber||"").toLowerCase().includes(Se)||(le.name||"").toLowerCase().includes(Se)||(le.lastName||"").toLowerCase().includes(Se)||(le.tradeName||"").toLowerCase().includes(Se)||(le.email||"").toLowerCase().includes(Se)}),q=()=>{f(null),E({type:[],personType:"persona",idType:"CC",idNumber:"",name:"",lastName:"",tradeName:"",city:"",address:"",phone:"",email:"",otherDescription:"",createdAt:null}),u(!0)},U=le=>{f(le.id),E({type:Array.isArray(le.type)?le.type:[le.type].filter(Boolean),personType:le.personType||"persona",idType:le.idType||(le.personType==="empresa"?"NIT":"CC"),idNumber:le.idNumber||"",name:le.name||"",lastName:le.lastName||"",tradeName:le.tradeName||"",city:le.city||"",address:le.address||"",phone:le.phone||"",email:le.email||"",otherDescription:le.otherDescription||"",createdAt:le.createdAt||null}),u(!0)},te=le=>{const{name:Se,value:$,type:O,checked:k}=le.target;if(Se==="personType"){E(H=>({...H,personType:$,idType:$==="empresa"?"NIT":"CC"}));return}if(Se==="type"){E(H=>{let I=[...H.type];return k?I.includes($)||I.push($):I=I.filter(P=>P!==$),{...H,type:I}});return}E(H=>({...H,[Se]:O==="checkbox"?k:$}))},re=async le=>{if(le.preventDefault(),!n)return;const Se={type:w.type,personType:w.personType,idType:w.idType,idNumber:String(w.idNumber).trim(),name:String(w.name).trim(),lastName:String(w.lastName).trim(),tradeName:String(w.tradeName).trim(),city:String(w.city).trim(),address:String(w.address).trim(),phone:String(w.phone).trim(),email:String(w.email).trim(),otherDescription:w.type.includes("otro")?String(w.otherDescription).trim():"",createdAt:c?w.createdAt:ol(),updatedAt:ol()};try{c?await Gh(As(kn,`companies/${n.id}/thirdparties/${c}`),Se):await Gd(Ai(kn,`companies/${n.id}/thirdparties`),Se),u(!1),f(null)}catch($){console.error("Error saving third party",$),alert(" Error guardando tercero: "+$.message)}},X=async le=>{if(n&&confirm(`Eliminar "${b(le)}"? Esta accin no se puede deshacer.`))try{await Ng(As(kn,`companies/${n.id}/thirdparties/${le.id}`))}catch(Se){console.error("Error deleting third party",Se),alert(" Error eliminando: "+Se.message)}};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("input",{type:"text",placeholder:"Buscar por identificacin, nombre o correo",value:d,onChange:le=>y(le.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),N.jsxs(Ei,{onClick:q,children:[Fn.plus," Nuevo Tercero"]})]}),N.jsx($h,{title:"Terceros (Clientes, Proveedores y Otros)",children:r?N.jsx(Yd,{}):N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Tipo Persona"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Identificacin"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Nombre / Razn social"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Ciudad"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Telfono"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Correo"}),N.jsx("th",{className:"px-6 py-3 bg-gray-50",children:"Acciones"})]})}),N.jsxs("tbody",{children:[F.map(le=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-3 capitalize",children:Array.isArray(le.type)?le.type.join(", "):le.type||""}),N.jsx("td",{className:"px-6 py-3 capitalize",children:le.personType}),N.jsxs("td",{className:"px-6 py-3",children:[M(le.idType)," ",le.idNumber]}),N.jsx("td",{className:"px-6 py-3",children:b(le)}),N.jsx("td",{className:"px-6 py-3",children:le.city}),N.jsx("td",{className:"px-6 py-3",children:le.phone}),N.jsx("td",{className:"px-6 py-3",children:le.email}),N.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>U(le),children:Fn.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>X(le),children:Fn.trash})]})]},le.id)),F.length===0&&N.jsx("tr",{children:N.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})})}),N.jsx(Kd,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Tercero`,children:N.jsxs("form",{onSubmit:re,className:"space-y-6",children:[N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Tipo de tercero"}),N.jsx("div",{className:"flex items-center space-x-6",children:["cliente","proveedor","otro"].map(le=>N.jsxs("label",{className:"flex items-center space-x-2 capitalize",children:[N.jsx("input",{type:"checkbox",name:"type",value:le,checked:w.type.includes(le),onChange:te}),N.jsx("span",{children:le})]},le))}),w.type.includes("otro")&&N.jsx("div",{className:"mt-3",children:N.jsx(zn,{id:"otherDescription",name:"otherDescription",label:"Descripcin (Otro)",value:w.otherDescription,onChange:te,required:!0})})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsxs(ws,{id:"personType",name:"personType",label:"Tipo de Persona",value:w.personType,onChange:te,children:[N.jsx("option",{value:"persona",children:"Persona"}),N.jsx("option",{value:"empresa",children:"Empresa"})]}),N.jsx(ws,{id:"idType",name:"idType",label:"Tipo de Identificacin",value:w.idType,onChange:te,children:w.personType==="empresa"?N.jsx("option",{value:"NIT",children:"NIT"}):N.jsx("option",{value:"CC",children:"Cdula de Ciudadana (CC)"})}),N.jsx(zn,{id:"idNumber",name:"idNumber",label:w.personType==="empresa"?"Nmero de NIT":"Nmero de Cdula",value:w.idNumber,onChange:te,required:!0}),N.jsx(zn,{id:"name",name:"name",label:w.personType==="empresa"?"Razn Social / Nombre Legal":"Nombres",value:w.name,onChange:te,required:!0}),w.personType==="persona"?N.jsx(zn,{id:"lastName",name:"lastName",label:"Apellidos",value:w.lastName,onChange:te}):N.jsx(zn,{id:"tradeName",name:"tradeName",label:"Nombre Comercial",value:w.tradeName,onChange:te}),N.jsx(zn,{id:"city",name:"city",label:"Ciudad",value:w.city,onChange:te}),N.jsx(zn,{id:"address",name:"address",label:"Direccin",value:w.address,onChange:te}),N.jsx(zn,{id:"phone",name:"phone",label:"Telfono",value:w.phone,onChange:te}),N.jsx(zn,{id:"email",name:"email",type:"email",label:"Correo Electrnico",value:w.email,onChange:te}),c&&N.jsxs("div",{className:"md:col-span-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creacin"}),N.jsx("input",{type:"text",value:w.createdAt?new Date(w.createdAt.seconds*1e3).toLocaleString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]}),N.jsxs("div",{className:"flex justify-end space-x-2",children:[N.jsx(Ei,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),N.jsx(Ei,{type:"submit",variant:"primary",children:c?"Actualizar":"Guardar"})]})]})})]})},OO=()=>{const{companyData:n}=Wl(),[e,t]=ze.useState([]),[r,s]=ze.useState(!0),[o,u]=ze.useState(!1),[c,f]=ze.useState(null),[d,y]=ze.useState(""),[w,E]=ze.useState({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),b=["unidades","centmetros","metros","kilogramos","litros"];ze.useEffect(()=>{if(!n)return;const X=pa(Ai(kn,`companies/${n.id}/products`)),le=Ya(X,Se=>{t(Se.docs.map($=>({id:$.id,...$.data()}))),s(!1)});return()=>le()},[n]);const M=e.filter(X=>{const le=d.toLowerCase();return X.code?.toLowerCase().includes(le)||X.description?.toLowerCase().includes(le)||X.name?.toLowerCase().includes(le)}),F=()=>{f(null),E({type:"producto",code:"",description:"",unit:"unidades",unitValue:0,taxed:!0,iva:19,createdAt:null}),u(!0)},q=X=>{f(X.id),E({type:X.type||"producto",code:X.code||"",description:X.description||"",unit:X.unit||"unidades",unitValue:X.unitValue??0,taxed:X.taxed??!0,iva:X.iva??"",createdAt:X.createdAt||null}),u(!0)},U=X=>{const{name:le,value:Se,type:$,checked:O}=X.target;E(k=>({...k,[le]:$==="checkbox"?O:Se}))},te=async X=>{if(X.preventDefault(),!!n)try{let le=w.code;if(!c){const $=w.type==="producto"?"products":"services",O=As(kn,`companies/${n.id}/counters/${$}`);await Tg(O,{lastCode:Sy(1)},{merge:!0});const k=await xd(O),H=k.exists()?k.data().lastCode:1;le=`${w.type==="producto"?"P":"S"}-${String(H).padStart(3,"0")}`}const Se={type:w.type,code:le,description:String(w.description).trim(),name:String(w.description).trim(),unit:w.unit,unitValue:Number(w.unitValue)||0,taxed:!!w.taxed,iva:w.taxed?w.iva===""?null:Number(w.iva):0,createdAt:c?w.createdAt:ol(),updatedAt:ol()};c?await Gh(As(kn,`companies/${n.id}/products/${c}`),Se):await Gd(Ai(kn,`companies/${n.id}/products`),Se),u(!1),f(null)}catch(le){console.error("Error guardando producto/servicio",le),alert(" Error guardando producto/servicio: "+le.message)}},re=async X=>{if(n&&confirm(`Eliminar "${X.description}"? Esta accin no se puede deshacer.`))try{await Ng(As(kn,`companies/${n.id}/products/${X.id}`))}catch(le){console.error("Error eliminando producto/servicio",le),alert(" Error eliminando: "+le.message)}};return N.jsxs("div",{children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("input",{type:"text",placeholder:"Buscar por cdigo o descripcin",value:d,onChange:X=>y(X.target.value),className:"border px-3 py-2 rounded-lg text-sm w-80"}),N.jsxs(Ei,{onClick:F,children:[Fn.plus," Nuevo Producto/Servicio"]})]}),N.jsx($h,{title:"Productos y Servicios",children:r?N.jsx(Yd,{}):N.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[N.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3",children:"Tipo"}),N.jsx("th",{className:"px-6 py-3",children:"Cdigo"}),N.jsx("th",{className:"px-6 py-3",children:"Descripcin"}),N.jsx("th",{className:"px-6 py-3",children:"Unidad"}),N.jsx("th",{className:"px-6 py-3",children:"Valor Unitario"}),N.jsx("th",{className:"px-6 py-3",children:"Gravado IVA"}),N.jsx("th",{className:"px-6 py-3",children:"IVA"}),N.jsx("th",{className:"px-6 py-3",children:"Acciones"})]})}),N.jsxs("tbody",{children:[M.map(X=>N.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[N.jsx("td",{className:"px-6 py-3 capitalize",children:X.type}),N.jsx("td",{className:"px-6 py-3",children:X.code}),N.jsx("td",{className:"px-6 py-3",children:X.description}),N.jsx("td",{className:"px-6 py-3",children:X.unit}),N.jsxs("td",{className:"px-6 py-3 text-right",children:["$",new Intl.NumberFormat("es-CO").format(X.unitValue||0)]}),N.jsx("td",{className:"px-6 py-3",children:X.taxed?"S":"No"}),N.jsx("td",{className:"px-6 py-3",children:X.iva===null||X.iva===""?"No especificado":`${X.iva}%`}),N.jsxs("td",{className:"px-6 py-3 flex space-x-2",children:[N.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",onClick:()=>q(X),children:Fn.edit}),N.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>re(X),children:Fn.trash})]})]},X.id)),M.length===0&&N.jsx("tr",{children:N.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No se encontraron resultados"})})]})]})}),N.jsx(Kd,{isOpen:o,onClose:()=>u(!1),title:`${c?"Editar":"Crear"} Producto/Servicio`,children:N.jsxs("form",{onSubmit:te,className:"space-y-6",children:[N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Tipo"}),N.jsxs("div",{className:"flex items-center space-x-6",children:[N.jsxs("label",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"radio",name:"type",value:"producto",checked:w.type==="producto",onChange:U}),N.jsx("span",{children:"Producto"})]}),N.jsxs("label",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"radio",name:"type",value:"servicio",checked:w.type==="servicio",onChange:U}),N.jsx("span",{children:"Servicio"})]})]})]}),N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsxs("h3",{className:"font-semibold mb-2",children:["Informacin del ",w.type]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsx(zn,{id:"description",name:"description",label:"Descripcin",value:w.description,onChange:U,required:!0}),N.jsx(ws,{id:"unit",name:"unit",label:"Unidad de medida",value:w.unit,onChange:U,children:b.map(X=>N.jsx("option",{value:X,children:X},X))}),N.jsx(zn,{id:"unitValue",name:"unitValue",type:"number",label:"Valor unitario",value:w.unitValue,onChange:U,min:"0",step:"0.01"}),c&&N.jsxs("div",{className:"col-span-2",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de creacin"}),N.jsx("input",{type:"text",value:w.createdAt?new Date(w.createdAt.seconds*1e3).toLocaleDateString("es-CO"):"",readOnly:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]})]})]}),N.jsxs("div",{className:"border rounded-lg p-4",children:[N.jsx("h3",{className:"font-semibold mb-2",children:"Impuestos"}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"checkbox",name:"taxed",checked:w.taxed,onChange:U}),N.jsx("span",{children:"Gravado con IVA"})]}),N.jsxs(ws,{id:"iva",name:"iva",label:"IVA",value:w.iva,onChange:U,disabled:!w.taxed,children:[N.jsx("option",{value:"",children:"No especificado"}),N.jsx("option",{value:0,children:"0%"}),N.jsx("option",{value:5,children:"5%"}),N.jsx("option",{value:19,children:"19%"})]})]})]}),N.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[N.jsx(Ei,{type:"button",variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),N.jsx(Ei,{type:"submit",variant:"primary",children:"Guardar"})]})]})})]})},MO=()=>{const{userData:n,companyData:e}=Wl(),[t,r]=ze.useState("dashboard"),[s,o]=ze.useState(!0),u=async()=>{await $4(Td)},c=({view:y,icon:w,children:E})=>N.jsxs("a",{href:"#",onClick:b=>{b.preventDefault(),r(y)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors ${t===y?"bg-indigo-600 text-white":"text-gray-300 hover:bg-indigo-800 hover:text-white"}`,children:[N.jsx("span",{className:"mr-3",children:w}),E]}),f=()=>{switch(t){case"dashboard":return N.jsx(Cb,{});case"sales":return N.jsx(LO,{setActiveView:r});case"purchases":return N.jsx(PO,{setActiveView:r});case"thirdparties":return N.jsx(DO,{});case"products":return N.jsx(OO,{});default:return N.jsx(Cb,{})}},d={Admin:"Administrador",Contador:"Contador",Empleado:"Empleado"};return N.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans relative",children:[N.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-indigo-900 text-white flex flex-col transform transition-transform duration-300 z-20
        ${s?"translate-x-0 w-64":"-translate-x-full w-64"}`,children:[N.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-indigo-800",children:[N.jsx("h2",{className:"text-xl font-bold truncate",children:e?.name||"ERP Nube"}),N.jsx("button",{onClick:()=>o(!1),"aria-label":"Cerrar men",className:"text-gray-300 hover:text-white",children:N.jsx(X7,{className:"h-6 w-6"})})]}),N.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[N.jsx(c,{view:"dashboard",icon:Fn.dashboard,children:"Dashboard"}),N.jsx(c,{view:"sales",icon:Fn.sales,children:"Ventas"}),N.jsx(c,{view:"purchases",icon:Fn.purchases,children:"Compras"}),N.jsx(c,{view:"inventory",icon:Fn.inventory,children:"Inventario"}),N.jsx(c,{view:"reports",icon:Fn.reports,children:"Reportes"}),N.jsx(c,{view:"thirdparties",icon:Fn.user,children:"Clientes/Proveedores"}),N.jsx(c,{view:"products",icon:Fn.products,children:"Productos/Servicios"})]}),N.jsxs("div",{className:"px-4 py-4 border-t border-indigo-800",children:[N.jsxs("div",{className:"flex items-center mb-4",children:[N.jsx("div",{className:"p-2 bg-indigo-700 rounded-full",children:Fn.user}),N.jsxs("div",{className:"ml-3",children:[N.jsx("p",{className:"text-sm font-medium text-white",children:n?.name}),N.jsx("p",{className:"text-xs text-indigo-300",children:d[n?.role]||n?.role})]})]}),N.jsxs("a",{href:"#",onClick:u,className:"flex items-center w-full px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-red-600 hover:text-white transition-colors",children:[N.jsx("span",{className:"mr-3",children:Fn.logout}),"Cerrar Sesin"]})]})]}),!s&&N.jsxs("div",{className:"fixed top-1/2 -translate-y-1/2 left-0 z-30 group",children:[N.jsx("button",{onClick:()=>o(!0),"aria-label":"Abrir men",className:"bg-indigo-600 text-white p-2 rounded-r-md shadow-md transition-all duration-300 hover:bg-indigo-700 hover:-translate-x-1",children:N.jsx(J7,{className:"h-6 w-6"})}),N.jsxs("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300 bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none",children:["Abrir men",N.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-1 w-2 h-2 bg-gray-900 rotate-45"})]})]}),N.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${s?"ml-64":"ml-0"}`,children:[N.jsx("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-6",children:N.jsx("h1",{className:"text-2xl font-semibold text-gray-800 capitalize",children:t})}),N.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:f()})]})]})},jO=()=>{const{user:n,loading:e,error:t}=Wl();return e?N.jsx("div",{className:"flex h-screen items-center justify-center",children:N.jsx(Yd,{})}):t?N.jsx("div",{className:"flex h-screen items-center justify-center p-4",children:N.jsx(sS,{message:t})}):n?N.jsx(MO,{}):N.jsx(H7,{})},VO=()=>N.jsxs(z7,{children:[N.jsx(p6,{position:"top-center",reverseOrder:!1,toastOptions:{duration:3e3}}),N.jsx(jO,{})]});Tx.createRoot(document.getElementById("root")).render(N.jsx(ze.StrictMode,{children:N.jsx(VO,{})}));export{Xn as _,FO as c,mx as g};
